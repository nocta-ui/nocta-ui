{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dialog",
  "type": "registry:component",
  "title": "Dialog",
  "description": "Modal dialog component with overlay and animations",
  "dependencies": [
    "@ariakit/react",
    "class-variance-authority",
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "nocta-icons"
  ],
  "files": [
    {
      "path": "registry/ui/dialog.tsx",
      "content": "'use client';\n\nimport * as Ariakit from '@ariakit/react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport React from 'react';\nimport { cn } from '@/lib/utils';\nimport { Icons } from '@/registry/ui/nocta-icons';\n\nconst dialogContentVariants = cva(\n\t`relative max-h-[70vh] rounded-lg border border-border bg-popover card-highlight shadow-2xl`,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: 'w-[50vw] md:max-w-sm',\n\t\t\t\tmd: 'w-[65vw] md:max-w-md',\n\t\t\t\tlg: 'w-[80vw] md:max-w-lg',\n\t\t\t\txl: 'w-[95vw] md:max-w-xl',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: 'md',\n\t\t},\n\t},\n);\n\nexport interface DialogProps {\n\tchildren: React.ReactNode;\n\topen?: boolean;\n\tonOpenChange?: (open: boolean) => void;\n}\n\nexport interface DialogTriggerProps\n\textends React.ButtonHTMLAttributes<HTMLButtonElement> {\n\tchildren: React.ReactNode;\n\tasChild?: boolean;\n\tclassName?: string;\n}\n\nexport interface DialogSurfaceProps\n\textends React.HTMLAttributes<HTMLDivElement>,\n\t\tVariantProps<typeof dialogContentVariants> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tshowClose?: boolean;\n\tportal?: boolean;\n}\n\nexport interface DialogHeaderProps\n\textends React.HTMLAttributes<HTMLDivElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport interface DialogTitleProps\n\textends React.HTMLAttributes<HTMLHeadingElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tas?: React.ElementType;\n}\n\nexport interface DialogDescriptionProps\n\textends React.HTMLAttributes<HTMLParagraphElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport interface DialogFooterProps\n\textends React.HTMLAttributes<HTMLDivElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport interface DialogActionsProps\n\textends React.HTMLAttributes<HTMLDivElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport interface DialogCloseProps\n\textends React.ButtonHTMLAttributes<HTMLButtonElement> {\n\tchildren?: React.ReactNode;\n\tclassName?: string;\n\tasChild?: boolean;\n}\n\ninterface DialogContextType {\n\tstore: Ariakit.DialogStore;\n}\n\nconst DialogContext = React.createContext<DialogContextType | undefined>(\n\tundefined,\n);\n\nconst useDialog = () => {\n\tconst context = React.useContext(DialogContext);\n\tif (!context) {\n\t\tthrow new Error('Dialog components must be used within a Dialog');\n\t}\n\treturn context;\n};\n\nexport const Dialog: React.FC<DialogProps> = ({\n\tchildren,\n\topen: controlledOpen,\n\tonOpenChange,\n}) => {\n\tconst store = Ariakit.useDialogStore(\n\t\tcontrolledOpen !== undefined\n\t\t\t? onOpenChange\n\t\t\t\t? { open: controlledOpen, setOpen: onOpenChange }\n\t\t\t\t: { open: controlledOpen }\n\t\t\t: undefined,\n\t);\n\n\treturn (\n\t\t<DialogContext.Provider value={{ store }}>\n\t\t\t{children}\n\t\t</DialogContext.Provider>\n\t);\n};\n\nexport const DialogTrigger: React.FC<DialogTriggerProps> = ({\n\tchildren,\n\tclassName = '',\n\tasChild = false,\n\tonClick,\n\t...props\n}) => {\n\tconst { store } = useDialog();\n\tconst isOpen = Ariakit.useStoreState(store, 'open');\n\n\tconst handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\tstore.show();\n\t\tonClick?.(e);\n\t};\n\n\tif (asChild && React.isValidElement(children)) {\n\t\treturn React.cloneElement(\n\t\t\tchildren as React.ReactElement<\n\t\t\t\tReact.ButtonHTMLAttributes<HTMLButtonElement>\n\t\t\t>,\n\t\t\t{\n\t\t\t\tonClick: handleClick,\n\t\t\t\t'aria-haspopup': 'dialog',\n\t\t\t\t'aria-expanded': isOpen,\n\t\t\t\t...(children.props || {}),\n\t\t\t},\n\t\t);\n\t}\n\n\treturn (\n\t\t<button\n\t\t\tclassName={cn(\n\t\t\t\t'inline-flex items-center justify-center rounded-lg font-medium focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tonClick={handleClick}\n\t\t\taria-haspopup=\"dialog\"\n\t\t\taria-expanded={isOpen}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n};\n\nexport const DialogSurface: React.FC<DialogSurfaceProps> = ({\n\tchildren,\n\tclassName = '',\n\tsize = 'md',\n\tshowClose = true,\n\tportal = true,\n\t...props\n}) => {\n\tconst { autoFocus, ...restProps } = props;\n\tconst dialogProps =\n\t\ttypeof autoFocus === 'undefined' ? restProps : { ...restProps, autoFocus };\n\tconst { store } = useDialog();\n\tconst open = Ariakit.useStoreState(store, 'open');\n\tconst [mounted, setMounted] = React.useState(open);\n\tReact.useEffect(() => {\n\t\tif (open) {\n\t\t\tsetMounted(true);\n\t\t\treturn;\n\t\t}\n\t\tconst t = window.setTimeout(() => setMounted(false), 200);\n\t\treturn () => window.clearTimeout(t);\n\t}, [open]);\n\n\tif (!mounted) return null;\n\n\treturn (\n\t\t<Ariakit.Dialog\n\t\t\tstore={store}\n\t\t\tportal={portal}\n\t\t\tbackdrop={\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'fixed inset-0 z-40 bg-overlay/50 backdrop-blur-sm',\n\t\t\t\t\t\t'opacity-0 transition-opacity duration-300 ease-smooth',\n\t\t\t\t\t\t'data-enter:opacity-100 data-leave:opacity-0',\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t}\n\t\t\tclassName={cn(\n\t\t\t\tdialogContentVariants({ size }),\n\t\t\t\t'fixed top-1/2 left-1/2 z-50 -translate-x-1/2 -translate-y-1/2 transform',\n\t\t\t\t'scale-105 opacity-0 blur-sm transition-[scale,opacity,blur] duration-300 ease-smooth',\n\t\t\t\t'data-enter:scale-100 data-enter:opacity-100 data-enter:blur-none',\n\t\t\t\t'data-leave:scale-105 data-leave:opacity-0 data-leave:blur-sm',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...dialogProps}\n\t\t>\n\t\t\t{showClose && (\n\t\t\t\t<Ariakit.DialogDismiss className=\"absolute top-2 right-2 z-10 inline-flex h-6 w-6 cursor-pointer items-center justify-center rounded-sm text-foreground/45 hover:bg-popover-muted hover:text-foreground/70 transition-[background-color,color,box-shadow] ease-out-quad duration-100 focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none\">\n\t\t\t\t\t<Icons.X aria-hidden=\"true\" className=\"h-4 w-4\" />\n\t\t\t\t\t<Ariakit.VisuallyHidden>Close</Ariakit.VisuallyHidden>\n\t\t\t\t</Ariakit.DialogDismiss>\n\t\t\t)}\n\t\t\t{children}\n\t\t</Ariakit.Dialog>\n\t);\n};\n\nexport interface DialogContentProps\n\textends React.HTMLAttributes<HTMLDivElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport const DialogContent: React.FC<DialogContentProps> = ({\n\tchildren,\n\tclassName = '',\n\t...props\n}) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn('p-4 text-sm leading-snug text-foreground/70', className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport const DialogHeader: React.FC<DialogHeaderProps> = ({\n\tchildren,\n\tclassName = '',\n\t...props\n}) => {\n\treturn (\n\t\t<div className={cn('px-4 pt-4', className)} {...props}>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport const DialogTitle: React.FC<DialogTitleProps> = ({\n\tchildren,\n\tclassName = '',\n\tas: Component = 'h2',\n\t...props\n}) => {\n\treturn (\n\t\t<Ariakit.DialogHeading\n\t\t\trender={(headingProps) => React.createElement(Component, headingProps)}\n\t\t\tclassName={cn(\n\t\t\t\t'text-base leading-none font-medium text-foreground',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Ariakit.DialogHeading>\n\t);\n};\n\nexport const DialogDescription: React.FC<DialogDescriptionProps> = ({\n\tchildren,\n\tclassName = '',\n\t...props\n}) => {\n\treturn (\n\t\t<Ariakit.DialogDescription\n\t\t\tclassName={cn(\n\t\t\t\t'mt-1 text-sm leading-snug text-foreground/45 text-balance',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Ariakit.DialogDescription>\n\t);\n};\n\nexport const DialogFooter: React.FC<DialogFooterProps> = ({\n\tchildren,\n\tclassName = '',\n\t...props\n}) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t'flex items-center justify-end rounded-b-lg border-t border-border/60 bg-popover-muted/30 p-4',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport const DialogActions: React.FC<DialogActionsProps> = ({\n\tchildren,\n\tclassName = '',\n\t...props\n}) => {\n\treturn (\n\t\t<div className={cn('flex items-center gap-2', className)} {...props}>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport const DialogClose: React.FC<DialogCloseProps> = ({\n\tchildren,\n\tclassName = '',\n\tasChild = false,\n\tdisabled,\n\tautoFocus,\n\tonClick,\n\t...props\n}) => {\n\tconst { store } = useDialog();\n\n\tif (asChild && React.isValidElement(children)) {\n\t\tconst child = children as React.ReactElement<\n\t\t\tReact.ButtonHTMLAttributes<HTMLButtonElement>\n\t\t>;\n\t\tconst handleClick: React.MouseEventHandler<HTMLButtonElement> = (e) => {\n\t\t\tstore.hide();\n\t\t\tchild.props?.onClick?.(e);\n\t\t\tonClick?.(e);\n\t\t};\n\t\treturn React.cloneElement(child, {\n\t\t\tonClick: handleClick,\n\t\t\t...(disabled !== undefined ? { disabled } : {}),\n\t\t\t...(autoFocus !== undefined ? { autoFocus } : {}),\n\t\t\t...props,\n\t\t\t...(child.props || {}),\n\t\t});\n\t}\n\n\treturn (\n\t\t<Ariakit.DialogDismiss\n\t\t\tstore={store}\n\t\t\tclassName={cn(\n\t\t\t\t\"inline-flex cursor-pointer items-center justify-center rounded-md bg-transparent h-9 px-4 py-2 gap-2 has-[>svg]:px-3 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 text-sm font-medium text-foreground hover:bg-popover-muted transition-[background-color,box-shadow] ease-out-quad duration-100 focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\ttype=\"button\"\n\t\t\tdisabled={Boolean(disabled)}\n\t\t\tautoFocus={Boolean(autoFocus)}\n\t\t\tonClick={onClick}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Ariakit.DialogDismiss>\n\t);\n};\n",
      "type": "registry:component"
    }
  ]
}