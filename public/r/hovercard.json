{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "hovercard",
  "type": "registry:component",
  "title": "Hovercard",
  "description": "Contextual hovercard for lightweight previews with hover intent handling and smart positioning",
  "dependencies": [
    "@ariakit/react",
    "class-variance-authority",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "registry/ui/hovercard.tsx",
      "content": "'use client';\n\nimport * as Ariakit from '@ariakit/react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport React from 'react';\nimport { cn } from '@/lib/utils';\n\nconst hovercardTriggerVariants = cva(\n\t\"relative inline-flex cursor-pointer items-center justify-center rounded-md border shadow-sm card-highlight transition-[background-color,box-shadow,filter] [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault: 'bg-card hover:bg-card-muted border-border text-foreground',\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tsm: 'h-8 px-3 py-1.5 gap-1.5 has-[>svg]:px-2.5 text-sm',\n\t\t\t\tmd: 'h-9 px-4 py-2 gap-2 has-[>svg]:px-3 text-sm',\n\t\t\t\tlg: 'h-10 px-6 py-2 gap-2 has-[>svg]:px-4 text-base',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: 'default',\n\t\t\tsize: 'md',\n\t\t},\n\t},\n);\n\nconst hovercardContentVariants = cva(\n\t'relative w-fit rounded-lg border shadow-md card-highlight',\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault: 'bg-popover text-foreground border-border',\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tsm: 'px-3 py-2 text-sm',\n\t\t\t\tmd: 'px-4 py-3 text-sm',\n\t\t\t\tlg: 'px-6 py-4 text-base',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: 'default',\n\t\t\tsize: 'md',\n\t\t},\n\t},\n);\n\nconst hovercardMotion =\n\t'duration-300 ease-smooth transition-[translate,opacity,scale] opacity-0 scale-95 -translate-y-2 data-enter:opacity-100 data-enter:scale-100 data-enter:translate-y-0 data-leave:opacity-0 data-leave:scale-95 data-leave:-translate-y-2';\n\ntype HovercardPlacement =\n\t| 'top'\n\t| 'top-start'\n\t| 'top-end'\n\t| 'bottom'\n\t| 'bottom-start'\n\t| 'bottom-end'\n\t| 'left'\n\t| 'left-start'\n\t| 'left-end'\n\t| 'right'\n\t| 'right-start'\n\t| 'right-end';\n\ntype HovercardIntentHandler = boolean | ((event: MouseEvent) => boolean);\n\nexport interface HovercardProps {\n\tchildren: React.ReactNode;\n\topen?: boolean;\n\tplacement?: HovercardPlacement;\n\tdefaultOpen?: boolean;\n\ttimeout?: number;\n\topenDelay?: number;\n\tcloseDelay?: number;\n\tonOpenChange?: (open: boolean) => void;\n}\n\nexport interface HovercardTriggerProps\n\textends VariantProps<typeof hovercardTriggerVariants> {\n\tchildren: React.ReactNode;\n\tasChild?: boolean;\n\tclassName?: string;\n}\n\nexport interface HovercardContentProps\n\textends VariantProps<typeof hovercardContentVariants> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tportal?: boolean;\n\tfixed?: boolean;\n\tgutter?: number;\n\tshowArrow?: boolean;\n\thideOnHoverOutside?: HovercardIntentHandler;\n\tdisablePointerEventsOnApproach?: HovercardIntentHandler;\n\tautoFocusOnShow?: boolean;\n}\n\nexport type HovercardHeadingProps = React.ComponentPropsWithoutRef<\n\ttypeof Ariakit.HovercardHeading\n>;\n\nexport type HovercardDescriptionProps = React.ComponentPropsWithoutRef<\n\ttypeof Ariakit.HovercardDescription\n>;\n\ntype HovercardHeadingElement = React.ComponentRef<\n\ttypeof Ariakit.HovercardHeading\n>;\ntype HovercardDescriptionElement = React.ComponentRef<\n\ttypeof Ariakit.HovercardDescription\n>;\n\nconst HovercardStoreContext =\n\tReact.createContext<Ariakit.HovercardStore | null>(null);\n\nexport const Hovercard: React.FC<HovercardProps> = ({\n\tchildren,\n\topen,\n\tdefaultOpen = false,\n\tonOpenChange,\n\tplacement = 'bottom',\n\ttimeout = 400,\n\topenDelay,\n\tcloseDelay,\n}) => {\n\tconst store = Ariakit.useHovercardStore({\n\t\tplacement,\n\t\ttimeout,\n\t\t...(openDelay !== undefined ? { showTimeout: openDelay } : {}),\n\t\t...(closeDelay !== undefined ? { hideTimeout: closeDelay } : {}),\n\t\t...(open !== undefined\n\t\t\t? onOpenChange\n\t\t\t\t? { open, setOpen: onOpenChange }\n\t\t\t\t: { open }\n\t\t\t: { defaultOpen }),\n\t});\n\n\treturn (\n\t\t<HovercardStoreContext.Provider value={store}>\n\t\t\t<Ariakit.HovercardProvider store={store}>\n\t\t\t\t<div className=\"relative\">{children}</div>\n\t\t\t</Ariakit.HovercardProvider>\n\t\t</HovercardStoreContext.Provider>\n\t);\n};\n\nexport const HovercardTrigger: React.FC<HovercardTriggerProps> = ({\n\tchildren,\n\tasChild = false,\n\tclassName = '',\n\tvariant = 'default',\n\tsize = 'md',\n}) => {\n\tconst store = React.useContext(HovercardStoreContext);\n\tif (!store)\n\t\tthrow new Error('HovercardTrigger must be used within <Hovercard>');\n\n\tconst triggerClassName = cn(\n\t\thovercardTriggerVariants({ variant, size }),\n\t\t'font-medium',\n\t\tclassName,\n\t);\n\n\tif (asChild && React.isValidElement(children)) {\n\t\tconst child = children as React.ReactElement<{ className?: string }>;\n\t\tconst merged = React.cloneElement(child, {\n\t\t\tclassName: cn(child.props.className, triggerClassName),\n\t\t});\n\n\t\treturn <Ariakit.HovercardAnchor store={store} render={merged} />;\n\t}\n\n\treturn (\n\t\t<Ariakit.HovercardAnchor\n\t\t\tstore={store}\n\t\t\trender={<button type=\"button\" />}\n\t\t\tclassName={triggerClassName}\n\t\t>\n\t\t\t{children}\n\t\t</Ariakit.HovercardAnchor>\n\t);\n};\n\nexport const HovercardContent: React.FC<HovercardContentProps> = ({\n\tchildren,\n\tclassName = '',\n\tvariant = 'default',\n\tsize = 'md',\n\tportal = true,\n\tfixed = false,\n\tgutter = 0,\n\tshowArrow = true,\n\thideOnHoverOutside = true,\n\tdisablePointerEventsOnApproach = true,\n\tautoFocusOnShow = false,\n}) => {\n\tconst store = React.useContext(HovercardStoreContext);\n\tif (!store)\n\t\tthrow new Error('HovercardContent must be used within <Hovercard>');\n\tconst currentPlacement = Ariakit.useStoreState(store, 'currentPlacement');\n\tconst shouldTintArrow = currentPlacement?.startsWith('bottom');\n\tconst arrowStyle = shouldTintArrow\n\t\t? { stroke: 'var(--arrow-highlight)' }\n\t\t: undefined;\n\n\treturn (\n\t\t<Ariakit.Hovercard\n\t\t\tstore={store}\n\t\t\tportal={portal}\n\t\t\tfixed={fixed}\n\t\t\tgutter={gutter}\n\t\t\thideOnHoverOutside={hideOnHoverOutside}\n\t\t\tdisablePointerEventsOnApproach={disablePointerEventsOnApproach}\n\t\t\tautoFocusOnShow={autoFocusOnShow}\n\t\t\tclassName={cn(\n\t\t\t\thovercardContentVariants({ variant, size }),\n\t\t\t\thovercardMotion,\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{showArrow ? <Ariakit.HovercardArrow style={arrowStyle} /> : null}\n\t\t\t{children}\n\t\t</Ariakit.Hovercard>\n\t);\n};\n\nexport const HovercardHeading = React.forwardRef<\n\tHovercardHeadingElement,\n\tHovercardHeadingProps\n>(({ className = '', ...props }, ref) => (\n\t<Ariakit.HovercardHeading\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t'text-sm leading-none font-medium text-foreground',\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\n\nHovercardHeading.displayName = 'HovercardHeading';\n\nexport const HovercardDescription = React.forwardRef<\n\tHovercardDescriptionElement,\n\tHovercardDescriptionProps\n>(({ className = '', ...props }, ref) => (\n\t<Ariakit.HovercardDescription\n\t\tref={ref}\n\t\tclassName={cn('text-sm leading-snug text-foreground/70', className)}\n\t\t{...props}\n\t/>\n));\n\nHovercardDescription.displayName = 'HovercardDescription';\n",
      "type": "registry:component"
    }
  ]
}