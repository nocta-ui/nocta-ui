{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "command-k",
  "type": "registry:component",
  "title": "CommandK",
  "description": "Command palette modal (Cmd/Ctrl+K) for quick search, navigation and actions with full keyboard support",
  "dependencies": [
    "@ariakit/react",
    "class-variance-authority",
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "dialog",
    "input",
    "nocta-icons"
  ],
  "files": [
    {
      "path": "registry/ui/command-k.tsx",
      "content": "'use client';\n\nimport { cva } from 'class-variance-authority';\nimport type React from 'react';\nimport {\n\tuseCallback,\n\tuseEffect,\n\tuseId,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from 'react';\nimport { cn } from '@/lib/utils';\nimport { Dialog, DialogContent, DialogSurface } from '@/registry/ui/dialog';\nimport { Icons } from '@/registry/ui/nocta-icons';\nimport { Input } from '@/registry/ui/input';\n\nexport type CommandKItem = {\n\tid?: string;\n\tlabel: string;\n\tgroup?: string;\n\tdescription?: string;\n\tkeywords?: string[];\n\ticon?: React.ReactNode;\n\tshortcut?: string[];\n\tdisabled?: boolean;\n\taction?: () => void;\n};\n\nexport interface CommandKProps {\n\titems: CommandKItem[];\n\topen?: boolean;\n\tdefaultOpen?: boolean;\n\tonOpenChange?: (open: boolean) => void;\n\tplaceholder?: string;\n\temptyMessage?: string;\n\tcloseOnAction?: boolean;\n\tsize?: 'sm' | 'md' | 'lg' | 'xl';\n\tclassName?: string;\n\tlistClassName?: string;\n\tautoFocus?: boolean;\n\thotkey?: {\n\t\tkey: string;\n\t\tmetaKey?: boolean;\n\t\tctrlKey?: boolean;\n\t};\n\tonSelect?: (item: CommandKItem) => void;\n}\n\nconst groupHeaderClass = cva(\n\t'px-3 pt-2 pb-1 text-xs font-medium tracking-wide text-foreground/45',\n);\n\nconst listItemClass = cva(\n\t[\n\t\t'relative flex cursor-pointer items-center gap-3 rounded-sm h-9 px-3 py-2',\n\t\t'text-sm text-foreground',\n\t\t'hover:bg-popover-muted',\n\t].join(' '),\n\t{\n\t\tvariants: {\n\t\t\thighlighted: { true: 'bg-popover-muted', false: '' },\n\t\t\tdisabled: {\n\t\t\t\ttrue: 'pointer-events-none cursor-not-allowed opacity-50',\n\t\t\t\tfalse: '',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: { highlighted: false, disabled: false },\n\t},\n);\n\nconst kbdClass = cva(\n\t[\n\t\t'relative flex items-center justify-center font-mono',\n\t\t'h-5 min-w-[2.2rem] rounded-sm border px-1.5',\n\t\t'text-[10px] leading-none font-medium',\n\t\t'border-border',\n\t\t'bg-popover-muted shadow-sm card-highlight',\n\t\t'text-foreground/70 shadow-sm',\n\t].join(' '),\n);\n\nconst usePlatformMeta = () => {\n\tconst [isMac, setIsMac] = useState(false);\n\tuseEffect(() => {\n\t\tconst ua = navigator.userAgent.toLowerCase();\n\t\tsetIsMac(/mac|iphone|ipad|ipod/.test(ua));\n\t}, []);\n\treturn isMac;\n};\n\nexport const CommandK: React.FC<CommandKProps> = ({\n\titems,\n\topen: controlledOpen,\n\tdefaultOpen = false,\n\tonOpenChange,\n\tplaceholder = 'Type a command or search...',\n\temptyMessage = 'No results',\n\tcloseOnAction = true,\n\tsize = 'xl',\n\tclassName = '',\n\tlistClassName = '',\n\tautoFocus = true,\n\thotkey = { key: 'k' },\n\tonSelect,\n}) => {\n\tconst [internalOpen, setInternalOpen] = useState(defaultOpen);\n\tconst [query, setQuery] = useState('');\n\tconst [highlightedIndex, setHighlightedIndex] = useState(0);\n\tconst searchContainerRef = useRef<HTMLDivElement>(null);\n\tconst listRef = useRef<HTMLDivElement>(null);\n\tconst optionRefs = useRef<(HTMLDivElement | null)[]>([]);\n\tconst isMac = usePlatformMeta();\n\n\tconst open = controlledOpen !== undefined ? controlledOpen : internalOpen;\n\tconst setOpen = onOpenChange || setInternalOpen;\n\n\tconst baseId = useId();\n\n\tconst normalized = useMemo(() => {\n\t\treturn items.map((it, idx) => ({\n\t\t\tkey: it.id ?? `${it.group ?? '_'}-${it.label}-${idx}`,\n\t\t\titem: it,\n\t\t}));\n\t}, [items]);\n\n\tconst filtered = useMemo(() => {\n\t\tconst q = query.trim().toLowerCase();\n\t\tif (!q) return normalized;\n\t\treturn normalized.filter(({ item }) => {\n\t\t\tconst hay = [item.label, item.description ?? '', ...(item.keywords ?? [])]\n\t\t\t\t.join(' ')\n\t\t\t\t.toLowerCase();\n\t\t\treturn hay.includes(q);\n\t\t});\n\t}, [normalized, query]);\n\n\tconst grouped = useMemo(() => {\n\t\tconst groups = new Map<string, { key: string; item: CommandKItem }[]>();\n\t\tfiltered.forEach((entry) => {\n\t\t\tconst g = entry.item.group ?? 'General';\n\t\t\tif (!groups.has(g)) groups.set(g, []);\n\t\t\tgroups.get(g)?.push(entry);\n\t\t});\n\t\treturn groups;\n\t}, [filtered]);\n\n\tconst flatSelectable = useMemo(\n\t\t() => Array.from(grouped.values()).flat(),\n\t\t[grouped],\n\t);\n\n\tconst getOptionId = useCallback(\n\t\t(i: number) => `${baseId}-cmdk-option-${i}`,\n\t\t[baseId],\n\t);\n\n\tconst close = useCallback(() => {\n\t\tsetOpen(false);\n\t\tsetQuery('');\n\t\tsetHighlightedIndex(0);\n\t}, [setOpen]);\n\n\tconst handleSelect = useCallback(\n\t\t(entry: { key: string; item: CommandKItem }) => {\n\t\t\tif (entry.item.disabled) return;\n\t\t\tentry.item.action?.();\n\t\t\tonSelect?.(entry.item);\n\t\t\tif (closeOnAction) close();\n\t\t},\n\t\t[closeOnAction, close, onSelect],\n\t);\n\n\tuseEffect(() => {\n\t\tconst onKeyDown = (e: KeyboardEvent) => {\n\t\t\tconst keyMatch = e.key.toLowerCase() === hotkey.key.toLowerCase();\n\n\t\t\tconst requiresMeta = hotkey.metaKey === true;\n\t\t\tconst requiresCtrl = hotkey.ctrlKey === true;\n\t\t\tlet modifierOk: boolean;\n\t\t\tif (!requiresMeta && !requiresCtrl) {\n\t\t\t\tmodifierOk = isMac ? e.metaKey : e.ctrlKey;\n\t\t\t} else if (requiresMeta && requiresCtrl) {\n\t\t\t\tmodifierOk = e.metaKey || e.ctrlKey;\n\t\t\t} else {\n\t\t\t\tmodifierOk =\n\t\t\t\t\t(requiresMeta ? e.metaKey : true) &&\n\t\t\t\t\t(requiresCtrl ? e.ctrlKey : true);\n\t\t\t}\n\n\t\t\tconst isModifierPressed = e.metaKey || e.ctrlKey || e.altKey;\n\n\t\t\tconst target = e.target as HTMLElement | null;\n\t\t\tconst isTypingElement =\n\t\t\t\t!!target &&\n\t\t\t\t(target.tagName === 'INPUT' ||\n\t\t\t\t\ttarget.tagName === 'TEXTAREA' ||\n\t\t\t\t\ttarget.isContentEditable);\n\n\t\t\tif (keyMatch && modifierOk) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tif (isTypingElement && !isModifierPressed) return;\n\t\t\t\tsetOpen(!open);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.key === 'Escape' && open) {\n\t\t\t\te.preventDefault();\n\t\t\t\tclose();\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener('keydown', onKeyDown);\n\t\treturn () => document.removeEventListener('keydown', onKeyDown);\n\t}, [hotkey, open, setOpen, close, isMac]);\n\n\tuseEffect(() => {\n\t\tif (!open || !autoFocus) return;\n\t\tlet raf1: number | null = null;\n\t\tlet raf2: number | null = null;\n\t\tlet t1: ReturnType<typeof setTimeout> | null = null;\n\n\t\tconst focusInput = () => {\n\t\t\tconst el = searchContainerRef.current?.querySelector(\n\t\t\t\t'input[type=\"text\"], input:not([type])',\n\t\t\t) as HTMLInputElement | null;\n\t\t\tif (el) {\n\t\t\t\ttry {\n\t\t\t\t\tel.focus({ preventScroll: true });\n\t\t\t\t\tconst val = el.value;\n\t\t\t\t\tel.value = '';\n\t\t\t\t\tel.value = val;\n\t\t\t\t} catch {}\n\t\t\t}\n\t\t};\n\n\t\traf1 = requestAnimationFrame(() => {\n\t\t\tfocusInput();\n\t\t\traf2 = requestAnimationFrame(() => focusInput());\n\t\t});\n\t\tt1 = setTimeout(focusInput, 220);\n\n\t\treturn () => {\n\t\t\tif (raf1) cancelAnimationFrame(raf1);\n\t\t\tif (raf2) cancelAnimationFrame(raf2);\n\t\t\tif (t1) clearTimeout(t1);\n\t\t};\n\t}, [open, autoFocus]);\n\n\tuseEffect(() => {\n\t\tconst node = optionRefs.current[highlightedIndex];\n\t\tif (node) node.scrollIntoView({ block: 'nearest' });\n\t}, [highlightedIndex]);\n\n\tuseEffect(() => {\n\t\tif (!open) return;\n\t\tconst onShortcut = (e: KeyboardEvent) => {\n\t\t\tconst modifierOk = isMac ? e.metaKey : e.ctrlKey;\n\t\t\tconst isChar = e.key.length === 1 && /[a-z0-9]/i.test(e.key);\n\t\t\tif (!modifierOk || !isChar) return;\n\n\t\t\tconst pressedKey = e.key.toUpperCase();\n\t\t\tconst normalize = (t: string) => t.trim().toUpperCase();\n\t\t\tconst isShiftToken = (t: string) => /^(SHIFT|⇧)$/.test(normalize(t));\n\n\t\t\tconst match = flatSelectable.find((entry) => {\n\t\t\t\tconst sc = entry.item.shortcut;\n\t\t\t\tif (!sc || sc.length === 0 || entry.item.disabled) return false;\n\t\t\t\tconst requiresShift = sc.some(isShiftToken);\n\t\t\t\tif (requiresShift && !e.shiftKey) return false;\n\t\t\t\tconst letter = sc.find((t) => /^[a-z0-9]$/i.test(t));\n\t\t\t\tif (!letter) return false;\n\t\t\t\treturn normalize(letter) === pressedKey;\n\t\t\t});\n\t\t\tif (match) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\thandleSelect(match);\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener('keydown', onShortcut);\n\t\treturn () => document.removeEventListener('keydown', onShortcut);\n\t}, [open, isMac, flatSelectable, handleSelect]);\n\n\tconst onKeyNav = (e: React.KeyboardEvent) => {\n\t\tif (!open) return;\n\t\tif (flatSelectable.length === 0) return;\n\t\tswitch (e.key) {\n\t\t\tcase 'ArrowDown':\n\t\t\t\te.preventDefault();\n\t\t\t\tsetHighlightedIndex((i) => (i + 1) % flatSelectable.length);\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowUp':\n\t\t\t\te.preventDefault();\n\t\t\t\tsetHighlightedIndex(\n\t\t\t\t\t(i) => (i - 1 + flatSelectable.length) % flatSelectable.length,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 'Enter':\n\t\t\t\te.preventDefault();\n\t\t\t\t{\n\t\t\t\t\tconst entry = flatSelectable[highlightedIndex];\n\t\t\t\t\tif (entry) handleSelect(entry);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'Home':\n\t\t\t\te.preventDefault();\n\t\t\t\tsetHighlightedIndex(0);\n\t\t\t\tbreak;\n\t\t\tcase 'End':\n\t\t\t\te.preventDefault();\n\t\t\t\tsetHighlightedIndex(flatSelectable.length - 1);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst shortcutHint = useMemo(() => {\n\t\tconst key = hotkey.key.toUpperCase();\n\t\tconst requiresMeta = hotkey.metaKey === true;\n\t\tconst requiresCtrl = hotkey.ctrlKey === true;\n\t\tif (!requiresMeta && !requiresCtrl) {\n\t\t\treturn isMac ? `⌘${key}` : `Ctrl+${key}`;\n\t\t}\n\t\tif (requiresMeta && requiresCtrl) {\n\t\t\treturn isMac ? `⌘${key}` : `Ctrl+${key}`;\n\t\t}\n\t\tif (requiresMeta) return `⌘${key}`;\n\t\tif (requiresCtrl) return `Ctrl+${key}`;\n\t\treturn key;\n\t}, [hotkey, isMac]);\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={setOpen}>\n\t\t\t<DialogSurface\n\t\t\t\tsize={size}\n\t\t\t\tshowClose={false}\n\t\t\t\tclassName={cn('p-0!', className)}\n\t\t\t>\n\t\t\t\t<DialogContent className=\"p-0\">\n\t\t\t\t\t<div className=\"px-0.5 pt-2\" ref={searchContainerRef}>\n\t\t\t\t\t\t<div className=\"relative px-1\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\taria-controls={`${baseId}-commandk-listbox`}\n\t\t\t\t\t\t\t\taria-expanded={open}\n\t\t\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\t\t\t\tflatSelectable[highlightedIndex]\n\t\t\t\t\t\t\t\t\t\t? getOptionId(highlightedIndex)\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetQuery(e.target.value);\n\t\t\t\t\t\t\t\t\tsetHighlightedIndex(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonKeyDown={onKeyNav}\n\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\twrapperClassName=\"w-full bg-transparent border-none! pr-12 shadow-none! before:!content-none before:!shadow-none focus-within:border-none focus-within:ring-0 focus-within:ring-offset-0\"\n\t\t\t\t\t\t\t\tleftIcon={\n\t\t\t\t\t\t\t\t\t<Icons.Search\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"size-5! -mt-0.5 -ml-0.5\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"pointer-events-none absolute top-1/2 right-3 h-fit -translate-y-1/2\">\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\" className={kbdClass()}>\n\t\t\t\t\t\t\t\t\t{shortcutHint}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span className=\"sr-only\">Shortcut: {shortcutHint}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={listRef}\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t'mt-2 max-h-80 overflow-auto py-2',\n\t\t\t\t\t\t\t'border-t border-border/60',\n\t\t\t\t\t\t\tlistClassName,\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tid={`${baseId}-commandk-listbox`}\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\taria-label=\"Command results\"\n\t\t\t\t\t\tonKeyDown={onKeyNav}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div aria-live=\"polite\" className=\"sr-only\">\n\t\t\t\t\t\t\t{filtered.length} result{filtered.length === 1 ? '' : 's'}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{flatSelectable.length === 0 ? (\n\t\t\t\t\t\t\t<output\n\t\t\t\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-center px-3 py-6 text-center text-sm text-foreground/45\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{emptyMessage}\n\t\t\t\t\t\t\t</output>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tArray.from(grouped.entries()).map(([group, entries]) => (\n\t\t\t\t\t\t\t\t<div key={group} className=\"px-2\">\n\t\t\t\t\t\t\t\t\t<fieldset className=\"m-0 mt-1 flex flex-col border-0 p-0\">\n\t\t\t\t\t\t\t\t\t\t<legend className={groupHeaderClass()}>{group}</legend>\n\t\t\t\t\t\t\t\t\t\t{entries.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\tconst flatIndex = flatSelectable.findIndex(\n\t\t\t\t\t\t\t\t\t\t\t\t(f) => f.key === entry.key,\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tconst highlighted = flatIndex === highlightedIndex;\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={entry.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={(el) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionRefs.current[flatIndex] = el;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={listItemClass({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlighted,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled: !!entry.item.disabled,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={getOptionId(flatIndex)}\n\t\t\t\t\t\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-selected={highlighted}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-disabled={entry.item.disabled || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => setHighlightedIndex(flatIndex)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleSelect(entry)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (entry.item.disabled) return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSelect(entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.item.icon && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 text-foreground/45\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.item.icon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex min-w-0 flex-1 flex-row gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"truncate font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.item.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.item.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-0.5 hidden truncate text-xs text-foreground/70 md:block\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.item.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.item.shortcut &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.item.shortcut.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2 flex items-center gap-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst sc = entry.item.shortcut ?? [];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst hasShift = sc.some((t) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/^(shift|⇧)$/i.test(t.trim()),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst letters = sc\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter((t) => /^[a-z0-9]$/i.test(t.trim()))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((t) => t.trim().toUpperCase());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst tokens = [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMac ? '⌘' : 'Ctrl',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...(hasShift ? ['⇧'] : []),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...letters,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn tokens.map((tok) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={`${tok}`} className={kbdClass()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{tok}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"flex items-center justify-between gap-2 border-t border-border/60 bg-card-muted/30 px-3 py-2 text-xs text-foreground/70\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Navigate</span>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\" aria-hidden=\"true\">\n\t\t\t\t\t\t\t\t<span className={kbdClass()}>↑</span>\n\t\t\t\t\t\t\t\t<span className={kbdClass()}>↓</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span className=\"sr-only\">Navigate with arrow keys</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Select</span>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\" aria-hidden=\"true\">\n\t\t\t\t\t\t\t\t<span className={kbdClass()}>Enter</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span className=\"sr-only\">Select with Enter key</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</DialogContent>\n\t\t\t</DialogSurface>\n\t\t</Dialog>\n\t);\n};\n\nexport default CommandK;\n",
      "type": "registry:component"
    }
  ]
}