{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "navigation-menu",
  "type": "registry:component",
  "title": "Navigation Menu",
  "description": "Hover-driven navigation bar with floating panels for grouped links and quick actions",
  "dependencies": [
    "@ariakit/react",
    "class-variance-authority",
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "nocta-icons"
  ],
  "files": [
    {
      "path": "registry/ui/navigation-menu.tsx",
      "content": "'use client';\n\nimport * as Ariakit from '@ariakit/react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\nimport { cn } from '@/lib/utils';\nimport { Icons } from '@/registry/ui/nocta-icons';\n\nconst navigationMenuVariants = cva(\n\t'inline-flex h-11 items-center gap-1 px-2 text-sm text-foreground/70',\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tmd: '',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: 'md',\n\t\t},\n\t},\n);\n\nconst navigationMenuTriggerVariants = cva(\n\t'inline-flex h-9 items-center gap-2 rounded-md px-4 text-sm font-medium text-foreground transition-[background-color,color,box-shadow] ease-out-quad duration-100 focus-visible:bg-card-muted focus-visible:ring-1 focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[expanded=true]:bg-card-muted cursor-pointer',\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tmd: 'text-sm',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: 'md',\n\t\t},\n\t},\n);\n\nconst navigationMenuPanelVariants = cva(\n\t'relative z-50 w-[min(32rem,calc(100vw-4rem))] rounded-lg border border-border bg-popover text-foreground/70 opacity-0 scale-95 shadow-2xl card-highlight data-[enter]:translate-y-0 data-[enter]:scale-100 data-[enter]:opacity-100 data-[leave]:scale-95 data-[leave]:-translate-y-2 data-[leave]:opacity-0 -translate-y-2 transition-[translate,opacity,scale]l duration-300 ease-smooth',\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tmd: '',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: 'md',\n\t\t},\n\t},\n);\n\nconst navigationMenuContentLayoutClass =\n\t'flex flex-col gap-3 [&:has([role=group])]:grid [&:has([role=group])]:gap-2 [&:has([role=group])]:grid-cols-1 md:[&:has([role=group])]:grid-cols-2';\n\nconst navigationMenuLinkVariants = cva(\n\t'relative flex md:last:h-full flex-col items-start gap-1 rounded-md p-2 text-left text-sm outline-none hover:bg-popover-muted transition-[background-color,box-shadow] ease-out-quad duration-100 focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none data-[focus-visible]:outline-none data-[focus-visible]:bg-popover-muted [a&]:cursor-pointer overflow-clip',\n);\n\nconst navigationMenuGroupVariants = cva('flex flex-col gap-2 items-stretch');\n\nconst SetShiftContext = React.createContext<\n\tReact.Dispatch<React.SetStateAction<number>>\n>(() => {});\n\ntype MenuPlacement = NonNullable<Ariakit.MenuProviderProps['placement']>;\n\nconst SetPlacementContext = React.createContext<\n\tReact.Dispatch<React.SetStateAction<MenuPlacement>>\n>(() => {});\n\ntype MotionAttribute = 'from-start' | 'from-end' | 'to-start' | 'to-end';\n\ninterface NavigationMenuMotionPane {\n\tkey: string;\n\tuid: string;\n\tindex: number;\n\tphase: 'enter' | 'leave';\n\tmotion: MotionAttribute | null;\n\tlastDirection: 'start' | 'end' | null;\n\tcontent: React.ReactNode;\n}\n\ntype NavigationMenuOpenAction = {\n\ttype: 'open';\n\tkey: string;\n\tindex: number;\n\tcontent: React.ReactNode;\n};\n\ntype NavigationMenuUpdateAction = {\n\ttype: 'update';\n\tkey: string;\n\tindex: number;\n\tcontent: React.ReactNode;\n};\n\ntype NavigationMenuCloseAction = {\n\ttype: 'close';\n\tkey: string;\n};\n\ntype NavigationMenuContentAction =\n\t| NavigationMenuOpenAction\n\t| NavigationMenuUpdateAction\n\t| NavigationMenuCloseAction;\n\ninterface NavigationMenuContentContextValue {\n\tdispatch: (action: NavigationMenuContentAction) => void;\n}\n\nconst NavigationMenuContentContext =\n\tReact.createContext<NavigationMenuContentContextValue | null>(null);\n\ninterface NavigationMenuItemOrderContextValue {\n\tregisterItem: (id: string) => number;\n\tunregisterItem: (id: string) => void;\n}\n\nconst NavigationMenuItemOrderContext =\n\tReact.createContext<NavigationMenuItemOrderContextValue | null>(null);\n\nconst NAVIGATION_MENU_MOTION_DURATION = 450;\n\nconst navigationMenuMotionViewportClass =\n\t'relative w-full overflow-hidden transition-[height] duration-450 ease-smooth [--navigation-menu-motion-duration:450ms] [--navigation-menu-motion-distance:min(550px,35vw)] md:[--navigation-menu-motion-distance:min(250px,35vw)]';\n\nconst navigationMenuMotionPaneClass =\n\t'relative p-2 w-full data-[state=leave]:absolute data-[state=leave]:inset-0 data-[state=leave]:pointer-events-none data-[motion]:[animation-duration:var(--navigation-menu-motion-duration)] data-[motion]:[animation-timing-function:var(--ease-smooth)] data-[motion]:[animation-fill-mode:both] data-[motion]:[will-change:transform,opacity] data-[motion=from-start]:[animation-name:navigation-menu-enter-from-start] data-[motion=from-end]:[animation-name:navigation-menu-enter-from-end] data-[motion=to-start]:[animation-name:navigation-menu-exit-to-start] data-[motion=to-end]:[animation-name:navigation-menu-exit-to-end]';\n\ninterface NavigationMenuMotionObserverProps {\n\tonMenuClose: () => void;\n}\n\nfunction NavigationMenuMotionObserver({\n\tonMenuClose,\n}: NavigationMenuMotionObserverProps) {\n\tconst menu = Ariakit.useMenuContext();\n\tconst mounted = Ariakit.useStoreState(menu, 'mounted');\n\tconst previousMountedRef = React.useRef(mounted);\n\n\tReact.useEffect(() => {\n\t\tif (previousMountedRef.current && !mounted) {\n\t\t\tonMenuClose();\n\t\t}\n\t\tpreviousMountedRef.current = mounted;\n\t}, [mounted, onMenuClose]);\n\n\treturn null;\n}\n\nexport interface NavigationMenuProps\n\textends Omit<Ariakit.MenubarProps, 'className' | 'children'>,\n\t\tVariantProps<typeof navigationMenuVariants> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tpanelClassName?: string;\n\tpanelWrapperClassName?: string;\n\tarrowClassName?: string;\n}\n\nexport const NavigationMenu = React.forwardRef<\n\tHTMLDivElement,\n\tNavigationMenuProps\n>(function NavigationMenu(\n\t{\n\t\tchildren,\n\t\tclassName,\n\t\tsize,\n\t\tpanelClassName,\n\t\tpanelWrapperClassName,\n\t\tarrowClassName,\n\t\t...props\n\t},\n\tref,\n) {\n\tconst [shift, setShift] = React.useState(0);\n\tconst [placement, setPlacement] = React.useState<MenuPlacement>('bottom');\n\tconst [panes, setPanes] = React.useState<NavigationMenuMotionPane[]>([]);\n\tconst itemOrderMapRef = React.useRef(new Map<string, number>());\n\tconst paneIdRef = React.useRef(0);\n\tconst activeKeyRef = React.useRef<string | null>(null);\n\tconst activeIndexRef = React.useRef<number | null>(null);\n\tconst contentRegistryRef = React.useRef(new Map<string, React.ReactNode>());\n\tconst paneRefs = React.useRef(new Map<string, HTMLDivElement>());\n\tconst animationLockTimeoutRef = React.useRef<number | null>(null);\n\tconst isAnimationLockedRef = React.useRef(false);\n\tconst pendingOpenActionRef = React.useRef<NavigationMenuOpenAction | null>(\n\t\tnull,\n\t);\n\tconst [animationLockVersion, setAnimationLockVersion] = React.useState(0);\n\tconst [motionViewportHeight, setMotionViewportHeight] = React.useState<\n\t\tnumber | null\n\t>(null);\n\tconst activePaneUid = React.useMemo(\n\t\t() => panes.find((pane) => pane.phase === 'enter')?.uid ?? null,\n\t\t[panes],\n\t);\n\n\tReact.useLayoutEffect(() => {\n\t\tif (!activePaneUid) {\n\t\t\tsetMotionViewportHeight(null);\n\t\t\treturn;\n\t\t}\n\n\t\tconst paneElement = paneRefs.current.get(activePaneUid);\n\t\tif (!paneElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst updateHeight = () => {\n\t\t\tsetMotionViewportHeight(paneElement.offsetHeight);\n\t\t};\n\n\t\tupdateHeight();\n\n\t\tif (typeof ResizeObserver === 'undefined') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new ResizeObserver(() => {\n\t\t\tupdateHeight();\n\t\t});\n\n\t\tobserver.observe(paneElement);\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t}, [activePaneUid]);\n\n\tconst handleAnimationLockCompletion = React.useCallback(() => {\n\t\tif (animationLockTimeoutRef.current) {\n\t\t\twindow.clearTimeout(animationLockTimeoutRef.current);\n\t\t\tanimationLockTimeoutRef.current = null;\n\t\t}\n\n\t\tif (!isAnimationLockedRef.current) {\n\t\t\treturn;\n\t\t}\n\n\t\tisAnimationLockedRef.current = false;\n\t\tsetAnimationLockVersion((version) => version + 1);\n\t}, []);\n\n\tconst startAnimationLock = React.useCallback(() => {\n\t\tif (animationLockTimeoutRef.current) {\n\t\t\twindow.clearTimeout(animationLockTimeoutRef.current);\n\t\t}\n\n\t\tisAnimationLockedRef.current = true;\n\t\tanimationLockTimeoutRef.current = window.setTimeout(() => {\n\t\t\thandleAnimationLockCompletion();\n\t\t}, NAVIGATION_MENU_MOTION_DURATION);\n\t}, [handleAnimationLockCompletion]);\n\n\tconst resetMotionState = React.useCallback(() => {\n\t\tactiveKeyRef.current = null;\n\t\tactiveIndexRef.current = null;\n\t\tcontentRegistryRef.current.clear();\n\t\tpendingOpenActionRef.current = null;\n\t\tsetPanes([]);\n\t\thandleAnimationLockCompletion();\n\t}, [handleAnimationLockCompletion]);\n\n\tconst makePane = React.useCallback(\n\t\t(\n\t\t\tpane: Omit<NavigationMenuMotionPane, 'uid'>,\n\t\t): NavigationMenuMotionPane => ({\n\t\t\t...pane,\n\t\t\tuid: `navigation-pane-${paneIdRef.current++}`,\n\t\t}),\n\t\t[],\n\t);\n\n\tconst registerItem = React.useCallback((id: string) => {\n\t\tconst map = itemOrderMapRef.current;\n\t\tif (!map.has(id)) {\n\t\t\tmap.set(id, map.size);\n\t\t}\n\t\treturn map.get(id) ?? 0;\n\t}, []);\n\n\tconst unregisterItem = React.useCallback((id: string) => {\n\t\tconst map = itemOrderMapRef.current;\n\n\t\tif (!map.has(id)) return;\n\n\t\tconst removedIndex = map.get(id);\n\t\tif (removedIndex === undefined) return;\n\n\t\tmap.delete(id);\n\n\t\tfor (const [key, value] of map.entries()) {\n\t\t\tif (value > removedIndex) {\n\t\t\t\tmap.set(key, value - 1);\n\t\t\t}\n\t\t}\n\t}, []);\n\n\tconst handlePaneAnimationEnd = React.useCallback((paneUid: string) => {\n\t\tsetPanes((prev) =>\n\t\t\tprev.filter((pane) => !(pane.phase === 'leave' && pane.uid === paneUid)),\n\t\t);\n\t}, []);\n\n\tconst dispatchContentAction = React.useCallback(\n\t\t(action: NavigationMenuContentAction) => {\n\t\t\tif (action.type === 'update') {\n\t\t\t\tcontentRegistryRef.current.set(action.key, action.content);\n\t\t\t\tsetPanes((prev) =>\n\t\t\t\t\tprev.map((pane) =>\n\t\t\t\t\t\tpane.key === action.key\n\t\t\t\t\t\t\t? { ...pane, content: action.content, index: action.index }\n\t\t\t\t\t\t\t: pane,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (action.type === 'close') {\n\t\t\t\tcontentRegistryRef.current.delete(action.key);\n\t\t\t\tsetPanes((prev) => prev.filter((pane) => pane.key !== action.key));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isSameTarget =\n\t\t\t\tactiveKeyRef.current === action.key ||\n\t\t\t\tactiveIndexRef.current === action.index;\n\n\t\t\tif (isAnimationLockedRef.current && !isSameTarget) {\n\t\t\t\tpendingOpenActionRef.current = action;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontentRegistryRef.current.set(action.key, action.content);\n\t\t\tconst previousKey = activeKeyRef.current;\n\t\t\tconst previousIndex = activeIndexRef.current;\n\t\t\tconst motionAttributes = getMotionAttributes(previousIndex, action.index);\n\t\t\tactiveKeyRef.current = action.key;\n\t\t\tactiveIndexRef.current = action.index;\n\n\t\t\tsetPanes((prev) => {\n\t\t\t\tconst { enterMotion, leaveMotion } = motionAttributes;\n\n\t\t\t\tconst leavingPanes = prev.filter(\n\t\t\t\t\t(pane) =>\n\t\t\t\t\t\tpane.phase === 'leave' &&\n\t\t\t\t\t\tpane.key !== previousKey &&\n\t\t\t\t\t\tpane.key !== action.key,\n\t\t\t\t);\n\t\t\t\tconst nextPanes: NavigationMenuMotionPane[] = [...leavingPanes];\n\n\t\t\t\tif (\n\t\t\t\t\tpreviousKey &&\n\t\t\t\t\tpreviousKey !== action.key &&\n\t\t\t\t\tpreviousIndex !== null &&\n\t\t\t\t\tleaveMotion\n\t\t\t\t) {\n\t\t\t\t\tconst previousContent =\n\t\t\t\t\t\tprev.find(\n\t\t\t\t\t\t\t(pane) => pane.key === previousKey && pane.phase === 'enter',\n\t\t\t\t\t\t)?.content ??\n\t\t\t\t\t\tcontentRegistryRef.current.get(previousKey) ??\n\t\t\t\t\t\tnull;\n\n\t\t\t\t\tif (previousContent) {\n\t\t\t\t\t\tnextPanes.push(\n\t\t\t\t\t\t\tmakePane({\n\t\t\t\t\t\t\t\tkey: previousKey,\n\t\t\t\t\t\t\t\tindex: previousIndex,\n\t\t\t\t\t\t\t\tphase: 'leave',\n\t\t\t\t\t\t\t\tcontent: previousContent,\n\t\t\t\t\t\t\t\tmotion: leaveMotion,\n\t\t\t\t\t\t\t\tlastDirection:\n\t\t\t\t\t\t\t\t\tleaveMotion === 'to-end'\n\t\t\t\t\t\t\t\t\t\t? 'end'\n\t\t\t\t\t\t\t\t\t\t: leaveMotion === 'to-start'\n\t\t\t\t\t\t\t\t\t\t\t? 'start'\n\t\t\t\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tnextPanes.push(\n\t\t\t\t\tmakePane({\n\t\t\t\t\t\tkey: action.key,\n\t\t\t\t\t\tindex: action.index,\n\t\t\t\t\t\tphase: 'enter',\n\t\t\t\t\t\tcontent: action.content,\n\t\t\t\t\t\tmotion: enterMotion,\n\t\t\t\t\t\tlastDirection:\n\t\t\t\t\t\t\tenterMotion === 'from-end'\n\t\t\t\t\t\t\t\t? 'end'\n\t\t\t\t\t\t\t\t: enterMotion === 'from-start'\n\t\t\t\t\t\t\t\t\t? 'start'\n\t\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\treturn nextPanes;\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\tmotionAttributes.enterMotion !== null ||\n\t\t\t\tmotionAttributes.leaveMotion !== null\n\t\t\t) {\n\t\t\t\tstartAnimationLock();\n\t\t\t}\n\t\t},\n\t\t[makePane, startAnimationLock],\n\t);\n\n\tconst orderContextValue = React.useMemo(\n\t\t() => ({\n\t\t\tregisterItem,\n\t\t\tunregisterItem,\n\t\t}),\n\t\t[registerItem, unregisterItem],\n\t);\n\n\tconst contentContextValue = React.useMemo(\n\t\t() => ({\n\t\t\tdispatch: dispatchContentAction,\n\t\t}),\n\t\t[dispatchContentAction],\n\t);\n\n\tReact.useEffect(() => {\n\t\t// Touch the version so lint understands the dependency is intentional.\n\t\tvoid animationLockVersion;\n\n\t\tif (isAnimationLockedRef.current) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst pendingAction = pendingOpenActionRef.current;\n\t\tif (!pendingAction) {\n\t\t\treturn;\n\t\t}\n\n\t\tpendingOpenActionRef.current = null;\n\t\tdispatchContentAction(pendingAction);\n\t}, [animationLockVersion, dispatchContentAction]);\n\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tif (animationLockTimeoutRef.current) {\n\t\t\t\twindow.clearTimeout(animationLockTimeoutRef.current);\n\t\t\t}\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<Ariakit.Menubar\n\t\t\tref={ref}\n\t\t\t{...props}\n\t\t\tclassName={cn(navigationMenuVariants({ size }), className)}\n\t\t>\n\t\t\t<SetShiftContext.Provider value={setShift}>\n\t\t\t\t<SetPlacementContext.Provider value={setPlacement}>\n\t\t\t\t\t<Ariakit.MenuProvider\n\t\t\t\t\t\tplacement={placement}\n\t\t\t\t\t\tshowTimeout={100}\n\t\t\t\t\t\thideTimeout={250}\n\t\t\t\t\t>\n\t\t\t\t\t\t<NavigationMenuItemOrderContext.Provider value={orderContextValue}>\n\t\t\t\t\t\t\t<NavigationMenuContentContext.Provider\n\t\t\t\t\t\t\t\tvalue={contentContextValue}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<NavigationMenuMotionObserver onMenuClose={resetMotionState} />\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t\t<Ariakit.Menu\n\t\t\t\t\t\t\t\t\tportal\n\t\t\t\t\t\t\t\t\tshift={shift}\n\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\tunmountOnHide\n\t\t\t\t\t\t\t\t\twrapperProps={{\n\t\t\t\t\t\t\t\t\t\tclassName: cn(\n\t\t\t\t\t\t\t\t\t\t\t'[&:has([data-enter])]:transition-[transform] [&:has([data-enter])]:duration-450 ease-smooth',\n\t\t\t\t\t\t\t\t\t\t\tpanelWrapperClassName,\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\tnavigationMenuPanelVariants({ size }),\n\t\t\t\t\t\t\t\t\t\tpanelClassName,\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={navigationMenuMotionViewportClass}\n\t\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\t\tmotionViewportHeight === null\n\t\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t\t: { height: motionViewportHeight }\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{panes.map((pane) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={pane.uid}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-motion={pane.motion ?? undefined}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-state={pane.phase === 'enter' ? 'open' : 'leave'}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={navigationMenuMotionPaneClass}\n\t\t\t\t\t\t\t\t\t\t\t\tref={(node) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (node) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaneRefs.current.set(pane.uid, node);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaneRefs.current.delete(pane.uid);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonAnimationEnd={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpane.phase === 'leave' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.currentTarget === event.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandlePaneAnimationEnd(pane.uid);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={navigationMenuContentLayoutClass}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{pane.content}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<NavigationMenuArrow\n\t\t\t\t\t\t\t\t\t\tclassName={cn('transition-[left]', arrowClassName)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Ariakit.Menu>\n\t\t\t\t\t\t\t</NavigationMenuContentContext.Provider>\n\t\t\t\t\t\t</NavigationMenuItemOrderContext.Provider>\n\t\t\t\t\t</Ariakit.MenuProvider>\n\t\t\t\t</SetPlacementContext.Provider>\n\t\t\t</SetShiftContext.Provider>\n\t\t</Ariakit.Menubar>\n\t);\n});\n\nNavigationMenu.displayName = 'NavigationMenu';\n\nexport interface NavigationMenuItemProps\n\textends Omit<Ariakit.MenuItemProps, 'children'>,\n\t\tVariantProps<typeof navigationMenuTriggerVariants> {\n\tlabel: React.ReactNode;\n\thref?: string;\n\tshift?: number;\n\tplacement?: Ariakit.MenuStoreProps['placement'];\n\tchildren?: React.ReactNode;\n\tclassName?: string;\n}\n\nexport const NavigationMenuItem = React.forwardRef<\n\tHTMLDivElement,\n\tNavigationMenuItemProps\n>(function NavigationMenuItem(\n\t{\n\t\tlabel,\n\t\tchildren,\n\t\tclassName,\n\t\thref,\n\t\tshift = 0,\n\t\tplacement = 'bottom',\n\t\tsize,\n\t\trender,\n\t\t...itemProps\n\t},\n\tref,\n) {\n\tconst [menuButton, setMenuButton] = React.useState<HTMLDivElement | null>(\n\t\tnull,\n\t);\n\tconst setShift = React.useContext(SetShiftContext);\n\tconst setPlacement = React.useContext(SetPlacementContext);\n\tconst context = Ariakit.useMenuContext();\n\tconst contentContext = React.useContext(NavigationMenuContentContext);\n\tconst itemOrderContext = React.useContext(NavigationMenuItemOrderContext);\n\tif (!context || !contentContext || !itemOrderContext) {\n\t\tthrow new Error('NavigationMenuItem must be used within a NavigationMenu');\n\t}\n\tconst itemId = React.useId();\n\tconst [itemIndex] = React.useState(() =>\n\t\titemOrderContext.registerItem(itemId),\n\t);\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\titemOrderContext.unregisterItem(itemId);\n\t\t};\n\t}, [itemOrderContext, itemId]);\n\tconst menu = Ariakit.useMenuStore({ store: context });\n\tconst open = Ariakit.useStoreState(\n\t\tmenu,\n\t\t(state) => state.mounted && state.anchorElement === menuButton,\n\t);\n\n\tReact.useLayoutEffect(() => {\n\t\tif (!open) return;\n\t\tsetShift(shift);\n\t\tsetPlacement(placement ?? 'bottom');\n\t}, [open, placement, setPlacement, setShift, shift]);\n\n\tReact.useLayoutEffect(() => {\n\t\tif (!open) return;\n\t\tcontentContext.dispatch({\n\t\t\ttype: 'open',\n\t\t\tkey: itemId,\n\t\t\tindex: itemIndex,\n\t\t\tcontent: children ?? null,\n\t\t});\n\t}, [open, contentContext, itemId, itemIndex, children]);\n\n\tReact.useLayoutEffect(() => {\n\t\tif (!open) return;\n\t\tcontentContext.dispatch({\n\t\t\ttype: 'update',\n\t\t\tkey: itemId,\n\t\t\tindex: itemIndex,\n\t\t\tcontent: children ?? null,\n\t\t});\n\t}, [children, open, contentContext, itemId, itemIndex]);\n\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tcontentContext.dispatch({ type: 'close', key: itemId });\n\t\t};\n\t}, [contentContext, itemId]);\n\n\tconst renderElement =\n\t\trender ??\n\t\t(href\n\t\t\t? (props: React.ComponentPropsWithoutRef<'a'>) => (\n\t\t\t\t\t<a {...props} href={href}>\n\t\t\t\t\t\t{props.children}\n\t\t\t\t\t</a>\n\t\t\t\t)\n\t\t\t: undefined);\n\n\tconst renderProps = renderElement ? { render: renderElement } : {};\n\tconst storeForItem = menu.menubar ?? menu;\n\n\tconst item = (\n\t\t<Ariakit.MenuItem\n\t\t\tref={ref}\n\t\t\tstore={storeForItem}\n\t\t\ttabbable\n\t\t\tblurOnHoverEnd={false}\n\t\t\tdata-expanded={open ? 'true' : undefined}\n\t\t\tclassName={cn(\n\t\t\t\tnavigationMenuTriggerVariants({ size }),\n\t\t\t\topen && 'bg-card-muted text-foreground',\n\t\t\t\t!children && 'hover:bg-card-muted',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...renderProps}\n\t\t\t{...itemProps}\n\t\t>\n\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t{label}\n\t\t\t\t{!!children && (\n\t\t\t\t\t<Icons.ChevronDown\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t'ml-1 size-4 transition-transform ease-out-quad duration-100 ',\n\t\t\t\t\t\t\topen && 'rotate-180',\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t</Ariakit.MenuItem>\n\t);\n\n\tif (!children) {\n\t\treturn item;\n\t}\n\n\treturn (\n\t\t<Ariakit.MenuProvider store={menu} parent={null}>\n\t\t\t<Ariakit.MenuButton\n\t\t\t\tref={setMenuButton}\n\t\t\t\tshowOnHover\n\t\t\t\trender={item}\n\t\t\t\tonFocusVisible={(event) => {\n\t\t\t\t\tmenu.setDisclosureElement(event.currentTarget);\n\t\t\t\t\tmenu.setAnchorElement(event.currentTarget);\n\t\t\t\t\tmenu.show();\n\t\t\t\t}}\n\t\t\t\ttoggleOnClick={() => {\n\t\t\t\t\tif (href) return false;\n\t\t\t\t\tmenu.show();\n\t\t\t\t\treturn false;\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Ariakit.MenuProvider>\n\t);\n});\n\nNavigationMenuItem.displayName = 'NavigationMenuItem';\n\nexport interface NavigationMenuLinkProps\n\textends Omit<Ariakit.MenuItemProps, 'children'> {\n\tlabel?: React.ReactNode;\n\tdescription?: React.ReactNode;\n\thref?: string;\n\tclassName?: string;\n\tchildren?: React.ReactNode;\n}\n\nexport const NavigationMenuLink = React.forwardRef<\n\tHTMLDivElement,\n\tNavigationMenuLinkProps\n>(function NavigationMenuLink(\n\t{ label, description, href, className, children, render, ...props },\n\tref,\n) {\n\tconst menu = Ariakit.useMenuContext();\n\tif (!menu) {\n\t\tthrow new Error('NavigationMenuLink must be used within a NavigationMenu');\n\t}\n\tconst id = React.useId();\n\tconst labelId = `${id}-label`;\n\tconst descriptionId = `${id}-description`;\n\tconst hasCustomChildren = React.useMemo(\n\t\t() => React.Children.count(children) > 0,\n\t\t[children],\n\t);\n\n\tconst renderElement =\n\t\trender ??\n\t\t(href\n\t\t\t? (props: React.ComponentPropsWithoutRef<'a'>) => (\n\t\t\t\t\t<a {...props} href={href}>\n\t\t\t\t\t\t{props.children}\n\t\t\t\t\t</a>\n\t\t\t\t)\n\t\t\t: undefined);\n\n\tconst renderProps = renderElement ? { render: renderElement } : {};\n\n\treturn (\n\t\t<Ariakit.MenuItem\n\t\t\tref={ref}\n\t\t\tstore={menu}\n\t\t\ttabbable\n\t\t\tfocusOnHover={false}\n\t\t\taria-labelledby={!hasCustomChildren ? labelId : undefined}\n\t\t\taria-describedby={\n\t\t\t\t!hasCustomChildren && description ? descriptionId : undefined\n\t\t\t}\n\t\t\tclassName={cn(navigationMenuLinkVariants(), className)}\n\t\t\t{...renderProps}\n\t\t\t{...props}\n\t\t>\n\t\t\t{hasCustomChildren ? (\n\t\t\t\tchildren\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<span\n\t\t\t\t\t\tid={labelId}\n\t\t\t\t\t\tclassName=\"text-sm font-medium leading-none text-foreground\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</span>\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tid={descriptionId}\n\t\t\t\t\t\t\tclassName=\"text-sm text-foreground/70 line-clamp-2 leading-snug\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Ariakit.MenuItem>\n\t);\n});\n\nNavigationMenuLink.displayName = 'NavigationMenuLink';\n\nexport interface NavigationMenuGroupProps\n\textends Ariakit.MenuGroupProps,\n\t\tVariantProps<typeof navigationMenuGroupVariants> {\n\tclassName?: string;\n}\n\nexport const NavigationMenuGroup = React.forwardRef<\n\tHTMLDivElement,\n\tNavigationMenuGroupProps\n>(function NavigationMenuGroup({ className, children, ...props }, ref) {\n\treturn (\n\t\t<Ariakit.MenuGroup\n\t\t\tref={ref}\n\t\t\t{...props}\n\t\t\tclassName={cn(navigationMenuGroupVariants(), className)}\n\t\t>\n\t\t\t{children}\n\t\t</Ariakit.MenuGroup>\n\t);\n});\n\nNavigationMenuGroup.displayName = 'NavigationMenuGroup';\n\ninterface NavigationMenuArrowProps {\n\tclassName?: string;\n}\n\nfunction NavigationMenuArrow({ className }: NavigationMenuArrowProps) {\n\tconst menu = Ariakit.useMenuContext();\n\tif (!menu) {\n\t\tthrow new Error('NavigationMenuArrow must be used within a NavigationMenu');\n\t}\n\n\tconst currentPlacement = Ariakit.useStoreState(menu, 'currentPlacement');\n\tconst shouldTintArrow = currentPlacement?.startsWith('bottom');\n\n\treturn (\n\t\t<Ariakit.MenuArrow\n\t\t\tstyle={shouldTintArrow ? { stroke: 'var(--arrow-highlight)' } : undefined}\n\t\t\tclassName={className}\n\t\t/>\n\t);\n}\n\nfunction getMotionAttributes(\n\tprevIndex: number | null,\n\tnextIndex: number,\n): {\n\tenterMotion: MotionAttribute | null;\n\tleaveMotion: MotionAttribute | null;\n} {\n\tif (prevIndex === null || prevIndex === nextIndex) {\n\t\treturn { enterMotion: null, leaveMotion: null };\n\t}\n\n\treturn prevIndex < nextIndex\n\t\t? { enterMotion: 'from-end', leaveMotion: 'to-start' }\n\t\t: { enterMotion: 'from-start', leaveMotion: 'to-end' };\n}\n",
      "type": "registry:component"
    }
  ],
  "css": {
    "@keyframes navigation-menu-enter-from-start": {
      "from": {
        "opacity": "0",
        "transform": "translateX(calc(-1 * var(--navigation-menu-motion-distance)))"
      },
      "to": {
        "opacity": "1",
        "transform": "translateX(0)"
      }
    },
    "@keyframes navigation-menu-enter-from-end": {
      "from": {
        "opacity": "0",
        "transform": "translateX(var(--navigation-menu-motion-distance))"
      },
      "to": {
        "opacity": "1",
        "transform": "translateX(0)"
      }
    },
    "@keyframes navigation-menu-exit-to-start": {
      "from": {
        "opacity": "1",
        "transform": "translateX(0)"
      },
      "to": {
        "opacity": "0",
        "transform": "translateX(calc(-1 * var(--navigation-menu-motion-distance)))"
      }
    },
    "@keyframes navigation-menu-exit-to-end": {
      "from": {
        "opacity": "1",
        "transform": "translateX(0)"
      },
      "to": {
        "opacity": "0",
        "transform": "translateX(var(--navigation-menu-motion-distance))"
      }
    }
  }
}