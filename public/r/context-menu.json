{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "context-menu",
  "type": "registry:component",
  "title": "Context Menu",
  "description": "A context menu component that appears on right-click with full keyboard navigation and submenu support",
  "dependencies": [
    "@ariakit/react",
    "class-variance-authority",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "registry/ui/context-menu.tsx",
      "content": "'use client';\n\nimport * as Ariakit from '@ariakit/react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport type React from 'react';\nimport { cn } from '@/lib/utils';\n\nconst contextMenuContentVariants = cva(\n\t`z-50 origin-top -translate-y-2 scale-95 rounded-md border border-border bg-popover opacity-0 shadow-md card-highlight transition-[scale,translate,opacity] duration-300 ease-smooth data-enter:translate-y-0 data-enter:scale-100 data-enter:opacity-100 data-leave:-translate-y-2 data-leave:scale-95 data-leave:opacity-0`,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: 'min-w-[8rem] p-1',\n\t\t\t\tmd: 'min-w-[10rem] p-1',\n\t\t\t\tlg: 'min-w-[12rem] p-2',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: 'md',\n\t\t},\n\t},\n);\n\nconst contextSubMenuContentVariants = cva(\n\t`z-50 origin-top-left -translate-y-2 scale-95 rounded-md border border-border bg-popover opacity-0 shadow-md card-highlight transition-[scale,translate,opacity] duration-300 ease-smooth data-enter:translate-y-0 data-enter:scale-100 data-enter:opacity-100 data-leave:-translate-y-2 data-leave:scale-95 data-leave:opacity-0`,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: 'min-w-[7rem] p-1',\n\t\t\t\tmd: 'min-w-[8rem] p-1',\n\t\t\t\tlg: 'min-w-[10rem] p-2',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: 'md',\n\t\t},\n\t},\n);\n\nconst contextMenuItemVariants = cva(\n\t`relative group flex w-full cursor-pointer items-center rounded-sm px-2 py-1.5 text-sm [&_svg]:shrink-0 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 gap-2 outline-none select-none text-foreground/70 hover:bg-popover-muted hover:text-foreground focus-visible:bg-popover-muted focus-visible:text-foreground aria-disabled:pointer-events-none aria-disabled:opacity-50`,\n\t{\n\t\tvariants: {\n\t\t\tinset: {\n\t\t\t\ttrue: 'pl-8',\n\t\t\t\tfalse: '',\n\t\t\t},\n\t\t\tdestructive: {\n\t\t\t\ttrue: 'text-destructive/90 hover:bg-destructive/10 hover:text-destructive',\n\t\t\t\tfalse: '',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tinset: false,\n\t\t\tdestructive: false,\n\t\t},\n\t},\n);\n\nexport interface ContextMenuProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport const ContextMenu: React.FC<ContextMenuProps> = ({\n\tchildren,\n\tclassName,\n}) => {\n\tconst menu = Ariakit.useMenuStore({ animated: true });\n\n\treturn (\n\t\t<Ariakit.MenuProvider store={menu}>\n\t\t\t<div className={cn('not-prose', className)}>{children}</div>\n\t\t</Ariakit.MenuProvider>\n\t);\n};\n\nexport interface ContextMenuTriggerProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tdisabled?: boolean;\n}\n\nexport const ContextMenuTrigger: React.FC<ContextMenuTriggerProps> = ({\n\tchildren,\n\tclassName,\n\tdisabled,\n}) => {\n\tconst menu = Ariakit.useMenuContext();\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tdisabled={disabled}\n\t\t\tonContextMenu={(e) => {\n\t\t\t\tif (!disabled) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tmenu?.setAnchorElement(e.currentTarget);\n\t\t\t\t\tmenu?.show();\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonKeyDown={(e) => {\n\t\t\t\tif (disabled) return;\n\t\t\t\tconst isContextKey = e.key === 'ContextMenu';\n\t\t\t\tconst isShiftF10 = e.key === 'F10' && e.shiftKey;\n\t\t\t\tif (isContextKey || isShiftF10) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tmenu?.setAnchorElement(e.currentTarget);\n\t\t\t\t\tmenu?.show();\n\t\t\t\t}\n\t\t\t}}\n\t\t\tclassName={cn(\n\t\t\t\t'appearance-none bg-transparent p-0 text-left',\n\t\t\t\tclassName,\n\t\t\t\tdisabled && 'opacity-50',\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n};\n\nexport const ContextMenuContent: React.FC<\n\t{\n\t\tchildren: React.ReactNode;\n\t\tclassName?: string;\n\t\tsameWidth?: boolean;\n\t} & VariantProps<typeof contextMenuContentVariants>\n> = ({ children, className, sameWidth = false, size }) => (\n\t<Ariakit.Menu\n\t\tportal\n\t\tgutter={4}\n\t\tsameWidth={sameWidth}\n\t\tclassName={cn(contextMenuContentVariants({ size }), className)}\n\t>\n\t\t<div className=\"flex flex-col\">{children}</div>\n\t</Ariakit.Menu>\n);\n\nexport const ContextMenuItem: React.FC<\n\t{\n\t\tchildren: React.ReactNode;\n\t\tclassName?: string;\n\t\tdisabled?: boolean;\n\t\tinset?: boolean;\n\t\tdestructive?: boolean;\n\t\tonClick?: () => void;\n\t} & VariantProps<typeof contextMenuItemVariants>\n> = ({ children, className, disabled, inset, destructive, onClick }) => (\n\t<Ariakit.MenuItem\n\t\tdisabled={Boolean(disabled)}\n\t\tonClick={onClick}\n\t\tclassName={cn(contextMenuItemVariants({ inset, destructive }), className)}\n\t>\n\t\t{children}\n\t</Ariakit.MenuItem>\n);\n\nexport const ContextMenuSeparator: React.FC<{ className?: string }> = ({\n\tclassName,\n}) => (\n\t<Ariakit.MenuSeparator\n\t\tclassName={cn('-mx-1 my-1 h-px bg-border opacity-60', className)}\n\t/>\n);\n\nexport const ContextMenuSub: React.FC<{ children: React.ReactNode }> = ({\n\tchildren,\n}) => {\n\tconst subMenu = Ariakit.useMenuStore({ animated: true });\n\treturn (\n\t\t<Ariakit.MenuProvider store={subMenu}>{children}</Ariakit.MenuProvider>\n\t);\n};\n\nexport const ContextMenuSubTrigger: React.FC<\n\t{\n\t\tchildren: React.ReactNode;\n\t\tclassName?: string;\n\t\tdisabled?: boolean;\n\t\tinset?: boolean;\n\t\tdestructive?: boolean;\n\t} & VariantProps<typeof contextMenuItemVariants>\n> = ({ children, className, disabled, inset, destructive }) => (\n\t<Ariakit.MenuButton\n\t\tdisabled={Boolean(disabled)}\n\t\tclassName={cn(contextMenuItemVariants({ inset, destructive }), className)}\n\t>\n\t\t{children}\n\t\t<Ariakit.MenuButtonArrow className=\"ml-auto text-foreground/70 group-hover:text-foreground\" />\n\t</Ariakit.MenuButton>\n);\n\nexport const ContextMenuSubContent: React.FC<\n\t{\n\t\tchildren: React.ReactNode;\n\t\tclassName?: string;\n\t} & VariantProps<typeof contextSubMenuContentVariants>\n> = ({ children, className, size }) => (\n\t<Ariakit.Menu\n\t\tportal\n\t\tclassName={cn(contextSubMenuContentVariants({ size }), className)}\n\t>\n\t\t<div className=\"flex flex-col\">{children}</div>\n\t</Ariakit.Menu>\n);\n",
      "type": "registry:component"
    }
  ]
}