{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "pagination",
  "type": "registry:component",
  "title": "Pagination",
  "description": "Pagination component for navigating between pages of content",
  "dependencies": [
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "nocta-icons",
    "button"
  ],
  "files": [
    {
      "path": "registry/ui/pagination.tsx",
      "content": "'use client';\n\nimport React from 'react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/registry/ui/button';\nimport { Icons } from '@/registry/ui/nocta-icons';\n\nconst DOTS = 'dots';\n\nconst createRange = (start: number, end: number) => {\n\tconst length = end - start + 1;\n\treturn Array.from({ length }, (_, index) => start + index);\n};\n\nconst getPaginationRange = (\n\ttotalPages: number,\n\tcurrentPage: number,\n\tsiblingCount: number,\n) => {\n\tconst totalNumbers = siblingCount * 2 + 5;\n\n\tif (totalNumbers >= totalPages) {\n\t\treturn createRange(1, totalPages);\n\t}\n\n\tconst leftSiblingIndex = Math.max(currentPage - siblingCount, 1);\n\tconst rightSiblingIndex = Math.min(currentPage + siblingCount, totalPages);\n\n\tconst shouldShowLeftDots = leftSiblingIndex > 2;\n\tconst shouldShowRightDots = rightSiblingIndex < totalPages - 1;\n\n\tconst firstPageIndex = 1;\n\tconst lastPageIndex = totalPages;\n\n\tif (!shouldShowLeftDots && shouldShowRightDots) {\n\t\tconst leftItemCount = 3 + siblingCount * 2;\n\t\tconst leftRange = createRange(1, leftItemCount);\n\t\treturn [...leftRange, DOTS, totalPages];\n\t}\n\n\tif (shouldShowLeftDots && !shouldShowRightDots) {\n\t\tconst rightItemCount = 3 + siblingCount * 2;\n\t\tconst rightRange = createRange(totalPages - rightItemCount + 1, totalPages);\n\t\treturn [firstPageIndex, DOTS, ...rightRange];\n\t}\n\n\tif (shouldShowLeftDots && shouldShowRightDots) {\n\t\tconst middleRange = createRange(leftSiblingIndex, rightSiblingIndex);\n\t\treturn [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\n\t}\n\n\treturn createRange(1, totalPages);\n};\n\nexport interface PaginationProps\n\textends Omit<React.ComponentPropsWithoutRef<'nav'>, 'onChange'> {\n\ttotalPages: number;\n\tcurrentPage: number;\n\tonPageChange?: (page: number) => void;\n\tsiblingCount?: number;\n\tclassName?: string;\n}\n\nexport const Pagination: React.FC<PaginationProps> = ({\n\ttotalPages,\n\tcurrentPage,\n\tonPageChange,\n\tsiblingCount = 1,\n\tclassName,\n\t...props\n}) => {\n\tconst [animOff, setAnimOff] = React.useState(false);\n\tconst { 'aria-label': ariaLabelProp, ...restProps } = props;\n\tconst normalizedTotalPages =\n\t\tNumber.isFinite(totalPages) && totalPages > 0 ? Math.floor(totalPages) : 0;\n\tconst hasPages = normalizedTotalPages > 0;\n\tconst safePage = normalizedTotalPages\n\t\t? Math.min(Math.max(currentPage, 1), normalizedTotalPages)\n\t\t: 1;\n\tconst pages = React.useMemo(() => {\n\t\tif (!hasPages) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn getPaginationRange(normalizedTotalPages, safePage, siblingCount);\n\t}, [hasPages, normalizedTotalPages, safePage, siblingCount]);\n\n\t/* biome-ignore lint/correctness/useExhaustiveDependencies: this dependency is needed for proper transition blocking */\n\tReact.useEffect(() => {\n\t\tsetAnimOff(true);\n\t\tconst id = setTimeout(() => setAnimOff(false), 40);\n\t\treturn () => clearTimeout(id);\n\t}, [safePage]);\n\n\tif (!hasPages) {\n\t\treturn null;\n\t}\n\n\tconst handlePageChange = (page: number) => {\n\t\tif (page < 1 || page > normalizedTotalPages || page === safePage) {\n\t\t\treturn;\n\t\t}\n\n\t\tonPageChange?.(page);\n\t};\n\n\tconst disabledPrevious = safePage === 1;\n\tconst disabledNext = safePage === normalizedTotalPages;\n\tlet dotsInstance = 0;\n\n\treturn (\n\t\t<nav\n\t\t\taria-label={ariaLabelProp ?? 'Pagination'}\n\t\t\tclassName={cn('flex items-center gap-2', className)}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t<Button\n\t\t\t\tvariant=\"ghost\"\n\t\t\t\tsize=\"md\"\n\t\t\t\tonClick={() => handlePageChange(safePage - 1)}\n\t\t\t\tdisabled={disabledPrevious}\n\t\t\t\taria-label=\"Go to previous page\"\n\t\t\t\tclassName=\"flex items-center gap-1.5\"\n\t\t\t>\n\t\t\t\t<Icons.ChevronLeft className=\"h-4 w-4\" />\n\t\t\t\tPrevious\n\t\t\t</Button>\n\n\t\t\t<ol className=\"flex list-none items-center gap-1\">\n\t\t\t\t{pages.map((item) => {\n\t\t\t\t\tif (item === DOTS) {\n\t\t\t\t\t\tdotsInstance += 1;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={`dots-${dotsInstance}`}\n\t\t\t\t\t\t\t\tclassName=\"px-2 text-sm font-medium text-foreground/45\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icons.DotsHorizontal />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst pageNumber = item as number;\n\t\t\t\t\tconst isActive = pageNumber === safePage;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={pageNumber}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t'h-9 min-w-9 px-0 py-0 font-medium',\n\t\t\t\t\t\t\t\t\tanimOff && 'transition-none duration-0',\n\t\t\t\t\t\t\t\t\tisActive &&\n\t\t\t\t\t\t\t\t\t\t'bg-card text-foreground shadow-sm border border-border card-highlight pointer-events-none disabled:opacity-100',\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\taria-current={isActive ? 'page' : undefined}\n\t\t\t\t\t\t\t\tonClick={() => handlePageChange(pageNumber)}\n\t\t\t\t\t\t\t\tdisabled={isActive}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{pageNumber}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ol>\n\n\t\t\t<Button\n\t\t\t\tvariant=\"ghost\"\n\t\t\t\tsize=\"md\"\n\t\t\t\tonClick={() => handlePageChange(safePage + 1)}\n\t\t\t\tdisabled={disabledNext}\n\t\t\t\taria-label=\"Go to next page\"\n\t\t\t\tclassName=\"flex items-center gap-1.5\"\n\t\t\t>\n\t\t\t\tNext\n\t\t\t\t<Icons.ChevronRight className=\"h-4 w-4\" />\n\t\t\t</Button>\n\t\t</nav>\n\t);\n};\n",
      "type": "registry:component"
    }
  ]
}