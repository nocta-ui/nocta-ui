{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "form",
  "type": "registry:component",
  "title": "Form",
  "description": "Composable Ariakit-based form with fields, labels, validation, and actions",
  "dependencies": [
    "@ariakit/react",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "registry/ui/form.tsx",
      "content": "'use client';\n\nimport * as Ariakit from '@ariakit/react';\nimport React, { createContext, useContext, useId } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface FormFieldContextValue {\n\tid: string;\n\tname: string;\n\terror?: string;\n\tdescription?: string;\n}\n\nconst FormFieldContext = createContext<FormFieldContextValue | null>(null);\n\nconst useFormField = () => {\n\tconst context = useContext(FormFieldContext);\n\tif (!context) {\n\t\tthrow new Error('useFormField must be used within a FormField');\n\t}\n\treturn context;\n};\n\nexport interface FormProps extends React.FormHTMLAttributes<HTMLFormElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tonSubmit?: (event: React.FormEvent<HTMLFormElement>) => void;\n\tstore?: Ariakit.FormStore;\n}\n\nexport interface FormFieldProps {\n\tchildren: React.ReactNode;\n\tname: string;\n\terror?: string;\n\tdescription?: string;\n\tclassName?: string;\n}\n\nexport interface FormLabelProps\n\textends React.LabelHTMLAttributes<HTMLLabelElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\trequired?: boolean;\n}\n\nexport interface FormControlProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport interface FormDescriptionProps\n\textends React.HTMLAttributes<HTMLParagraphElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport interface FormMessageProps\n\textends React.HTMLAttributes<HTMLParagraphElement> {\n\tchildren?: React.ReactNode;\n\tclassName?: string;\n\ttype?: 'error' | 'success' | 'warning';\n}\n\nexport interface FormActionsProps extends React.HTMLAttributes<HTMLDivElement> {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\talign?: 'left' | 'center' | 'right';\n}\n\nexport const Form: React.FC<FormProps> = ({\n\tchildren,\n\tclassName = '',\n\tonSubmit,\n\tstore: providedStore,\n\t...props\n}) => {\n\tconst internalStore = Ariakit.useFormStore({});\n\tconst store = providedStore ?? internalStore;\n\n\tconst handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n\t\tif (onSubmit) {\n\t\t\tevent.preventDefault();\n\t\t\tonSubmit(event);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Ariakit.Form\n\t\t\tstore={store}\n\t\t\tclassName={cn('space-y-6', className)}\n\t\t\tonSubmit={handleSubmit}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Ariakit.Form>\n\t);\n};\n\nexport const FormField: React.FC<FormFieldProps> = ({\n\tchildren,\n\tname,\n\terror,\n\tdescription,\n\tclassName = '',\n}) => {\n\tconst id = useId();\n\n\tconst contextValue: FormFieldContextValue = {\n\t\tid: `form-field-${id}`,\n\t\tname,\n\t\t...(error !== undefined ? { error } : {}),\n\t\t...(description !== undefined ? { description } : {}),\n\t};\n\n\treturn (\n\t\t<FormFieldContext.Provider value={contextValue}>\n\t\t\t<div className={cn('space-y-2', className)}>{children}</div>\n\t\t</FormFieldContext.Provider>\n\t);\n};\n\nexport const FormLabel: React.FC<FormLabelProps> = ({\n\tchildren,\n\tclassName = '',\n\trequired = false,\n\t...props\n}) => {\n\tconst { name } = useFormField();\n\tconst { id, ...restProps } = props;\n\tconst labelProps =\n\t\ttypeof id === 'undefined' ? restProps : { ...restProps, id };\n\n\treturn (\n\t\t<Ariakit.FormLabel\n\t\t\tname={name}\n\t\t\tclassName={cn(\n\t\t\t\t'block text-sm leading-none font-medium text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...labelProps}\n\t\t>\n\t\t\t{children}\n\t\t\t{required && <span className=\"ml-1 text-destructive/90\">*</span>}\n\t\t</Ariakit.FormLabel>\n\t);\n};\n\nexport const FormControl: React.FC<FormControlProps> = ({\n\tchildren,\n\tclassName = '',\n}) => {\n\treturn <div className={cn('relative', className)}>{children}</div>;\n};\n\nexport const FormDescription: React.FC<FormDescriptionProps> = ({\n\tchildren,\n\tclassName = '',\n\t...props\n}) => {\n\tconst { name } = useFormField();\n\tconst { id, ...restProps } = props;\n\tconst descriptionProps =\n\t\ttypeof id === 'undefined' ? restProps : { ...restProps, id };\n\treturn (\n\t\t<Ariakit.FormDescription\n\t\t\tname={name}\n\t\t\tclassName={cn('text-sm leading-relaxed text-foreground/45', className)}\n\t\t\t{...descriptionProps}\n\t\t>\n\t\t\t{children}\n\t\t</Ariakit.FormDescription>\n\t);\n};\n\nexport const FormMessage: React.FC<FormMessageProps> = ({\n\tchildren,\n\tclassName = '',\n\ttype = 'error',\n\t...rest\n}) => {\n\tconst { name, error: ctxError } = useFormField();\n\tconst message = children ?? ctxError;\n\tconst { id, ...props } = rest;\n\tconst forwardedProps = typeof id === 'undefined' ? props : { ...props, id };\n\n\tconst variants = {\n\t\terror: 'text-destructive/90',\n\t\tsuccess: 'text-success/90',\n\t\twarning: 'text-warning/90',\n\t} as const;\n\n\tif (type !== 'error') {\n\t\tif (!message) return null;\n\t\treturn (\n\t\t\t<p\n\t\t\t\tclassName={cn('text-sm leading-none', variants[type], className)}\n\t\t\t\t{...forwardedProps}\n\t\t\t>\n\t\t\t\t{message}\n\t\t\t</p>\n\t\t);\n\t}\n\n\tif (message) {\n\t\treturn (\n\t\t\t<p\n\t\t\t\tclassName={cn('text-sm leading-none', variants.error, className)}\n\t\t\t\trole=\"alert\"\n\t\t\t\t{...forwardedProps}\n\t\t\t>\n\t\t\t\t{message}\n\t\t\t</p>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Ariakit.FormError\n\t\t\tname={name}\n\t\t\tclassName={cn('text-sm leading-none', variants.error, className)}\n\t\t\trole=\"alert\"\n\t\t\t{...forwardedProps}\n\t\t/>\n\t);\n};\n\nexport interface FormInputProps\n\textends React.InputHTMLAttributes<HTMLInputElement> {\n\tclassName?: string;\n}\n\nexport const FormInput = React.forwardRef<HTMLInputElement, FormInputProps>(\n\t({ className = '', name: _name, id, disabled, autoFocus, ...rest }, ref) => {\n\t\tconst { name } = useFormField();\n\t\treturn (\n\t\t\t<Ariakit.FormInput\n\t\t\t\tref={ref}\n\t\t\t\tname={name}\n\t\t\t\tclassName={className}\n\t\t\t\t{...rest}\n\t\t\t\t{...(typeof id === 'undefined' ? {} : { id })}\n\t\t\t\t{...(typeof disabled === 'undefined' ? {} : { disabled })}\n\t\t\t\t{...(typeof autoFocus === 'undefined' ? {} : { autoFocus })}\n\t\t\t/>\n\t\t);\n\t},\n);\nFormInput.displayName = 'FormInput';\n\nexport interface FormSubmitProps\n\textends React.ButtonHTMLAttributes<HTMLButtonElement> {\n\tclassName?: string;\n}\n\nexport const FormSubmit: React.FC<FormSubmitProps> = ({\n\tclassName = '',\n\tchildren,\n\tdisabled,\n\tautoFocus,\n\t...rest\n}) => {\n\tconst submitProps = {\n\t\t...rest,\n\t\t...(typeof disabled === 'undefined' ? {} : { disabled }),\n\t\t...(typeof autoFocus === 'undefined' ? {} : { autoFocus }),\n\t};\n\treturn (\n\t\t<Ariakit.FormSubmit className={className} {...submitProps}>\n\t\t\t{children}\n\t\t</Ariakit.FormSubmit>\n\t);\n};\n\nexport const FormActions: React.FC<FormActionsProps> = ({\n\tchildren,\n\tclassName = '',\n\talign = 'right',\n\t...props\n}) => {\n\tconst alignments = {\n\t\tleft: 'justify-start',\n\t\tcenter: 'justify-center',\n\t\tright: 'justify-end',\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t'flex items-center gap-3 pt-4',\n\t\t\t\talignments[align],\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n",
      "type": "registry:component"
    }
  ]
}