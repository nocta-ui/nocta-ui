{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sidebar",
  "type": "registry:component",
  "title": "Sidebar",
  "description": "Collapsible workspace sidebar with hover peek, mobile sheet mode, and grouped navigation",
  "dependencies": [
    "@ariakit/react",
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "nocta-icons",
    "button",
    "command-k",
    "scroll-area",
    "separator",
    "sheet",
    "tooltip"
  ],
  "files": [
    {
      "path": "registry/ui/sidebar.tsx",
      "content": "'use client';\n\nimport { Role } from '@ariakit/react';\nimport * as React from 'react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/registry/ui/button';\nimport { CommandK, type CommandKItem } from '@/registry/ui/command-k';\nimport { Icons } from '@/registry/ui/nocta-icons';\nimport { ScrollArea } from '@/registry/ui/scroll-area';\nimport { Separator } from '@/registry/ui/separator';\nimport {\n\tSheet,\n\tSheetContent,\n\tSheetDescription,\n\tSheetHeader,\n\tSheetSurface,\n\tSheetTitle,\n} from '@/registry/ui/sheet';\nimport {\n\tTooltip,\n\tTooltipContent,\n\ttype TooltipContentProps,\n\ttype TooltipProps,\n\tTooltipTrigger,\n} from '@/registry/ui/tooltip';\n\nconst SIDEBAR_WIDTH = '18rem';\nconst SIDEBAR_WIDTH_MOBILE = '19rem';\nconst SIDEBAR_HOVER_ZONE = 12;\nconst SIDEBAR_MOBILE_SHEET_STYLES = {\n\t'--sheet-width': SIDEBAR_WIDTH_MOBILE,\n\twidth: 'var(--sheet-width)',\n} as React.CSSProperties;\nconst SIDEBAR_HOVER_ZONE_STYLE = {\n\twidth: SIDEBAR_HOVER_ZONE,\n} as React.CSSProperties;\n\ntype SidebarMenuItemContextValue = {\n\tcollapsible: boolean;\n\topen: boolean;\n\ttoggle: () => void;\n};\n\nconst SidebarMenuItemContext =\n\tReact.createContext<SidebarMenuItemContextValue | null>(null);\n\nconst useSidebarMenuItem = () => React.useContext(SidebarMenuItemContext);\n\ntype SidebarContextValue = {\n\tside: 'left' | 'right';\n\tstate: 'expanded' | 'collapsed';\n\topen: boolean;\n\tsetOpen: (open: boolean | ((open: boolean) => boolean)) => void;\n\ttoggleSidebar: () => void;\n\tisMobile: boolean;\n\topenMobile: boolean;\n\tsetOpenMobile: (open: boolean | ((open: boolean) => boolean)) => void;\n\tisPeeking: boolean;\n\tstartPeek: () => void;\n\tstopPeek: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContextValue | null>(null);\n\nfunction useSidebar() {\n\tconst context = React.useContext(SidebarContext);\n\tif (!context) {\n\t\tthrow new Error('useSidebar must be used within a SidebarProvider.');\n\t}\n\n\treturn context;\n}\n\nfunction useMediaQuery(query: string) {\n\tconst [matches, setMatches] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tif (typeof window === 'undefined' || !window.matchMedia) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst mediaQuery = window.matchMedia(query);\n\t\tconst updateMatches = () => setMatches(mediaQuery.matches);\n\n\t\tupdateMatches();\n\t\tmediaQuery.addEventListener('change', updateMatches);\n\n\t\treturn () => mediaQuery.removeEventListener('change', updateMatches);\n\t}, [query]);\n\n\treturn matches;\n}\n\nfunction useIsMobile() {\n\treturn useMediaQuery('(max-width: 768px)');\n}\n\ntype ControllableStateProps<T> = {\n\tvalue?: T | undefined;\n\tdefaultValue: T;\n\tonChange?: (value: T) => void;\n};\n\nfunction useControllableState<T>({\n\tvalue,\n\tdefaultValue,\n\tonChange,\n}: ControllableStateProps<T>) {\n\tconst [internalValue, setInternalValue] = React.useState(defaultValue);\n\tconst isControlled = value !== undefined;\n\tconst currentValue = isControlled ? (value as T) : internalValue;\n\tconst valueRef = React.useRef(currentValue);\n\n\tReact.useEffect(() => {\n\t\tvalueRef.current = currentValue;\n\t}, [currentValue]);\n\n\tconst setValue = React.useCallback(\n\t\t(nextValue: T | ((previous: T) => T)) => {\n\t\t\tconst resolvedValue =\n\t\t\t\ttypeof nextValue === 'function'\n\t\t\t\t\t? (nextValue as (previous: T) => T)(valueRef.current)\n\t\t\t\t\t: nextValue;\n\t\t\tif (!isControlled) {\n\t\t\t\tsetInternalValue(resolvedValue);\n\t\t\t}\n\t\t\tonChange?.(resolvedValue);\n\t\t},\n\t\t[isControlled, onChange],\n\t);\n\n\treturn [currentValue, setValue] as const;\n}\n\nfunction usePeekState(open: boolean, isMobile: boolean) {\n\tconst [isPeeking, setIsPeeking] = React.useState(false);\n\tconst peekTimeoutRef = React.useRef<number | null>(null);\n\n\tconst clearPeekTimeout = React.useCallback(() => {\n\t\tif (peekTimeoutRef.current !== null && typeof window !== 'undefined') {\n\t\t\twindow.clearTimeout(peekTimeoutRef.current);\n\t\t\tpeekTimeoutRef.current = null;\n\t\t}\n\t}, []);\n\n\tconst startPeek = React.useCallback(() => {\n\t\tif (open || isMobile) {\n\t\t\treturn;\n\t\t}\n\t\tclearPeekTimeout();\n\t\tsetIsPeeking(true);\n\t}, [clearPeekTimeout, isMobile, open]);\n\n\tconst stopPeek = React.useCallback(() => {\n\t\tif (open || isMobile) {\n\t\t\treturn;\n\t\t}\n\t\tclearPeekTimeout();\n\t\tif (typeof window === 'undefined') {\n\t\t\tsetIsPeeking(false);\n\t\t\treturn;\n\t\t}\n\t\tpeekTimeoutRef.current = window.setTimeout(() => {\n\t\t\tsetIsPeeking(false);\n\t\t\tpeekTimeoutRef.current = null;\n\t\t}, 150);\n\t}, [clearPeekTimeout, isMobile, open]);\n\n\tReact.useEffect(() => {\n\t\treturn () => clearPeekTimeout();\n\t}, [clearPeekTimeout]);\n\n\tReact.useEffect(() => {\n\t\tif (open) {\n\t\t\tsetIsPeeking(false);\n\t\t}\n\t}, [open]);\n\n\treturn { isPeeking, startPeek, stopPeek } as const;\n}\n\ntype SidebarProviderProps = React.ComponentProps<'div'> & {\n\tside?: 'left' | 'right';\n\tdefaultOpen?: boolean;\n\topen?: boolean;\n\tonOpenChange?: (open: boolean) => void;\n};\n\nfunction SidebarProvider({\n\tside = 'left',\n\tdefaultOpen = true,\n\topen: openProp,\n\tonOpenChange,\n\tclassName,\n\tchildren,\n\tstyle,\n\t...props\n}: SidebarProviderProps) {\n\tconst isMobile = useIsMobile();\n\tconst [open, setOpen] = useControllableState({\n\t\tdefaultValue: defaultOpen,\n\t\t...(openProp !== undefined ? { value: openProp } : {}),\n\t\t...(onOpenChange ? { onChange: onOpenChange } : {}),\n\t});\n\tconst [openMobile, setOpenMobile] = React.useState(false);\n\tconst { isPeeking, startPeek, stopPeek } = usePeekState(open, isMobile);\n\n\tReact.useEffect(() => {\n\t\tif (!isMobile) {\n\t\t\tsetOpenMobile(false);\n\t\t}\n\t}, [isMobile]);\n\n\tconst toggleSidebar = React.useCallback(() => {\n\t\tif (isMobile) {\n\t\t\tsetOpenMobile((value) => !value);\n\t\t\treturn;\n\t\t}\n\t\tsetOpen((value) => !value);\n\t}, [isMobile, setOpen]);\n\n\tconst state = open ? 'expanded' : 'collapsed';\n\n\tconst contextValue = React.useMemo<SidebarContextValue>(\n\t\t() => ({\n\t\t\tside,\n\t\t\topen,\n\t\t\tsetOpen,\n\t\t\ttoggleSidebar,\n\t\t\tstate,\n\t\t\tisMobile,\n\t\t\topenMobile,\n\t\t\tsetOpenMobile,\n\t\t\tisPeeking,\n\t\t\tstartPeek,\n\t\t\tstopPeek,\n\t\t}),\n\t\t[\n\t\t\tside,\n\t\t\topen,\n\t\t\tsetOpen,\n\t\t\ttoggleSidebar,\n\t\t\tstate,\n\t\t\tisMobile,\n\t\t\topenMobile,\n\t\t\tstartPeek,\n\t\t\tstopPeek,\n\t\t\tisPeeking,\n\t\t],\n\t);\n\n\tconst providerStyle = React.useMemo(\n\t\t() =>\n\t\t\t({\n\t\t\t\t'--sidebar-width': SIDEBAR_WIDTH,\n\t\t\t\t'--sidebar-width-mobile': SIDEBAR_WIDTH_MOBILE,\n\t\t\t\t...style,\n\t\t\t}) as React.CSSProperties,\n\t\t[style],\n\t);\n\n\treturn (\n\t\t<SidebarContext.Provider value={contextValue}>\n\t\t\t<div\n\t\t\t\tdata-slot=\"sidebar-wrapper\"\n\t\t\t\tdata-state={state}\n\t\t\t\tdata-side={side}\n\t\t\t\tdata-peek={isPeeking ? 'true' : 'false'}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'group/sidebar-wrapper relative flex min-h-96 w-full',\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tstyle={providerStyle}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</SidebarContext.Provider>\n\t);\n}\n\ntype SidebarProps = React.ComponentProps<'div'> & {\n\tside?: 'left' | 'right';\n};\n\nfunction Sidebar({\n\tclassName,\n\tchildren,\n\tside: sideProp,\n\t...props\n}: SidebarProps) {\n\tconst {\n\t\tside: contextSide,\n\t\tstate,\n\t\tisMobile,\n\t\topen,\n\t\topenMobile,\n\t\tsetOpenMobile,\n\t\tisPeeking,\n\t\tstartPeek,\n\t\tstopPeek,\n\t} = useSidebar();\n\tconst side = sideProp ?? contextSide;\n\tconst isVisible = open || isPeeking;\n\tconst isFloating = !open;\n\n\tif (isMobile) {\n\t\treturn (\n\t\t\t<SidebarMobileView\n\t\t\t\tside={side}\n\t\t\t\topenMobile={openMobile}\n\t\t\t\tsetOpenMobile={setOpenMobile}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</SidebarMobileView>\n\t\t);\n\t}\n\n\treturn (\n\t\t<SidebarDesktopView\n\t\t\t{...props}\n\t\t\tclassName={className}\n\t\t\tside={side}\n\t\t\tstate={state}\n\t\t\tisOpen={open}\n\t\t\tisVisible={isVisible}\n\t\t\tisFloating={isFloating}\n\t\t\tstartPeek={startPeek}\n\t\t\tstopPeek={stopPeek}\n\t\t>\n\t\t\t{children}\n\t\t</SidebarDesktopView>\n\t);\n}\n\ntype SidebarMobileViewProps = {\n\tside: 'left' | 'right';\n\topenMobile: boolean;\n\tsetOpenMobile: SidebarContextValue['setOpenMobile'];\n\tchildren: React.ReactNode;\n};\n\nfunction SidebarMobileView({\n\tside,\n\topenMobile,\n\tsetOpenMobile,\n\tchildren,\n}: SidebarMobileViewProps) {\n\treturn (\n\t\t<Sheet open={openMobile} onOpenChange={setOpenMobile}>\n\t\t\t<SheetSurface\n\t\t\t\tshowClose={false}\n\t\t\t\tside={side}\n\t\t\t\tstyle={SIDEBAR_MOBILE_SHEET_STYLES}\n\t\t\t>\n\t\t\t\t<SheetHeader className=\"sr-only\">\n\t\t\t\t\t<SheetTitle>Sidebar</SheetTitle>\n\t\t\t\t\t<SheetDescription>Displays the sidebar navigation.</SheetDescription>\n\t\t\t\t</SheetHeader>\n\t\t\t\t<SheetContent className=\"p-0 relative\">\n\t\t\t\t\t<SidebarTrigger\n\t\t\t\t\t\tfloating={false}\n\t\t\t\t\t\tclassName=\"absolute right-3 top-3 h-8 w-8 md:flex border-none before:content-none! before:shadow-none!\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex h-full w-full flex-col overflow-hidden\">\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t</SheetContent>\n\t\t\t</SheetSurface>\n\t\t</Sheet>\n\t);\n}\n\ntype SidebarDesktopViewProps = React.ComponentProps<'div'> & {\n\tside: 'left' | 'right';\n\tstate: 'expanded' | 'collapsed';\n\tisOpen: boolean;\n\tisVisible: boolean;\n\tisFloating: boolean;\n\tstartPeek: () => void;\n\tstopPeek: () => void;\n};\n\nfunction SidebarDesktopView({\n\tclassName,\n\tchildren,\n\tside,\n\tstate,\n\tisOpen,\n\tisVisible,\n\tisFloating,\n\tstartPeek,\n\tstopPeek,\n\t...props\n}: SidebarDesktopViewProps) {\n\tconst gapClasses = cn(\n\t\t'relative hidden h-full shrink-0 transition-[width] duration-450 ease-smooth md:block',\n\t\tisOpen ? 'w-(--sidebar-width)' : 'w-0',\n\t);\n\tconst hoverZoneClasses = cn(\n\t\t'absolute inset-y-0 z-30',\n\t\tside === 'left' ? 'left-0' : 'right-0',\n\t);\n\tconst floatingClasses = isFloating\n\t\t? 'top-2 bottom-2 rounded-lg card-highlight'\n\t\t: 'inset-y-0 h-full';\n\tconst sidePositionClasses =\n\t\tside === 'left'\n\t\t\t? isFloating\n\t\t\t\t? 'left-2 border'\n\t\t\t\t: 'left-0 border-r'\n\t\t\t: isFloating\n\t\t\t\t? 'right-2 border'\n\t\t\t\t: 'right-0 border-l';\n\tconst hiddenTranslateClasses =\n\t\tside === 'left'\n\t\t\t? '-translate-x-[calc(100%+1.5rem)]'\n\t\t\t: 'translate-x-[calc(100%+1.5rem)]';\n\tconst visibilityClasses = isVisible\n\t\t? 'pointer-events-auto translate-x-0'\n\t\t: cn('pointer-events-none', hiddenTranslateClasses);\n\tconst containerClasses = cn(\n\t\t'absolute z-40 flex w-(--sidebar-width) flex-col bg-popover border-border text-foreground transition-[translate,width,transform] duration-450 ease-smooth',\n\t\tisVisible &&\n\t\t\t!isFloating &&\n\t\t\t'transition-[translate,width,transform,left,right,top,bottom,border-radius]',\n\t\tfloatingClasses,\n\t\tsidePositionClasses,\n\t\tvisibilityClasses,\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"sidebar\"\n\t\t\tdata-state={state}\n\t\t\tdata-side={side}\n\t\t\tdata-visible={isVisible ? 'true' : 'false'}\n\t\t\tdata-floating={isFloating ? 'true' : 'false'}\n\t\t\taria-hidden={isOpen ? undefined : true}\n\t\t\tclassName={cn('group/sidebar relative z-50 hidden md:flex', className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div data-slot=\"sidebar-gap\" className={gapClasses} />\n\t\t\t<div\n\t\t\t\tdata-slot=\"sidebar-hover-zone\"\n\t\t\t\tclassName={hoverZoneClasses}\n\t\t\t\tstyle={SIDEBAR_HOVER_ZONE_STYLE}\n\t\t\t\tonPointerEnter={startPeek}\n\t\t\t\tonPointerLeave={stopPeek}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tdata-slot=\"sidebar-container\"\n\t\t\t\tclassName={containerClasses}\n\t\t\t\tonPointerEnter={startPeek}\n\t\t\t\tonPointerLeave={stopPeek}\n\t\t\t>\n\t\t\t\t<div className=\"relative flex h-full w-full flex-col\">\n\t\t\t\t\t<SidebarTrigger\n\t\t\t\t\t\tfloating={false}\n\t\t\t\t\t\tclassName=\"absolute right-3 top-3 hidden h-8 w-8 md:flex hover:bg-transparent border-none before:content-none! before:shadow-none!\"\n\t\t\t\t\t/>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ntype SidebarTriggerProps = Omit<\n\tReact.ComponentProps<typeof Button>,\n\t'children'\n> & {\n\tchildren?: React.ReactNode;\n\tfloating?: boolean;\n};\n\nfunction SidebarTrigger({\n\tclassName,\n\tchildren,\n\tfloating = true,\n\tonClick,\n\t...props\n}: SidebarTriggerProps) {\n\tconst { toggleSidebar } = useSidebar();\n\n\treturn (\n\t\t<Button\n\t\t\ttype=\"button\"\n\t\t\tvariant=\"icon\"\n\t\t\tdata-slot=\"sidebar-trigger\"\n\t\t\tclassName={cn(\n\t\t\t\t'group/sidebar-trigger cursor-pointer bg-popover text-foreground/70 hover:bg-popover-muted hover:text-foreground border border-border card-highlight',\n\t\t\t\tfloating &&\n\t\t\t\t\t'absolute top-4.5 left-4.5 z-20 h-10 w-10 rounded-md shadow-lg',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tonClick={(event) => {\n\t\t\t\tonClick?.(event);\n\t\t\t\ttoggleSidebar();\n\t\t\t}}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children ?? <Icons.ViewVertical className=\"size-5\" />}\n\t\t\t<span className=\"sr-only\">Toggle sidebar</span>\n\t\t</Button>\n\t);\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<'main'>) {\n\treturn (\n\t\t<main\n\t\t\tdata-slot=\"sidebar-inset\"\n\t\t\tclassName={cn(\n\t\t\t\t'relative w-full transition-[padding] duration-450 ease-smooth',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\ntype SidebarInputProps = Omit<\n\tReact.ComponentProps<typeof Button>,\n\t'children' | 'variant' | 'size'\n> & {\n\titems?: CommandKItem[];\n\tplaceholder?: string;\n};\n\nfunction SidebarInput({\n\tclassName,\n\tonClick,\n\titems = [],\n\tplaceholder = 'Search...',\n\tdisabled,\n\t...props\n}: SidebarInputProps) {\n\tconst [open, setOpen] = React.useState(false);\n\tconst isDisabled = Boolean(disabled);\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-slot=\"sidebar-input\"\n\t\t\t\tsize=\"md\"\n\t\t\t\tvariant=\"ghost\"\n\t\t\t\tdisabled={isDisabled}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tif (isDisabled) {\n\t\t\t\t\t\tonClick?.(event);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tonClick?.(event);\n\t\t\t\t\tsetOpen(true);\n\t\t\t\t}}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'group/sidebar-input h-9 px-3 py-2 w-full justify-start gap-2 rounded-md bg-card hover:bg-card hover:text-foreground/70 text-sm text-foreground/45',\n\t\t\t\t\t'border border-border/60 dark:border-none',\n\t\t\t\t\t\"relative before:content-[''] before:absolute before:inset-0 before:rounded-md before:pointer-events-none\",\n\t\t\t\t\t'dark:before:shadow-[inset_0_1px_0_rgb(0_0_0/0.1),inset_0_-1px_0_rgb(249_249_255/0.1)]',\n\t\t\t\t\tisDisabled && 'opacity-50',\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<Icons.Search className=\"size-5 text-foreground/45\" />\n\t\t\t\t<span className=\"flex-1 truncate text-left\">{placeholder}</span>\n\t\t\t\t<kbd className=\"relative pointer-events-none select-none rounded-sm border border-border bg-card-muted shadow-sm card-highlight px-1.5 py-0.5 text-[10px] font-mono font-medium text-foreground/70\">\n\t\t\t\t\tâŒ˜K\n\t\t\t\t</kbd>\n\t\t\t</Button>\n\n\t\t\t<CommandK items={items} open={open} onOpenChange={setOpen} />\n\t\t</>\n\t);\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<'div'>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"sidebar-header\"\n\t\t\tclassName={cn(\n\t\t\t\t'flex flex-col gap-3 border-b border-border/60 p-4',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<'div'>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"sidebar-footer\"\n\t\t\tclassName={cn(\n\t\t\t\t'flex flex-col gap-3 border-t border-border/60 p-4',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SidebarSeparator({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof Separator>) {\n\treturn (\n\t\t<Separator\n\t\t\tdata-slot=\"sidebar-separator\"\n\t\t\tclassName={cn('my-2', className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<'div'>) {\n\treturn (\n\t\t<ScrollArea type=\"scroll\" className=\"flex-1\">\n\t\t\t<div\n\t\t\t\tdata-slot=\"sidebar-content\"\n\t\t\t\tclassName={cn('flex flex-1 flex-col gap-3 p-4', className)}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</ScrollArea>\n\t);\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<'div'>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"sidebar-group\"\n\t\t\tclassName={cn('flex w-full min-w-0 flex-col', className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SidebarGroupLabel({\n\tclassName,\n\tasChild = false,\n\tchildren,\n\t...props\n}: React.ComponentProps<'div'> & { asChild?: boolean }) {\n\tconst classes = cn(\n\t\t'flex h-8 items-center gap-2 px-2 text-xs font-medium uppercase tracking-widest text-foreground/45',\n\t\tclassName,\n\t);\n\n\tif (asChild && React.isValidElement(children)) {\n\t\treturn (\n\t\t\t<Role\n\t\t\t\tdata-slot=\"sidebar-group-label\"\n\t\t\t\tclassName={classes}\n\t\t\t\t{...props}\n\t\t\t\trender={children}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div data-slot=\"sidebar-group-label\" className={classes} {...props}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nfunction SidebarGroupAction({\n\tclassName,\n\tasChild = false,\n\tchildren,\n\t...props\n}: React.ComponentProps<'button'> & { asChild?: boolean }) {\n\tconst classes = cn(\n\t\t'absolute top-1/2 -translate-y-1/2 right-2 flex size-6 cursor-pointer items-center justify-center rounded-sm text-foreground/70 hover:bg-popover-muted hover:text-foreground focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none transition-[background-color,color,box-shadow] ease-out-quad duration-100',\n\t\tclassName,\n\t);\n\n\tif (asChild && React.isValidElement(children)) {\n\t\treturn (\n\t\t\t<Role.button\n\t\t\t\tdata-slot=\"sidebar-group-action\"\n\t\t\t\tclassName={classes}\n\t\t\t\t{...props}\n\t\t\t\trender={children}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tdata-slot=\"sidebar-group-action\"\n\t\t\tclassName={classes}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n}\n\nfunction SidebarGroupContent({\n\tclassName,\n\t...props\n}: React.ComponentProps<'div'>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"sidebar-group-content\"\n\t\t\tclassName={cn('flex flex-col gap-1', className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<'ul'>) {\n\treturn (\n\t\t<ul\n\t\t\tdata-slot=\"sidebar-menu\"\n\t\t\tclassName={cn('flex flex-col gap-1', className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\ntype SidebarMenuItemProps = React.ComponentProps<'li'> & {\n\tcollapsible?: boolean;\n\tdefaultOpen?: boolean;\n\topen?: boolean;\n\tonOpenChange?: (open: boolean) => void;\n};\n\nfunction SidebarMenuItem({\n\tclassName,\n\tchildren,\n\tcollapsible = false,\n\tdefaultOpen = false,\n\topen: openProp,\n\tonOpenChange,\n\t...props\n}: SidebarMenuItemProps) {\n\tconst [open, setOpen] = useControllableState({\n\t\tdefaultValue: defaultOpen,\n\t\t...(openProp !== undefined ? { value: openProp } : {}),\n\t\t...(onOpenChange ? { onChange: onOpenChange } : {}),\n\t});\n\n\tconst toggle = React.useCallback(() => {\n\t\tif (!collapsible) return;\n\t\tsetOpen((previous) => !previous);\n\t}, [collapsible, setOpen]);\n\n\tconst contextValue = React.useMemo(() => {\n\t\tif (!collapsible) return null;\n\t\treturn {\n\t\t\tcollapsible,\n\t\t\topen,\n\t\t\ttoggle,\n\t\t};\n\t}, [collapsible, open, toggle]);\n\n\treturn (\n\t\t<SidebarMenuItemContext.Provider value={contextValue}>\n\t\t\t<li\n\t\t\t\tdata-slot=\"sidebar-menu-item\"\n\t\t\t\tdata-state={collapsible ? (open ? 'open' : 'closed') : undefined}\n\t\t\t\tdata-collapsible={collapsible ? 'true' : undefined}\n\t\t\t\tclassName={cn('group/menu-item relative', className)}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</li>\n\t\t</SidebarMenuItemContext.Provider>\n\t);\n}\n\nconst sidebarNavButtonBaseClasses =\n\t\"cursor-pointer flex w-full items-center bg-transparent border border-transparent justify-start gap-3 rounded-md h-9 px-4 py-2 gap-2 has-[svg:not([data-slot=sidebar-menu-indicator])]:px-3 text-sm text-left [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 font-medium text-foreground/70 focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none transition-[box-shadow] ease-out-quad duration-100\";\nconst sidebarNavSubButtonBaseClasses =\n\t\"cursor-pointer flex w-full items-center justify-start gap-3 bg-transparent border border-transparent rounded-md first:mt-1 h-8 px-3 py-1.5 px-3 gap-1.5 has-[svg]:px-2.5 text-sm text-left [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 font-medium text-foreground/70 focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none transition-[box-shadow] ease-out-quad duration-100\";\n\nconst sidebarNavButtonStateClasses =\n\t'relative hover:bg-popover-muted hover:text-foreground data-[active=true]:bg-popover-muted data-[active=true]:text-foreground data-[active=true]:card-highlight dark:data-[active=true]:border-border';\nconst sidebarMenuButtonBaseClasses = `group/menu-button peer/menu-button ${sidebarNavButtonBaseClasses}`;\n\ntype SidebarMenuButtonTooltipProps = {\n\tcontent: React.ReactNode;\n\tdelayDuration?: TooltipProps['delayDuration'];\n\tplacement?: TooltipProps['placement'];\n\tgutter?: TooltipProps['gutter'];\n\tportal?: TooltipProps['portal'];\n\tfixed?: TooltipProps['fixed'];\n\tshowArrow?: TooltipProps['showArrow'];\n\tcontentProps?: Omit<TooltipContentProps, 'children'>;\n};\n\ntype SidebarMenuButtonProps = React.ComponentProps<'button'> & {\n\tasChild?: boolean;\n\tisActive?: boolean;\n\ttooltip?: React.ReactNode | SidebarMenuButtonTooltipProps;\n};\n\nfunction SidebarMenuButton({\n\tclassName,\n\tisActive = false,\n\tasChild = false,\n\tchildren,\n\ttype,\n\tonClick,\n\ttooltip,\n\t...props\n}: SidebarMenuButtonProps) {\n\tconst menuItem = useSidebarMenuItem();\n\tconst { state, isMobile } = useSidebar();\n\tconst classes = cn(\n\t\tsidebarMenuButtonBaseClasses,\n\t\tsidebarNavButtonStateClasses,\n\t\tclassName,\n\t);\n\tconst handleClick: React.MouseEventHandler<HTMLButtonElement> = (event) => {\n\t\tonClick?.(event);\n\t\tif (!event.defaultPrevented && menuItem?.collapsible) {\n\t\t\tmenuItem.toggle();\n\t\t}\n\t};\n\tconst sharedProps = {\n\t\t...props,\n\t\tclassName: classes,\n\t\t'data-sidebar': 'menu-button',\n\t\t'data-slot': 'sidebar-menu-button',\n\t\t'data-active': isActive,\n\t\t...(menuItem?.collapsible ? { 'aria-expanded': menuItem.open } : {}),\n\t};\n\n\tconst indicator = menuItem?.collapsible ? (\n\t\t<Icons.ChevronDown\n\t\t\taria-hidden=\"true\"\n\t\t\tdata-state={menuItem.open ? 'open' : 'closed'}\n\t\t\tdata-slot=\"sidebar-menu-indicator\"\n\t\t\tclassName=\"ml-auto size-4 shrink-0 text-foreground/70 transition-transform duration-300 ease-smooth data-[state=closed]:-rotate-90\"\n\t\t/>\n\t) : null;\n\n\tconst button =\n\t\tasChild && React.isValidElement(children) ? (\n\t\t\t<Role.button {...sharedProps} onClick={handleClick} render={children} />\n\t\t) : (\n\t\t\t<button type={type ?? 'button'} onClick={handleClick} {...sharedProps}>\n\t\t\t\t{children}\n\t\t\t\t{indicator}\n\t\t\t</button>\n\t\t);\n\n\tconst tooltipConfig =\n\t\tReact.useMemo<SidebarMenuButtonTooltipProps | null>(() => {\n\t\t\tif (!tooltip) return null;\n\t\t\tif (\n\t\t\t\tReact.isValidElement(tooltip) ||\n\t\t\t\ttypeof tooltip === 'string' ||\n\t\t\t\ttypeof tooltip === 'number'\n\t\t\t) {\n\t\t\t\treturn { content: tooltip };\n\t\t\t}\n\t\t\tif (\n\t\t\t\ttypeof tooltip === 'object' &&\n\t\t\t\ttooltip !== null &&\n\t\t\t\t'content' in tooltip &&\n\t\t\t\ttooltip.content !== undefined\n\t\t\t) {\n\t\t\t\treturn tooltip as SidebarMenuButtonTooltipProps;\n\t\t\t}\n\t\t\treturn { content: tooltip as React.ReactNode };\n\t\t}, [tooltip]);\n\n\tif (!tooltipConfig) {\n\t\treturn button;\n\t}\n\n\tconst {\n\t\tcontent,\n\t\tdelayDuration,\n\t\tplacement,\n\t\tgutter,\n\t\tportal,\n\t\tfixed,\n\t\tshowArrow,\n\t\tcontentProps,\n\t} = tooltipConfig;\n\tconst { hidden: contentHidden, ...restContentProps } = contentProps ?? {};\n\tconst defaultShouldHide = state !== 'collapsed' || isMobile;\n\tconst shouldSkipTooltip = contentHidden ?? defaultShouldHide;\n\n\tif (shouldSkipTooltip) {\n\t\treturn button;\n\t}\n\n\treturn (\n\t\t<Tooltip\n\t\t\tdelayDuration={delayDuration ?? 400}\n\t\t\tplacement={placement ?? 'right'}\n\t\t\tgutter={gutter ?? 4}\n\t\t\tportal={portal ?? true}\n\t\t\tfixed={fixed ?? false}\n\t\t\tshowArrow={showArrow ?? true}\n\t\t>\n\t\t\t<TooltipTrigger className=\"w-full\">{button}</TooltipTrigger>\n\t\t\t<TooltipContent className=\"p-1 text-xs rounded\" {...restContentProps}>\n\t\t\t\t{content}\n\t\t\t</TooltipContent>\n\t\t</Tooltip>\n\t);\n}\n\nfunction SidebarMenuAction({\n\tclassName,\n\tshowOnHover = false,\n\t...props\n}: React.ComponentProps<'button'> & { showOnHover?: boolean }) {\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tdata-slot=\"sidebar-menu-action\"\n\t\t\tclassName={cn(\n\t\t\t\t'absolute z-10 top-1/2 -translate-y-1/2 right-2 flex size-6 cursor-pointer items-center justify-center rounded-sm border border-transparent text-foreground/70 transition-all hover:text-foreground hover:bg-popover-muted',\n\t\t\t\tshowOnHover &&\n\t\t\t\t\t'opacity-0 transition-opacity group-hover/menu-item:opacity-100',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SidebarMenuSub({\n\tclassName,\n\tchildren,\n\t...props\n}: React.ComponentProps<'ul'>) {\n\tconst menuItem = useSidebarMenuItem();\n\tconst isOpen = menuItem?.open ?? true;\n\tconst subRef = React.useRef<HTMLUListElement>(null);\n\tconst [measuredHeight, setMeasuredHeight] = React.useState(0);\n\n\tconst measureHeight = React.useCallback(() => {\n\t\tconst element = subRef.current;\n\t\tif (!element) return;\n\t\tconst nextHeight = element.scrollHeight;\n\t\tsetMeasuredHeight((value) => (value === nextHeight ? value : nextHeight));\n\t}, []);\n\n\tReact.useLayoutEffect(() => {\n\t\tmeasureHeight();\n\t}, [measureHeight]);\n\n\tReact.useEffect(() => {\n\t\tif (typeof window === 'undefined' || !('ResizeObserver' in window)) {\n\t\t\treturn;\n\t\t}\n\t\tconst element = subRef.current;\n\t\tif (!element) return;\n\t\tconst resizeObserver = new ResizeObserver(() => measureHeight());\n\t\tresizeObserver.observe(element);\n\t\treturn () => resizeObserver.disconnect();\n\t}, [measureHeight]);\n\n\tconst inlineStyles = React.useMemo<React.CSSProperties>(() => {\n\t\tconst heightValue = `${measuredHeight}px`;\n\t\treturn {\n\t\t\t'--sidebar-menu-sub-height': heightValue,\n\t\t\tmaxHeight: isOpen ? heightValue : '0px',\n\t\t};\n\t}, [isOpen, measuredHeight]);\n\n\treturn (\n\t\t<ul\n\t\t\tref={subRef}\n\t\t\tdata-slot=\"sidebar-menu-sub\"\n\t\t\tdata-state={isOpen ? 'open' : 'closed'}\n\t\t\tclassName={cn(\n\t\t\t\t'ml-4 pl-2 flex flex-col overflow-hidden border-border transition-[max-height,opacity] duration-300 ease-smooth',\n\t\t\t\t'relative before:absolute before:left-0 before:top-2 before:bottom-2 before:w-px before:bg-border',\n\t\t\t\tisOpen\n\t\t\t\t\t? 'pointer-events-auto opacity-100'\n\t\t\t\t\t: 'pointer-events-none opacity-0',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tstyle={inlineStyles}\n\t\t\taria-hidden={isOpen ? undefined : true}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</ul>\n\t);\n}\n\nfunction SidebarMenuSubItem({\n\tclassName,\n\t...props\n}: React.ComponentProps<'li'>) {\n\treturn (\n\t\t<li\n\t\t\tdata-slot=\"sidebar-menu-sub-item\"\n\t\t\tclassName={cn('group/menu-sub-item relative', className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SidebarMenuSubButton({\n\tclassName,\n\tasChild = false,\n\tisActive = false,\n\tchildren,\n\ttype,\n\ttabIndex: tabIndexProp,\n\ttooltip,\n\t...props\n}: React.ComponentProps<'button'> & {\n\tasChild?: boolean;\n\tisActive?: boolean;\n\ttooltip?: React.ReactNode | SidebarMenuButtonTooltipProps;\n}) {\n\tconst menuItem = useSidebarMenuItem();\n\tconst { state, isMobile } = useSidebar();\n\tconst classes = cn(\n\t\tsidebarNavSubButtonBaseClasses,\n\t\tsidebarNavButtonStateClasses,\n\t\tclassName,\n\t);\n\tconst computedTabIndex =\n\t\ttabIndexProp !== undefined\n\t\t\t? tabIndexProp\n\t\t\t: menuItem?.collapsible && !menuItem.open\n\t\t\t\t? -1\n\t\t\t\t: undefined;\n\tconst sharedProps = {\n\t\t...props,\n\t\tclassName: classes,\n\t\t'data-slot': 'sidebar-menu-sub-button',\n\t\t'data-active': isActive,\n\t\ttabIndex: computedTabIndex,\n\t};\n\n\tconst button =\n\t\tasChild && React.isValidElement(children) ? (\n\t\t\t<Role.button {...sharedProps} render={children} />\n\t\t) : (\n\t\t\t<button type={type ?? 'button'} {...sharedProps}>\n\t\t\t\t{children}\n\t\t\t</button>\n\t\t);\n\n\tconst tooltipConfig =\n\t\tReact.useMemo<SidebarMenuButtonTooltipProps | null>(() => {\n\t\t\tif (!tooltip) return null;\n\t\t\tif (\n\t\t\t\tReact.isValidElement(tooltip) ||\n\t\t\t\ttypeof tooltip === 'string' ||\n\t\t\t\ttypeof tooltip === 'number'\n\t\t\t) {\n\t\t\t\treturn { content: tooltip };\n\t\t\t}\n\t\t\tif (\n\t\t\t\ttypeof tooltip === 'object' &&\n\t\t\t\ttooltip !== null &&\n\t\t\t\t'content' in tooltip &&\n\t\t\t\ttooltip.content !== undefined\n\t\t\t) {\n\t\t\t\treturn tooltip as SidebarMenuButtonTooltipProps;\n\t\t\t}\n\t\t\treturn { content: tooltip as React.ReactNode };\n\t\t}, [tooltip]);\n\n\tif (!tooltipConfig) {\n\t\treturn button;\n\t}\n\n\tconst {\n\t\tcontent,\n\t\tdelayDuration,\n\t\tplacement,\n\t\tgutter,\n\t\tportal,\n\t\tfixed,\n\t\tshowArrow,\n\t\tcontentProps,\n\t} = tooltipConfig;\n\tconst { hidden: contentHidden, ...restContentProps } = contentProps ?? {};\n\tconst defaultShouldHide = state !== 'collapsed' || isMobile;\n\tconst shouldSkipTooltip = contentHidden ?? defaultShouldHide;\n\n\tif (shouldSkipTooltip) {\n\t\treturn button;\n\t}\n\n\treturn (\n\t\t<Tooltip\n\t\t\tdelayDuration={delayDuration ?? 400}\n\t\t\tplacement={placement ?? 'right'}\n\t\t\tgutter={gutter ?? 4}\n\t\t\tportal={portal ?? true}\n\t\t\tfixed={fixed ?? false}\n\t\t\tshowArrow={showArrow ?? true}\n\t\t>\n\t\t\t<TooltipTrigger className=\"w-full\">{button}</TooltipTrigger>\n\t\t\t<TooltipContent className=\"p-1 text-xs rounded\" {...restContentProps}>\n\t\t\t\t{content}\n\t\t\t</TooltipContent>\n\t\t</Tooltip>\n\t);\n}\n\nexport {\n\tSidebar,\n\tSidebarContent,\n\tSidebarFooter,\n\tSidebarGroup,\n\tSidebarGroupAction,\n\tSidebarGroupContent,\n\tSidebarGroupLabel,\n\tSidebarHeader,\n\tSidebarInput,\n\tSidebarInset,\n\tSidebarMenu,\n\tSidebarMenuAction,\n\tSidebarMenuButton,\n\tSidebarMenuItem,\n\tSidebarMenuSub,\n\tSidebarMenuSubButton,\n\tSidebarMenuSubItem,\n\tSidebarProvider,\n\tSidebarSeparator,\n\tSidebarTrigger,\n\tuseSidebar,\n};\n",
      "type": "registry:component"
    }
  ]
}