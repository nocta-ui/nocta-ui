{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "slider",
  "type": "registry:component",
  "title": "Slider",
  "description": "A customizable range slider component with variants, orientations, and accessibility support",
  "dependencies": [
    "class-variance-authority",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "registry/ui/slider.tsx",
      "content": "'use client';\n\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport type React from 'react';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { cn } from '@/lib/utils';\n\nconst sliderVariants = cva(\n\t'relative cursor-pointer touch-none rounded-full select-none transition-shadow ease-out-quad duration-100 focus-visible:ring-1 focus-visible:ring-ring/50 focus-visible:ring-offset-1 focus-visible:ring-offset-ring-offset/50 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50',\n\t{\n\t\tvariants: {\n\t\t\torientation: {\n\t\t\t\thorizontal: 'w-full',\n\t\t\t\tvertical: 'h-full',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\torientation: 'horizontal',\n\t\t},\n\t},\n);\n\nconst trackVariants = cva(\n\t'relative overflow-hidden rounded-full border border-border/60 bg-card-muted shadow-inner',\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: 'h-1 w-full',\n\t\t\t\tmd: 'h-2 w-full',\n\t\t\t\tlg: 'h-3 w-full',\n\t\t\t},\n\t\t\torientation: {\n\t\t\t\thorizontal: '',\n\t\t\t\tvertical: '',\n\t\t\t},\n\t\t},\n\t\tcompoundVariants: [\n\t\t\t{\n\t\t\t\tsize: 'sm',\n\t\t\t\torientation: 'vertical',\n\t\t\t\tclass: 'h-full w-1',\n\t\t\t},\n\t\t\t{\n\t\t\t\tsize: 'md',\n\t\t\t\torientation: 'vertical',\n\t\t\t\tclass: 'h-full w-2',\n\t\t\t},\n\t\t\t{\n\t\t\t\tsize: 'lg',\n\t\t\t\torientation: 'vertical',\n\t\t\t\tclass: 'h-full w-3',\n\t\t\t},\n\t\t],\n\t\tdefaultVariants: {\n\t\t\tsize: 'md',\n\t\t\torientation: 'horizontal',\n\t\t},\n\t},\n);\n\nconst fillVariants = cva('absolute rounded-full', {\n\tvariants: {\n\t\tvariant: {\n\t\t\tdefault: 'bg-foreground/30',\n\t\t\tsecondary: 'bg-foreground/15',\n\t\t},\n\t\tsize: {\n\t\t\tsm: 'h-1',\n\t\t\tmd: 'h-2',\n\t\t\tlg: 'h-3',\n\t\t},\n\t\torientation: {\n\t\t\thorizontal: 'top-0 left-0',\n\t\t\tvertical: 'bottom-0 left-0',\n\t\t},\n\t},\n\tcompoundVariants: [\n\t\t{\n\t\t\tsize: 'sm',\n\t\t\torientation: 'vertical',\n\t\t\tclass: 'w-1',\n\t\t},\n\t\t{\n\t\t\tsize: 'md',\n\t\t\torientation: 'vertical',\n\t\t\tclass: 'w-2',\n\t\t},\n\t\t{\n\t\t\tsize: 'lg',\n\t\t\torientation: 'vertical',\n\t\t\tclass: 'w-3',\n\t\t},\n\t],\n\tdefaultVariants: {\n\t\tvariant: 'default',\n\t\tsize: 'md',\n\t\torientation: 'horizontal',\n\t},\n});\n\nconst thumbVariants = cva('absolute origin-center rounded-full shadow-md', {\n\tvariants: {\n\t\tvariant: {\n\t\t\tdefault: 'border-border/60 border bg-foreground',\n\t\t\tsecondary: 'border border-border bg-card',\n\t\t},\n\t\tsize: {\n\t\t\tsm: 'h-4 w-4',\n\t\t\tmd: 'h-5 w-5',\n\t\t\tlg: 'h-6 w-6',\n\t\t},\n\t\torientation: {\n\t\t\thorizontal: 'top-1/2 -translate-y-1/2',\n\t\t\tvertical: 'left-1/2 -translate-x-1/2',\n\t\t},\n\t\tdisabled: {\n\t\t\ttrue: 'cursor-not-allowed opacity-50',\n\t\t\tfalse: 'cursor-grab active:cursor-grabbing',\n\t\t},\n\t},\n\tdefaultVariants: {\n\t\tvariant: 'default',\n\t\tsize: 'md',\n\t\torientation: 'horizontal',\n\t\tdisabled: false,\n\t},\n});\n\nexport interface SliderProps\n\textends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'>,\n\t\tVariantProps<typeof sliderVariants> {\n\tvalue?: number;\n\tdefaultValue?: number;\n\tmin?: number;\n\tmax?: number;\n\tstep?: number;\n\tdisabled?: boolean;\n\tsize?: 'sm' | 'md' | 'lg';\n\tvariant?: 'default' | 'secondary';\n\tshowValue?: boolean;\n\tformatValue?: (value: number) => string;\n\tgetValueText?: (value: number) => string;\n\tonChange?: (value: number) => void;\n\tonValueCommit?: (value: number) => void;\n\tclassName?: string;\n\ttrackClassName?: string;\n\tthumbClassName?: string;\n\t'aria-label'?: string;\n\t'aria-labelledby'?: string;\n}\n\nexport const Slider: React.FC<SliderProps> = ({\n\tvalue: controlledValue,\n\tdefaultValue = 0,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tdisabled = false,\n\tsize = 'md',\n\tvariant = 'default',\n\torientation = 'horizontal',\n\tshowValue = false,\n\tformatValue = (value) => value.toString(),\n\tgetValueText,\n\tonChange,\n\tonValueCommit,\n\tclassName = '',\n\ttrackClassName = '',\n\tthumbClassName = '',\n\t'aria-label': ariaLabel,\n\t'aria-labelledby': ariaLabelledBy,\n\t...props\n}) => {\n\tconst [internalValue, setInternalValue] = useState(defaultValue);\n\tconst [isDragging, setIsDragging] = useState(false);\n\tconst sliderRef = useRef<HTMLDivElement>(null);\n\tconst thumbRef = useRef<HTMLDivElement>(null);\n\n\tconst isControlled = controlledValue !== undefined;\n\tconst currentValue = isControlled ? controlledValue : internalValue;\n\n\tconst clampValue = useCallback(\n\t\t(val: number) => {\n\t\t\treturn Math.max(min, Math.min(max, val));\n\t\t},\n\t\t[min, max],\n\t);\n\n\tconst roundToStep = useCallback(\n\t\t(val: number) => {\n\t\t\treturn Math.round(val / step) * step;\n\t\t},\n\t\t[step],\n\t);\n\n\tconst getPercentage = useCallback(\n\t\t(val: number) => {\n\t\t\treturn ((val - min) / (max - min)) * 100;\n\t\t},\n\t\t[min, max],\n\t);\n\n\tconst getValueFromPercentage = useCallback(\n\t\t(percentage: number) => {\n\t\t\tconst val = (percentage / 100) * (max - min) + min;\n\t\t\treturn roundToStep(clampValue(val));\n\t\t},\n\t\t[min, max, roundToStep, clampValue],\n\t);\n\n\tconst getPositionFromEvent = useCallback(\n\t\t(event: MouseEvent | TouchEvent) => {\n\t\t\tif (!sliderRef.current) return 0;\n\n\t\t\tconst rect = sliderRef.current.getBoundingClientRect();\n\t\t\tconst firstTouch =\n\t\t\t\t'touches' in event && event.touches.length > 0\n\t\t\t\t\t? event.touches[0]\n\t\t\t\t\t: null;\n\t\t\tconst clientX =\n\t\t\t\tfirstTouch?.clientX ?? ('clientX' in event ? event.clientX : 0);\n\t\t\tconst clientY =\n\t\t\t\tfirstTouch?.clientY ?? ('clientY' in event ? event.clientY : 0);\n\n\t\t\tif (orientation === 'horizontal') {\n\t\t\t\treturn ((clientX - rect.left) / rect.width) * 100;\n\t\t\t} else {\n\t\t\t\treturn ((rect.bottom - clientY) / rect.height) * 100;\n\t\t\t}\n\t\t},\n\t\t[orientation],\n\t);\n\n\tconst handleValueChange = useCallback(\n\t\t(newValue: number) => {\n\t\t\tconst clampedValue = clampValue(newValue);\n\n\t\t\tif (!isControlled) {\n\t\t\t\tsetInternalValue(clampedValue);\n\t\t\t}\n\n\t\t\tonChange?.(clampedValue);\n\t\t},\n\t\t[isControlled, onChange, clampValue],\n\t);\n\n\tconst handleMouseDown = useCallback(\n\t\t(event: React.MouseEvent) => {\n\t\t\tif (disabled) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tsetIsDragging(true);\n\n\t\t\tsliderRef.current?.focus();\n\n\t\t\tconst percentage = getPositionFromEvent(event.nativeEvent);\n\t\t\tconst newValue = getValueFromPercentage(percentage);\n\t\t\thandleValueChange(newValue);\n\t\t},\n\t\t[disabled, getPositionFromEvent, getValueFromPercentage, handleValueChange],\n\t);\n\n\tconst handleTouchStart = useCallback(\n\t\t(event: React.TouchEvent) => {\n\t\t\tif (disabled) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tsetIsDragging(true);\n\n\t\t\tsliderRef.current?.focus();\n\n\t\t\tconst percentage = getPositionFromEvent(event.nativeEvent);\n\t\t\tconst newValue = getValueFromPercentage(percentage);\n\t\t\thandleValueChange(newValue);\n\t\t},\n\t\t[disabled, getPositionFromEvent, getValueFromPercentage, handleValueChange],\n\t);\n\n\tconst handleMouseMove = useCallback(\n\t\t(event: MouseEvent) => {\n\t\t\tif (!isDragging || disabled) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tconst percentage = getPositionFromEvent(event);\n\t\t\tconst newValue = getValueFromPercentage(percentage);\n\t\t\thandleValueChange(newValue);\n\t\t},\n\t\t[\n\t\t\tisDragging,\n\t\t\tdisabled,\n\t\t\tgetPositionFromEvent,\n\t\t\tgetValueFromPercentage,\n\t\t\thandleValueChange,\n\t\t],\n\t);\n\n\tconst handleTouchMove = useCallback(\n\t\t(event: TouchEvent) => {\n\t\t\tif (!isDragging || disabled) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tconst percentage = getPositionFromEvent(event);\n\t\t\tconst newValue = getValueFromPercentage(percentage);\n\t\t\thandleValueChange(newValue);\n\t\t},\n\t\t[\n\t\t\tisDragging,\n\t\t\tdisabled,\n\t\t\tgetPositionFromEvent,\n\t\t\tgetValueFromPercentage,\n\t\t\thandleValueChange,\n\t\t],\n\t);\n\n\tconst handleMouseUp = useCallback(() => {\n\t\tif (!isDragging) return;\n\n\t\tsetIsDragging(false);\n\t\tonValueCommit?.(currentValue);\n\t}, [isDragging, onValueCommit, currentValue]);\n\n\tconst handleTouchEnd = useCallback(() => {\n\t\tif (!isDragging) return;\n\n\t\tsetIsDragging(false);\n\t\tonValueCommit?.(currentValue);\n\t}, [isDragging, onValueCommit, currentValue]);\n\n\tconst handleKeyDown = useCallback(\n\t\t(event: React.KeyboardEvent) => {\n\t\t\tif (disabled) return;\n\n\t\t\tlet newValue = currentValue;\n\n\t\t\tswitch (event.key) {\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tnewValue = currentValue - step;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tnewValue = currentValue + step;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Home':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tnewValue = min;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'End':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tnewValue = max;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'PageDown':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tnewValue = currentValue - step * 10;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'PageUp':\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tnewValue = currentValue + step * 10;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thandleValueChange(clampValue(newValue));\n\t\t},\n\t\t[disabled, currentValue, step, min, max, handleValueChange, clampValue],\n\t);\n\n\tuseEffect(() => {\n\t\tif (!isDragging) return;\n\n\t\tdocument.addEventListener('mousemove', handleMouseMove);\n\t\tdocument.addEventListener('touchmove', handleTouchMove);\n\t\tdocument.addEventListener('mouseup', handleMouseUp);\n\t\tdocument.addEventListener('touchend', handleTouchEnd);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('mousemove', handleMouseMove);\n\t\t\tdocument.removeEventListener('touchmove', handleTouchMove);\n\t\t\tdocument.removeEventListener('mouseup', handleMouseUp);\n\t\t\tdocument.removeEventListener('touchend', handleTouchEnd);\n\t\t};\n\t}, [\n\t\tisDragging,\n\t\thandleMouseMove,\n\t\thandleTouchMove,\n\t\thandleMouseUp,\n\t\thandleTouchEnd,\n\t]);\n\n\tconst currentOrientation = orientation || 'horizontal';\n\tconst currentSize = size || 'md';\n\tconst currentVariant = variant || 'default';\n\n\tconst percentage = getPercentage(currentValue);\n\n\tconst fillStyle =\n\t\tcurrentOrientation === 'horizontal'\n\t\t\t? { width: `${percentage}%` }\n\t\t\t: { height: `${percentage}%` };\n\n\tconst thumbStyle =\n\t\tcurrentOrientation === 'horizontal'\n\t\t\t? { left: `${percentage}%`, transform: 'translateX(-50%)' }\n\t\t\t: { bottom: `${percentage}%`, transform: 'translateY(50%)' };\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\tsliderVariants({ orientation: currentOrientation }),\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{showValue && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'mb-2 text-sm text-foreground/70',\n\t\t\t\t\t\tcurrentOrientation === 'vertical' ? 'mr-2 mb-0' : '',\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{formatValue(currentValue)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div\n\t\t\t\tref={sliderRef}\n\t\t\t\trole=\"slider\"\n\t\t\t\ttabIndex={disabled ? -1 : 0}\n\t\t\t\taria-valuemin={min}\n\t\t\t\taria-valuemax={max}\n\t\t\t\taria-valuenow={currentValue}\n\t\t\t\taria-valuetext={\n\t\t\t\t\tgetValueText\n\t\t\t\t\t\t? getValueText(currentValue)\n\t\t\t\t\t\t: formatValue?.(currentValue)\n\t\t\t\t}\n\t\t\t\taria-orientation={currentOrientation}\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\taria-labelledby={ariaLabelledBy}\n\t\t\t\taria-disabled={disabled}\n\t\t\t\tclassName={cn(sliderVariants({ orientation: currentOrientation }))}\n\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\tonTouchStart={handleTouchStart}\n\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\tonBlur={() => onValueCommit?.(currentValue)}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\ttrackVariants({\n\t\t\t\t\t\t\tsize: currentSize,\n\t\t\t\t\t\t\torientation: currentOrientation,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttrackClassName,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\tfillVariants({\n\t\t\t\t\t\t\t\tvariant: currentVariant,\n\t\t\t\t\t\t\t\tsize: currentSize,\n\t\t\t\t\t\t\t\torientation: currentOrientation,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tstyle={fillStyle}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tref={thumbRef}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\tthumbVariants({\n\t\t\t\t\t\t\tvariant: currentVariant,\n\t\t\t\t\t\t\tsize: currentSize,\n\t\t\t\t\t\t\torientation: currentOrientation,\n\t\t\t\t\t\t\tdisabled: disabled,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tisDragging && 'ring-2 ring-ring/10',\n\t\t\t\t\t\tthumbClassName,\n\t\t\t\t\t)}\n\t\t\t\t\tstyle={thumbStyle}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n",
      "type": "registry:component"
    }
  ]
}