{
  "tabs.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgdGFic0xpc3RWYXJpYW50cyA9IGN2YSgKCSdub3QtcHJvc2UgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyJywKCXsKCQl2YXJpYW50czogewoJCQlvcmllbnRhdGlvbjogewoJCQkJaG9yaXpvbnRhbDogJ2ZsZXgtcm93JywKCQkJCXZlcnRpY2FsOiAndy1maXQgZmxleC1jb2wnLAoJCQl9LAoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAncm91bmRlZC1tZCBiZy1jYXJkIGJvcmRlci1ib3JkZXIgYm9yZGVyJywKCQkJCXBpbGxzOiAnZ2FwLTEnLAoJCQkJdW5kZXJsaW5lOiAnYm9yZGVyLWJvcmRlci82MCBnYXAtMCBib3JkZXItYicsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnJywKCQkJCW1kOiAnJywKCQkJCWxnOiAnJywKCQkJfSwKCQl9LAoJCWNvbXBvdW5kVmFyaWFudHM6IFsKCQkJeyB2YXJpYW50OiAnZGVmYXVsdCcsIHNpemU6ICdzbScsIGNsYXNzOiAncC0wLjUnIH0sCgkJCXsgdmFyaWFudDogJ2RlZmF1bHQnLCBzaXplOiAnbWQnLCBjbGFzczogJ3AtMScgfSwKCQkJeyB2YXJpYW50OiAnZGVmYXVsdCcsIHNpemU6ICdsZycsIGNsYXNzOiAncC0xLjUnIH0sCgkJXSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgdGFic1RyaWdnZXJWYXJpYW50cyA9IGN2YSgKCWBub3QtcHJvc2UgaW5saW5lLWZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZvbnQtbWVkaXVtIHdoaXRlc3BhY2Utbm93cmFwIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgWyZfc3ZnXTpzaHJpbmstMCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGZvY3VzLXZpc2libGU6Ym9yZGVyLWJvcmRlciBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTBgLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6IGB3LWZ1bGwgcm91bmRlZC1zbSB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIGRhdGEtYWN0aXZlLWl0ZW06YmctY2FyZC1tdXRlZCBkYXRhLWFjdGl2ZS1pdGVtOnRleHQtZm9yZWdyb3VuZGAsCgkJCQlwaWxsczogYHJvdW5kZWQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBkYXRhLWFjdGl2ZS1pdGVtOmJnLWZvcmVncm91bmQgZGF0YS1hY3RpdmUtaXRlbTp0ZXh0LWNhcmQgZGF0YS1hY3RpdmUtaXRlbTpzaGFkb3ctc21gLAoJCQkJdW5kZXJsaW5lOiBgYm9yZGVyLWItMiBib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1mb3JlZ3JvdW5kLzcwIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBkYXRhLWFjdGl2ZS1pdGVtOmJvcmRlci1mb3JlZ3JvdW5kLzc1IGRhdGEtYWN0aXZlLWl0ZW06dGV4dC1mb3JlZ3JvdW5kYCwKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICcnLAoJCQkJbWQ6ICcnLAoJCQkJbGc6ICcnLAoJCQl9LAoJCX0sCgkJY29tcG91bmRWYXJpYW50czogWwoJCQl7CgkJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCQlzaXplOiAnc20nLAoJCQkJY2xhc3M6ICdoLTcuNSBweC0zIHB5LTEuNSBweC0zIGdhcC0xLjUgaGFzLVs+c3ZnXTpweC0yLjUgdGV4dC1zbScsCgkJCX0sCgkJCXsKCQkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJCXNpemU6ICdtZCcsCgkJCQljbGFzczogJ2gtOCBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIHRleHQtc20nLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICdoLTguNSBweC02IGdhcC0yIGhhcy1bPnN2Z106cHgtNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAncGlsbHMnLAoJCQkJc2l6ZTogJ3NtJywKCQkJCWNsYXNzOiAnaC03LjUgcHgtMyBweS0xLjUgcHgtMyBnYXAtMS41IGhhcy1bPnN2Z106cHgtMi41IHRleHQtc20nLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAncGlsbHMnLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAnaC04IHB4LTQgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTMgdGV4dC1zbScsCgkJCX0sCgkJCXsKCQkJCXZhcmlhbnQ6ICdwaWxscycsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICdoLTguNSBweC02IGdhcC0yIGhhcy1bPnN2Z106cHgtNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAndW5kZXJsaW5lJywKCQkJCXNpemU6ICdzbScsCgkJCQljbGFzczogJ2gtNy41IHB4LTMgcHktMS41IHB4LTMgZ2FwLTEuNSBoYXMtWz5zdmddOnB4LTIuNSB0ZXh0LXNtJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ3VuZGVybGluZScsCgkJCQlzaXplOiAnbWQnLAoJCQkJY2xhc3M6ICdoLTggcHgtNCBweS0yIGdhcC0yIGhhcy1bPnN2Z106cHgtMyB0ZXh0LXNtJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ3VuZGVybGluZScsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICdoLTguNSBweC02IGdhcC0yIGhhcy1bPnN2Z106cHgtNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCV0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmludGVyZmFjZSBUYWJzU3R5bGVDb250ZXh0VmFsdWUgewoJdmFyaWFudDogJ2RlZmF1bHQnIHwgJ3BpbGxzJyB8ICd1bmRlcmxpbmUnOwoJc2l6ZTogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJb3JpZW50YXRpb246ICdob3Jpem9udGFsJyB8ICd2ZXJ0aWNhbCc7CglkaXNhYmxlZDogYm9vbGVhbjsKfQoKY29uc3QgVGFic1N0eWxlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8VGFic1N0eWxlQ29udGV4dFZhbHVlIHwgbnVsbD4oCgludWxsLAopOwoKZnVuY3Rpb24gdXNlVGFic1N0eWxlQ29udGV4dCgpIHsKCWNvbnN0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoVGFic1N0eWxlQ29udGV4dCk7CglpZiAoIWN0eCkgdGhyb3cgbmV3IEVycm9yKCdUYWJzIGNvbXBvbmVudHMgbXVzdCBiZSB1c2VkIHdpdGhpbiA8VGFicz4nKTsKCXJldHVybiBjdHg7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgVGFic1Byb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZT86IHN0cmluZzsKCWRlZmF1bHRWYWx1ZT86IHN0cmluZzsKCW9uVmFsdWVDaGFuZ2U/OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDsKCW9yaWVudGF0aW9uPzogJ2hvcml6b250YWwnIHwgJ3ZlcnRpY2FsJzsKCXZhcmlhbnQ/OiAnZGVmYXVsdCcgfCAncGlsbHMnIHwgJ3VuZGVybGluZSc7CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJZGlzYWJsZWQ/OiBib29sZWFuOwp9CgpleHBvcnQgZnVuY3Rpb24gVGFicyh7CgljaGlsZHJlbiwKCXZhbHVlLAoJZGVmYXVsdFZhbHVlLAoJb25WYWx1ZUNoYW5nZSwKCW9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAoJY2xhc3NOYW1lLAoJZGlzYWJsZWQgPSBmYWxzZSwKfTogVGFic1Byb3BzKSB7Cgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlVGFiU3RvcmUoewoJCWRlZmF1bHRTZWxlY3RlZElkOiBkZWZhdWx0VmFsdWUsCgkJc2VsZWN0ZWRJZDogdmFsdWUsCgkJc2V0U2VsZWN0ZWRJZDogKGlkKSA9PiB7CgkJCWlmIChpZCAhPSBudWxsKSB7CgkJCQlvblZhbHVlQ2hhbmdlPy4oaWQpOwoJCQl9CgkJfSwKCQlvcmllbnRhdGlvbiwKCX0pOwoKCXJldHVybiAoCgkJPFRhYnNTdHlsZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgdmFyaWFudCwgc2l6ZSwgb3JpZW50YXRpb24sIGRpc2FibGVkIH19PgoJCQk8QXJpYWtpdC5UYWJQcm92aWRlciBzdG9yZT17c3RvcmV9PgoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdub3QtcHJvc2UnLAoJCQkJCQlvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiAnZmxleCBnYXAtNCcsCgkJCQkJCWNsYXNzTmFtZSwKCQkJCQkpfQoJCQkJCWRhdGEtb3JpZW50YXRpb249e29yaWVudGF0aW9ufQoJCQkJCWRhdGEtdmFyaWFudD17dmFyaWFudH0KCQkJCQlkYXRhLXNpemU9e3NpemV9CgkJCQkJZGF0YS1kaXNhYmxlZD17ZGlzYWJsZWQgPyAnJyA6IHVuZGVmaW5lZH0KCQkJCT4KCQkJCQl7Y2hpbGRyZW59CgkJCQk8L2Rpdj4KCQkJPC9Bcmlha2l0LlRhYlByb3ZpZGVyPgoJCTwvVGFic1N0eWxlQ29udGV4dC5Qcm92aWRlcj4KCSk7Cn0KCmV4cG9ydCB0eXBlIFRhYnNMaXN0UHJvcHMgPSBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD47CgpleHBvcnQgZnVuY3Rpb24gVGFic0xpc3QoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBUYWJzTGlzdFByb3BzKSB7Cgljb25zdCB7IG9yaWVudGF0aW9uLCB2YXJpYW50LCBzaXplIH0gPSB1c2VUYWJzU3R5bGVDb250ZXh0KCk7Cgljb25zdCB7IGF1dG9Gb2N1cywgLi4ucmVzdCB9ID0gcHJvcHM7CglyZXR1cm4gKAoJCTxBcmlha2l0LlRhYkxpc3QKCQkJY2xhc3NOYW1lPXtjbigKCQkJCXRhYnNMaXN0VmFyaWFudHMoeyBvcmllbnRhdGlvbiwgdmFyaWFudCwgc2l6ZSB9KSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLihhdXRvRm9jdXMgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBhdXRvRm9jdXMgfSl9CgkJCXsuLi5yZXN0fQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5UYWJMaXN0PgoJKTsKfQoKZXhwb3J0IGludGVyZmFjZSBUYWJzVHJpZ2dlclByb3BzCglleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHRhYnNUcmlnZ2VyVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZTogc3RyaW5nOwp9CgpleHBvcnQgZnVuY3Rpb24gVGFic1RyaWdnZXIoewoJY2hpbGRyZW4sCgl2YWx1ZSwKCWNsYXNzTmFtZSwKCWRpc2FibGVkOiBkaXNhYmxlZFByb3AsCgkuLi5yZXN0Cn06IFRhYnNUcmlnZ2VyUHJvcHMpIHsKCWNvbnN0IHsgdmFyaWFudCwgc2l6ZSwgZGlzYWJsZWQgfSA9IHVzZVRhYnNTdHlsZUNvbnRleHQoKTsKCWNvbnN0IGlzRGlzYWJsZWQgPSBkaXNhYmxlZFByb3AgPz8gZGlzYWJsZWQ7Cgljb25zdCB7IGF1dG9Gb2N1cywgaWQsIC4uLnJlc3RQcm9wcyB9ID0gcmVzdDsKCXJldHVybiAoCgkJPEFyaWFraXQuVGFiCgkJCWlkPXtpZCA/PyB2YWx1ZX0KCQkJY2xhc3NOYW1lPXtjbih0YWJzVHJpZ2dlclZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJZGlzYWJsZWQ9e2lzRGlzYWJsZWR9CgkJCXsuLi4oYXV0b0ZvY3VzID09PSB1bmRlZmluZWQgPyB7fSA6IHsgYXV0b0ZvY3VzIH0pfQoJCQl7Li4ucmVzdFByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5UYWI+CgkpOwp9CgpleHBvcnQgaW50ZXJmYWNlIFRhYnNDb250ZW50UHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCXZhbHVlOiBzdHJpbmc7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBmdW5jdGlvbiBUYWJzQ29udGVudCh7IGNoaWxkcmVuLCB2YWx1ZSwgY2xhc3NOYW1lIH06IFRhYnNDb250ZW50UHJvcHMpIHsKCXJldHVybiAoCgkJPEFyaWFraXQuVGFiUGFuZWwKCQkJdGFiSWQ9e3ZhbHVlfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LlRhYlBhbmVsPgoJKTsKfQ=="
,
  "drawer.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgZHJhd2VyQ29udGVudCA9CgknZml4ZWQgZmxleCBmbGV4LWNvbCBib3JkZXItdCBib3JkZXItYm9yZGVyIGJnLWNhcmQgc2hhZG93LTJ4bCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggc2VsZWN0LW5vbmUgY3Vyc29yLWdyYWIgZGF0YS1bZHJhZ2dpbmc9dHJ1ZV06Y3Vyc29yLWdyYWJiaW5nIFstLWRyYXdlci1iYXNlLXRyYW5zbGF0ZToxMDAlXSBbLS1kcmF3ZXItZHJhZy1vZmZzZXQ6MHB4XSBbLS1kcmF3ZXItc25hcC1vZmZzZXQ6MHB4XSBbLS1kcmF3ZXIta2V5Ym9hcmQtb2Zmc2V0OjBweF0gW3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLGNhbGModmFyKC0tZHJhd2VyLWJhc2UtdHJhbnNsYXRlLDEwMCUpXytfdmFyKC0tZHJhd2VyLXNuYXAtb2Zmc2V0LDBweClfK192YXIoLS1kcmF3ZXItZHJhZy1vZmZzZXQsMHB4KV8rX3ZhcigtLWRyYXdlci1rZXlib2FyZC1vZmZzZXQsMHB4KSksMCldIGRhdGEtZW50ZXI6Wy0tZHJhd2VyLWJhc2UtdHJhbnNsYXRlOjAlXSBkYXRhLWxlYXZlOlstLWRyYXdlci1iYXNlLXRyYW5zbGF0ZToxMDAlXSBkYXRhLVtkcmFnZ2luZz10cnVlXTp0cmFuc2l0aW9uLW5vbmUgYm90dG9tLTAgbGVmdC0wIHctZnVsbCByb3VuZGVkLXQtbGcnOwoKY29uc3QgRFJBV0VSX0RSQUdfSUdOT1JFX1NFTEVDVE9SID0gWwoJJ2J1dHRvbicsCgknYScsCgknaW5wdXQnLAoJJ3RleHRhcmVhJywKCSdzZWxlY3QnLAoJJ2xhYmVsJywKCSdbcm9sZT0iYnV0dG9uIl0nLAoJJ1tkYXRhLWRyYXdlci1pZ25vcmUtZHJhZz0idHJ1ZSJdJywKCSdbY29udGVudGVkaXRhYmxlPSJ0cnVlIl0nLApdLmpvaW4oJywgJyk7Cgpjb25zdCBEUkFHX0RJU01JU1NfUkFUSU8gPSAwLjM1Owpjb25zdCBEUkFHX0RJU01JU1NfTUlOX0RJU1RBTkNFID0gODA7CmNvbnN0IERSQUdfVkVMT0NJVFlfVEhSRVNIT0xEID0gMC42NTsKY29uc3QgRFJBR19HRVNUVVJFX0NPT0xET1dOID0gNTAwOwpjb25zdCBEUkFHX1NDUk9MTF9MT0NLX1RJTUVPVVQgPSAxMjA7CmNvbnN0IE1BWF9VUFdBUkRfRFJBR19ESVNUQU5DRSA9IDEyMDsKY29uc3QgVVBXQVJEX0RBTVBJTkdfRElTVEFOQ0UgPSAyNDA7CmNvbnN0IEZBTExCQUNLX01BWF9PRkZTRVQgPSA2MDA7Cgpjb25zdCBkYW1wZW5VcHdhcmREcmFnID0gKHZhbHVlOiBudW1iZXIpID0+IHsKCWNvbnN0IGFicyA9IE1hdGguYWJzKHZhbHVlKTsKCWNvbnN0IGRhbXBlZCA9IHZhbHVlIC8gKDEgKyBhYnMgLyBVUFdBUkRfREFNUElOR19ESVNUQU5DRSk7CglyZXR1cm4gTWF0aC5tYXgoZGFtcGVkLCAtTUFYX1VQV0FSRF9EUkFHX0RJU1RBTkNFKTsKfTsKCmNvbnN0IHBhcnNlU25hcFBvaW50SGVpZ2h0ID0gKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcsIHZpZXdwb3J0SGVpZ2h0OiBudW1iZXIpID0+IHsKCWlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7CgkJcmV0dXJuIHZhbHVlIDw9IDEgPyB2YWx1ZSAqIHZpZXdwb3J0SGVpZ2h0IDogdmFsdWU7Cgl9CgoJY29uc3QgdHJpbW1lZCA9IHZhbHVlLnRyaW0oKTsKCWNvbnN0IG51bWVyaWMgPSBwYXJzZUZsb2F0KHRyaW1tZWQpOwoKCWlmIChOdW1iZXIuaXNOYU4obnVtZXJpYykpIHsKCQlyZXR1cm4gdmlld3BvcnRIZWlnaHQ7Cgl9CgoJaWYgKHRyaW1tZWQuZW5kc1dpdGgoJyUnKSkgewoJCXJldHVybiAobnVtZXJpYyAvIDEwMCkgKiB2aWV3cG9ydEhlaWdodDsKCX0KCglyZXR1cm4gbnVtZXJpYzsKfTsKCmNvbnN0IGNsYW1wSW5kZXggPSAoaW5kZXg6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpID0+IHsKCWlmIChsZW5ndGggPD0gMCkgcmV0dXJuIDA7CglyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoaW5kZXgsIDApLCBsZW5ndGggLSAxKTsKfTsKCmNvbnN0IGhhc0FjdGl2ZVNlbGVjdGlvbiA9ICgpID0+Cgl0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhIXdpbmRvdy5nZXRTZWxlY3Rpb24oKT8udG9TdHJpbmcoKTsKCmNvbnN0IGlzU2Nyb2xsYWJsZUVsZW1lbnQgPSAoZWxlbWVudD86IEhUTUxFbGVtZW50IHwgbnVsbCkgPT4gewoJaWYgKCFlbGVtZW50KSByZXR1cm4gZmFsc2U7CglyZXR1cm4gZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBlbGVtZW50LmNsaWVudEhlaWdodCArIDE7Cn07CgpleHBvcnQgaW50ZXJmYWNlIERyYXdlclByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CglvcGVuPzogYm9vbGVhbjsKCW9uT3BlbkNoYW5nZT86IChvcGVuOiBib29sZWFuKSA9PiB2b2lkOwp9CgpleHBvcnQgaW50ZXJmYWNlIERyYXdlclRyaWdnZXJQcm9wcwoJZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWFzQ2hpbGQ/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIERyYXdlclN1cmZhY2VQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXJlc2l6YWJsZT86IGJvb2xlYW47CglhbGxvd1Nocmluaz86IGJvb2xlYW47CglzbmFwUG9pbnRzPzogKG51bWJlciB8IHN0cmluZylbXTsKCWRlZmF1bHRTbmFwUG9pbnQ/OiBudW1iZXIgfCBzdHJpbmc7CglhY3RpdmVTbmFwUG9pbnQ/OiBudW1iZXIgfCBzdHJpbmc7CglvblNuYXBQb2ludENoYW5nZT86IChzbmFwUG9pbnQ6IG51bWJlciB8IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT4gdm9pZDsKCXNuYXBUb1NlcXVlbnRpYWxQb2ludD86IGJvb2xlYW47Cn0KCmludGVyZmFjZSBEcmF3ZXJDb250ZXh0VHlwZSB7CglzdG9yZTogQXJpYWtpdC5EaWFsb2dTdG9yZTsKfQoKY29uc3QgRHJhd2VyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8RHJhd2VyQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KAoJdW5kZWZpbmVkLAopOwoKY29uc3QgdXNlRHJhd2VyID0gKCkgPT4gewoJY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRHJhd2VyQ29udGV4dCk7CglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ0RyYXdlciBjb21wb25lbnRzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBTaGVldCcpOwoJfQoJcmV0dXJuIGNvbnRleHQ7Cn07CgpleHBvcnQgY29uc3QgRHJhd2VyOiBSZWFjdC5GQzxEcmF3ZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCglvcGVuOiBjb250cm9sbGVkT3BlbiwKCW9uT3BlbkNoYW5nZSwKfSkgPT4gewoJY29uc3Qgc3RvcmUgPSBBcmlha2l0LnVzZURpYWxvZ1N0b3JlKAoJCWNvbnRyb2xsZWRPcGVuICE9PSB1bmRlZmluZWQKCQkJPyBvbk9wZW5DaGFuZ2UKCQkJCT8geyBvcGVuOiBjb250cm9sbGVkT3Blbiwgc2V0T3Blbjogb25PcGVuQ2hhbmdlIH0KCQkJCTogeyBvcGVuOiBjb250cm9sbGVkT3BlbiB9CgkJCTogdW5kZWZpbmVkLAoJKTsKCglyZXR1cm4gKAoJCTxEcmF3ZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHN0b3JlIH19PntjaGlsZHJlbn08L0RyYXdlckNvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERyYXdlclRyaWdnZXI6IFJlYWN0LkZDPERyYXdlclRyaWdnZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCWFzQ2hpbGQgPSBmYWxzZSwKCW9uQ2xpY2ssCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IHN0b3JlIH0gPSB1c2VEcmF3ZXIoKTsKCWNvbnN0IGlzT3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ29wZW4nKTsKCgljb25zdCBoYW5kbGVDbGljayA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4gewoJCXN0b3JlLnNob3coKTsKCQlvbkNsaWNrPy4oZSk7Cgl9OwoKCWlmIChhc0NoaWxkICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkgewoJCXJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoCgkJCWNoaWxkcmVuIGFzIFJlYWN0LlJlYWN0RWxlbWVudDwKCQkJCVJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PgoJCQk+LAoJCQl7CgkJCQlvbkNsaWNrOiBoYW5kbGVDbGljaywKCQkJCSdhcmlhLWhhc3BvcHVwJzogJ2RpYWxvZycsCgkJCQknYXJpYS1leHBhbmRlZCc6IGlzT3BlbiwKCQkJCS4uLihjaGlsZHJlbi5wcm9wcyB8fCB7fSksCgkJCX0sCgkJKTsKCX0KCglyZXR1cm4gKAoJCTxidXR0b24KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2Ugbm90LXByb3NlIGlubGluZS1mbGV4IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLW1kIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvd10gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl0eXBlPSJidXR0b24iCgkJCW9uQ2xpY2s9e2hhbmRsZUNsaWNrfQoJCQlhcmlhLWhhc3BvcHVwPSJkaWFsb2ciCgkJCWFyaWEtZXhwYW5kZWQ9e2lzT3Blbn0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvYnV0dG9uPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBEcmF3ZXJTdXJmYWNlOiBSZWFjdC5GQzxEcmF3ZXJTdXJmYWNlUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglhdXRvRm9jdXMsCglyZXNpemFibGUgPSBmYWxzZSwKCWFsbG93U2hyaW5rID0gZmFsc2UsCglzbmFwUG9pbnRzLAoJZGVmYXVsdFNuYXBQb2ludCwKCWFjdGl2ZVNuYXBQb2ludCwKCW9uU25hcFBvaW50Q2hhbmdlLAoJc25hcFRvU2VxdWVudGlhbFBvaW50ID0gZmFsc2UsCglvblBvaW50ZXJEb3duOiB1c2VyT25Qb2ludGVyRG93biwKCW9uUG9pbnRlck1vdmU6IHVzZXJPblBvaW50ZXJNb3ZlLAoJb25Qb2ludGVyVXA6IHVzZXJPblBvaW50ZXJVcCwKCW9uUG9pbnRlckNhbmNlbDogdXNlck9uUG9pbnRlckNhbmNlbCwKCXN0eWxlOiB1c2VyU3R5bGUsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IHN0b3JlIH0gPSB1c2VEcmF3ZXIoKTsKCWNvbnN0IG9wZW4gPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc3RvcmUsICdvcGVuJyk7Cgljb25zdCBtb3VudGVkID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAnbW91bnRlZCcpOwoJY29uc3QgY29udGVudFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7Cgljb25zdCBwb2ludGVyU3RhcnRSZWYgPSBSZWFjdC51c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7Cgljb25zdCBkcmFnU3RhcnRUaW1lUmVmID0gUmVhY3QudXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpOwoJY29uc3QgZHJhZ09mZnNldFJlZiA9IFJlYWN0LnVzZVJlZigwKTsKCWNvbnN0IGFjdGl2ZVBvaW50ZXJJZFJlZiA9IFJlYWN0LnVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCWNvbnN0IG9wZW5UaW1lUmVmID0gUmVhY3QudXNlUmVmPERhdGUgfCBudWxsPihudWxsKTsKCWNvbnN0IGxhc3REcmFnUHJldmVudGVkUmVmID0gUmVhY3QudXNlUmVmPERhdGUgfCBudWxsPihudWxsKTsKCWNvbnN0IGlzQWxsb3dlZFRvRHJhZ1JlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7Cgljb25zdCBkcmF3ZXJIZWlnaHRSZWYgPSBSZWFjdC51c2VSZWYoMCk7Cgljb25zdCBiYXNlVHJhbnNsYXRlUmVmID0gUmVhY3QudXNlUmVmKG9wZW4gPyAnMHB4JyA6ICcxMDAlJyk7Cgljb25zdCBib2R5U2Nyb2xsUmVzdG9yZVJlZiA9IFJlYWN0LnVzZVJlZjxudWxsIHwgKCgpID0+IHZvaWQpPihudWxsKTsKCWNvbnN0IFt2aWV3cG9ydEhlaWdodCwgc2V0Vmlld3BvcnRIZWlnaHRdID0gUmVhY3QudXNlU3RhdGUoCgkJdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiAwLAoJKTsKCWNvbnN0IHNuYXBQb2ludHNFbmFibGVkID0gQXJyYXkuaXNBcnJheShzbmFwUG9pbnRzKSAmJiBzbmFwUG9pbnRzLmxlbmd0aCA+IDA7Cgljb25zdCBbaW50ZXJuYWxTbmFwSW5kZXgsIHNldEludGVybmFsU25hcEluZGV4XSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlciB8IG51bGw+KAoJCW51bGwsCgkpOwoJY29uc3QgW3NuYXBPZmZzZXQsIHNldFNuYXBPZmZzZXRdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nPignMHB4Jyk7Cgljb25zdCBzbmFwSGVpZ2h0cyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWlmICghc25hcFBvaW50c0VuYWJsZWQgfHwgIXNuYXBQb2ludHM/Lmxlbmd0aCB8fCB2aWV3cG9ydEhlaWdodCA8PSAwKSB7CgkJCXJldHVybiBudWxsOwoJCX0KCgkJcmV0dXJuIHNuYXBQb2ludHMubWFwKChwb2ludCkgPT4gewoJCQljb25zdCBkZXNpcmVkSGVpZ2h0ID0gcGFyc2VTbmFwUG9pbnRIZWlnaHQocG9pbnQsIHZpZXdwb3J0SGVpZ2h0KTsKCQkJcmV0dXJuIE1hdGgubWluKGRlc2lyZWRIZWlnaHQsIHZpZXdwb3J0SGVpZ2h0KTsKCQl9KTsKCX0sIFtzbmFwUG9pbnRzLCBzbmFwUG9pbnRzRW5hYmxlZCwgdmlld3BvcnRIZWlnaHRdKTsKCWNvbnN0IHNuYXBPZmZzZXRzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJaWYgKCFzbmFwSGVpZ2h0cykgewoJCQlyZXR1cm4gbnVsbDsKCQl9CgoJCXJldHVybiBzbmFwSGVpZ2h0cy5tYXAoKGhlaWdodCkgPT4gTWF0aC5tYXgodmlld3BvcnRIZWlnaHQgLSBoZWlnaHQsIDApKTsKCX0sIFtzbmFwSGVpZ2h0cywgdmlld3BvcnRIZWlnaHRdKTsKCWNvbnN0IG1heFNuYXBIZWlnaHQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQlpZiAoIXNuYXBIZWlnaHRzIHx8IHNuYXBIZWlnaHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7CgkJcmV0dXJuIHNuYXBIZWlnaHRzLnJlZHVjZSgobWF4LCBoZWlnaHQpID0+IChoZWlnaHQgPiBtYXggPyBoZWlnaHQgOiBtYXgpKTsKCX0sIFtzbmFwSGVpZ2h0c10pOwoJY29uc3QgbWluU25hcE9mZnNldCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWlmICghc25hcE9mZnNldHMgfHwgc25hcE9mZnNldHMubGVuZ3RoID09PSAwKSByZXR1cm4gMDsKCQlyZXR1cm4gc25hcE9mZnNldHMucmVkdWNlKChtaW4sIHZhbHVlKSA9PiAodmFsdWUgPCBtaW4gPyB2YWx1ZSA6IG1pbikpOwoJfSwgW3NuYXBPZmZzZXRzXSk7Cgljb25zdCBnZXRTbmFwSW5kZXhGb3JWYWx1ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShwb2ludDogbnVtYmVyIHwgc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCkgPT4gewoJCQlpZiAoIXNuYXBQb2ludHNFbmFibGVkIHx8ICFzbmFwUG9pbnRzIHx8IHBvaW50ID09PSB1bmRlZmluZWQgfHwgcG9pbnQgPT09IG51bGwpIHsKCQkJCXJldHVybiAtMTsKCQkJfQoJCQlyZXR1cm4gc25hcFBvaW50cy5pbmRleE9mKHBvaW50KTsKCQl9LAoJCVtzbmFwUG9pbnRzLCBzbmFwUG9pbnRzRW5hYmxlZF0sCgkpOwoJY29uc3QgcmVzb2x2ZWRTbmFwSW5kZXggPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQlpZiAoIXNuYXBQb2ludHNFbmFibGVkIHx8ICFzbmFwUG9pbnRzPy5sZW5ndGgpIHsKCQkJcmV0dXJuIG51bGw7CgkJfQoKCQlpZiAoYWN0aXZlU25hcFBvaW50ICE9PSB1bmRlZmluZWQpIHsKCQkJY29uc3QgY29udHJvbGxlZEluZGV4ID0gZ2V0U25hcEluZGV4Rm9yVmFsdWUoYWN0aXZlU25hcFBvaW50KTsKCQkJaWYgKGNvbnRyb2xsZWRJbmRleCAhPT0gLTEpIHsKCQkJCXJldHVybiBjb250cm9sbGVkSW5kZXg7CgkJCX0KCQkJcmV0dXJuIHNuYXBQb2ludHMubGVuZ3RoIC0gMTsKCQl9CgoJCWlmIChpbnRlcm5hbFNuYXBJbmRleCA9PT0gbnVsbCkgewoJCQlyZXR1cm4gbnVsbDsKCQl9CgoJCXJldHVybiBjbGFtcEluZGV4KGludGVybmFsU25hcEluZGV4LCBzbmFwUG9pbnRzLmxlbmd0aCk7Cgl9LCBbCgkJYWN0aXZlU25hcFBvaW50LAoJCWdldFNuYXBJbmRleEZvclZhbHVlLAoJCWludGVybmFsU25hcEluZGV4LAoJCXNuYXBQb2ludHMsCgkJc25hcFBvaW50c0VuYWJsZWQsCgldKTsKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFzbmFwUG9pbnRzRW5hYmxlZCB8fCAhc25hcFBvaW50cz8ubGVuZ3RoKSB7CgkJCXJldHVybjsKCQl9CgoJCWlmIChhY3RpdmVTbmFwUG9pbnQgIT09IHVuZGVmaW5lZCkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBLZWVwIGludGVybmFsIHN0YXRlIGluIHJhbmdlIG9yIGluaXRpYWxpemUgaXQgd2hlbiBzbmFwIHBvaW50cyBjaGFuZ2UuCgkJaWYgKGludGVybmFsU25hcEluZGV4ICE9PSBudWxsICYmIGludGVybmFsU25hcEluZGV4IDwgc25hcFBvaW50cy5sZW5ndGgpIHsKCQkJcmV0dXJuOwoJCX0KCgkJaWYgKGRlZmF1bHRTbmFwUG9pbnQgIT09IHVuZGVmaW5lZCkgewoJCQljb25zdCBkZWZhdWx0SW5kZXggPSBnZXRTbmFwSW5kZXhGb3JWYWx1ZShkZWZhdWx0U25hcFBvaW50KTsKCQkJaWYgKGRlZmF1bHRJbmRleCAhPT0gLTEpIHsKCQkJCXNldEludGVybmFsU25hcEluZGV4KGRlZmF1bHRJbmRleCk7CgkJCQlyZXR1cm47CgkJCX0KCQl9CgoJCXNldEludGVybmFsU25hcEluZGV4KHNuYXBQb2ludHMubGVuZ3RoIC0gMSk7Cgl9LCBbCgkJYWN0aXZlU25hcFBvaW50LAoJCWRlZmF1bHRTbmFwUG9pbnQsCgkJZ2V0U25hcEluZGV4Rm9yVmFsdWUsCgkJaW50ZXJuYWxTbmFwSW5kZXgsCgkJc25hcFBvaW50cywKCQlzbmFwUG9pbnRzRW5hYmxlZCwKCV0pOwoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoCgkJCSFzbmFwUG9pbnRzRW5hYmxlZCB8fAoJCQkhc25hcE9mZnNldHMgfHwKCQkJc25hcE9mZnNldHMubGVuZ3RoID09PSAwIHx8CgkJCXJlc29sdmVkU25hcEluZGV4ID09PSBudWxsCgkJKSB7CgkJCXNldFNuYXBPZmZzZXQoJzBweCcpOwoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBzYWZlSW5kZXggPSBjbGFtcEluZGV4KHJlc29sdmVkU25hcEluZGV4LCBzbmFwT2Zmc2V0cy5sZW5ndGgpOwoJCWNvbnN0IG5leHRPZmZzZXQgPSBzbmFwT2Zmc2V0c1tzYWZlSW5kZXhdOwoJCXNldFNuYXBPZmZzZXQoYCR7bmV4dE9mZnNldH1weGApOwoJfSwgW3Jlc29sdmVkU25hcEluZGV4LCBzbmFwT2Zmc2V0cywgc25hcFBvaW50c0VuYWJsZWRdKTsKCQljb25zdCB1cGRhdGVTbmFwSW5kZXggPSBSZWFjdC51c2VDYWxsYmFjaygKCQkJKGluZGV4OiBudW1iZXIpID0+IHsKCQkJCWlmICghc25hcFBvaW50c0VuYWJsZWQgfHwgIXNuYXBQb2ludHM/Lmxlbmd0aCkgcmV0dXJuOwoJCQkJY29uc3Qgc2FmZUluZGV4ID0gY2xhbXBJbmRleChpbmRleCwgc25hcFBvaW50cy5sZW5ndGgpOwoJCQkJY29uc3Qgc25hcFZhbHVlID0gc25hcFBvaW50c1tzYWZlSW5kZXhdOwoJCQkJaWYgKHNuYXBWYWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgkJCQlvblNuYXBQb2ludENoYW5nZT8uKHNuYXBWYWx1ZSwgc2FmZUluZGV4KTsKCQkJCWlmIChhY3RpdmVTbmFwUG9pbnQgPT09IHVuZGVmaW5lZCkgewoJCQkJCXNldEludGVybmFsU25hcEluZGV4KHNhZmVJbmRleCk7CgkJCQl9CgkJCX0sCgkJW2FjdGl2ZVNuYXBQb2ludCwgb25TbmFwUG9pbnRDaGFuZ2UsIHNuYXBQb2ludHMsIHNuYXBQb2ludHNFbmFibGVkXSwKCSk7CgoJY29uc3Qgc2V0RHJhZ09mZnNldCA9IFJlYWN0LnVzZUNhbGxiYWNrKCh2YWx1ZTogbnVtYmVyKSA9PiB7CgkJZHJhZ09mZnNldFJlZi5jdXJyZW50ID0gdmFsdWU7CgkJY29uc3Qgbm9kZSA9IGNvbnRlbnRSZWYuY3VycmVudDsKCQlpZiAobm9kZSkgewoJCQlub2RlLnN0eWxlLnNldFByb3BlcnR5KCctLWRyYXdlci1kcmFnLW9mZnNldCcsIGAke3ZhbHVlfXB4YCk7CgkJfQoJfSwgW10pOwoJY29uc3Qgc2V0QmFzZVRyYW5zbGF0ZVZhbHVlID0gUmVhY3QudXNlQ2FsbGJhY2soKHZhbHVlOiBzdHJpbmcpID0+IHsKCQliYXNlVHJhbnNsYXRlUmVmLmN1cnJlbnQgPSB2YWx1ZTsKCQljb25zdCBub2RlID0gY29udGVudFJlZi5jdXJyZW50OwoJCWlmIChub2RlKSB7CgkJCW5vZGUuc3R5bGUuc2V0UHJvcGVydHkoJy0tZHJhd2VyLWJhc2UtdHJhbnNsYXRlJywgdmFsdWUpOwoJCX0KCX0sIFtdKTsKCgljb25zdCBzZXREcmFnZ2luZ1N0YXRlID0gUmVhY3QudXNlQ2FsbGJhY2soKGlzRHJhZ2dpbmc6IGJvb2xlYW4pID0+IHsKCQljb25zdCBub2RlID0gY29udGVudFJlZi5jdXJyZW50OwoJCWlmICghbm9kZSkgcmV0dXJuOwoJCWlmIChpc0RyYWdnaW5nKSB7CgkJCW5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLWRyYWdnaW5nJywgJ3RydWUnKTsKCQl9IGVsc2UgewoJCQlub2RlLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1kcmFnZ2luZycpOwoJCX0KCX0sIFtdKTsKCgljb25zdCByZXNldERyYXdlclBvc2l0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCXNldERyYWdnaW5nU3RhdGUoZmFsc2UpOwoJCXNldERyYWdPZmZzZXQoMCk7CgkJaXNBbGxvd2VkVG9EcmFnUmVmLmN1cnJlbnQgPSBmYWxzZTsKCX0sIFtzZXREcmFnT2Zmc2V0LCBzZXREcmFnZ2luZ1N0YXRlXSk7CgoJY29uc3QgcmVsZWFzZVBvaW50ZXJSZWZzID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCXBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDsKCQlkcmFnU3RhcnRUaW1lUmVmLmN1cnJlbnQgPSBudWxsOwoJCWFjdGl2ZVBvaW50ZXJJZFJlZi5jdXJyZW50ID0gbnVsbDsKCQlpc0FsbG93ZWRUb0RyYWdSZWYuY3VycmVudCA9IGZhbHNlOwoJfSwgW10pOwoKCWNvbnN0IGdldERpc21pc3NUaHJlc2hvbGQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJY29uc3QgaGVpZ2h0ID0KCQkJZHJhd2VySGVpZ2h0UmVmLmN1cnJlbnQgfHwgY29udGVudFJlZi5jdXJyZW50Py5vZmZzZXRIZWlnaHQgfHwgMDsKCQlpZiAoaGVpZ2h0IDw9IDApIHsKCQkJcmV0dXJuIERSQUdfRElTTUlTU19NSU5fRElTVEFOQ0U7CgkJfQoJCWNvbnN0IHJhdGlvVGhyZXNob2xkID0gaGVpZ2h0ICogRFJBR19ESVNNSVNTX1JBVElPOwoJCWNvbnN0IGNvbnN0cmFpbmVkID0gTWF0aC5tYXgoRFJBR19ESVNNSVNTX01JTl9ESVNUQU5DRSwgcmF0aW9UaHJlc2hvbGQpOwoJCXJldHVybiBNYXRoLm1pbihjb25zdHJhaW5lZCwgaGVpZ2h0KTsKCX0sIFtdKTsKCgljb25zdCBnZXRWaXNpYmxlU25hcEhlaWdodCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQlpZiAoc25hcFBvaW50c0VuYWJsZWQgJiYgc25hcEhlaWdodHMgJiYgc25hcEhlaWdodHMubGVuZ3RoID4gMCkgewoJCQljb25zdCBmYWxsYmFja0luZGV4ID0KCQkJCXJlc29sdmVkU25hcEluZGV4ID8/IGludGVybmFsU25hcEluZGV4ID8/IHNuYXBIZWlnaHRzLmxlbmd0aCAtIDE7CgkJCWNvbnN0IHNhZmVJbmRleCA9IGNsYW1wSW5kZXgoZmFsbGJhY2tJbmRleCwgc25hcEhlaWdodHMubGVuZ3RoKTsKCQkJY29uc3QgaGVpZ2h0ID0gc25hcEhlaWdodHNbc2FmZUluZGV4XTsKCQkJaWYgKHR5cGVvZiBoZWlnaHQgPT09ICdudW1iZXInKSB7CgkJCQlyZXR1cm4gaGVpZ2h0OwoJCQl9CgkJfQoKCQlpZiAoZHJhd2VySGVpZ2h0UmVmLmN1cnJlbnQgPiAwKSB7CgkJCXJldHVybiBkcmF3ZXJIZWlnaHRSZWYuY3VycmVudDsKCQl9CgoJCXJldHVybiBtYXhTbmFwSGVpZ2h0ID8/IDA7Cgl9LCBbCgkJaW50ZXJuYWxTbmFwSW5kZXgsCgkJbWF4U25hcEhlaWdodCwKCQlyZXNvbHZlZFNuYXBJbmRleCwKCQlzbmFwSGVpZ2h0cywKCQlzbmFwUG9pbnRzRW5hYmxlZCwKCV0pOwoKCWNvbnN0IHNob3VsZEFsbG93RHJhZ0dlc3R1cmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkodGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGwsIGRlbHRhWTogbnVtYmVyKSA9PiB7CgkJCWlmIChoYXNBY3RpdmVTZWxlY3Rpb24oKSkgewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgoJCQljb25zdCBub3cgPSBEYXRlLm5vdygpOwoJCQlpZiAoCgkJCQlvcGVuVGltZVJlZi5jdXJyZW50ICYmCgkJCQlub3cgLSBvcGVuVGltZVJlZi5jdXJyZW50LmdldFRpbWUoKSA8IERSQUdfR0VTVFVSRV9DT09MRE9XTgoJCQkpIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCQlpZiAoCgkJCQlsYXN0RHJhZ1ByZXZlbnRlZFJlZi5jdXJyZW50ICYmCgkJCQlub3cgLSBsYXN0RHJhZ1ByZXZlbnRlZFJlZi5jdXJyZW50LmdldFRpbWUoKSA8IERSQUdfU0NST0xMX0xPQ0tfVElNRU9VVAoJCQkpIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoKCQkJbGV0IGN1cnJlbnQgPSB0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IHRhcmdldCA6IG51bGw7CgoJCQl3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBjb250ZW50UmVmLmN1cnJlbnQpIHsKCQkJCWlmIChjdXJyZW50Lm1hdGNoZXM/LihEUkFXRVJfRFJBR19JR05PUkVfU0VMRUNUT1IpKSB7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoKCQkJCWlmIChpc1Njcm9sbGFibGVFbGVtZW50KGN1cnJlbnQpKSB7CgkJCQkJY29uc3QgZHJhZ2dpbmdEb3duID0gZGVsdGFZID4gMDsKCQkJCQljb25zdCBtYXhTY3JvbGxUb3AgPSBjdXJyZW50LnNjcm9sbEhlaWdodCAtIGN1cnJlbnQuY2xpZW50SGVpZ2h0OwoJCQkJCWNvbnN0IGF0VG9wID0gY3VycmVudC5zY3JvbGxUb3AgPD0gMDsKCQkJCQljb25zdCBhdEJvdHRvbSA9IGN1cnJlbnQuc2Nyb2xsVG9wID49IG1heFNjcm9sbFRvcDsKCgkJCQkJaWYgKGRyYWdnaW5nRG93biAmJiAhYXRUb3ApIHsKCQkJCQkJbGFzdERyYWdQcmV2ZW50ZWRSZWYuY3VycmVudCA9IG5ldyBEYXRlKCk7CgkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQl9CgoJCQkJCWlmICghZHJhZ2dpbmdEb3duICYmICFhdEJvdHRvbSkgewoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfQoKCQkJCWlmIChjdXJyZW50LmdldEF0dHJpYnV0ZT8uKCdyb2xlJykgPT09ICdkaWFsb2cnKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDsKCQkJfQoKCQkJcmV0dXJuIHRydWU7CgkJfSwKCQlbXSwKCSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQljb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7CgkJCXNldFZpZXdwb3J0SGVpZ2h0KHdpbmRvdy5pbm5lckhlaWdodCk7CgkJfTsKCgkJaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CgkJCWhhbmRsZVJlc2l6ZSgpOwoJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTsKCQl9CgoJCXJldHVybiAoKSA9PiB7CgkJCWlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewoJCQkJd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7CgkJCX0KCQl9OwoJfSwgW10pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKG9wZW4pIHsKCQkJb3BlblRpbWVSZWYuY3VycmVudCA9IG5ldyBEYXRlKCk7CgkJfSBlbHNlIHsKCQkJb3BlblRpbWVSZWYuY3VycmVudCA9IG51bGw7CgkJfQoJfSwgW29wZW5dKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm47CgkJaWYgKCFvcGVuKSB7CgkJCWJvZHlTY3JvbGxSZXN0b3JlUmVmLmN1cnJlbnQ/LigpOwoJCQlib2R5U2Nyb2xsUmVzdG9yZVJlZi5jdXJyZW50ID0gbnVsbDsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7CgkJY29uc3QgcHJldmlvdXNPdmVyZmxvdyA9IGJvZHkuc3R5bGUub3ZlcmZsb3c7CgkJY29uc3QgcHJldmlvdXNQYWRkaW5nUmlnaHQgPSBib2R5LnN0eWxlLnBhZGRpbmdSaWdodDsKCQljb25zdCBzY3JvbGxiYXJXaWR0aCA9CgkJCXdpbmRvdy5pbm5lcldpZHRoIC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwoKCQlib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CgkJaWYgKHNjcm9sbGJhcldpZHRoID4gMCkgewoJCQlib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IGAke3Njcm9sbGJhcldpZHRofXB4YDsKCQl9CgoJCWJvZHlTY3JvbGxSZXN0b3JlUmVmLmN1cnJlbnQgPSAoKSA9PiB7CgkJCWJvZHkuc3R5bGUub3ZlcmZsb3cgPSBwcmV2aW91c092ZXJmbG93OwoJCQlib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IHByZXZpb3VzUGFkZGluZ1JpZ2h0OwoJCX07CgoJCXJldHVybiAoKSA9PiB7CgkJCWJvZHlTY3JvbGxSZXN0b3JlUmVmLmN1cnJlbnQ/LigpOwoJCQlib2R5U2Nyb2xsUmVzdG9yZVJlZi5jdXJyZW50ID0gbnVsbDsKCQl9OwoJfSwgW29wZW5dKTsKCglSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gewoJCWlmICghbW91bnRlZCkgcmV0dXJuOwoJCWNvbnN0IG5vZGUgPSBjb250ZW50UmVmLmN1cnJlbnQ7CgkJaWYgKCFub2RlKSByZXR1cm47CgkJY29uc3QgdXBkYXRlSGVpZ2h0ID0gKCkgPT4gewoJCQljb25zdCBoZWlnaHQgPSBub2RlLm9mZnNldEhlaWdodDsKCQkJZHJhd2VySGVpZ2h0UmVmLmN1cnJlbnQgPSBoZWlnaHQ7CgkJfTsKCQl1cGRhdGVIZWlnaHQoKTsKCQlpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyID09PSAndW5kZWZpbmVkJykgcmV0dXJuOwoJCWNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHVwZGF0ZUhlaWdodCgpKTsKCQlvYnNlcnZlci5vYnNlcnZlKG5vZGUpOwoJCXJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7Cgl9LCBbbW91bnRlZF0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFyZXNpemFibGUgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHsKCQkJaWYgKGNvbnRlbnRSZWYuY3VycmVudCAmJiBhbGxvd1NocmluaykgewoJCQkJY29udGVudFJlZi5jdXJyZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdtYXhIZWlnaHQnKTsKCQkJCWNvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnaGVpZ2h0Jyk7CgkJCX0KCQkJaWYgKGNvbnRlbnRSZWYuY3VycmVudCkgewoJCQkJY29udGVudFJlZi5jdXJyZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCctLWRyYXdlci1rZXlib2FyZC1vZmZzZXQnKTsKCQkJfQoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBub2RlID0gY29udGVudFJlZi5jdXJyZW50OwoJCWlmICghbm9kZSkgcmV0dXJuOwoKCQlsZXQgaW5pdGlhbEhlaWdodCA9IG5vZGUub2Zmc2V0SGVpZ2h0IHx8IGRyYXdlckhlaWdodFJlZi5jdXJyZW50IHx8IDA7CgoJCWNvbnN0IHVwZGF0ZUZvclZpZXdwb3J0ID0gKCkgPT4gewoJCQlpZiAoIWNvbnRlbnRSZWYuY3VycmVudCkgcmV0dXJuOwoJCQlpZiAoIWluaXRpYWxIZWlnaHQpIHsKCQkJCWluaXRpYWxIZWlnaHQgPQoJCQkJCWNvbnRlbnRSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQgfHwgZHJhd2VySGVpZ2h0UmVmLmN1cnJlbnQgfHwgMDsKCQkJfQoKCQkJY29uc3Qgdmlld3BvcnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ7CgkJCWNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gdmlld3BvcnQ/LmhlaWdodCA/PyB3aW5kb3cuaW5uZXJIZWlnaHQ7CgkJCWNvbnN0IGRlbHRhID0gTWF0aC5tYXgod2luZG93LmlubmVySGVpZ2h0IC0gdmlld3BvcnRIZWlnaHQsIDApOwoKCQkJaWYgKGRlbHRhID4gMCkgewoJCQkJY29udGVudFJlZi5jdXJyZW50LnN0eWxlLnNldFByb3BlcnR5KAoJCQkJCSctLWRyYXdlci1rZXlib2FyZC1vZmZzZXQnLAoJCQkJCWAkey1kZWx0YX1weGAsCgkJCQkpOwoJCQl9IGVsc2UgewoJCQkJY29udGVudFJlZi5jdXJyZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCctLWRyYXdlci1rZXlib2FyZC1vZmZzZXQnKTsKCQkJfQoKCQkJaWYgKGFsbG93U2hyaW5rICYmIHZpZXdwb3J0SGVpZ2h0ID4gMCkgewoJCQkJY29uc3QgbmV4dEhlaWdodCA9CgkJCQkJZGVsdGEgPiAwCgkJCQkJCT8gTWF0aC5taW4oaW5pdGlhbEhlaWdodCB8fCB2aWV3cG9ydEhlaWdodCwgdmlld3BvcnRIZWlnaHQpCgkJCQkJCTogaW5pdGlhbEhlaWdodCB8fCB2aWV3cG9ydEhlaWdodDsKCQkJCWNvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5tYXhIZWlnaHQgPSBgJHtuZXh0SGVpZ2h0fXB4YDsKCQkJCWNvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtuZXh0SGVpZ2h0fXB4YDsKCQkJfSBlbHNlIGlmICghYWxsb3dTaHJpbmspIHsKCQkJCWNvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWF4SGVpZ2h0Jyk7CgkJCQljb250ZW50UmVmLmN1cnJlbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpOwoJCQl9CgkJfTsKCgkJdXBkYXRlRm9yVmlld3BvcnQoKTsKCQljb25zdCB2aWV3cG9ydCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydDsKCQl2aWV3cG9ydD8uYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRm9yVmlld3BvcnQpOwoJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVGb3JWaWV3cG9ydCk7CgoJCXJldHVybiAoKSA9PiB7CgkJCXZpZXdwb3J0Py5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVGb3JWaWV3cG9ydCk7CgkJCXdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVGb3JWaWV3cG9ydCk7CgkJCWlmIChjb250ZW50UmVmLmN1cnJlbnQpIHsKCQkJCWNvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1kcmF3ZXIta2V5Ym9hcmQtb2Zmc2V0Jyk7CgkJCQlpZiAoYWxsb3dTaHJpbmspIHsKCQkJCQljb250ZW50UmVmLmN1cnJlbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ21heEhlaWdodCcpOwoJCQkJCWNvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnaGVpZ2h0Jyk7CgkJCQl9CgkJCX0KCQl9OwoJfSwgW2FsbG93U2hyaW5rLCBtb3VudGVkLCBvcGVuLCByZXNpemFibGVdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWxldCByYWZPbmU6IG51bWJlciB8IG51bGwgPSBudWxsOwoJCWxldCByYWZUd286IG51bWJlciB8IG51bGwgPSBudWxsOwoKCQlpZiAob3BlbikgewoJCQlzZXREcmFnT2Zmc2V0KDApOwoJCQlzZXREcmFnZ2luZ1N0YXRlKGZhbHNlKTsKCQkJaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CgkJCQlyYWZPbmUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJCQlyYWZUd28gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJCQkJc2V0QmFzZVRyYW5zbGF0ZVZhbHVlKCcwcHgnKTsKCQkJCQl9KTsKCQkJCX0pOwoJCQl9IGVsc2UgewoJCQkJc2V0QmFzZVRyYW5zbGF0ZVZhbHVlKCcwcHgnKTsKCQkJfQoKCQkJcmV0dXJuICgpID0+IHsKCQkJCWlmIChyYWZPbmUgIT09IG51bGwpIHsKCQkJCQljYW5jZWxBbmltYXRpb25GcmFtZShyYWZPbmUpOwoJCQkJfQoJCQkJaWYgKHJhZlR3byAhPT0gbnVsbCkgewoJCQkJCWNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZlR3byk7CgkJCQl9CgkJCX07CgkJfQoKCQljb25zdCBjbG9zaW5nSGVpZ2h0ID0gZ2V0VmlzaWJsZVNuYXBIZWlnaHQoKTsKCQljb25zdCBjbG9zaW5nVHJhbnNsYXRlID0KCQkJdHlwZW9mIGNsb3NpbmdIZWlnaHQgPT09ICdudW1iZXInICYmIGNsb3NpbmdIZWlnaHQgPiAwCgkJCQk/IGAke2Nsb3NpbmdIZWlnaHR9cHhgCgkJCQk6ICcxMDAlJzsKCQlzZXRCYXNlVHJhbnNsYXRlVmFsdWUoY2xvc2luZ1RyYW5zbGF0ZSk7CgkJcmVsZWFzZVBvaW50ZXJSZWZzKCk7CgoJCXJldHVybiAoKSA9PiB7CgkJCWlmIChyYWZPbmUgIT09IG51bGwpIHsKCQkJCWNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZk9uZSk7CgkJCX0KCQkJaWYgKHJhZlR3byAhPT0gbnVsbCkgewoJCQkJY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmVHdvKTsKCQkJfQoJCX07Cgl9LCBbCgkJb3BlbiwKCQlyZWxlYXNlUG9pbnRlclJlZnMsCgkJZ2V0VmlzaWJsZVNuYXBIZWlnaHQsCgkJc2V0QmFzZVRyYW5zbGF0ZVZhbHVlLAoJCXNldERyYWdPZmZzZXQsCgkJc2V0RHJhZ2dpbmdTdGF0ZSwKCV0pOwoKCWNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7CgkJCXVzZXJPblBvaW50ZXJEb3duPy4oZXZlbnQpOwoJCQlpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuOwoJCQlpZiAoIW9wZW4pIHJldHVybjsKCQkJaWYgKGFjdGl2ZVBvaW50ZXJJZFJlZi5jdXJyZW50ICE9PSBudWxsKSByZXR1cm47CgkJCWlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBldmVudC5idXR0b24gIT09IDApIHJldHVybjsKCQkJaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMikgcmV0dXJuOwoKCQkJY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50IHwgbnVsbDsKCQkJaWYgKAoJCQkJdGFyZ2V0ICYmCgkJCQl0eXBlb2YgdGFyZ2V0LmNsb3Nlc3QgPT09ICdmdW5jdGlvbicgJiYKCQkJCXRhcmdldC5jbG9zZXN0KERSQVdFUl9EUkFHX0lHTk9SRV9TRUxFQ1RPUikKCQkJKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCXBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gZXZlbnQuY2xpZW50WTsKCQkJZHJhZ1N0YXJ0VGltZVJlZi5jdXJyZW50ID0gRGF0ZS5ub3coKTsKCQkJYWN0aXZlUG9pbnRlcklkUmVmLmN1cnJlbnQgPSBldmVudC5wb2ludGVySWQ7CgkJCWlzQWxsb3dlZFRvRHJhZ1JlZi5jdXJyZW50ID0gZmFsc2U7CgoJCQlzZXREcmFnZ2luZ1N0YXRlKHRydWUpOwoJCQlzZXREcmFnT2Zmc2V0KDApOwoKCQkJdHJ5IHsKCQkJCWV2ZW50LmN1cnJlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTsKCQkJfSBjYXRjaCB7CgkJCQkvLyBOb29wIGlmIHBvaW50ZXIgY2FwdHVyZSBpc24ndCBhdmFpbGFibGUKCQkJfQoJCX0sCgkJW29wZW4sIHNldERyYWdPZmZzZXQsIHNldERyYWdnaW5nU3RhdGUsIHVzZXJPblBvaW50ZXJEb3duXSwKCSk7CgoJY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHsKCQkJdXNlck9uUG9pbnRlck1vdmU/LihldmVudCk7CgkJCWlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47CgkJCWlmIChwb2ludGVyU3RhcnRSZWYuY3VycmVudCA9PT0gbnVsbCkgcmV0dXJuOwoJCQlpZiAoZXZlbnQucG9pbnRlcklkICE9PSBhY3RpdmVQb2ludGVySWRSZWYuY3VycmVudCkgcmV0dXJuOwoJCQljb25zdCBkZWx0YVkgPSBldmVudC5jbGllbnRZIC0gcG9pbnRlclN0YXJ0UmVmLmN1cnJlbnQ7CgoJCQlpZiAoIWlzQWxsb3dlZFRvRHJhZ1JlZi5jdXJyZW50KSB7CgkJCQljb25zdCBjYW5EcmFnID0gc2hvdWxkQWxsb3dEcmFnR2VzdHVyZShldmVudC50YXJnZXQsIGRlbHRhWSk7CgkJCQlpZiAoIWNhbkRyYWcpIHsKCQkJCQlyZXR1cm47CgkJCQl9CgkJCQlpc0FsbG93ZWRUb0RyYWdSZWYuY3VycmVudCA9IHRydWU7CgkJCX0KCgkJCWlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgewoJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJfQoKCQkJY29uc3QgaGVpZ2h0ID0KCQkJCWRyYXdlckhlaWdodFJlZi5jdXJyZW50IHx8IGNvbnRlbnRSZWYuY3VycmVudD8ub2Zmc2V0SGVpZ2h0IHx8IDA7CgkJCWNvbnN0IG1heFBvc2l0aXZlT2Zmc2V0ID0gaGVpZ2h0ID4gMCA/IGhlaWdodCA6IEZBTExCQUNLX01BWF9PRkZTRVQ7CgkJCWNvbnN0IGlzU25hcE1vZGUgPQoJCQkJc25hcFBvaW50c0VuYWJsZWQgJiYgISFzbmFwT2Zmc2V0cyAmJiBzbmFwT2Zmc2V0cy5sZW5ndGggPiAwOwoJCQlsZXQgbmV4dE9mZnNldCA9IGRlbHRhWTsKCgkJCWlmIChkZWx0YVkgPCAwKSB7CgkJCQlpZiAoaXNTbmFwTW9kZSAmJiByZXNvbHZlZFNuYXBJbmRleCAhPT0gbnVsbCAmJiBzbmFwT2Zmc2V0cykgewoJCQkJCWNvbnN0IGN1cnJlbnRJbmRleCA9IGNsYW1wSW5kZXgocmVzb2x2ZWRTbmFwSW5kZXgsIHNuYXBPZmZzZXRzLmxlbmd0aCk7CgkJCQkJY29uc3QgY3VycmVudFNuYXBPZmZzZXQgPSBzbmFwT2Zmc2V0c1tjdXJyZW50SW5kZXhdID8/IDA7CgkJCQkJY29uc3QgaGlnaGVzdFNuYXBPZmZzZXQgPSBtaW5TbmFwT2Zmc2V0OwoJCQkJCWNvbnN0IGRpc3RhbmNlVG9IaWdoZXN0ID0gaGlnaGVzdFNuYXBPZmZzZXQgLSBjdXJyZW50U25hcE9mZnNldDsKCQkJCQljb25zdCBwcm9qZWN0ZWRPZmZzZXQgPSBjdXJyZW50U25hcE9mZnNldCArIGRlbHRhWTsKCQkJCQljb25zdCBvdmVyc2hvb3RpbmdIaWdoZXN0ID0gcHJvamVjdGVkT2Zmc2V0IDw9IGhpZ2hlc3RTbmFwT2Zmc2V0OwoKCQkJCQlpZiAob3ZlcnNob290aW5nSGlnaGVzdCkgewoJCQkJCQljb25zdCBvdmVyc2hvb3REZWx0YSA9IGRlbHRhWSAtIGRpc3RhbmNlVG9IaWdoZXN0OwoJCQkJCQljb25zdCBvdmVyc2hvb3RMaW1pdCA9IC1NQVhfVVBXQVJEX0RSQUdfRElTVEFOQ0U7CgkJCQkJCWNvbnN0IGNsYW1wZWRPdmVyc2hvb3QgPSBNYXRoLm1heChvdmVyc2hvb3REZWx0YSwgb3ZlcnNob290TGltaXQpOwoJCQkJCQljb25zdCBhdmFpbGFibGVTcGFjZSA9IE1hdGguYWJzKGRpc3RhbmNlVG9IaWdoZXN0KTsKCQkJCQkJY29uc3Qgbm9ybWFsaXplZCA9CgkJCQkJCQlhdmFpbGFibGVTcGFjZSA+IDAgPyBjbGFtcGVkT3ZlcnNob290IC8gYXZhaWxhYmxlU3BhY2UgOiAxOwoJCQkJCQljb25zdCBkYW1waW5nRmFjdG9yID0gMSAvICgxICsgTWF0aC5hYnMobm9ybWFsaXplZCkgKiAzKTsKCQkJCQkJY29uc3QgZGFtcGVkT3ZlcnNob290ID0gTWF0aC5tYXgoCgkJCQkJCQljbGFtcGVkT3ZlcnNob290ICogZGFtcGluZ0ZhY3RvciwKCQkJCQkJCW92ZXJzaG9vdExpbWl0LAoJCQkJCQkpOwoJCQkJCQluZXh0T2Zmc2V0ID0gZGlzdGFuY2VUb0hpZ2hlc3QgKyBkYW1wZWRPdmVyc2hvb3Q7CgkJCQkJfSBlbHNlIHsKCQkJCQkJbmV4dE9mZnNldCA9IGRlbHRhWTsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCW5leHRPZmZzZXQgPSBkYW1wZW5VcHdhcmREcmFnKGRlbHRhWSk7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQluZXh0T2Zmc2V0ID0gTWF0aC5taW4oZGVsdGFZLCBtYXhQb3NpdGl2ZU9mZnNldCk7CgkJCX0KCgkJCXNldERyYWdPZmZzZXQobmV4dE9mZnNldCk7CgkJfSwKCQlbCgkJCW1pblNuYXBPZmZzZXQsCgkJCXJlc29sdmVkU25hcEluZGV4LAoJCQlzbmFwT2Zmc2V0cywKCQkJc25hcFBvaW50c0VuYWJsZWQsCgkJCXNob3VsZEFsbG93RHJhZ0dlc3R1cmUsCgkJCXVzZXJPblBvaW50ZXJNb3ZlLAoJCQlzZXREcmFnT2Zmc2V0LAoJCV0sCgkpOwoKCWNvbnN0IGdldENsb3Nlc3RTbmFwSW5kZXggPSBSZWFjdC51c2VDYWxsYmFjaygKCQkodmFsdWU6IG51bWJlcikgPT4gewoJCQlpZiAoIXNuYXBPZmZzZXRzIHx8IHNuYXBPZmZzZXRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7CgoJCQlsZXQgY2xvc2VzdCA9IDA7CgkJCWxldCBzbWFsbGVzdERpZmYgPSBNYXRoLmFicyh2YWx1ZSAtIHNuYXBPZmZzZXRzWzBdKTsKCgkJCWZvciAobGV0IGkgPSAxOyBpIDwgc25hcE9mZnNldHMubGVuZ3RoOyBpICs9IDEpIHsKCQkJCWNvbnN0IGRpZmYgPSBNYXRoLmFicyh2YWx1ZSAtIHNuYXBPZmZzZXRzW2ldKTsKCQkJCWlmIChkaWZmIDwgc21hbGxlc3REaWZmKSB7CgkJCQkJY2xvc2VzdCA9IGk7CgkJCQkJc21hbGxlc3REaWZmID0gZGlmZjsKCQkJCX0KCQkJfQoKCQkJcmV0dXJuIGNsb3Nlc3Q7CgkJfSwKCQlbc25hcE9mZnNldHNdLAoJKTsKCWNvbnN0IGhhbmRsZVBvaW50ZXJVcCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4gewoJCQl1c2VyT25Qb2ludGVyVXA/LihldmVudCk7CgkJCWlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47CgkJCWlmIChldmVudC5wb2ludGVySWQgIT09IGFjdGl2ZVBvaW50ZXJJZFJlZi5jdXJyZW50KSByZXR1cm47CgoJCQlpZiAoZXZlbnQuY3VycmVudFRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpKSB7CgkJCQlldmVudC5jdXJyZW50VGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpOwoJCQl9CgoJCQlpZiAocG9pbnRlclN0YXJ0UmVmLmN1cnJlbnQgPT09IG51bGwpIHsKCQkJCXNldERyYWdnaW5nU3RhdGUoZmFsc2UpOwoJCQkJcmVsZWFzZVBvaW50ZXJSZWZzKCk7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWNvbnN0IGVsYXBzZWQgPSBkcmFnU3RhcnRUaW1lUmVmLmN1cnJlbnQKCQkJCT8gRGF0ZS5ub3coKSAtIGRyYWdTdGFydFRpbWVSZWYuY3VycmVudAoJCQkJOiAwOwoKCQkJY29uc3Qgb2Zmc2V0ID0gZHJhZ09mZnNldFJlZi5jdXJyZW50OwoJCQljb25zdCBwb3NpdGl2ZU9mZnNldCA9IE1hdGgubWF4KDAsIG9mZnNldCk7CgkJCWNvbnN0IHZlbG9jaXR5ID0gZWxhcHNlZCA+IDAgPyBNYXRoLmFicyhvZmZzZXQpIC8gZWxhcHNlZCA6IDA7CgkJCWNvbnN0IGRyYWdnaW5nRG93biA9IG9mZnNldCA+IDA7CgkJCWNvbnN0IGRyYWdnaW5nVXAgPSBvZmZzZXQgPCAwOwoJCWNvbnN0IGhhc1NuYXBEYXRhID0KCQkJc25hcFBvaW50c0VuYWJsZWQgJiYKCQkJISFzbmFwT2Zmc2V0cyAmJgoJCQlzbmFwT2Zmc2V0cy5sZW5ndGggPiAwICYmCgkJCXJlc29sdmVkU25hcEluZGV4ICE9PSBudWxsOwoKCQlpZiAoaGFzU25hcERhdGEgJiYgc25hcE9mZnNldHMgJiYgcmVzb2x2ZWRTbmFwSW5kZXggIT09IG51bGwpIHsKCQkJY29uc3Qgc2FmZUluZGV4ID0gY2xhbXBJbmRleChyZXNvbHZlZFNuYXBJbmRleCwgc25hcE9mZnNldHMubGVuZ3RoKTsKCQkJY29uc3QgY3VycmVudE9mZnNldCA9IHNuYXBPZmZzZXRzW3NhZmVJbmRleF0gPz8gMDsKCQkJY29uc3QgcHJvamVjdGVkT2Zmc2V0ID0gY3VycmVudE9mZnNldCArIG9mZnNldDsKCQkJY29uc3Qgc2hvdWxkRGlzbWlzcyA9CgkJCQlzYWZlSW5kZXggPT09IDAgJiYKCQkJCWRyYWdnaW5nRG93biAmJgoJCQkJKHBvc2l0aXZlT2Zmc2V0ID49IGdldERpc21pc3NUaHJlc2hvbGQoKSB8fAoJCQkJCXZlbG9jaXR5ID4gRFJBR19WRUxPQ0lUWV9USFJFU0hPTEQpOwoKCQkJaWYgKHNob3VsZERpc21pc3MpIHsKCQkJCXJlc2V0RHJhd2VyUG9zaXRpb24oKTsKCQkJCXJlbGVhc2VQb2ludGVyUmVmcygpOwoJCQkJc3RvcmUuaGlkZSgpOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQljb25zdCB2aWV3cG9ydExpbWl0ID0KCQkJCXZpZXdwb3J0SGVpZ2h0IHx8CgkJCQkodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiAwKTsKCQkJY29uc3QgY2FuVXNlVmVsb2NpdHlKdW1wID0KCQkJCXZlbG9jaXR5ID4gRFJBR19WRUxPQ0lUWV9USFJFU0hPTEQgJiYKCQkJCSghdmlld3BvcnRMaW1pdCB8fCBNYXRoLmFicyhvZmZzZXQpIDwgdmlld3BvcnRMaW1pdCAqIDAuNCk7CgkJCWNvbnN0IGp1bXBCeVZlbG9jaXR5ID0gY2FuVXNlVmVsb2NpdHlKdW1wICYmICFzbmFwVG9TZXF1ZW50aWFsUG9pbnQ7CgkJCWxldCB0YXJnZXRJbmRleDogbnVtYmVyIHwgbnVsbCA9IG51bGw7CgoJCQlpZiAoY2FuVXNlVmVsb2NpdHlKdW1wKSB7CgkJCQlpZiAoZHJhZ2dpbmdVcCAmJiBzYWZlSW5kZXggPCBzbmFwT2Zmc2V0cy5sZW5ndGggLSAxKSB7CgkJCQkJdGFyZ2V0SW5kZXggPSBqdW1wQnlWZWxvY2l0eQoJCQkJCQk/IHNuYXBPZmZzZXRzLmxlbmd0aCAtIDEKCQkJCQkJOiBjbGFtcEluZGV4KHNhZmVJbmRleCArIDEsIHNuYXBPZmZzZXRzLmxlbmd0aCk7CgkJCQl9IGVsc2UgaWYgKGRyYWdnaW5nRG93biAmJiBzYWZlSW5kZXggPiAwKSB7CgkJCQkJdGFyZ2V0SW5kZXggPSBqdW1wQnlWZWxvY2l0eQoJCQkJCQk/IDAKCQkJCQkJOiBjbGFtcEluZGV4KHNhZmVJbmRleCAtIDEsIHNuYXBPZmZzZXRzLmxlbmd0aCk7CgkJCQl9CgkJCX0KCgkJCWlmICh0YXJnZXRJbmRleCA9PT0gbnVsbCkgewoJCQkJY29uc3QgY2xvc2VzdEluZGV4ID0gZ2V0Q2xvc2VzdFNuYXBJbmRleChwcm9qZWN0ZWRPZmZzZXQpOwoJCQkJaWYgKGNsb3Nlc3RJbmRleCAhPT0gbnVsbCkgewoJCQkJCXRhcmdldEluZGV4ID0gY2xvc2VzdEluZGV4OwoJCQkJfSBlbHNlIHsKCQkJCQl0YXJnZXRJbmRleCA9IHNhZmVJbmRleDsKCQkJCX0KCQkJfQoKCQkJdXBkYXRlU25hcEluZGV4KHRhcmdldEluZGV4KTsKCQkJcmVzZXREcmF3ZXJQb3NpdGlvbigpOwoJCQlyZWxlYXNlUG9pbnRlclJlZnMoKTsKCQkJcmV0dXJuOwoJCX0KCgkJCWNvbnN0IHNob3VsZERpc21pc3MgPQoJCQkJcG9zaXRpdmVPZmZzZXQgPj0gZ2V0RGlzbWlzc1RocmVzaG9sZCgpIHx8CgkJCQl2ZWxvY2l0eSA+IERSQUdfVkVMT0NJVFlfVEhSRVNIT0xEOwoKCQkJaWYgKHNob3VsZERpc21pc3MpIHsKCQkJCXJlc2V0RHJhd2VyUG9zaXRpb24oKTsKCQkJCXN0b3JlLmhpZGUoKTsKCQkJfSBlbHNlIHsKCQkJCXJlc2V0RHJhd2VyUG9zaXRpb24oKTsKCQkJfQoKCQkJcmVsZWFzZVBvaW50ZXJSZWZzKCk7CgkJfSwKCQkJWwoJCQkJZ2V0Q2xvc2VzdFNuYXBJbmRleCwKCQkJCWdldERpc21pc3NUaHJlc2hvbGQsCgkJCQl1cGRhdGVTbmFwSW5kZXgsCgkJCQlyZXNldERyYXdlclBvc2l0aW9uLAoJCQkJcmVsZWFzZVBvaW50ZXJSZWZzLAoJCQkJcmVzb2x2ZWRTbmFwSW5kZXgsCgkJCQlzbmFwT2Zmc2V0cywKCQkJCXNuYXBQb2ludHNFbmFibGVkLAoJCQkJc25hcFRvU2VxdWVudGlhbFBvaW50LAoJCQkJdmlld3BvcnRIZWlnaHQsCgkJCQlzdG9yZSwKCQkJCXVzZXJPblBvaW50ZXJVcCwKCQkJCXNldERyYWdnaW5nU3RhdGUsCgkJCV0sCgkJKTsKCgljb25zdCBoYW5kbGVQb2ludGVyQ2FuY2VsID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7CgkJCXVzZXJPblBvaW50ZXJDYW5jZWw/LihldmVudCk7CgkJCWlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47CgkJCWlmIChldmVudC5wb2ludGVySWQgIT09IGFjdGl2ZVBvaW50ZXJJZFJlZi5jdXJyZW50KSByZXR1cm47CgoJCQlpZiAoZXZlbnQuY3VycmVudFRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpKSB7CgkJCQlldmVudC5jdXJyZW50VGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpOwoJCQl9CgoJCQlyZXNldERyYXdlclBvc2l0aW9uKCk7CgkJCXJlbGVhc2VQb2ludGVyUmVmcygpOwoJCX0sCgkJW3VzZXJPblBvaW50ZXJDYW5jZWwsIHJlbGVhc2VQb2ludGVyUmVmcywgcmVzZXREcmF3ZXJQb3NpdGlvbl0sCgkpOwoKCWlmICghbW91bnRlZCkgcmV0dXJuIG51bGw7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5EaWFsb2cKCQkJc3RvcmU9e3N0b3JlfQoJCQlwb3J0YWwKCQkJYmFja2Ryb3A9ewoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdmaXhlZCBpbnNldC0wIHotNDAgYmctb3ZlcmxheS81MCBiYWNrZHJvcC1ibHVyLXNtJywKCQkJCQkJJ29wYWNpdHktMCB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoJywKCQkJCQkJJ2RhdGEtZW50ZXI6b3BhY2l0eS0xMDAgZGF0YS1sZWF2ZTpvcGFjaXR5LTAnLAoJCQkJCSl9CgkJCQkvPgoJCQl9CgkJCXJlZj17Y29udGVudFJlZn0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCWRyYXdlckNvbnRlbnQsCgkJCQknei01MCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCW9uUG9pbnRlckRvd249e2hhbmRsZVBvaW50ZXJEb3dufQoJCQlvblBvaW50ZXJNb3ZlPXtoYW5kbGVQb2ludGVyTW92ZX0KCQkJb25Qb2ludGVyVXA9e2hhbmRsZVBvaW50ZXJVcH0KCQkJb25Qb2ludGVyQ2FuY2VsPXtoYW5kbGVQb2ludGVyQ2FuY2VsfQoJCQlzdHlsZT17CgkJCQl7CgkJCQkJLi4udXNlclN0eWxlLAoJCQkJCSctLWRyYXdlci1iYXNlLXRyYW5zbGF0ZSc6IGJhc2VUcmFuc2xhdGVSZWYuY3VycmVudCwKCQkJCQknLS1kcmF3ZXItc25hcC1vZmZzZXQnOiBzbmFwT2Zmc2V0LAoJCQkJCS4uLihzbmFwUG9pbnRzRW5hYmxlZCAmJiBtYXhTbmFwSGVpZ2h0CgkJCQkJCT8geyBtaW5IZWlnaHQ6IGAke21heFNuYXBIZWlnaHR9cHhgIH0KCQkJCQkJOiB7fSksCgkJCQl9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMKCQkJfQoJCQl7Li4uKGF1dG9Gb2N1cyA9PT0gdW5kZWZpbmVkID8ge30gOiB7IGF1dG9Gb2N1cyB9KX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5EaWFsb2c+CgkpOwp9OwoKZXhwb3J0IGludGVyZmFjZSBEcmF3ZXJDb250ZW50UHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBEcmF3ZXJDb250ZW50OiBSZWFjdC5GQzxEcmF3ZXJDb250ZW50UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgZmxleC0xIHAtNCB0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNzAnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "index.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgRGlhbG9nUHJpbWl0aXZlIGZyb20gJ0ByYWRpeC11aS9yZWFjdC1kaWFsb2cnOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBEcmF3ZXJDb250ZXh0LCB1c2VEcmF3ZXJDb250ZXh0IH0gZnJvbSAnLi9jb250ZXh0JzsKaW1wb3J0ICcuL3N0eWxlLmNzcyc7CmltcG9ydCB7IHVzZVByZXZlbnRTY3JvbGwsIGlzSW5wdXQgfSBmcm9tICcuL3VzZS1wcmV2ZW50LXNjcm9sbCc7CmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gJy4vdXNlLWNvbXBvc2VkLXJlZnMnOwppbXBvcnQgeyB1c2VTbmFwUG9pbnRzIH0gZnJvbSAnLi91c2Utc25hcC1wb2ludHMnOwppbXBvcnQgeyBzZXQsIGdldFRyYW5zbGF0ZSwgZGFtcGVuVmFsdWUsIGlzVmVydGljYWwsIHJlc2V0IH0gZnJvbSAnLi9oZWxwZXJzJzsKaW1wb3J0IHsKICBUUkFOU0lUSU9OUywKICBWRUxPQ0lUWV9USFJFU0hPTEQsCiAgQ0xPU0VfVEhSRVNIT0xELAogIFNDUk9MTF9MT0NLX1RJTUVPVVQsCiAgQk9SREVSX1JBRElVUywKICBORVNURURfRElTUExBQ0VNRU5ULAogIFdJTkRPV19UT1BfT0ZGU0VULAogIERSQUdfQ0xBU1MsCn0gZnJvbSAnLi9jb25zdGFudHMnOwppbXBvcnQgeyBEcmF3ZXJEaXJlY3Rpb24gfSBmcm9tICcuL3R5cGVzJzsKaW1wb3J0IHsgdXNlQ29udHJvbGxhYmxlU3RhdGUgfSBmcm9tICcuL3VzZS1jb250cm9sbGFibGUtc3RhdGUnOwppbXBvcnQgeyB1c2VTY2FsZUJhY2tncm91bmQgfSBmcm9tICcuL3VzZS1zY2FsZS1iYWNrZ3JvdW5kJzsKaW1wb3J0IHsgdXNlUG9zaXRpb25GaXhlZCB9IGZyb20gJy4vdXNlLXBvc2l0aW9uLWZpeGVkJzsKaW1wb3J0IHsgaXNJT1MsIGlzTW9iaWxlRmlyZWZveCB9IGZyb20gJy4vYnJvd3Nlcic7CgpleHBvcnQgaW50ZXJmYWNlIFdpdGhGYWRlRnJvbVByb3BzIHsKICAvKioKICAgKiBBcnJheSBvZiBudW1iZXJzIGZyb20gMCB0byAxMDAgdGhhdCBjb3JyZXNwb25kcyB0byAlIG9mIHRoZSBzY3JlZW4gYSBnaXZlbiBzbmFwIHBvaW50IHNob3VsZCB0YWtlIHVwLgogICAqIFNob3VsZCBnbyBmcm9tIGxlYXN0IHZpc2libGUuIEV4YW1wbGUgYFswLjIsIDAuNSwgMC44XWAuCiAgICogWW91IGNhbiBhbHNvIHVzZSBweCB2YWx1ZXMsIHdoaWNoIGRvZXNuJ3QgdGFrZSBzY3JlZW4gaGVpZ2h0IGludG8gYWNjb3VudC4KICAgKi8KICBzbmFwUG9pbnRzOiAobnVtYmVyIHwgc3RyaW5nKVtdOwogIC8qKgogICAqIEluZGV4IG9mIGEgYHNuYXBQb2ludGAgZnJvbSB3aGljaCB0aGUgb3ZlcmxheSBmYWRlIHNob3VsZCBiZSBhcHBsaWVkLiBEZWZhdWx0cyB0byB0aGUgbGFzdCBzbmFwIHBvaW50LgogICAqLwogIGZhZGVGcm9tSW5kZXg6IG51bWJlcjsKfQoKZXhwb3J0IGludGVyZmFjZSBXaXRob3V0RmFkZUZyb21Qcm9wcyB7CiAgLyoqCiAgICogQXJyYXkgb2YgbnVtYmVycyBmcm9tIDAgdG8gMTAwIHRoYXQgY29ycmVzcG9uZHMgdG8gJSBvZiB0aGUgc2NyZWVuIGEgZ2l2ZW4gc25hcCBwb2ludCBzaG91bGQgdGFrZSB1cC4KICAgKiBTaG91bGQgZ28gZnJvbSBsZWFzdCB2aXNpYmxlLiBFeGFtcGxlIGBbMC4yLCAwLjUsIDAuOF1gLgogICAqIFlvdSBjYW4gYWxzbyB1c2UgcHggdmFsdWVzLCB3aGljaCBkb2Vzbid0IHRha2Ugc2NyZWVuIGhlaWdodCBpbnRvIGFjY291bnQuCiAgICovCiAgc25hcFBvaW50cz86IChudW1iZXIgfCBzdHJpbmcpW107CiAgZmFkZUZyb21JbmRleD86IG5ldmVyOwp9CgpleHBvcnQgdHlwZSBEaWFsb2dQcm9wcyA9IHsKICBhY3RpdmVTbmFwUG9pbnQ/OiBudW1iZXIgfCBzdHJpbmcgfCBudWxsOwogIHNldEFjdGl2ZVNuYXBQb2ludD86IChzbmFwUG9pbnQ6IG51bWJlciB8IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7CiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7CiAgb3Blbj86IGJvb2xlYW47CiAgLyoqCiAgICogTnVtYmVyIGJldHdlZW4gMCBhbmQgMSB0aGF0IGRldGVybWluZXMgd2hlbiB0aGUgZHJhd2VyIHNob3VsZCBiZSBjbG9zZWQuCiAgICogRXhhbXBsZTogdGhyZXNob2xkIG9mIDAuNSB3b3VsZCBjbG9zZSB0aGUgZHJhd2VyIGlmIHRoZSB1c2VyIHN3aXBlZCBmb3IgNTAlIG9mIHRoZSBoZWlnaHQgb2YgdGhlIGRyYXdlciBvciBtb3JlLgogICAqIEBkZWZhdWx0IDAuMjUKICAgKi8KICBjbG9zZVRocmVzaG9sZD86IG51bWJlcjsKICAvKioKICAgKiBXaGVuIGB0cnVlYCB0aGUgYGJvZHlgIGRvZXNuJ3QgZ2V0IGFueSBzdHlsZXMgYXNzaWduZWQgZnJvbSBWYXVsCiAgICovCiAgbm9Cb2R5U3R5bGVzPzogYm9vbGVhbjsKICBvbk9wZW5DaGFuZ2U/OiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDsKICBzaG91bGRTY2FsZUJhY2tncm91bmQ/OiBib29sZWFuOwogIC8qKgogICAqIFdoZW4gYGZhbHNlYCB3ZSBkb24ndCBjaGFuZ2UgYm9keSdzIGJhY2tncm91bmQgY29sb3Igd2hlbiB0aGUgZHJhd2VyIGlzIG9wZW4uCiAgICogQGRlZmF1bHQgdHJ1ZQogICAqLwogIHNldEJhY2tncm91bmRDb2xvck9uU2NhbGU/OiBib29sZWFuOwogIC8qKgogICAqIER1cmF0aW9uIGZvciB3aGljaCB0aGUgZHJhd2VyIGlzIG5vdCBkcmFnZ2FibGUgYWZ0ZXIgc2Nyb2xsaW5nIGNvbnRlbnQgaW5zaWRlIG9mIHRoZSBkcmF3ZXIuCiAgICogQGRlZmF1bHQgNTAwbXMKICAgKi8KICBzY3JvbGxMb2NrVGltZW91dD86IG51bWJlcjsKICAvKioKICAgKiBXaGVuIGB0cnVlYCwgZG9uJ3QgbW92ZSB0aGUgZHJhd2VyIHVwd2FyZHMgaWYgdGhlcmUncyBzcGFjZSwgYnV0IHJhdGhlciBvbmx5IGNoYW5nZSBpdCdzIGhlaWdodCBzbyBpdCdzIGZ1bGx5IHNjcm9sbGFibGUgd2hlbiB0aGUga2V5Ym9hcmQgaXMgb3BlbgogICAqLwogIGZpeGVkPzogYm9vbGVhbjsKICAvKioKICAgKiBXaGVuIGB0cnVlYCBvbmx5IGFsbG93cyB0aGUgZHJhd2VyIHRvIGJlIGRyYWdnZWQgYnkgdGhlIGA8RHJhd2VyLkhhbmRsZSAvPmAgY29tcG9uZW50LgogICAqIEBkZWZhdWx0IGZhbHNlCiAgICovCiAgaGFuZGxlT25seT86IGJvb2xlYW47CiAgLyoqCiAgICogV2hlbiBgZmFsc2VgIGRyYWdnaW5nLCBjbGlja2luZyBvdXRzaWRlLCBwcmVzc2luZyBlc2MsIGV0Yy4gd2lsbCBub3QgY2xvc2UgdGhlIGRyYXdlci4KICAgKiBVc2UgdGhpcyBpbiBjb21pbmF0aW9uIHdpdGggdGhlIGBvcGVuYCBwcm9wLCBvdGhlcndpc2UgeW91IHdvbid0IGJlIGFibGUgdG8gb3Blbi9jbG9zZSB0aGUgZHJhd2VyLgogICAqIEBkZWZhdWx0IHRydWUKICAgKi8KICBkaXNtaXNzaWJsZT86IGJvb2xlYW47CiAgb25EcmFnPzogKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+LCBwZXJjZW50YWdlRHJhZ2dlZDogbnVtYmVyKSA9PiB2b2lkOwogIG9uUmVsZWFzZT86IChldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50Piwgb3BlbjogYm9vbGVhbikgPT4gdm9pZDsKICAvKioKICAgKiBXaGVuIGBmYWxzZWAgaXQgYWxsb3dzIHRvIGludGVyYWN0IHdpdGggZWxlbWVudHMgb3V0c2lkZSBvZiB0aGUgZHJhd2VyIHdpdGhvdXQgY2xvc2luZyBpdC4KICAgKiBAZGVmYXVsdCB0cnVlCiAgICovCiAgbW9kYWw/OiBib29sZWFuOwogIG5lc3RlZD86IGJvb2xlYW47CiAgb25DbG9zZT86ICgpID0+IHZvaWQ7CiAgLyoqCiAgICogRGlyZWN0aW9uIG9mIHRoZSBkcmF3ZXIuIENhbiBiZSBgdG9wYCBvciBgYm90dG9tYCwgYGxlZnRgLCBgcmlnaHRgLgogICAqIEBkZWZhdWx0ICdib3R0b20nCiAgICovCiAgZGlyZWN0aW9uPzogJ3RvcCcgfCAnYm90dG9tJyB8ICdsZWZ0JyB8ICdyaWdodCc7CiAgLyoqCiAgICogT3BlbmVkIGJ5IGRlZmF1bHQsIHNraXBzIGluaXRpYWwgZW50ZXIgYW5pbWF0aW9uLiBTdGlsbCByZWFjdHMgdG8gYG9wZW5gIHN0YXRlIGNoYW5nZXMKICAgKiBAZGVmYXVsdCBmYWxzZQogICAqLwogIGRlZmF1bHRPcGVuPzogYm9vbGVhbjsKICAvKioKICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAgcHJldmVudHMgc2Nyb2xsaW5nIG9uIHRoZSBkb2N1bWVudCBib2R5IG9uIG1vdW50LCBhbmQgcmVzdG9yZXMgaXQgb24gdW5tb3VudC4KICAgKiBAZGVmYXVsdCBmYWxzZQogICAqLwogIGRpc2FibGVQcmV2ZW50U2Nyb2xsPzogYm9vbGVhbjsKICAvKioKICAgKiBXaGVuIGB0cnVlYCBWYXVsIHdpbGwgcmVwb3NpdGlvbiBpbnB1dHMgcmF0aGVyIHRoYW4gc2Nyb2xsIHRoZW4gaW50byB2aWV3IGlmIHRoZSBrZXlib2FyZCBpcyBpbiB0aGUgd2F5LgogICAqIFNldHRpbmcgaXQgdG8gYGZhbHNlYCB3aWxsIGZhbGwgYmFjayB0byB0aGUgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLgogICAqIEBkZWZhdWx0IHRydWUgd2hlbiB7QGxpbmsgc25hcFBvaW50c30gaXMgZGVmaW5lZAogICAqLwogIHJlcG9zaXRpb25JbnB1dHM/OiBib29sZWFuOwogIC8qKgogICAqIERpc2FibGVkIHZlbG9jaXR5IGJhc2VkIHN3aXBpbmcgZm9yIHNuYXAgcG9pbnRzLgogICAqIFRoaXMgbWVhbnMgdGhhdCBhIHNuYXAgcG9pbnQgd29uJ3QgYmUgc2tpcHBlZCBldmVuIGlmIHRoZSB2ZWxvY2l0eSBpcyBoaWdoIGVub3VnaC4KICAgKiBVc2VmdWwgaWYgZWFjaCBzbmFwIHBvaW50IGluIGEgZHJhd2VyIGlzIGVxdWFsbHkgaW1wb3J0YW50LgogICAqIEBkZWZhdWx0IGZhbHNlCiAgICovCiAgc25hcFRvU2VxdWVudGlhbFBvaW50PzogYm9vbGVhbjsKICBjb250YWluZXI/OiBIVE1MRWxlbWVudCB8IG51bGw7CiAgLyoqCiAgICogR2V0cyB0cmlnZ2VyZWQgYWZ0ZXIgdGhlIG9wZW4gb3IgY2xvc2UgYW5pbWF0aW9uIGVuZHMsIGl0IHJlY2VpdmVzIGFuIGBvcGVuYCBhcmd1bWVudCB3aXRoIHRoZSBgb3BlbmAgc3RhdGUgb2YgdGhlIGRyYXdlciBieSB0aGUgdGltZSB0aGUgZnVuY3Rpb24gd2FzIHRyaWdnZXJlZC4KICAgKiBVc2VmdWwgdG8gcmV2ZXJ0IGFueSBzdGF0ZSBjaGFuZ2VzIGZvciBleGFtcGxlLgogICAqLwogIG9uQW5pbWF0aW9uRW5kPzogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQ7CiAgcHJldmVudFNjcm9sbFJlc3RvcmF0aW9uPzogYm9vbGVhbjsKICBhdXRvRm9jdXM/OiBib29sZWFuOwp9ICYgKFdpdGhGYWRlRnJvbVByb3BzIHwgV2l0aG91dEZhZGVGcm9tUHJvcHMpOwoKZXhwb3J0IGZ1bmN0aW9uIFJvb3QoewogIG9wZW46IG9wZW5Qcm9wLAogIG9uT3BlbkNoYW5nZSwKICBjaGlsZHJlbiwKICBvbkRyYWc6IG9uRHJhZ1Byb3AsCiAgb25SZWxlYXNlOiBvblJlbGVhc2VQcm9wLAogIHNuYXBQb2ludHMsCiAgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kID0gZmFsc2UsCiAgc2V0QmFja2dyb3VuZENvbG9yT25TY2FsZSA9IHRydWUsCiAgY2xvc2VUaHJlc2hvbGQgPSBDTE9TRV9USFJFU0hPTEQsCiAgc2Nyb2xsTG9ja1RpbWVvdXQgPSBTQ1JPTExfTE9DS19USU1FT1VULAogIGRpc21pc3NpYmxlID0gdHJ1ZSwKICBoYW5kbGVPbmx5ID0gZmFsc2UsCiAgZmFkZUZyb21JbmRleCA9IHNuYXBQb2ludHMgJiYgc25hcFBvaW50cy5sZW5ndGggLSAxLAogIGFjdGl2ZVNuYXBQb2ludDogYWN0aXZlU25hcFBvaW50UHJvcCwKICBzZXRBY3RpdmVTbmFwUG9pbnQ6IHNldEFjdGl2ZVNuYXBQb2ludFByb3AsCiAgZml4ZWQsCiAgbW9kYWwgPSB0cnVlLAogIG9uQ2xvc2UsCiAgbmVzdGVkLAogIG5vQm9keVN0eWxlcyA9IGZhbHNlLAogIGRpcmVjdGlvbiA9ICdib3R0b20nLAogIGRlZmF1bHRPcGVuID0gZmFsc2UsCiAgZGlzYWJsZVByZXZlbnRTY3JvbGwgPSB0cnVlLAogIHNuYXBUb1NlcXVlbnRpYWxQb2ludCA9IGZhbHNlLAogIHByZXZlbnRTY3JvbGxSZXN0b3JhdGlvbiA9IGZhbHNlLAogIHJlcG9zaXRpb25JbnB1dHMgPSB0cnVlLAogIG9uQW5pbWF0aW9uRW5kLAogIGNvbnRhaW5lciwKICBhdXRvRm9jdXMgPSBmYWxzZSwKfTogRGlhbG9nUHJvcHMpIHsKICBjb25zdCBbaXNPcGVuID0gZmFsc2UsIHNldElzT3Blbl0gPSB1c2VDb250cm9sbGFibGVTdGF0ZSh7CiAgICBkZWZhdWx0UHJvcDogZGVmYXVsdE9wZW4sCiAgICBwcm9wOiBvcGVuUHJvcCwKICAgIG9uQ2hhbmdlOiAobzogYm9vbGVhbikgPT4gewogICAgICBvbk9wZW5DaGFuZ2U/LihvKTsKCiAgICAgIGlmICghbyAmJiAhbmVzdGVkKSB7CiAgICAgICAgcmVzdG9yZVBvc2l0aW9uU2V0dGluZygpOwogICAgICB9CgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBvbkFuaW1hdGlvbkVuZD8uKG8pOwogICAgICB9LCBUUkFOU0lUSU9OUy5EVVJBVElPTiAqIDEwMDApOwoKICAgICAgaWYgKG8gJiYgIW1vZGFsKSB7CiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIW8pIHsKICAgICAgICAvLyBUaGlzIHdpbGwgYmUgcmVtb3ZlZCB3aGVuIHRoZSBleGl0IGFuaW1hdGlvbiBlbmRzIChgNTAwbXNgKQogICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJzsKICAgICAgfQogICAgfSwKICB9KTsKICBjb25zdCBbaGFzQmVlbk9wZW5lZCwgc2V0SGFzQmVlbk9wZW5lZF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7CiAgY29uc3QgW2lzRHJhZ2dpbmcsIHNldElzRHJhZ2dpbmddID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpOwogIGNvbnN0IFtqdXN0UmVsZWFzZWQsIHNldEp1c3RSZWxlYXNlZF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7CiAgY29uc3Qgb3ZlcmxheVJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7CiAgY29uc3Qgb3BlblRpbWUgPSBSZWFjdC51c2VSZWY8RGF0ZSB8IG51bGw+KG51bGwpOwogIGNvbnN0IGRyYWdTdGFydFRpbWUgPSBSZWFjdC51c2VSZWY8RGF0ZSB8IG51bGw+KG51bGwpOwogIGNvbnN0IGRyYWdFbmRUaW1lID0gUmVhY3QudXNlUmVmPERhdGUgfCBudWxsPihudWxsKTsKICBjb25zdCBsYXN0VGltZURyYWdQcmV2ZW50ZWQgPSBSZWFjdC51c2VSZWY8RGF0ZSB8IG51bGw+KG51bGwpOwogIGNvbnN0IGlzQWxsb3dlZFRvRHJhZyA9IFJlYWN0LnVzZVJlZjxib29sZWFuPihmYWxzZSk7CiAgY29uc3QgbmVzdGVkT3BlbkNoYW5nZVRpbWVyID0gUmVhY3QudXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7CiAgY29uc3QgcG9pbnRlclN0YXJ0ID0gUmVhY3QudXNlUmVmKDApOwogIGNvbnN0IGtleWJvYXJkSXNPcGVuID0gUmVhY3QudXNlUmVmKGZhbHNlKTsKICBjb25zdCBzaG91bGRBbmltYXRlID0gUmVhY3QudXNlUmVmKCFkZWZhdWx0T3Blbik7CiAgY29uc3QgcHJldmlvdXNEaWZmRnJvbUluaXRpYWwgPSBSZWFjdC51c2VSZWYoMCk7CiAgY29uc3QgZHJhd2VyUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKICBjb25zdCBkcmF3ZXJIZWlnaHRSZWYgPSBSZWFjdC51c2VSZWYoZHJhd2VyUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAwKTsKICBjb25zdCBkcmF3ZXJXaWR0aFJlZiA9IFJlYWN0LnVzZVJlZihkcmF3ZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggfHwgMCk7CiAgY29uc3QgaW5pdGlhbERyYXdlckhlaWdodCA9IFJlYWN0LnVzZVJlZigwKTsKCiAgY29uc3Qgb25TbmFwUG9pbnRDaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjaygoYWN0aXZlU25hcFBvaW50SW5kZXg6IG51bWJlcikgPT4gewogICAgLy8gQ2hhbmdlIG9wZW5UaW1lIHJlZiB3aGVuIHdlIHJlYWNoIHRoZSBsYXN0IHNuYXAgcG9pbnQgdG8gcHJldmVudCBkcmFnZ2luZyBmb3IgNTAwbXMgaW5jYXNlIGl0J3Mgc2Nyb2xsYWJsZS4KICAgIGlmIChzbmFwUG9pbnRzICYmIGFjdGl2ZVNuYXBQb2ludEluZGV4ID09PSBzbmFwUG9pbnRzT2Zmc2V0Lmxlbmd0aCAtIDEpIG9wZW5UaW1lLmN1cnJlbnQgPSBuZXcgRGF0ZSgpOwogIH0sIFtdKTsKCiAgY29uc3QgewogICAgYWN0aXZlU25hcFBvaW50LAogICAgYWN0aXZlU25hcFBvaW50SW5kZXgsCiAgICBzZXRBY3RpdmVTbmFwUG9pbnQsCiAgICBvblJlbGVhc2U6IG9uUmVsZWFzZVNuYXBQb2ludHMsCiAgICBzbmFwUG9pbnRzT2Zmc2V0LAogICAgb25EcmFnOiBvbkRyYWdTbmFwUG9pbnRzLAogICAgc2hvdWxkRmFkZSwKICAgIGdldFBlcmNlbnRhZ2VEcmFnZ2VkOiBnZXRTbmFwUG9pbnRzUGVyY2VudGFnZURyYWdnZWQsCiAgfSA9IHVzZVNuYXBQb2ludHMoewogICAgc25hcFBvaW50cywKICAgIGFjdGl2ZVNuYXBQb2ludFByb3AsCiAgICBzZXRBY3RpdmVTbmFwUG9pbnRQcm9wLAogICAgZHJhd2VyUmVmLAogICAgZmFkZUZyb21JbmRleCwKICAgIG92ZXJsYXlSZWYsCiAgICBvblNuYXBQb2ludENoYW5nZSwKICAgIGRpcmVjdGlvbiwKICAgIGNvbnRhaW5lciwKICAgIHNuYXBUb1NlcXVlbnRpYWxQb2ludCwKICB9KTsKCiAgdXNlUHJldmVudFNjcm9sbCh7CiAgICBpc0Rpc2FibGVkOgogICAgICAhaXNPcGVuIHx8IGlzRHJhZ2dpbmcgfHwgIW1vZGFsIHx8IGp1c3RSZWxlYXNlZCB8fCAhaGFzQmVlbk9wZW5lZCB8fCAhcmVwb3NpdGlvbklucHV0cyB8fCAhZGlzYWJsZVByZXZlbnRTY3JvbGwsCiAgfSk7CgogIGNvbnN0IHsgcmVzdG9yZVBvc2l0aW9uU2V0dGluZyB9ID0gdXNlUG9zaXRpb25GaXhlZCh7CiAgICBpc09wZW4sCiAgICBtb2RhbCwKICAgIG5lc3RlZDogbmVzdGVkID8/IGZhbHNlLAogICAgaGFzQmVlbk9wZW5lZCwKICAgIHByZXZlbnRTY3JvbGxSZXN0b3JhdGlvbiwKICAgIG5vQm9keVN0eWxlcywKICB9KTsKCiAgZnVuY3Rpb24gZ2V0U2NhbGUoKSB7CiAgICByZXR1cm4gKHdpbmRvdy5pbm5lcldpZHRoIC0gV0lORE9XX1RPUF9PRkZTRVQpIC8gd2luZG93LmlubmVyV2lkdGg7CiAgfQoKICBmdW5jdGlvbiBvblByZXNzKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSB7CiAgICBpZiAoIWRpc21pc3NpYmxlICYmICFzbmFwUG9pbnRzKSByZXR1cm47CiAgICBpZiAoZHJhd2VyUmVmLmN1cnJlbnQgJiYgIWRyYXdlclJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkgcmV0dXJuOwoKICAgIGRyYXdlckhlaWdodFJlZi5jdXJyZW50ID0gZHJhd2VyUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAwOwogICAgZHJhd2VyV2lkdGhSZWYuY3VycmVudCA9IGRyYXdlclJlZi5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB8fCAwOwogICAgc2V0SXNEcmFnZ2luZyh0cnVlKTsKICAgIGRyYWdTdGFydFRpbWUuY3VycmVudCA9IG5ldyBEYXRlKCk7CgogICAgLy8gaU9TIGRvZXNuJ3QgdHJpZ2dlciBtb3VzZVVwIGFmdGVyIHNjcm9sbGluZyBzbyB3ZSBuZWVkIHRvIGxpc3RlbiB0byB0b3VjaGVkIGluIG9yZGVyIHRvIGRpc2FsbG93IGRyYWdnaW5nCiAgICBpZiAoaXNJT1MoKSkgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiAoaXNBbGxvd2VkVG9EcmFnLmN1cnJlbnQgPSBmYWxzZSksIHsgb25jZTogdHJ1ZSB9KTsKICAgIH0KICAgIC8vIEVuc3VyZSB3ZSBtYWludGFpbiBjb3JyZWN0IHBvaW50ZXIgY2FwdHVyZSBldmVuIHdoZW4gZ29pbmcgb3V0c2lkZSBvZiB0aGUgZHJhd2VyCiAgICAoZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpOwoKICAgIHBvaW50ZXJTdGFydC5jdXJyZW50ID0gaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gZXZlbnQucGFnZVkgOiBldmVudC5wYWdlWDsKICB9CgogIGZ1bmN0aW9uIHNob3VsZERyYWcoZWw6IEV2ZW50VGFyZ2V0LCBpc0RyYWdnaW5nSW5EaXJlY3Rpb246IGJvb2xlYW4pIHsKICAgIGxldCBlbGVtZW50ID0gZWwgYXMgSFRNTEVsZW1lbnQ7CiAgICBjb25zdCBoaWdobGlnaHRlZFRleHQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk/LnRvU3RyaW5nKCk7CiAgICBjb25zdCBzd2lwZUFtb3VudCA9IGRyYXdlclJlZi5jdXJyZW50ID8gZ2V0VHJhbnNsYXRlKGRyYXdlclJlZi5jdXJyZW50LCBkaXJlY3Rpb24pIDogbnVsbDsKICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpOwoKICAgIC8vIEZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9lbWlsa293YWxza2kvdmF1bC9pc3N1ZXMvNDgzCiAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnU0VMRUNUJykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXZhdWwtbm8tZHJhZycpIHx8IGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdmF1bC1uby1kcmFnXScpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnIHx8IGRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFsbG93IHNjcm9sbGluZyB3aGVuIGFuaW1hdGluZwogICAgaWYgKG9wZW5UaW1lLmN1cnJlbnQgJiYgZGF0ZS5nZXRUaW1lKCkgLSBvcGVuVGltZS5jdXJyZW50LmdldFRpbWUoKSA8IDUwMCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgaWYgKHN3aXBlQW1vdW50ICE9PSBudWxsKSB7CiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdib3R0b20nID8gc3dpcGVBbW91bnQgPiAwIDogc3dpcGVBbW91bnQgPCAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICAvLyBEb24ndCBkcmFnIGlmIHRoZXJlJ3MgaGlnaGxpZ2h0ZWQgdGV4dAogICAgaWYgKGhpZ2hsaWdodGVkVGV4dCAmJiBoaWdobGlnaHRlZFRleHQubGVuZ3RoID4gMCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gRGlzYWxsb3cgZHJhZ2dpbmcgaWYgZHJhd2VyIHdhcyBzY3JvbGxlZCB3aXRoaW4gYHNjcm9sbExvY2tUaW1lb3V0YAogICAgaWYgKAogICAgICBsYXN0VGltZURyYWdQcmV2ZW50ZWQuY3VycmVudCAmJgogICAgICBkYXRlLmdldFRpbWUoKSAtIGxhc3RUaW1lRHJhZ1ByZXZlbnRlZC5jdXJyZW50LmdldFRpbWUoKSA8IHNjcm9sbExvY2tUaW1lb3V0ICYmCiAgICAgIHN3aXBlQW1vdW50ID09PSAwCiAgICApIHsKICAgICAgbGFzdFRpbWVEcmFnUHJldmVudGVkLmN1cnJlbnQgPSBkYXRlOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgaWYgKGlzRHJhZ2dpbmdJbkRpcmVjdGlvbikgewogICAgICBsYXN0VGltZURyYWdQcmV2ZW50ZWQuY3VycmVudCA9IGRhdGU7CgogICAgICAvLyBXZSBhcmUgZHJhZ2dpbmcgZG93biBzbyB3ZSBzaG91bGQgYWxsb3cgc2Nyb2xsaW5nCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLyBLZWVwIGNsaW1iaW5nIHVwIHRoZSBET00gdHJlZSBhcyBsb25nIGFzIHRoZXJlJ3MgYSBwYXJlbnQKICAgIHdoaWxlIChlbGVtZW50KSB7CiAgICAgIC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGlzIHNjcm9sbGFibGUKICAgICAgaWYgKGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZWxlbWVudC5jbGllbnRIZWlnaHQpIHsKICAgICAgICBpZiAoZWxlbWVudC5zY3JvbGxUb3AgIT09IDApIHsKICAgICAgICAgIGxhc3RUaW1lRHJhZ1ByZXZlbnRlZC5jdXJyZW50ID0gbmV3IERhdGUoKTsKCiAgICAgICAgICAvLyBUaGUgZWxlbWVudCBpcyBzY3JvbGxhYmxlIGFuZCBub3Qgc2Nyb2xsZWQgdG8gdGhlIHRvcCwgc28gZG9uJ3QgZHJhZwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICdkaWFsb2cnKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIE1vdmUgdXAgdG8gdGhlIHBhcmVudCBlbGVtZW50CiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQ7CiAgICB9CgogICAgLy8gTm8gc2Nyb2xsYWJsZSBwYXJlbnRzIG5vdCBzY3JvbGxlZCB0byB0aGUgdG9wIGZvdW5kLCBzbyBkcmFnCiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIG9uRHJhZyhldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PikgewogICAgaWYgKCFkcmF3ZXJSZWYuY3VycmVudCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gV2UgbmVlZCB0byBrbm93IGhvdyBtdWNoIG9mIHRoZSBkcmF3ZXIgaGFzIGJlZW4gZHJhZ2dlZCBpbiBwZXJjZW50YWdlcyBzbyB0aGF0IHdlIGNhbiB0cmFuc2Zvcm0gYmFja2dyb3VuZCBhY2NvcmRpbmdseQogICAgaWYgKGlzRHJhZ2dpbmcpIHsKICAgICAgY29uc3QgZGlyZWN0aW9uTXVsdGlwbGllciA9IGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgfHwgZGlyZWN0aW9uID09PSAncmlnaHQnID8gMSA6IC0xOwogICAgICBjb25zdCBkcmFnZ2VkRGlzdGFuY2UgPQogICAgICAgIChwb2ludGVyU3RhcnQuY3VycmVudCAtIChpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBldmVudC5wYWdlWSA6IGV2ZW50LnBhZ2VYKSkgKiBkaXJlY3Rpb25NdWx0aXBsaWVyOwogICAgICBjb25zdCBpc0RyYWdnaW5nSW5EaXJlY3Rpb24gPSBkcmFnZ2VkRGlzdGFuY2UgPiAwOwoKICAgICAgLy8gUHJlIGNvbmRpdGlvbiBmb3IgZGlzYWxsb3dpbmcgZHJhZ2dpbmcgaW4gdGhlIGNsb3NlIGRpcmVjdGlvbi4KICAgICAgY29uc3Qgbm9DbG9zZVNuYXBQb2ludHNQcmVDb25kaXRpb24gPSBzbmFwUG9pbnRzICYmICFkaXNtaXNzaWJsZSAmJiAhaXNEcmFnZ2luZ0luRGlyZWN0aW9uOwoKICAgICAgLy8gRGlzYWxsb3cgZHJhZ2dpbmcgZG93biB0byBjbG9zZSB3aGVuIGZpcnN0IHNuYXAgcG9pbnQgaXMgdGhlIGFjdGl2ZSBvbmUgYW5kIGRpc21pc3NpYmxlIHByb3AgaXMgc2V0IHRvIGZhbHNlLgogICAgICBpZiAobm9DbG9zZVNuYXBQb2ludHNQcmVDb25kaXRpb24gJiYgYWN0aXZlU25hcFBvaW50SW5kZXggPT09IDApIHJldHVybjsKCiAgICAgIC8vIFdlIG5lZWQgdG8gY2FwdHVyZSBsYXN0IHRpbWUgd2hlbiBkcmFnIHdpdGggc2Nyb2xsIHdhcyB0cmlnZ2VyZWQgYW5kIGhhdmUgYSB0aW1lb3V0IGJldHdlZW4KICAgICAgY29uc3QgYWJzRHJhZ2dlZERpc3RhbmNlID0gTWF0aC5hYnMoZHJhZ2dlZERpc3RhbmNlKTsKICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXZhdWwtZHJhd2VyLXdyYXBwZXJdJyk7CiAgICAgIGNvbnN0IGRyYXdlckRpbWVuc2lvbiA9CiAgICAgICAgZGlyZWN0aW9uID09PSAnYm90dG9tJyB8fCBkaXJlY3Rpb24gPT09ICd0b3AnID8gZHJhd2VySGVpZ2h0UmVmLmN1cnJlbnQgOiBkcmF3ZXJXaWR0aFJlZi5jdXJyZW50OwoKICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBwZXJjZW50YWdlIGRyYWdnZWQsIHdoZXJlIDEgaXMgdGhlIGNsb3NlZCBwb3NpdGlvbgogICAgICBsZXQgcGVyY2VudGFnZURyYWdnZWQgPSBhYnNEcmFnZ2VkRGlzdGFuY2UgLyBkcmF3ZXJEaW1lbnNpb247CiAgICAgIGNvbnN0IHNuYXBQb2ludFBlcmNlbnRhZ2VEcmFnZ2VkID0gZ2V0U25hcFBvaW50c1BlcmNlbnRhZ2VEcmFnZ2VkKGFic0RyYWdnZWREaXN0YW5jZSwgaXNEcmFnZ2luZ0luRGlyZWN0aW9uKTsKCiAgICAgIGlmIChzbmFwUG9pbnRQZXJjZW50YWdlRHJhZ2dlZCAhPT0gbnVsbCkgewogICAgICAgIHBlcmNlbnRhZ2VEcmFnZ2VkID0gc25hcFBvaW50UGVyY2VudGFnZURyYWdnZWQ7CiAgICAgIH0KCiAgICAgIC8vIERpc2FsbG93IGNsb3NlIGRyYWdnaW5nIGJleW9uZCB0aGUgc21hbGxlc3Qgc25hcCBwb2ludC4KICAgICAgaWYgKG5vQ2xvc2VTbmFwUG9pbnRzUHJlQ29uZGl0aW9uICYmIHBlcmNlbnRhZ2VEcmFnZ2VkID49IDEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghaXNBbGxvd2VkVG9EcmFnLmN1cnJlbnQgJiYgIXNob3VsZERyYWcoZXZlbnQudGFyZ2V0LCBpc0RyYWdnaW5nSW5EaXJlY3Rpb24pKSByZXR1cm47CiAgICAgIGRyYXdlclJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoRFJBR19DTEFTUyk7CiAgICAgIC8vIElmIHNob3VsZERyYWcgZ2F2ZSB0cnVlIG9uY2UgYWZ0ZXIgcHJlc3NpbmcgZG93biBvbiB0aGUgZHJhd2VyLCB3ZSBzZXQgaXNBbGxvd2VkVG9EcmFnIHRvIHRydWUgYW5kIGl0IHdpbGwgcmVtYWluIHRydWUgdW50aWwgd2UgbGV0IGdvLCB0aGVyZSdzIG5vIHJlYXNvbiB0byBkaXNhYmxlIGRyYWdnaW5nIG1pZCB3YXksIGV2ZXIsIGFuZCB0aGF0J3MgdGhlIHNvbHV0aW9uIHRvIGl0CiAgICAgIGlzQWxsb3dlZFRvRHJhZy5jdXJyZW50ID0gdHJ1ZTsKICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7CiAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLAogICAgICB9KTsKCiAgICAgIHNldChvdmVybGF5UmVmLmN1cnJlbnQsIHsKICAgICAgICB0cmFuc2l0aW9uOiAnbm9uZScsCiAgICAgIH0pOwoKICAgICAgaWYgKHNuYXBQb2ludHMpIHsKICAgICAgICBvbkRyYWdTbmFwUG9pbnRzKHsgZHJhZ2dlZERpc3RhbmNlIH0pOwogICAgICB9CgogICAgICAvLyBSdW4gdGhpcyBvbmx5IGlmIHNuYXBQb2ludHMgYXJlIG5vdCBkZWZpbmVkIG9yIGlmIHdlIGFyZSBhdCB0aGUgbGFzdCBzbmFwIHBvaW50IChoaWdoZXN0IG9uZSkKICAgICAgaWYgKGlzRHJhZ2dpbmdJbkRpcmVjdGlvbiAmJiAhc25hcFBvaW50cykgewogICAgICAgIGNvbnN0IGRhbXBlbmVkRHJhZ2dlZERpc3RhbmNlID0gZGFtcGVuVmFsdWUoZHJhZ2dlZERpc3RhbmNlKTsKCiAgICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBNYXRoLm1pbihkYW1wZW5lZERyYWdnZWREaXN0YW5jZSAqIC0xLCAwKSAqIGRpcmVjdGlvbk11bHRpcGxpZXI7CiAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7CiAgICAgICAgICB0cmFuc2Zvcm06IGlzVmVydGljYWwoZGlyZWN0aW9uKQogICAgICAgICAgICA/IGB0cmFuc2xhdGUzZCgwLCAke3RyYW5zbGF0ZVZhbHVlfXB4LCAwKWAKICAgICAgICAgICAgOiBgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGVWYWx1ZX1weCwgMCwgMClgLAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3Qgb3BhY2l0eVZhbHVlID0gMSAtIHBlcmNlbnRhZ2VEcmFnZ2VkOwoKICAgICAgaWYgKHNob3VsZEZhZGUgfHwgKGZhZGVGcm9tSW5kZXggJiYgYWN0aXZlU25hcFBvaW50SW5kZXggPT09IGZhZGVGcm9tSW5kZXggLSAxKSkgewogICAgICAgIG9uRHJhZ1Byb3A/LihldmVudCwgcGVyY2VudGFnZURyYWdnZWQpOwoKICAgICAgICBzZXQoCiAgICAgICAgICBvdmVybGF5UmVmLmN1cnJlbnQsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wYWNpdHk6IGAke29wYWNpdHlWYWx1ZX1gLAogICAgICAgICAgICB0cmFuc2l0aW9uOiAnbm9uZScsCiAgICAgICAgICB9LAogICAgICAgICAgdHJ1ZSwKICAgICAgICApOwogICAgICB9CgogICAgICBpZiAod3JhcHBlciAmJiBvdmVybGF5UmVmLmN1cnJlbnQgJiYgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kKSB7CiAgICAgICAgLy8gQ2FsY3VsYXRlIHBlcmNlbnRhZ2VEcmFnZ2VkIGFzIGEgZnJhY3Rpb24gKDAgdG8gMSkKICAgICAgICBjb25zdCBzY2FsZVZhbHVlID0gTWF0aC5taW4oZ2V0U2NhbGUoKSArIHBlcmNlbnRhZ2VEcmFnZ2VkICogKDEgLSBnZXRTY2FsZSgpKSwgMSk7CiAgICAgICAgY29uc3QgYm9yZGVyUmFkaXVzVmFsdWUgPSA4IC0gcGVyY2VudGFnZURyYWdnZWQgKiA4OwoKICAgICAgICBjb25zdCB0cmFuc2xhdGVWYWx1ZSA9IE1hdGgubWF4KDAsIDE0IC0gcGVyY2VudGFnZURyYWdnZWQgKiAxNCk7CgogICAgICAgIHNldCgKICAgICAgICAgIHdyYXBwZXIsCiAgICAgICAgICB7CiAgICAgICAgICAgIGJvcmRlclJhZGl1czogYCR7Ym9yZGVyUmFkaXVzVmFsdWV9cHhgLAogICAgICAgICAgICB0cmFuc2Zvcm06IGlzVmVydGljYWwoZGlyZWN0aW9uKQogICAgICAgICAgICAgID8gYHNjYWxlKCR7c2NhbGVWYWx1ZX0pIHRyYW5zbGF0ZTNkKDAsICR7dHJhbnNsYXRlVmFsdWV9cHgsIDApYAogICAgICAgICAgICAgIDogYHNjYWxlKCR7c2NhbGVWYWx1ZX0pIHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlVmFsdWV9cHgsIDAsIDApYCwKICAgICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLAogICAgICAgICAgfSwKICAgICAgICAgIHRydWUsCiAgICAgICAgKTsKICAgICAgfQoKICAgICAgaWYgKCFzbmFwUG9pbnRzKSB7CiAgICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBhYnNEcmFnZ2VkRGlzdGFuY2UgKiBkaXJlY3Rpb25NdWx0aXBsaWVyOwoKICAgICAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHsKICAgICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pCiAgICAgICAgICAgID8gYHRyYW5zbGF0ZTNkKDAsICR7dHJhbnNsYXRlVmFsdWV9cHgsIDApYAogICAgICAgICAgICA6IGB0cmFuc2xhdGUzZCgke3RyYW5zbGF0ZVZhbHVlfXB4LCAwLCAwKWAsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9CgogIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgc2hvdWxkQW5pbWF0ZS5jdXJyZW50ID0gdHJ1ZTsKICAgIH0pOwogIH0sIFtdKTsKCiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKICAgIGZ1bmN0aW9uIG9uVmlzdWFsVmlld3BvcnRDaGFuZ2UoKSB7CiAgICAgIGlmICghZHJhd2VyUmVmLmN1cnJlbnQgfHwgIXJlcG9zaXRpb25JbnB1dHMpIHJldHVybjsKCiAgICAgIGNvbnN0IGZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDsKICAgICAgaWYgKGlzSW5wdXQoZm9jdXNlZEVsZW1lbnQpIHx8IGtleWJvYXJkSXNPcGVuLmN1cnJlbnQpIHsKICAgICAgICBjb25zdCB2aXN1YWxWaWV3cG9ydEhlaWdodCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8uaGVpZ2h0IHx8IDA7CiAgICAgICAgY29uc3QgdG90YWxIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgICAgLy8gVGhpcyBpcyB0aGUgaGVpZ2h0IG9mIHRoZSBrZXlib2FyZAogICAgICAgIGxldCBkaWZmRnJvbUluaXRpYWwgPSB0b3RhbEhlaWdodCAtIHZpc3VhbFZpZXdwb3J0SGVpZ2h0OwogICAgICAgIGNvbnN0IGRyYXdlckhlaWdodCA9IGRyYXdlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAwOwogICAgICAgIC8vIEFkanVzdCBkcmF3ZXIgaGVpZ2h0IG9ubHkgaWYgaXQncyB0YWxsIGVub3VnaAogICAgICAgIGNvbnN0IGlzVGFsbEVub3VnaCA9IGRyYXdlckhlaWdodCA+IHRvdGFsSGVpZ2h0ICogMC44OwoKICAgICAgICBpZiAoIWluaXRpYWxEcmF3ZXJIZWlnaHQuY3VycmVudCkgewogICAgICAgICAgaW5pdGlhbERyYXdlckhlaWdodC5jdXJyZW50ID0gZHJhd2VySGVpZ2h0OwogICAgICAgIH0KICAgICAgICBjb25zdCBvZmZzZXRGcm9tVG9wID0gZHJhd2VyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOwoKICAgICAgICAvLyB2aXN1YWxWaWV3cG9ydCBoZWlnaHQgbWF5IGNoYW5nZSBkdWUgdG8gc29tcSBlIHN1YnRsZSBjaGFuZ2VzIHRvIHRoZSBrZXlib2FyZC4gQ2hlY2tpbmcgaWYgdGhlIGhlaWdodCBjaGFuZ2VkIGJ5IDYwIG9yIG1vcmUgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGV5IGtleWJvYXJkIHJlYWxseSBjaGFuZ2VkIGl0cyBvcGVuIHN0YXRlLgogICAgICAgIGlmIChNYXRoLmFicyhwcmV2aW91c0RpZmZGcm9tSW5pdGlhbC5jdXJyZW50IC0gZGlmZkZyb21Jbml0aWFsKSA+IDYwKSB7CiAgICAgICAgICBrZXlib2FyZElzT3Blbi5jdXJyZW50ID0gIWtleWJvYXJkSXNPcGVuLmN1cnJlbnQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoc25hcFBvaW50cyAmJiBzbmFwUG9pbnRzLmxlbmd0aCA+IDAgJiYgc25hcFBvaW50c09mZnNldCAmJiBhY3RpdmVTbmFwUG9pbnRJbmRleCkgewogICAgICAgICAgY29uc3QgYWN0aXZlU25hcFBvaW50SGVpZ2h0ID0gc25hcFBvaW50c09mZnNldFthY3RpdmVTbmFwUG9pbnRJbmRleF0gfHwgMDsKICAgICAgICAgIGRpZmZGcm9tSW5pdGlhbCArPSBhY3RpdmVTbmFwUG9pbnRIZWlnaHQ7CiAgICAgICAgfQogICAgICAgIHByZXZpb3VzRGlmZkZyb21Jbml0aWFsLmN1cnJlbnQgPSBkaWZmRnJvbUluaXRpYWw7CiAgICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSB0byBjaGFuZ2UgdGhlIGhlaWdodCBpZiB0aGUgaW5wdXQgaXMgaW4gdmlldywgd2hlbiB3ZSBhcmUgaGVyZSB3ZSBhcmUgaW4gdGhlIG9wZW5lZCBrZXlib2FyZCBzdGF0ZSBzbyB3ZSBjYW4gY29ycmVjdGx5IGNoZWNrIGlmIHRoZSBpbnB1dCBpcyBpbiB2aWV3CiAgICAgICAgaWYgKGRyYXdlckhlaWdodCA+IHZpc3VhbFZpZXdwb3J0SGVpZ2h0IHx8IGtleWJvYXJkSXNPcGVuLmN1cnJlbnQpIHsKICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGRyYXdlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDsKICAgICAgICAgIGxldCBuZXdEcmF3ZXJIZWlnaHQgPSBoZWlnaHQ7CgogICAgICAgICAgaWYgKGhlaWdodCA+IHZpc3VhbFZpZXdwb3J0SGVpZ2h0KSB7CiAgICAgICAgICAgIG5ld0RyYXdlckhlaWdodCA9IHZpc3VhbFZpZXdwb3J0SGVpZ2h0IC0gKGlzVGFsbEVub3VnaCA/IG9mZnNldEZyb21Ub3AgOiBXSU5ET1dfVE9QX09GRlNFVCk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBXaGVuIGZpeGVkLCBkb24ndCBtb3ZlIHRoZSBkcmF3ZXIgdXB3YXJkcyBpZiB0aGVyZSdzIHNwYWNlLCBidXQgcmF0aGVyIG9ubHkgY2hhbmdlIGl0J3MgaGVpZ2h0IHNvIGl0J3MgZnVsbHkgc2Nyb2xsYWJsZSB3aGVuIHRoZSBrZXlib2FyZCBpcyBvcGVuCiAgICAgICAgICBpZiAoZml4ZWQpIHsKICAgICAgICAgICAgZHJhd2VyUmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0IC0gTWF0aC5tYXgoZGlmZkZyb21Jbml0aWFsLCAwKX1weGA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtNYXRoLm1heChuZXdEcmF3ZXJIZWlnaHQsIHZpc3VhbFZpZXdwb3J0SGVpZ2h0IC0gb2Zmc2V0RnJvbVRvcCl9cHhgOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoIWlzTW9iaWxlRmlyZWZveCgpKSB7CiAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtpbml0aWFsRHJhd2VySGVpZ2h0LmN1cnJlbnR9cHhgOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNuYXBQb2ludHMgJiYgc25hcFBvaW50cy5sZW5ndGggPiAwICYmICFrZXlib2FyZElzT3Blbi5jdXJyZW50KSB7CiAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5zdHlsZS5ib3R0b20gPSBgMHB4YDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gTmVnYXRpdmUgYm90dG9tIHZhbHVlIHdvdWxkIG5ldmVyIG1ha2Ugc2Vuc2UKICAgICAgICAgIGRyYXdlclJlZi5jdXJyZW50LnN0eWxlLmJvdHRvbSA9IGAke01hdGgubWF4KGRpZmZGcm9tSW5pdGlhbCwgMCl9cHhgOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydD8uYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25WaXN1YWxWaWV3cG9ydENoYW5nZSk7CiAgICByZXR1cm4gKCkgPT4gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblZpc3VhbFZpZXdwb3J0Q2hhbmdlKTsKICB9LCBbYWN0aXZlU25hcFBvaW50SW5kZXgsIHNuYXBQb2ludHMsIHNuYXBQb2ludHNPZmZzZXRdKTsKCiAgZnVuY3Rpb24gY2xvc2VEcmF3ZXIoZnJvbVdpdGhpbj86IGJvb2xlYW4pIHsKICAgIGNhbmNlbERyYWcoKTsKICAgIG9uQ2xvc2U/LigpOwoKICAgIGlmICghZnJvbVdpdGhpbikgewogICAgICBzZXRJc09wZW4oZmFsc2UpOwogICAgfQoKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBpZiAoc25hcFBvaW50cykgewogICAgICAgIHNldEFjdGl2ZVNuYXBQb2ludChzbmFwUG9pbnRzWzBdKTsKICAgICAgfQogICAgfSwgVFJBTlNJVElPTlMuRFVSQVRJT04gKiAxMDAwKTsgLy8gc2Vjb25kcyB0byBtcwogIH0KCiAgZnVuY3Rpb24gcmVzZXREcmF3ZXIoKSB7CiAgICBpZiAoIWRyYXdlclJlZi5jdXJyZW50KSByZXR1cm47CiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdmF1bC1kcmF3ZXItd3JhcHBlcl0nKTsKICAgIGNvbnN0IGN1cnJlbnRTd2lwZUFtb3VudCA9IGdldFRyYW5zbGF0ZShkcmF3ZXJSZWYuY3VycmVudCwgZGlyZWN0aW9uKTsKCiAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHsKICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwgMCwgMCknLAogICAgICB0cmFuc2l0aW9uOiBgdHJhbnNmb3JtICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCwKICAgIH0pOwoKICAgIHNldChvdmVybGF5UmVmLmN1cnJlbnQsIHsKICAgICAgdHJhbnNpdGlvbjogYG9wYWNpdHkgJHtUUkFOU0lUSU9OUy5EVVJBVElPTn1zIGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgLAogICAgICBvcGFjaXR5OiAnMScsCiAgICB9KTsKCiAgICAvLyBEb24ndCByZXNldCBiYWNrZ3JvdW5kIGlmIHN3aXBlZCB1cHdhcmRzCiAgICBpZiAoc2hvdWxkU2NhbGVCYWNrZ3JvdW5kICYmIGN1cnJlbnRTd2lwZUFtb3VudCAmJiBjdXJyZW50U3dpcGVBbW91bnQgPiAwICYmIGlzT3BlbikgewogICAgICBzZXQoCiAgICAgICAgd3JhcHBlciwKICAgICAgICB7CiAgICAgICAgICBib3JkZXJSYWRpdXM6IGAke0JPUkRFUl9SQURJVVN9cHhgLAogICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLAogICAgICAgICAgLi4uKGlzVmVydGljYWwoZGlyZWN0aW9uKQogICAgICAgICAgICA/IHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7Z2V0U2NhbGUoKX0pIHRyYW5zbGF0ZTNkKDAsIGNhbGMoZW52KHNhZmUtYXJlYS1pbnNldC10b3ApICsgMTRweCksIDApYCwKICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ3RvcCcsCiAgICAgICAgICAgICAgfQogICAgICAgICAgICA6IHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7Z2V0U2NhbGUoKX0pIHRyYW5zbGF0ZTNkKGNhbGMoZW52KHNhZmUtYXJlYS1pbnNldC10b3ApICsgMTRweCksIDAsIDApYCwKICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2xlZnQnLAogICAgICAgICAgICAgIH0pLAogICAgICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiAndHJhbnNmb3JtLCBib3JkZXItcmFkaXVzJywKICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogYCR7VFJBTlNJVElPTlMuRFVSQVRJT059c2AsCiAgICAgICAgICB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCwKICAgICAgICB9LAogICAgICAgIHRydWUsCiAgICAgICk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjYW5jZWxEcmFnKCkgewogICAgaWYgKCFpc0RyYWdnaW5nIHx8ICFkcmF3ZXJSZWYuY3VycmVudCkgcmV0dXJuOwoKICAgIGRyYXdlclJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoRFJBR19DTEFTUyk7CiAgICBpc0FsbG93ZWRUb0RyYWcuY3VycmVudCA9IGZhbHNlOwogICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7CiAgICBkcmFnRW5kVGltZS5jdXJyZW50ID0gbmV3IERhdGUoKTsKICB9CgogIGZ1bmN0aW9uIG9uUmVsZWFzZShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PiB8IG51bGwpIHsKICAgIGlmICghaXNEcmFnZ2luZyB8fCAhZHJhd2VyUmVmLmN1cnJlbnQpIHJldHVybjsKCiAgICBkcmF3ZXJSZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKERSQUdfQ0xBU1MpOwogICAgaXNBbGxvd2VkVG9EcmFnLmN1cnJlbnQgPSBmYWxzZTsKICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpOwogICAgZHJhZ0VuZFRpbWUuY3VycmVudCA9IG5ldyBEYXRlKCk7CiAgICBjb25zdCBzd2lwZUFtb3VudCA9IGdldFRyYW5zbGF0ZShkcmF3ZXJSZWYuY3VycmVudCwgZGlyZWN0aW9uKTsKCiAgICBpZiAoIWV2ZW50IHx8ICFzaG91bGREcmFnKGV2ZW50LnRhcmdldCwgZmFsc2UpIHx8ICFzd2lwZUFtb3VudCB8fCBOdW1iZXIuaXNOYU4oc3dpcGVBbW91bnQpKSByZXR1cm47CgogICAgaWYgKGRyYWdTdGFydFRpbWUuY3VycmVudCA9PT0gbnVsbCkgcmV0dXJuOwoKICAgIGNvbnN0IHRpbWVUYWtlbiA9IGRyYWdFbmRUaW1lLmN1cnJlbnQuZ2V0VGltZSgpIC0gZHJhZ1N0YXJ0VGltZS5jdXJyZW50LmdldFRpbWUoKTsKICAgIGNvbnN0IGRpc3RNb3ZlZCA9IHBvaW50ZXJTdGFydC5jdXJyZW50IC0gKGlzVmVydGljYWwoZGlyZWN0aW9uKSA/IGV2ZW50LnBhZ2VZIDogZXZlbnQucGFnZVgpOwogICAgY29uc3QgdmVsb2NpdHkgPSBNYXRoLmFicyhkaXN0TW92ZWQpIC8gdGltZVRha2VuOwoKICAgIGlmICh2ZWxvY2l0eSA+IDAuMDUpIHsKICAgICAgLy8gYGp1c3RSZWxlYXNlZGAgaXMgbmVlZGVkIHRvIHByZXZlbnQgdGhlIGRyYXdlciBmcm9tIGZvY3VzaW5nIG9uIGFuIGlucHV0IHdoZW4gdGhlIGRyYWcgZW5kcywgYXMgaXQncyBub3QgdGhlIGludGVudCBtb3N0IG9mIHRoZSB0aW1lLgogICAgICBzZXRKdXN0UmVsZWFzZWQodHJ1ZSk7CgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBzZXRKdXN0UmVsZWFzZWQoZmFsc2UpOwogICAgICB9LCAyMDApOwogICAgfQoKICAgIGlmIChzbmFwUG9pbnRzKSB7CiAgICAgIGNvbnN0IGRpcmVjdGlvbk11bHRpcGxpZXIgPSBkaXJlY3Rpb24gPT09ICdib3R0b20nIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IDEgOiAtMTsKICAgICAgb25SZWxlYXNlU25hcFBvaW50cyh7CiAgICAgICAgZHJhZ2dlZERpc3RhbmNlOiBkaXN0TW92ZWQgKiBkaXJlY3Rpb25NdWx0aXBsaWVyLAogICAgICAgIGNsb3NlRHJhd2VyLAogICAgICAgIHZlbG9jaXR5LAogICAgICAgIGRpc21pc3NpYmxlLAogICAgICB9KTsKICAgICAgb25SZWxlYXNlUHJvcD8uKGV2ZW50LCB0cnVlKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIE1vdmVkIHVwd2FyZHMsIGRvbid0IGRvIGFueXRoaW5nCiAgICBpZiAoZGlyZWN0aW9uID09PSAnYm90dG9tJyB8fCBkaXJlY3Rpb24gPT09ICdyaWdodCcgPyBkaXN0TW92ZWQgPiAwIDogZGlzdE1vdmVkIDwgMCkgewogICAgICByZXNldERyYXdlcigpOwogICAgICBvblJlbGVhc2VQcm9wPy4oZXZlbnQsIHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHZlbG9jaXR5ID4gVkVMT0NJVFlfVEhSRVNIT0xEKSB7CiAgICAgIGNsb3NlRHJhd2VyKCk7CiAgICAgIG9uUmVsZWFzZVByb3A/LihldmVudCwgZmFsc2UpOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgdmlzaWJsZURyYXdlckhlaWdodCA9IE1hdGgubWluKGRyYXdlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA/PyAwLCB3aW5kb3cuaW5uZXJIZWlnaHQpOwogICAgY29uc3QgdmlzaWJsZURyYXdlcldpZHRoID0gTWF0aC5taW4oZHJhd2VyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggPz8gMCwgd2luZG93LmlubmVyV2lkdGgpOwoKICAgIGNvbnN0IGlzSG9yaXpvbnRhbFN3aXBlID0gZGlyZWN0aW9uID09PSAnbGVmdCcgfHwgZGlyZWN0aW9uID09PSAncmlnaHQnOwogICAgaWYgKE1hdGguYWJzKHN3aXBlQW1vdW50KSA+PSAoaXNIb3Jpem9udGFsU3dpcGUgPyB2aXNpYmxlRHJhd2VyV2lkdGggOiB2aXNpYmxlRHJhd2VySGVpZ2h0KSAqIGNsb3NlVGhyZXNob2xkKSB7CiAgICAgIGNsb3NlRHJhd2VyKCk7CiAgICAgIG9uUmVsZWFzZVByb3A/LihldmVudCwgZmFsc2UpOwogICAgICByZXR1cm47CiAgICB9CgogICAgb25SZWxlYXNlUHJvcD8uKGV2ZW50LCB0cnVlKTsKICAgIHJlc2V0RHJhd2VyKCk7CiAgfQoKICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gewogICAgLy8gVHJpZ2dlciBlbnRlciBhbmltYXRpb24gd2l0aG91dCB1c2luZyBDU1MgYW5pbWF0aW9uCiAgICBpZiAoaXNPcGVuKSB7CiAgICAgIHNldChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHsKICAgICAgICBzY3JvbGxCZWhhdmlvcjogJ2F1dG8nLAogICAgICB9KTsKCiAgICAgIG9wZW5UaW1lLmN1cnJlbnQgPSBuZXcgRGF0ZSgpOwogICAgfQoKICAgIHJldHVybiAoKSA9PiB7CiAgICAgIHJlc2V0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3Njcm9sbEJlaGF2aW9yJyk7CiAgICB9OwogIH0sIFtpc09wZW5dKTsKCiAgZnVuY3Rpb24gb25OZXN0ZWRPcGVuQ2hhbmdlKG86IGJvb2xlYW4pIHsKICAgIGNvbnN0IHNjYWxlID0gbyA/ICh3aW5kb3cuaW5uZXJXaWR0aCAtIE5FU1RFRF9ESVNQTEFDRU1FTlQpIC8gd2luZG93LmlubmVyV2lkdGggOiAxOwoKICAgIGNvbnN0IGluaXRpYWxUcmFuc2xhdGUgPSBvID8gLU5FU1RFRF9ESVNQTEFDRU1FTlQgOiAwOwoKICAgIGlmIChuZXN0ZWRPcGVuQ2hhbmdlVGltZXIuY3VycmVudCkgewogICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG5lc3RlZE9wZW5DaGFuZ2VUaW1lci5jdXJyZW50KTsKICAgIH0KCiAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHsKICAgICAgdHJhbnNpdGlvbjogYHRyYW5zZm9ybSAke1RSQU5TSVRJT05TLkRVUkFUSU9OfXMgY3ViaWMtYmV6aWVyKCR7VFJBTlNJVElPTlMuRUFTRS5qb2luKCcsJyl9KWAsCiAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pCiAgICAgICAgPyBgc2NhbGUoJHtzY2FsZX0pIHRyYW5zbGF0ZTNkKDAsICR7aW5pdGlhbFRyYW5zbGF0ZX1weCwgMClgCiAgICAgICAgOiBgc2NhbGUoJHtzY2FsZX0pIHRyYW5zbGF0ZTNkKCR7aW5pdGlhbFRyYW5zbGF0ZX1weCwgMCwgMClgLAogICAgfSk7CgogICAgaWYgKCFvICYmIGRyYXdlclJlZi5jdXJyZW50KSB7CiAgICAgIG5lc3RlZE9wZW5DaGFuZ2VUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBnZXRUcmFuc2xhdGUoZHJhd2VyUmVmLmN1cnJlbnQgYXMgSFRNTEVsZW1lbnQsIGRpcmVjdGlvbik7CiAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7CiAgICAgICAgICB0cmFuc2l0aW9uOiAnbm9uZScsCiAgICAgICAgICB0cmFuc2Zvcm06IGlzVmVydGljYWwoZGlyZWN0aW9uKQogICAgICAgICAgICA/IGB0cmFuc2xhdGUzZCgwLCAke3RyYW5zbGF0ZVZhbHVlfXB4LCAwKWAKICAgICAgICAgICAgOiBgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGVWYWx1ZX1weCwgMCwgMClgLAogICAgICAgIH0pOwogICAgICB9LCA1MDApOwogICAgfQogIH0KCiAgZnVuY3Rpb24gb25OZXN0ZWREcmFnKF9ldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PiwgcGVyY2VudGFnZURyYWdnZWQ6IG51bWJlcikgewogICAgaWYgKHBlcmNlbnRhZ2VEcmFnZ2VkIDwgMCkgcmV0dXJuOwoKICAgIGNvbnN0IGluaXRpYWxTY2FsZSA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIE5FU1RFRF9ESVNQTEFDRU1FTlQpIC8gd2luZG93LmlubmVyV2lkdGg7CiAgICBjb25zdCBuZXdTY2FsZSA9IGluaXRpYWxTY2FsZSArIHBlcmNlbnRhZ2VEcmFnZ2VkICogKDEgLSBpbml0aWFsU2NhbGUpOwogICAgY29uc3QgbmV3VHJhbnNsYXRlID0gLU5FU1RFRF9ESVNQTEFDRU1FTlQgKyBwZXJjZW50YWdlRHJhZ2dlZCAqIE5FU1RFRF9ESVNQTEFDRU1FTlQ7CgogICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7CiAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pCiAgICAgICAgPyBgc2NhbGUoJHtuZXdTY2FsZX0pIHRyYW5zbGF0ZTNkKDAsICR7bmV3VHJhbnNsYXRlfXB4LCAwKWAKICAgICAgICA6IGBzY2FsZSgke25ld1NjYWxlfSkgdHJhbnNsYXRlM2QoJHtuZXdUcmFuc2xhdGV9cHgsIDAsIDApYCwKICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLAogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBvbk5lc3RlZFJlbGVhc2UoX2V2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+LCBvOiBib29sZWFuKSB7CiAgICBjb25zdCBkaW0gPSBpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIGNvbnN0IHNjYWxlID0gbyA/IChkaW0gLSBORVNURURfRElTUExBQ0VNRU5UKSAvIGRpbSA6IDE7CiAgICBjb25zdCB0cmFuc2xhdGUgPSBvID8gLU5FU1RFRF9ESVNQTEFDRU1FTlQgOiAwOwoKICAgIGlmIChvKSB7CiAgICAgIHNldChkcmF3ZXJSZWYuY3VycmVudCwgewogICAgICAgIHRyYW5zaXRpb246IGB0cmFuc2Zvcm0gJHtUUkFOU0lUSU9OUy5EVVJBVElPTn1zIGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgLAogICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pCiAgICAgICAgICA/IGBzY2FsZSgke3NjYWxlfSkgdHJhbnNsYXRlM2QoMCwgJHt0cmFuc2xhdGV9cHgsIDApYAogICAgICAgICAgOiBgc2NhbGUoJHtzY2FsZX0pIHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlfXB4LCAwLCAwKWAsCiAgICAgIH0pOwogICAgfQogIH0KCiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKICAgIGlmICghbW9kYWwpIHsKICAgICAgLy8gTmVlZCB0byBkbyB0aGlzIG1hbnVhbGx5IHVuZm9ydHVuYXRlbHkKICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nOwogICAgICB9KTsKICAgIH0KICB9LCBbbW9kYWxdKTsKCiAgcmV0dXJuICgKICAgIDxEaWFsb2dQcmltaXRpdmUuUm9vdAogICAgICBkZWZhdWx0T3Blbj17ZGVmYXVsdE9wZW59CiAgICAgIG9uT3BlbkNoYW5nZT17KG9wZW4pID0+IHsKICAgICAgICBpZiAoIWRpc21pc3NpYmxlICYmICFvcGVuKSByZXR1cm47CiAgICAgICAgaWYgKG9wZW4pIHsKICAgICAgICAgIHNldEhhc0JlZW5PcGVuZWQodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNsb3NlRHJhd2VyKHRydWUpOwogICAgICAgIH0KCiAgICAgICAgc2V0SXNPcGVuKG9wZW4pOwogICAgICB9fQogICAgICBvcGVuPXtpc09wZW59CiAgICAgIG1vZGFsPXttb2RhbH0KICAgID4KICAgICAgPERyYXdlckNvbnRleHQuUHJvdmlkZXIKICAgICAgICB2YWx1ZT17ewogICAgICAgICAgYWN0aXZlU25hcFBvaW50LAogICAgICAgICAgc25hcFBvaW50cywKICAgICAgICAgIHNldEFjdGl2ZVNuYXBQb2ludCwKICAgICAgICAgIGRyYXdlclJlZiwKICAgICAgICAgIG92ZXJsYXlSZWYsCiAgICAgICAgICBvbk9wZW5DaGFuZ2UsCiAgICAgICAgICBvblByZXNzLAogICAgICAgICAgb25SZWxlYXNlLAogICAgICAgICAgb25EcmFnLAogICAgICAgICAgZGlzbWlzc2libGUsCiAgICAgICAgICBzaG91bGRBbmltYXRlLAogICAgICAgICAgaGFuZGxlT25seSwKICAgICAgICAgIGlzT3BlbiwKICAgICAgICAgIGlzRHJhZ2dpbmcsCiAgICAgICAgICBzaG91bGRGYWRlLAogICAgICAgICAgY2xvc2VEcmF3ZXIsCiAgICAgICAgICBvbk5lc3RlZERyYWcsCiAgICAgICAgICBvbk5lc3RlZE9wZW5DaGFuZ2UsCiAgICAgICAgICBvbk5lc3RlZFJlbGVhc2UsCiAgICAgICAgICBrZXlib2FyZElzT3BlbiwKICAgICAgICAgIG1vZGFsLAogICAgICAgICAgc25hcFBvaW50c09mZnNldCwKICAgICAgICAgIGFjdGl2ZVNuYXBQb2ludEluZGV4LAogICAgICAgICAgZGlyZWN0aW9uLAogICAgICAgICAgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kLAogICAgICAgICAgc2V0QmFja2dyb3VuZENvbG9yT25TY2FsZSwKICAgICAgICAgIG5vQm9keVN0eWxlcywKICAgICAgICAgIGNvbnRhaW5lciwKICAgICAgICAgIGF1dG9Gb2N1cywKICAgICAgICB9fQogICAgICA+CiAgICAgICAge2NoaWxkcmVufQogICAgICA8L0RyYXdlckNvbnRleHQuUHJvdmlkZXI+CiAgICA8L0RpYWxvZ1ByaW1pdGl2ZS5Sb290PgogICk7Cn0KCmV4cG9ydCBjb25zdCBPdmVybGF5ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuT3ZlcmxheT4+KAogIGZ1bmN0aW9uICh7IC4uLnJlc3QgfSwgcmVmKSB7CiAgICBjb25zdCB7IG92ZXJsYXlSZWYsIHNuYXBQb2ludHMsIG9uUmVsZWFzZSwgc2hvdWxkRmFkZSwgaXNPcGVuLCBtb2RhbCwgc2hvdWxkQW5pbWF0ZSB9ID0gdXNlRHJhd2VyQ29udGV4dCgpOwogICAgY29uc3QgY29tcG9zZWRSZWYgPSB1c2VDb21wb3NlZFJlZnMocmVmLCBvdmVybGF5UmVmKTsKICAgIGNvbnN0IGhhc1NuYXBQb2ludHMgPSBzbmFwUG9pbnRzICYmIHNuYXBQb2ludHMubGVuZ3RoID4gMDsKICAgIGNvbnN0IG9uTW91c2VVcCA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4gb25SZWxlYXNlKGV2ZW50KSwgW29uUmVsZWFzZV0pOwoKICAgIC8vIE92ZXJsYXkgaXMgdGhlIGNvbXBvbmVudCB0aGF0IGlzIGxvY2tpbmcgc2Nyb2xsLCByZW1vdmluZyBpdCB3aWxsIHVubG9jayB0aGUgc2Nyb2xsIHdpdGhvdXQgaGF2aW5nIHRvIGRpZyBpbnRvIFJhZGl4J3MgRGlhbG9nIGxpYnJhcnkKICAgIGlmICghbW9kYWwpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcmV0dXJuICgKICAgICAgPERpYWxvZ1ByaW1pdGl2ZS5PdmVybGF5CiAgICAgICAgb25Nb3VzZVVwPXtvbk1vdXNlVXB9CiAgICAgICAgcmVmPXtjb21wb3NlZFJlZn0KICAgICAgICBkYXRhLXZhdWwtb3ZlcmxheT0iIgogICAgICAgIGRhdGEtdmF1bC1zbmFwLXBvaW50cz17aXNPcGVuICYmIGhhc1NuYXBQb2ludHMgPyAndHJ1ZScgOiAnZmFsc2UnfQogICAgICAgIGRhdGEtdmF1bC1zbmFwLXBvaW50cy1vdmVybGF5PXtpc09wZW4gJiYgc2hvdWxkRmFkZSA/ICd0cnVlJyA6ICdmYWxzZSd9CiAgICAgICAgZGF0YS12YXVsLWFuaW1hdGU9e3Nob3VsZEFuaW1hdGU/LmN1cnJlbnQgPyAndHJ1ZScgOiAnZmFsc2UnfQogICAgICAgIHsuLi5yZXN0fQogICAgICAvPgogICAgKTsKICB9LAopOwoKT3ZlcmxheS5kaXNwbGF5TmFtZSA9ICdEcmF3ZXIuT3ZlcmxheSc7CgpleHBvcnQgdHlwZSBDb250ZW50UHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5Db250ZW50PjsKCmV4cG9ydCBjb25zdCBDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgQ29udGVudFByb3BzPihmdW5jdGlvbiAoCiAgeyBvblBvaW50ZXJEb3duT3V0c2lkZSwgc3R5bGUsIG9uT3BlbkF1dG9Gb2N1cywgLi4ucmVzdCB9LAogIHJlZiwKKSB7CiAgY29uc3QgewogICAgZHJhd2VyUmVmLAogICAgb25QcmVzcywKICAgIG9uUmVsZWFzZSwKICAgIG9uRHJhZywKICAgIGtleWJvYXJkSXNPcGVuLAogICAgc25hcFBvaW50c09mZnNldCwKICAgIGFjdGl2ZVNuYXBQb2ludEluZGV4LAogICAgbW9kYWwsCiAgICBpc09wZW4sCiAgICBkaXJlY3Rpb24sCiAgICBzbmFwUG9pbnRzLAogICAgY29udGFpbmVyLAogICAgaGFuZGxlT25seSwKICAgIHNob3VsZEFuaW1hdGUsCiAgICBhdXRvRm9jdXMsCiAgfSA9IHVzZURyYXdlckNvbnRleHQoKTsKICAvLyBOZWVkZWQgdG8gdXNlIHRyYW5zaXRpb24gaW5zdGVhZCBvZiBhbmltYXRpb25zCiAgY29uc3QgW2RlbGF5ZWRTbmFwUG9pbnRzLCBzZXREZWxheWVkU25hcFBvaW50c10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgY29tcG9zZWRSZWYgPSB1c2VDb21wb3NlZFJlZnMocmVmLCBkcmF3ZXJSZWYpOwogIGNvbnN0IHBvaW50ZXJTdGFydFJlZiA9IFJlYWN0LnVzZVJlZjx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsPihudWxsKTsKICBjb25zdCBsYXN0S25vd25Qb2ludGVyRXZlbnRSZWYgPSBSZWFjdC51c2VSZWY8UmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PiB8IG51bGw+KG51bGwpOwogIGNvbnN0IHdhc0JleW9uZFRoZVBvaW50UmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTsKICBjb25zdCBoYXNTbmFwUG9pbnRzID0gc25hcFBvaW50cyAmJiBzbmFwUG9pbnRzLmxlbmd0aCA+IDA7CiAgdXNlU2NhbGVCYWNrZ3JvdW5kKCk7CgogIGNvbnN0IGlzRGVsdGFJbkRpcmVjdGlvbiA9IChkZWx0YTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LCBkaXJlY3Rpb246IERyYXdlckRpcmVjdGlvbiwgdGhyZXNob2xkID0gMCkgPT4gewogICAgaWYgKHdhc0JleW9uZFRoZVBvaW50UmVmLmN1cnJlbnQpIHJldHVybiB0cnVlOwoKICAgIGNvbnN0IGRlbHRhWSA9IE1hdGguYWJzKGRlbHRhLnkpOwogICAgY29uc3QgZGVsdGFYID0gTWF0aC5hYnMoZGVsdGEueCk7CiAgICBjb25zdCBpc0RlbHRhWCA9IGRlbHRhWCA+IGRlbHRhWTsKICAgIGNvbnN0IGRGYWN0b3IgPSBbJ2JvdHRvbScsICdyaWdodCddLmluY2x1ZGVzKGRpcmVjdGlvbikgPyAxIDogLTE7CgogICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JykgewogICAgICBjb25zdCBpc1JldmVyc2VEaXJlY3Rpb24gPSBkZWx0YS54ICogZEZhY3RvciA8IDA7CiAgICAgIGlmICghaXNSZXZlcnNlRGlyZWN0aW9uICYmIGRlbHRhWCA+PSAwICYmIGRlbHRhWCA8PSB0aHJlc2hvbGQpIHsKICAgICAgICByZXR1cm4gaXNEZWx0YVg7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IGlzUmV2ZXJzZURpcmVjdGlvbiA9IGRlbHRhLnkgKiBkRmFjdG9yIDwgMDsKICAgICAgaWYgKCFpc1JldmVyc2VEaXJlY3Rpb24gJiYgZGVsdGFZID49IDAgJiYgZGVsdGFZIDw9IHRocmVzaG9sZCkgewogICAgICAgIHJldHVybiAhaXNEZWx0YVg7CiAgICAgIH0KICAgIH0KCiAgICB3YXNCZXlvbmRUaGVQb2ludFJlZi5jdXJyZW50ID0gdHJ1ZTsKICAgIHJldHVybiB0cnVlOwogIH07CgogIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoaGFzU25hcFBvaW50cykgewogICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICBzZXREZWxheWVkU25hcFBvaW50cyh0cnVlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgW10pOwoKICBmdW5jdGlvbiBoYW5kbGVPblBvaW50ZXJVcChldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PiB8IG51bGwpIHsKICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDsKICAgIHdhc0JleW9uZFRoZVBvaW50UmVmLmN1cnJlbnQgPSBmYWxzZTsKICAgIG9uUmVsZWFzZShldmVudCk7CiAgfQoKICByZXR1cm4gKAogICAgPERpYWxvZ1ByaW1pdGl2ZS5Db250ZW50CiAgICAgIGRhdGEtdmF1bC1kcmF3ZXItZGlyZWN0aW9uPXtkaXJlY3Rpb259CiAgICAgIGRhdGEtdmF1bC1kcmF3ZXI9IiIKICAgICAgZGF0YS12YXVsLWRlbGF5ZWQtc25hcC1wb2ludHM9e2RlbGF5ZWRTbmFwUG9pbnRzID8gJ3RydWUnIDogJ2ZhbHNlJ30KICAgICAgZGF0YS12YXVsLXNuYXAtcG9pbnRzPXtpc09wZW4gJiYgaGFzU25hcFBvaW50cyA/ICd0cnVlJyA6ICdmYWxzZSd9CiAgICAgIGRhdGEtdmF1bC1jdXN0b20tY29udGFpbmVyPXtjb250YWluZXIgPyAndHJ1ZScgOiAnZmFsc2UnfQogICAgICBkYXRhLXZhdWwtYW5pbWF0ZT17c2hvdWxkQW5pbWF0ZT8uY3VycmVudCA/ICd0cnVlJyA6ICdmYWxzZSd9CiAgICAgIHsuLi5yZXN0fQogICAgICByZWY9e2NvbXBvc2VkUmVmfQogICAgICBzdHlsZT17CiAgICAgICAgc25hcFBvaW50c09mZnNldCAmJiBzbmFwUG9pbnRzT2Zmc2V0Lmxlbmd0aCA+IDAKICAgICAgICAgID8gKHsKICAgICAgICAgICAgICAnLS1zbmFwLXBvaW50LWhlaWdodCc6IGAke3NuYXBQb2ludHNPZmZzZXRbYWN0aXZlU25hcFBvaW50SW5kZXggPz8gMF0hfXB4YCwKICAgICAgICAgICAgICAuLi5zdHlsZSwKICAgICAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzKQogICAgICAgICAgOiBzdHlsZQogICAgICB9CiAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4gewogICAgICAgIGlmIChoYW5kbGVPbmx5KSByZXR1cm47CiAgICAgICAgcmVzdC5vblBvaW50ZXJEb3duPy4oZXZlbnQpOwogICAgICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0geyB4OiBldmVudC5wYWdlWCwgeTogZXZlbnQucGFnZVkgfTsKICAgICAgICBvblByZXNzKGV2ZW50KTsKICAgICAgfX0KICAgICAgb25PcGVuQXV0b0ZvY3VzPXsoZSkgPT4gewogICAgICAgIG9uT3BlbkF1dG9Gb2N1cz8uKGUpOwoKICAgICAgICBpZiAoIWF1dG9Gb2N1cykgewogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgfX0KICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU9eyhlKSA9PiB7CiAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU/LihlKTsKCiAgICAgICAgaWYgKCFtb2RhbCB8fCBlLmRlZmF1bHRQcmV2ZW50ZWQpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChrZXlib2FyZElzT3Blbi5jdXJyZW50KSB7CiAgICAgICAgICBrZXlib2FyZElzT3Blbi5jdXJyZW50ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9fQogICAgICBvbkZvY3VzT3V0c2lkZT17KGUpID0+IHsKICAgICAgICBpZiAoIW1vZGFsKSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9fQogICAgICBvblBvaW50ZXJNb3ZlPXsoZXZlbnQpID0+IHsKICAgICAgICBsYXN0S25vd25Qb2ludGVyRXZlbnRSZWYuY3VycmVudCA9IGV2ZW50OwogICAgICAgIGlmIChoYW5kbGVPbmx5KSByZXR1cm47CiAgICAgICAgcmVzdC5vblBvaW50ZXJNb3ZlPy4oZXZlbnQpOwogICAgICAgIGlmICghcG9pbnRlclN0YXJ0UmVmLmN1cnJlbnQpIHJldHVybjsKICAgICAgICBjb25zdCB5UG9zaXRpb24gPSBldmVudC5wYWdlWSAtIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50Lnk7CiAgICAgICAgY29uc3QgeFBvc2l0aW9uID0gZXZlbnQucGFnZVggLSBwb2ludGVyU3RhcnRSZWYuY3VycmVudC54OwoKICAgICAgICBjb25zdCBzd2lwZVN0YXJ0VGhyZXNob2xkID0gZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgPyAxMCA6IDI7CiAgICAgICAgY29uc3QgZGVsdGEgPSB7IHg6IHhQb3NpdGlvbiwgeTogeVBvc2l0aW9uIH07CgogICAgICAgIGNvbnN0IGlzQWxsb3dlZFRvU3dpcGUgPSBpc0RlbHRhSW5EaXJlY3Rpb24oZGVsdGEsIGRpcmVjdGlvbiwgc3dpcGVTdGFydFRocmVzaG9sZCk7CiAgICAgICAgaWYgKGlzQWxsb3dlZFRvU3dpcGUpIG9uRHJhZyhldmVudCk7CiAgICAgICAgZWxzZSBpZiAoTWF0aC5hYnMoeFBvc2l0aW9uKSA+IHN3aXBlU3RhcnRUaHJlc2hvbGQgfHwgTWF0aC5hYnMoeVBvc2l0aW9uKSA+IHN3aXBlU3RhcnRUaHJlc2hvbGQpIHsKICAgICAgICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDsKICAgICAgICB9CiAgICAgIH19CiAgICAgIG9uUG9pbnRlclVwPXsoZXZlbnQpID0+IHsKICAgICAgICByZXN0Lm9uUG9pbnRlclVwPy4oZXZlbnQpOwogICAgICAgIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDsKICAgICAgICB3YXNCZXlvbmRUaGVQb2ludFJlZi5jdXJyZW50ID0gZmFsc2U7CiAgICAgICAgb25SZWxlYXNlKGV2ZW50KTsKICAgICAgfX0KICAgICAgb25Qb2ludGVyT3V0PXsoZXZlbnQpID0+IHsKICAgICAgICByZXN0Lm9uUG9pbnRlck91dD8uKGV2ZW50KTsKICAgICAgICBoYW5kbGVPblBvaW50ZXJVcChsYXN0S25vd25Qb2ludGVyRXZlbnRSZWYuY3VycmVudCk7CiAgICAgIH19CiAgICAgIG9uQ29udGV4dE1lbnU9eyhldmVudCkgPT4gewogICAgICAgIHJlc3Qub25Db250ZXh0TWVudT8uKGV2ZW50KTsKICAgICAgICBpZiAobGFzdEtub3duUG9pbnRlckV2ZW50UmVmLmN1cnJlbnQpIHsKICAgICAgICAgIGhhbmRsZU9uUG9pbnRlclVwKGxhc3RLbm93blBvaW50ZXJFdmVudFJlZi5jdXJyZW50KTsKICAgICAgICB9CiAgICAgIH19CiAgICAvPgogICk7Cn0pOwoKQ29udGVudC5kaXNwbGF5TmFtZSA9ICdEcmF3ZXIuQ29udGVudCc7CgpleHBvcnQgdHlwZSBIYW5kbGVQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnZGl2Jz4gJiB7CiAgcHJldmVudEN5Y2xlPzogYm9vbGVhbjsKfTsKCmNvbnN0IExPTkdfSEFORExFX1BSRVNTX1RJTUVPVVQgPSAyNTA7CmNvbnN0IERPVUJMRV9UQVBfVElNRU9VVCA9IDEyMDsKCmV4cG9ydCBjb25zdCBIYW5kbGUgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBIYW5kbGVQcm9wcz4oZnVuY3Rpb24gKAogIHsgcHJldmVudEN5Y2xlID0gZmFsc2UsIGNoaWxkcmVuLCAuLi5yZXN0IH0sCiAgcmVmLAopIHsKICBjb25zdCB7CiAgICBjbG9zZURyYXdlciwKICAgIGlzRHJhZ2dpbmcsCiAgICBzbmFwUG9pbnRzLAogICAgYWN0aXZlU25hcFBvaW50LAogICAgc2V0QWN0aXZlU25hcFBvaW50LAogICAgZGlzbWlzc2libGUsCiAgICBoYW5kbGVPbmx5LAogICAgaXNPcGVuLAogICAgb25QcmVzcywKICAgIG9uRHJhZywKICB9ID0gdXNlRHJhd2VyQ29udGV4dCgpOwoKICBjb25zdCBjbG9zZVRpbWVvdXRJZFJlZiA9IFJlYWN0LnVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKICBjb25zdCBzaG91bGRDYW5jZWxJbnRlcmFjdGlvblJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7CgogIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0Q3ljbGUoKSB7CiAgICAvLyBTdG9wIGlmIHRoaXMgaXMgdGhlIHNlY29uZCBjbGljayBvZiBhIGRvdWJsZSBjbGljawogICAgaWYgKHNob3VsZENhbmNlbEludGVyYWN0aW9uUmVmLmN1cnJlbnQpIHsKICAgICAgaGFuZGxlQ2FuY2VsSW50ZXJhY3Rpb24oKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewogICAgICBoYW5kbGVDeWNsZVNuYXBQb2ludHMoKTsKICAgIH0sIERPVUJMRV9UQVBfVElNRU9VVCk7CiAgfQoKICBmdW5jdGlvbiBoYW5kbGVDeWNsZVNuYXBQb2ludHMoKSB7CiAgICAvLyBQcmV2ZW50IGFjY2lkZW50YWwgdGFwcyB3aGlsZSByZXNpemluZyBkcmF3ZXIKICAgIGlmIChpc0RyYWdnaW5nIHx8IHByZXZlbnRDeWNsZSB8fCBzaG91bGRDYW5jZWxJbnRlcmFjdGlvblJlZi5jdXJyZW50KSB7CiAgICAgIGhhbmRsZUNhbmNlbEludGVyYWN0aW9uKCk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIC8vIE1ha2Ugc3VyZSB0byBjbGVhciB0aGUgdGltZW91dCBpZCBpZiB0aGUgdXNlciByZWxlYXNlcyB0aGUgaGFuZGxlIGJlZm9yZSB0aGUgY2FuY2VsIHRpbWVvdXQKICAgIGhhbmRsZUNhbmNlbEludGVyYWN0aW9uKCk7CgogICAgaWYgKCFzbmFwUG9pbnRzIHx8IHNuYXBQb2ludHMubGVuZ3RoID09PSAwKSB7CiAgICAgIGlmICghZGlzbWlzc2libGUpIHsKICAgICAgICBjbG9zZURyYXdlcigpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBpc0xhc3RTbmFwUG9pbnQgPSBhY3RpdmVTbmFwUG9pbnQgPT09IHNuYXBQb2ludHNbc25hcFBvaW50cy5sZW5ndGggLSAxXTsKCiAgICBpZiAoaXNMYXN0U25hcFBvaW50ICYmIGRpc21pc3NpYmxlKSB7CiAgICAgIGNsb3NlRHJhd2VyKCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBjdXJyZW50U25hcEluZGV4ID0gc25hcFBvaW50cy5maW5kSW5kZXgoKHBvaW50KSA9PiBwb2ludCA9PT0gYWN0aXZlU25hcFBvaW50KTsKICAgIGlmIChjdXJyZW50U25hcEluZGV4ID09PSAtMSkgcmV0dXJuOyAvLyBhY3RpdmVTbmFwUG9pbnQgbm90IGZvdW5kIGluIHNuYXBQb2ludHMKICAgIGNvbnN0IG5leHRTbmFwUG9pbnQgPSBzbmFwUG9pbnRzW2N1cnJlbnRTbmFwSW5kZXggKyAxXTsKICAgIHNldEFjdGl2ZVNuYXBQb2ludChuZXh0U25hcFBvaW50KTsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0SW50ZXJhY3Rpb24oKSB7CiAgICBjbG9zZVRpbWVvdXRJZFJlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewogICAgICAvLyBDYW5jZWwgY2xpY2sgaW50ZXJhY3Rpb24gb24gYSBsb25nIHByZXNzCiAgICAgIHNob3VsZENhbmNlbEludGVyYWN0aW9uUmVmLmN1cnJlbnQgPSB0cnVlOwogICAgfSwgTE9OR19IQU5ETEVfUFJFU1NfVElNRU9VVCk7CiAgfQoKICBmdW5jdGlvbiBoYW5kbGVDYW5jZWxJbnRlcmFjdGlvbigpIHsKICAgIGlmIChjbG9zZVRpbWVvdXRJZFJlZi5jdXJyZW50KSB7CiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoY2xvc2VUaW1lb3V0SWRSZWYuY3VycmVudCk7CiAgICB9CiAgICBzaG91bGRDYW5jZWxJbnRlcmFjdGlvblJlZi5jdXJyZW50ID0gZmFsc2U7CiAgfQoKICByZXR1cm4gKAogICAgPGRpdgogICAgICBvbkNsaWNrPXtoYW5kbGVTdGFydEN5Y2xlfQogICAgICBvblBvaW50ZXJDYW5jZWw9e2hhbmRsZUNhbmNlbEludGVyYWN0aW9ufQogICAgICBvblBvaW50ZXJEb3duPXsoZSkgPT4gewogICAgICAgIGlmIChoYW5kbGVPbmx5KSBvblByZXNzKGUpOwogICAgICAgIGhhbmRsZVN0YXJ0SW50ZXJhY3Rpb24oKTsKICAgICAgfX0KICAgICAgb25Qb2ludGVyTW92ZT17KGUpID0+IHsKICAgICAgICBpZiAoaGFuZGxlT25seSkgb25EcmFnKGUpOwogICAgICB9fQogICAgICAvLyBvblBvaW50ZXJVcCBpcyBhbHJlYWR5IGhhbmRsZWQgYnkgdGhlIGNvbnRlbnQgY29tcG9uZW50CiAgICAgIHJlZj17cmVmfQogICAgICBkYXRhLXZhdWwtZHJhd2VyLXZpc2libGU9e2lzT3BlbiA/ICd0cnVlJyA6ICdmYWxzZSd9CiAgICAgIGRhdGEtdmF1bC1oYW5kbGU9IiIKICAgICAgYXJpYS1oaWRkZW49InRydWUiCiAgICAgIHsuLi5yZXN0fQogICAgPgogICAgICB7LyogRXhwYW5kIGhhbmRsZSdzIGhpdCBhcmVhIGJleW9uZCB3aGF0J3MgdmlzaWJsZSB0byBlbnN1cmUgYSA0NHg0NCB0YXAgdGFyZ2V0IGZvciB0b3VjaCBkZXZpY2VzICovfQogICAgICA8c3BhbiBkYXRhLXZhdWwtaGFuZGxlLWhpdGFyZWE9IiIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgIHtjaGlsZHJlbn0KICAgICAgPC9zcGFuPgogICAgPC9kaXY+CiAgKTsKfSk7CgpIYW5kbGUuZGlzcGxheU5hbWUgPSAnRHJhd2VyLkhhbmRsZSc7CgpleHBvcnQgZnVuY3Rpb24gTmVzdGVkUm9vdCh7IG9uRHJhZywgb25PcGVuQ2hhbmdlLCBvcGVuOiBuZXN0ZWRJc09wZW4sIC4uLnJlc3QgfTogRGlhbG9nUHJvcHMpIHsKICBjb25zdCB7IG9uTmVzdGVkRHJhZywgb25OZXN0ZWRPcGVuQ2hhbmdlLCBvbk5lc3RlZFJlbGVhc2UgfSA9IHVzZURyYXdlckNvbnRleHQoKTsKCiAgaWYgKCFvbk5lc3RlZERyYWcpIHsKICAgIHRocm93IG5ldyBFcnJvcignRHJhd2VyLk5lc3RlZFJvb3QgbXVzdCBiZSBwbGFjZWQgaW4gYW5vdGhlciBkcmF3ZXInKTsKICB9CgogIHJldHVybiAoCiAgICA8Um9vdAogICAgICBuZXN0ZWQKICAgICAgb3Blbj17bmVzdGVkSXNPcGVufQogICAgICBvbkNsb3NlPXsoKSA9PiB7CiAgICAgICAgb25OZXN0ZWRPcGVuQ2hhbmdlKGZhbHNlKTsKICAgICAgfX0KICAgICAgb25EcmFnPXsoZSwgcCkgPT4gewogICAgICAgIG9uTmVzdGVkRHJhZyhlLCBwKTsKICAgICAgICBvbkRyYWc/LihlLCBwKTsKICAgICAgfX0KICAgICAgb25PcGVuQ2hhbmdlPXsobykgPT4gewogICAgICAgIGlmIChvKSB7CiAgICAgICAgICBvbk5lc3RlZE9wZW5DaGFuZ2Uobyk7CiAgICAgICAgfQogICAgICAgIG9uT3BlbkNoYW5nZT8uKG8pOwogICAgICB9fQogICAgICBvblJlbGVhc2U9e29uTmVzdGVkUmVsZWFzZX0KICAgICAgey4uLnJlc3R9CiAgICAvPgogICk7Cn0KCnR5cGUgUG9ydGFsUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5Qb3J0YWw+OwoKZXhwb3J0IGZ1bmN0aW9uIFBvcnRhbChwcm9wczogUG9ydGFsUHJvcHMpIHsKICBjb25zdCBjb250ZXh0ID0gdXNlRHJhd2VyQ29udGV4dCgpOwogIGNvbnN0IHsgY29udGFpbmVyID0gY29udGV4dC5jb250YWluZXIsIC4uLnBvcnRhbFByb3BzIH0gPSBwcm9wczsKCiAgcmV0dXJuIDxEaWFsb2dQcmltaXRpdmUuUG9ydGFsIGNvbnRhaW5lcj17Y29udGFpbmVyfSB7Li4ucG9ydGFsUHJvcHN9IC8+Owp9CgpleHBvcnQgY29uc3QgRHJhd2VyID0gewogIFJvb3QsCiAgTmVzdGVkUm9vdCwKICBDb250ZW50LAogIE92ZXJsYXksCiAgVHJpZ2dlcjogRGlhbG9nUHJpbWl0aXZlLlRyaWdnZXIsCiAgUG9ydGFsLAogIEhhbmRsZSwKICBDbG9zZTogRGlhbG9nUHJpbWl0aXZlLkNsb3NlLAogIFRpdGxlOiBEaWFsb2dQcmltaXRpdmUuVGl0bGUsCiAgRGVzY3JpcHRpb246IERpYWxvZ1ByaW1pdGl2ZS5EZXNjcmlwdGlvbiwKfTs="
,
  "pagination.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvaWNvbnMnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IERPVFMgPSAnZG90cyc7Cgpjb25zdCBjcmVhdGVSYW5nZSA9IChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4gewoJY29uc3QgbGVuZ3RoID0gZW5kIC0gc3RhcnQgKyAxOwoJcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGggfSwgKF8sIGluZGV4KSA9PiBzdGFydCArIGluZGV4KTsKfTsKCmNvbnN0IGdldFBhZ2luYXRpb25SYW5nZSA9ICgKCXRvdGFsUGFnZXM6IG51bWJlciwKCWN1cnJlbnRQYWdlOiBudW1iZXIsCglzaWJsaW5nQ291bnQ6IG51bWJlciwKKSA9PiB7Cgljb25zdCB0b3RhbE51bWJlcnMgPSBzaWJsaW5nQ291bnQgKiAyICsgNTsKCglpZiAodG90YWxOdW1iZXJzID49IHRvdGFsUGFnZXMpIHsKCQlyZXR1cm4gY3JlYXRlUmFuZ2UoMSwgdG90YWxQYWdlcyk7Cgl9CgoJY29uc3QgbGVmdFNpYmxpbmdJbmRleCA9IE1hdGgubWF4KGN1cnJlbnRQYWdlIC0gc2libGluZ0NvdW50LCAxKTsKCWNvbnN0IHJpZ2h0U2libGluZ0luZGV4ID0gTWF0aC5taW4oY3VycmVudFBhZ2UgKyBzaWJsaW5nQ291bnQsIHRvdGFsUGFnZXMpOwoKCWNvbnN0IHNob3VsZFNob3dMZWZ0RG90cyA9IGxlZnRTaWJsaW5nSW5kZXggPiAyOwoJY29uc3Qgc2hvdWxkU2hvd1JpZ2h0RG90cyA9IHJpZ2h0U2libGluZ0luZGV4IDwgdG90YWxQYWdlcyAtIDE7CgoJY29uc3QgZmlyc3RQYWdlSW5kZXggPSAxOwoJY29uc3QgbGFzdFBhZ2VJbmRleCA9IHRvdGFsUGFnZXM7CgoJaWYgKCFzaG91bGRTaG93TGVmdERvdHMgJiYgc2hvdWxkU2hvd1JpZ2h0RG90cykgewoJCWNvbnN0IGxlZnRJdGVtQ291bnQgPSAzICsgc2libGluZ0NvdW50ICogMjsKCQljb25zdCBsZWZ0UmFuZ2UgPSBjcmVhdGVSYW5nZSgxLCBsZWZ0SXRlbUNvdW50KTsKCQlyZXR1cm4gWy4uLmxlZnRSYW5nZSwgRE9UUywgdG90YWxQYWdlc107Cgl9CgoJaWYgKHNob3VsZFNob3dMZWZ0RG90cyAmJiAhc2hvdWxkU2hvd1JpZ2h0RG90cykgewoJCWNvbnN0IHJpZ2h0SXRlbUNvdW50ID0gMyArIHNpYmxpbmdDb3VudCAqIDI7CgkJY29uc3QgcmlnaHRSYW5nZSA9IGNyZWF0ZVJhbmdlKHRvdGFsUGFnZXMgLSByaWdodEl0ZW1Db3VudCArIDEsIHRvdGFsUGFnZXMpOwoJCXJldHVybiBbZmlyc3RQYWdlSW5kZXgsIERPVFMsIC4uLnJpZ2h0UmFuZ2VdOwoJfQoKCWlmIChzaG91bGRTaG93TGVmdERvdHMgJiYgc2hvdWxkU2hvd1JpZ2h0RG90cykgewoJCWNvbnN0IG1pZGRsZVJhbmdlID0gY3JlYXRlUmFuZ2UobGVmdFNpYmxpbmdJbmRleCwgcmlnaHRTaWJsaW5nSW5kZXgpOwoJCXJldHVybiBbZmlyc3RQYWdlSW5kZXgsIERPVFMsIC4uLm1pZGRsZVJhbmdlLCBET1RTLCBsYXN0UGFnZUluZGV4XTsKCX0KCglyZXR1cm4gY3JlYXRlUmFuZ2UoMSwgdG90YWxQYWdlcyk7Cn07CgpleHBvcnQgaW50ZXJmYWNlIFBhZ2luYXRpb25Qcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnbmF2Jz4sICdvbkNoYW5nZSc+IHsKCXRvdGFsUGFnZXM6IG51bWJlcjsKCWN1cnJlbnRQYWdlOiBudW1iZXI7CglvblBhZ2VDaGFuZ2U/OiAocGFnZTogbnVtYmVyKSA9PiB2b2lkOwoJc2libGluZ0NvdW50PzogbnVtYmVyOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUGFnaW5hdGlvbjogUmVhY3QuRkM8UGFnaW5hdGlvblByb3BzPiA9ICh7Cgl0b3RhbFBhZ2VzLAoJY3VycmVudFBhZ2UsCglvblBhZ2VDaGFuZ2UsCglzaWJsaW5nQ291bnQgPSAxLAoJY2xhc3NOYW1lLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgW2FuaW1PZmYsIHNldEFuaW1PZmZdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwoJY29uc3QgeyAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbFByb3AsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHM7Cgljb25zdCBub3JtYWxpemVkVG90YWxQYWdlcyA9CgkJTnVtYmVyLmlzRmluaXRlKHRvdGFsUGFnZXMpICYmIHRvdGFsUGFnZXMgPiAwID8gTWF0aC5mbG9vcih0b3RhbFBhZ2VzKSA6IDA7Cgljb25zdCBoYXNQYWdlcyA9IG5vcm1hbGl6ZWRUb3RhbFBhZ2VzID4gMDsKCWNvbnN0IHNhZmVQYWdlID0gbm9ybWFsaXplZFRvdGFsUGFnZXMKCQk/IE1hdGgubWluKE1hdGgubWF4KGN1cnJlbnRQYWdlLCAxKSwgbm9ybWFsaXplZFRvdGFsUGFnZXMpCgkJOiAxOwoJY29uc3QgcGFnZXMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQlpZiAoIWhhc1BhZ2VzKSB7CgkJCXJldHVybiBbXTsKCQl9CgoJCXJldHVybiBnZXRQYWdpbmF0aW9uUmFuZ2Uobm9ybWFsaXplZFRvdGFsUGFnZXMsIHNhZmVQYWdlLCBzaWJsaW5nQ291bnQpOwoJfSwgW2hhc1BhZ2VzLCBub3JtYWxpemVkVG90YWxQYWdlcywgc2FmZVBhZ2UsIHNpYmxpbmdDb3VudF0pOwoKCS8qIGJpb21lLWlnbm9yZSBsaW50L2NvcnJlY3RuZXNzL3VzZUV4aGF1c3RpdmVEZXBlbmRlbmNpZXM6IHRoaXMgZGVwZW5kZW5jeSBpcyBuZWVkZWQgZm9yIHByb3BlciB0cmFuc2l0aW9uIGJsb2NraW5nICovCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCXNldEFuaW1PZmYodHJ1ZSk7CgkJY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHNldEFuaW1PZmYoZmFsc2UpLCA0MCk7CgkJcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChpZCk7Cgl9LCBbc2FmZVBhZ2VdKTsKCglpZiAoIWhhc1BhZ2VzKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJY29uc3QgaGFuZGxlUGFnZUNoYW5nZSA9IChwYWdlOiBudW1iZXIpID0+IHsKCQlpZiAocGFnZSA8IDEgfHwgcGFnZSA+IG5vcm1hbGl6ZWRUb3RhbFBhZ2VzIHx8IHBhZ2UgPT09IHNhZmVQYWdlKSB7CgkJCXJldHVybjsKCQl9CgoJCW9uUGFnZUNoYW5nZT8uKHBhZ2UpOwoJfTsKCgljb25zdCBkaXNhYmxlZFByZXZpb3VzID0gc2FmZVBhZ2UgPT09IDE7Cgljb25zdCBkaXNhYmxlZE5leHQgPSBzYWZlUGFnZSA9PT0gbm9ybWFsaXplZFRvdGFsUGFnZXM7CglsZXQgZG90c0luc3RhbmNlID0gMDsKCglyZXR1cm4gKAoJCTxuYXYKCQkJYXJpYS1sYWJlbD17YXJpYUxhYmVsUHJvcCA/PyAnUGFnaW5hdGlvbid9CgkJCWNsYXNzTmFtZT17Y24oJ25vdC1wcm9zZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMicsIGNsYXNzTmFtZSl9CgkJCXsuLi5yZXN0UHJvcHN9CgkJPgoJCQk8QnV0dG9uCgkJCQl2YXJpYW50PSJnaG9zdCIKCQkJCXNpemU9Im1kIgoJCQkJb25DbGljaz17KCkgPT4gaGFuZGxlUGFnZUNoYW5nZShzYWZlUGFnZSAtIDEpfQoJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkUHJldmlvdXN9CgkJCQlhcmlhLWxhYmVsPSJHbyB0byBwcmV2aW91cyBwYWdlIgoJCQkJY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IgoJCQk+CgkJCQk8SWNvbnMuQ2hldnJvbkxlZnQgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgoJCQkJUHJldmlvdXMKCQkJPC9CdXR0b24+CgoJCQk8b2wgY2xhc3NOYW1lPSJmbGV4IGxpc3Qtbm9uZSBpdGVtcy1jZW50ZXIgZ2FwLTEiPgoJCQkJe3BhZ2VzLm1hcCgoaXRlbSkgPT4gewoJCQkJCWlmIChpdGVtID09PSBET1RTKSB7CgkJCQkJCWRvdHNJbnN0YW5jZSArPSAxOwoJCQkJCQlyZXR1cm4gKAoJCQkJCQkJPGxpCgkJCQkJCQkJa2V5PXtgZG90cy0ke2RvdHNJbnN0YW5jZX1gfQoJCQkJCQkJCWNsYXNzTmFtZT0icHgtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC80NSIKCQkJCQkJCT4KCQkJCQkJCQk8SWNvbnMuRG90c0hvcml6b250YWwgLz4KCQkJCQkJCTwvbGk+CgkJCQkJCSk7CgkJCQkJfQoKCQkJCQljb25zdCBwYWdlTnVtYmVyID0gaXRlbSBhcyBudW1iZXI7CgkJCQkJY29uc3QgaXNBY3RpdmUgPSBwYWdlTnVtYmVyID09PSBzYWZlUGFnZTsKCgkJCQkJcmV0dXJuICgKCQkJCQkJPGxpIGtleT17cGFnZU51bWJlcn0+CgkJCQkJCQk8QnV0dG9uCgkJCQkJCQkJdmFyaWFudD0iZ2hvc3QiCgkJCQkJCQkJc2l6ZT0ic20iCgkJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQkJJ2gtOSBtaW4tdy05IHB4LTAgcHktMCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddJywKCQkJCQkJCQkJYW5pbU9mZiAmJiAndHJhbnNpdGlvbi1ub25lIGR1cmF0aW9uLTAnLAoJCQkJCQkJCQlpc0FjdGl2ZSAmJgoJCQkJCQkJCQkJJ2JnLWNhcmQgdGV4dC1mb3JlZ3JvdW5kIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWJvcmRlciBwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktMTAwJywKCQkJCQkJCQkpfQoJCQkJCQkJCWFyaWEtY3VycmVudD17aXNBY3RpdmUgPyAncGFnZScgOiB1bmRlZmluZWR9CgkJCQkJCQkJb25DbGljaz17KCkgPT4gaGFuZGxlUGFnZUNoYW5nZShwYWdlTnVtYmVyKX0KCQkJCQkJCQlkaXNhYmxlZD17aXNBY3RpdmV9CgkJCQkJCQk+CgkJCQkJCQkJe3BhZ2VOdW1iZXJ9CgkJCQkJCQk8L0J1dHRvbj4KCQkJCQkJPC9saT4KCQkJCQkpOwoJCQkJfSl9CgkJCTwvb2w+CgoJCQk8QnV0dG9uCgkJCQl2YXJpYW50PSJnaG9zdCIKCQkJCXNpemU9Im1kIgoJCQkJb25DbGljaz17KCkgPT4gaGFuZGxlUGFnZUNoYW5nZShzYWZlUGFnZSArIDEpfQoJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkTmV4dH0KCQkJCWFyaWEtbGFiZWw9IkdvIHRvIG5leHQgcGFnZSIKCQkJCWNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSIKCQkJPgoJCQkJTmV4dAoJCQkJPEljb25zLkNoZXZyb25SaWdodCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCTwvQnV0dG9uPgoJCTwvbmF2PgoJKTsKfTs="
,
  "form.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VJZCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CgppbnRlcmZhY2UgRm9ybUZpZWxkQ29udGV4dFZhbHVlIHsKCWlkOiBzdHJpbmc7CgluYW1lOiBzdHJpbmc7CgllcnJvcj86IHN0cmluZzsKCWRlc2NyaXB0aW9uPzogc3RyaW5nOwp9Cgpjb25zdCBGb3JtRmllbGRDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxGb3JtRmllbGRDb250ZXh0VmFsdWUgfCBudWxsPihudWxsKTsKCmNvbnN0IHVzZUZvcm1GaWVsZCA9ICgpID0+IHsKCWNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEZvcm1GaWVsZENvbnRleHQpOwoJaWYgKCFjb250ZXh0KSB7CgkJdGhyb3cgbmV3IEVycm9yKCd1c2VGb3JtRmllbGQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEZvcm1GaWVsZCcpOwoJfQoJcmV0dXJuIGNvbnRleHQ7Cn07CgpleHBvcnQgaW50ZXJmYWNlIEZvcm1Qcm9wcyBleHRlbmRzIFJlYWN0LkZvcm1IVE1MQXR0cmlidXRlczxIVE1MRm9ybUVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglvblN1Ym1pdD86IChldmVudDogUmVhY3QuRm9ybUV2ZW50PEhUTUxGb3JtRWxlbWVudD4pID0+IHZvaWQ7CglzdG9yZT86IEFyaWFraXQuRm9ybVN0b3JlOwp9CgpleHBvcnQgaW50ZXJmYWNlIEZvcm1GaWVsZFByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgluYW1lOiBzdHJpbmc7CgllcnJvcj86IHN0cmluZzsKCWRlc2NyaXB0aW9uPzogc3RyaW5nOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIEZvcm1MYWJlbFByb3BzCglleHRlbmRzIFJlYWN0LkxhYmVsSFRNTEF0dHJpYnV0ZXM8SFRNTExhYmVsRWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXJlcXVpcmVkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBGb3JtQ29udHJvbFByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRm9ybURlc2NyaXB0aW9uUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFBhcmFncmFwaEVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRm9ybU1lc3NhZ2VQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MUGFyYWdyYXBoRWxlbWVudD4gewoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cgl0eXBlPzogJ2Vycm9yJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJzsKfQoKZXhwb3J0IGludGVyZmFjZSBGb3JtQWN0aW9uc1Byb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglhbGlnbj86ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0JzsKfQoKZXhwb3J0IGNvbnN0IEZvcm06IFJlYWN0LkZDPEZvcm1Qcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCW9uU3VibWl0LAoJc3RvcmU6IHByb3ZpZGVkU3RvcmUsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBpbnRlcm5hbFN0b3JlID0gQXJpYWtpdC51c2VGb3JtU3RvcmUoe30pOwoJY29uc3Qgc3RvcmUgPSBwcm92aWRlZFN0b3JlID8/IGludGVybmFsU3RvcmU7CgoJY29uc3QgaGFuZGxlU3VibWl0ID0gKGV2ZW50OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50PikgPT4gewoJCWlmIChvblN1Ym1pdCkgewoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQlvblN1Ym1pdChldmVudCk7CgkJfQoJfTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LkZvcm0KCQkJc3RvcmU9e3N0b3JlfQoJCQljbGFzc05hbWU9e2NuKCdub3QtcHJvc2Ugc3BhY2UteS02JywgY2xhc3NOYW1lKX0KCQkJb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5Gb3JtPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBGb3JtRmllbGQ6IFJlYWN0LkZDPEZvcm1GaWVsZFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCW5hbWUsCgllcnJvciwKCWRlc2NyaXB0aW9uLAoJY2xhc3NOYW1lID0gJycsCn0pID0+IHsKCWNvbnN0IGlkID0gdXNlSWQoKTsKCgljb25zdCBjb250ZXh0VmFsdWU6IEZvcm1GaWVsZENvbnRleHRWYWx1ZSA9IHsKCQlpZDogYGZvcm0tZmllbGQtJHtpZH1gLAoJCW5hbWUsCgkJLi4uKGVycm9yICE9PSB1bmRlZmluZWQgPyB7IGVycm9yIH0gOiB7fSksCgkJLi4uKGRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQgPyB7IGRlc2NyaXB0aW9uIH0gOiB7fSksCgl9OwoKCXJldHVybiAoCgkJPEZvcm1GaWVsZENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+CgkJCTxkaXYgY2xhc3NOYW1lPXtjbignc3BhY2UteS0yJywgY2xhc3NOYW1lKX0+e2NoaWxkcmVufTwvZGl2PgoJCTwvRm9ybUZpZWxkQ29udGV4dC5Qcm92aWRlcj4KCSk7Cn07CgpleHBvcnQgY29uc3QgRm9ybUxhYmVsOiBSZWFjdC5GQzxGb3JtTGFiZWxQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCXJlcXVpcmVkID0gZmFsc2UsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IG5hbWUgfSA9IHVzZUZvcm1GaWVsZCgpOwoJY29uc3QgeyBpZCwgLi4ucmVzdFByb3BzIH0gPSBwcm9wczsKCWNvbnN0IGxhYmVsUHJvcHMgPQoJCXR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcgPyByZXN0UHJvcHMgOiB7IC4uLnJlc3RQcm9wcywgaWQgfTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LkZvcm1MYWJlbAoJCQluYW1lPXtuYW1lfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2Jsb2NrIHRleHQtc20gbGVhZGluZy1ub25lIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCBwZWVyLWRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBwZWVyLWRpc2FibGVkOm9wYWNpdHktNzAnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ubGFiZWxQcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQkJe3JlcXVpcmVkICYmIDxzcGFuIGNsYXNzTmFtZT0ibWwtMSB0ZXh0LWRlc3RydWN0aXZlLzkwIj4qPC9zcGFuPn0KCQk8L0FyaWFraXQuRm9ybUxhYmVsPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBGb3JtQ29udHJvbDogUmVhY3QuRkM8Rm9ybUNvbnRyb2xQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKfSkgPT4gewoJcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtjbigncmVsYXRpdmUnLCBjbGFzc05hbWUpfT57Y2hpbGRyZW59PC9kaXY+Owp9OwoKZXhwb3J0IGNvbnN0IEZvcm1EZXNjcmlwdGlvbjogUmVhY3QuRkM8Rm9ybURlc2NyaXB0aW9uUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IG5hbWUgfSA9IHVzZUZvcm1GaWVsZCgpOwoJY29uc3QgeyBpZCwgLi4ucmVzdFByb3BzIH0gPSBwcm9wczsKCWNvbnN0IGRlc2NyaXB0aW9uUHJvcHMgPQoJCXR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcgPyByZXN0UHJvcHMgOiB7IC4uLnJlc3RQcm9wcywgaWQgfTsKCXJldHVybiAoCgkJPEFyaWFraXQuRm9ybURlc2NyaXB0aW9uCgkJCW5hbWU9e25hbWV9CgkJCWNsYXNzTmFtZT17Y24oJ3RleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtZm9yZWdyb3VuZC80NScsIGNsYXNzTmFtZSl9CgkJCXsuLi5kZXNjcmlwdGlvblByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5Gb3JtRGVzY3JpcHRpb24+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEZvcm1NZXNzYWdlOiBSZWFjdC5GQzxGb3JtTWVzc2FnZVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJdHlwZSA9ICdlcnJvcicsCgkuLi5yZXN0Cn0pID0+IHsKCWNvbnN0IHsgbmFtZSwgZXJyb3I6IGN0eEVycm9yIH0gPSB1c2VGb3JtRmllbGQoKTsKCWNvbnN0IG1lc3NhZ2UgPSBjaGlsZHJlbiA/PyBjdHhFcnJvcjsKCWNvbnN0IHsgaWQsIC4uLnByb3BzIH0gPSByZXN0OwoJY29uc3QgZm9yd2FyZGVkUHJvcHMgPSB0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnID8gcHJvcHMgOiB7IC4uLnByb3BzLCBpZCB9OwoKCWNvbnN0IHZhcmlhbnRzID0gewoJCWVycm9yOiAndGV4dC1kZXN0cnVjdGl2ZS85MCcsCgkJc3VjY2VzczogJ3RleHQtc3VjY2Vzcy85MCcsCgkJd2FybmluZzogJ3RleHQtd2FybmluZy85MCcsCgl9IGFzIGNvbnN0OwoKCWlmICh0eXBlICE9PSAnZXJyb3InKSB7CgkJaWYgKCFtZXNzYWdlKSByZXR1cm4gbnVsbDsKCQlyZXR1cm4gKAoJCQk8cAoJCQkJY2xhc3NOYW1lPXtjbigndGV4dC1zbSBsZWFkaW5nLW5vbmUnLCB2YXJpYW50c1t0eXBlXSwgY2xhc3NOYW1lKX0KCQkJCXsuLi5mb3J3YXJkZWRQcm9wc30KCQkJPgoJCQkJe21lc3NhZ2V9CgkJCTwvcD4KCQkpOwoJfQoKCWlmIChtZXNzYWdlKSB7CgkJcmV0dXJuICgKCQkJPHAKCQkJCWNsYXNzTmFtZT17Y24oJ3RleHQtc20gbGVhZGluZy1ub25lJywgdmFyaWFudHMuZXJyb3IsIGNsYXNzTmFtZSl9CgkJCQlyb2xlPSJhbGVydCIKCQkJCXsuLi5mb3J3YXJkZWRQcm9wc30KCQkJPgoJCQkJe21lc3NhZ2V9CgkJCTwvcD4KCQkpOwoJfQoKCXJldHVybiAoCgkJPEFyaWFraXQuRm9ybUVycm9yCgkJCW5hbWU9e25hbWV9CgkJCWNsYXNzTmFtZT17Y24oJ3RleHQtc20gbGVhZGluZy1ub25lJywgdmFyaWFudHMuZXJyb3IsIGNsYXNzTmFtZSl9CgkJCXJvbGU9ImFsZXJ0IgoJCQl7Li4uZm9yd2FyZGVkUHJvcHN9CgkJLz4KCSk7Cn07CgpleHBvcnQgaW50ZXJmYWNlIEZvcm1JbnB1dFByb3BzCglleHRlbmRzIFJlYWN0LklucHV0SFRNTEF0dHJpYnV0ZXM8SFRNTElucHV0RWxlbWVudD4gewoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgRm9ybUlucHV0ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MSW5wdXRFbGVtZW50LCBGb3JtSW5wdXRQcm9wcz4oCgkoeyBjbGFzc05hbWUgPSAnJywgbmFtZTogX25hbWUsIGlkLCBkaXNhYmxlZCwgYXV0b0ZvY3VzLCAuLi5yZXN0IH0sIHJlZikgPT4gewoJCWNvbnN0IHsgbmFtZSB9ID0gdXNlRm9ybUZpZWxkKCk7CgkJcmV0dXJuICgKCQkJPEFyaWFraXQuRm9ybUlucHV0CgkJCQlyZWY9e3JlZn0KCQkJCW5hbWU9e25hbWV9CgkJCQljbGFzc05hbWU9e2NsYXNzTmFtZX0KCQkJCXsuLi5yZXN0fQoJCQkJey4uLih0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnID8ge30gOiB7IGlkIH0pfQoJCQkJey4uLih0eXBlb2YgZGlzYWJsZWQgPT09ICd1bmRlZmluZWQnID8ge30gOiB7IGRpc2FibGVkIH0pfQoJCQkJey4uLih0eXBlb2YgYXV0b0ZvY3VzID09PSAndW5kZWZpbmVkJyA/IHt9IDogeyBhdXRvRm9jdXMgfSl9CgkJCS8+CgkJKTsKCX0sCik7CkZvcm1JbnB1dC5kaXNwbGF5TmFtZSA9ICdGb3JtSW5wdXQnOwoKZXhwb3J0IGludGVyZmFjZSBGb3JtU3VibWl0UHJvcHMKCWV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+IHsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IEZvcm1TdWJtaXQ6IFJlYWN0LkZDPEZvcm1TdWJtaXRQcm9wcz4gPSAoewoJY2xhc3NOYW1lID0gJycsCgljaGlsZHJlbiwKCWRpc2FibGVkLAoJYXV0b0ZvY3VzLAoJLi4ucmVzdAp9KSA9PiB7Cgljb25zdCBzdWJtaXRQcm9wcyA9IHsKCQkuLi5yZXN0LAoJCS4uLih0eXBlb2YgZGlzYWJsZWQgPT09ICd1bmRlZmluZWQnID8ge30gOiB7IGRpc2FibGVkIH0pLAoJCS4uLih0eXBlb2YgYXV0b0ZvY3VzID09PSAndW5kZWZpbmVkJyA/IHt9IDogeyBhdXRvRm9jdXMgfSksCgl9OwoJcmV0dXJuICgKCQk8QXJpYWtpdC5Gb3JtU3VibWl0IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSB7Li4uc3VibWl0UHJvcHN9PgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkZvcm1TdWJtaXQ+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEZvcm1BY3Rpb25zOiBSZWFjdC5GQzxGb3JtQWN0aW9uc1Byb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYWxpZ24gPSAncmlnaHQnLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgYWxpZ25tZW50cyA9IHsKCQlsZWZ0OiAnanVzdGlmeS1zdGFydCcsCgkJY2VudGVyOiAnanVzdGlmeS1jZW50ZXInLAoJCXJpZ2h0OiAnanVzdGlmeS1lbmQnLAoJfTsKCglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBwdC00JywKCQkJCWFsaWdubWVudHNbYWxpZ25dLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "tooltip.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IHRvb2x0aXBDb250ZW50VmFyaWFudHMgPSBjdmEoCglgbm90LXByb3NlIHBvaW50ZXItZXZlbnRzLWF1dG8gei01MCBvcmlnaW4tdG9wIC10cmFuc2xhdGUteS0yIHNjYWxlLTk1IHJvdW5kZWQtbWQgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LXNtIG9wYWNpdHktMCBzaGFkb3ctbWQgdHJhbnNpdGlvbi1bdHJhbnNsYXRlLG9wYWNpdHksc2NhbGVdIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTpvcGFjaXR5LTBgLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6IGBib3JkZXItYm9yZGVyIGJnLWNhcmQtbXV0ZWQgdGV4dC1mb3JlZ3JvdW5kYCwKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJfSwKCX0sCik7CgpleHBvcnQgdHlwZSBUb29sdGlwUGxhY2VtZW50ID0gJ3RvcCcgfCAnYm90dG9tJyB8ICdsZWZ0JyB8ICdyaWdodCc7CgpleHBvcnQgaW50ZXJmYWNlIFRvb2x0aXBQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJZGVsYXlEdXJhdGlvbj86IG51bWJlcjsKCXBsYWNlbWVudD86IFRvb2x0aXBQbGFjZW1lbnQ7CglndXR0ZXI/OiBudW1iZXI7Cglwb3J0YWw/OiBib29sZWFuOwoJZml4ZWQ/OiBib29sZWFuOwoJc2hvd0Fycm93PzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBUb29sdGlwVHJpZ2dlclByb3BzIGV4dGVuZHMgQXJpYWtpdC5Ub29sdGlwQW5jaG9yUHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBUb29sdGlwQ29udGVudFByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHRvb2x0aXBDb250ZW50VmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmludGVyZmFjZSBUb29sdGlwQ29uZmlnIHsKCWd1dHRlcj86IG51bWJlcjsKCXBvcnRhbD86IGJvb2xlYW47CglmaXhlZD86IGJvb2xlYW47CglzaG93QXJyb3c/OiBib29sZWFuOwp9Cgpjb25zdCBUb29sdGlwQ29uZmlnQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8VG9vbHRpcENvbmZpZz4oewoJZ3V0dGVyOiAwLAoJcG9ydGFsOiB0cnVlLAoJZml4ZWQ6IGZhbHNlLAoJc2hvd0Fycm93OiB0cnVlLAp9KTsKCmNvbnN0IHVzZVRvb2x0aXBDb25maWcgPSAoKSA9PiBSZWFjdC51c2VDb250ZXh0KFRvb2x0aXBDb25maWdDb250ZXh0KTsKCmV4cG9ydCBjb25zdCBUb29sdGlwOiBSZWFjdC5GQzxUb29sdGlwUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJZGVsYXlEdXJhdGlvbiA9IDQwMCwKCXBsYWNlbWVudCA9ICd0b3AnLAoJZ3V0dGVyID0gMCwKCXBvcnRhbCA9IHRydWUsCglmaXhlZCA9IGZhbHNlLAoJc2hvd0Fycm93ID0gdHJ1ZSwKfSkgPT4gewoJcmV0dXJuICgKCQk8VG9vbHRpcENvbmZpZ0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgZ3V0dGVyLCBwb3J0YWwsIGZpeGVkLCBzaG93QXJyb3cgfX0+CgkJCTxBcmlha2l0LlRvb2x0aXBQcm92aWRlcgoJCQkJc2hvd1RpbWVvdXQ9e2RlbGF5RHVyYXRpb259CgkJCQloaWRlVGltZW91dD17MTAwfQoJCQkJcGxhY2VtZW50PXtwbGFjZW1lbnR9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9Bcmlha2l0LlRvb2x0aXBQcm92aWRlcj4KCQk8L1Rvb2x0aXBDb25maWdDb250ZXh0LlByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBUb29sdGlwVHJpZ2dlcjogUmVhY3QuRkM8VG9vbHRpcFRyaWdnZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IGF1dG9Gb2N1cywgLi4ucmVzdFByb3BzIH0gPSBwcm9wczsKCglpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7CgkJcmV0dXJuICgKCQkJPEFyaWFraXQuVG9vbHRpcEFuY2hvcgoJCQkJcmVuZGVyPXsoYW5jaG9yUHJvcHMpID0+CgkJCQkJUmVhY3QuY2xvbmVFbGVtZW50KAoJCQkJCQljaGlsZHJlbiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT4sCgkJCQkJCXsKCQkJCQkJCS4uLihhbmNob3JQcm9wcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiksCgkJCQkJCQljbGFzc05hbWU6IGNuKAoJCQkJCQkJCSdub3QtcHJvc2UgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyJywKCQkJCQkJCQljbGFzc05hbWUsCgkJCQkJCQkJKGNoaWxkcmVuIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx7IGNsYXNzTmFtZT86IHN0cmluZyB9PikucHJvcHMKCQkJCQkJCQkJLmNsYXNzTmFtZSwKCQkJCQkJCSksCgkJCQkJCX0sCgkJCQkJKQoJCQkJfQoJCQkJey4uLihhdXRvRm9jdXMgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBhdXRvRm9jdXMgfSl9CgkJCQl7Li4ucmVzdFByb3BzfQoJCQkvPgoJCSk7Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Ub29sdGlwQW5jaG9yCgkJCWNsYXNzTmFtZT17Y24oJ25vdC1wcm9zZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXInLCBjbGFzc05hbWUpfQoJCQl7Li4uKGF1dG9Gb2N1cyA9PT0gdW5kZWZpbmVkID8ge30gOiB7IGF1dG9Gb2N1cyB9KX0KCQkJey4uLnJlc3RQcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuVG9vbHRpcEFuY2hvcj4KCSk7Cn07CgpleHBvcnQgY29uc3QgVG9vbHRpcENvbnRlbnQ6IFJlYWN0LkZDPFRvb2x0aXBDb250ZW50UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCWF1dG9Gb2N1cywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsKCQlndXR0ZXI6IGNvbnRleHRHdXR0ZXIsCgkJcG9ydGFsOiBjb250ZXh0UG9ydGFsLAoJCWZpeGVkOiBjb250ZXh0Rml4ZWQsCgkJc2hvd0Fycm93OiBjb250ZXh0U2hvd0Fycm93LAoJfSA9IHVzZVRvb2x0aXBDb25maWcoKTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LlRvb2x0aXAKCQkJY2xhc3NOYW1lPXtjbih0b29sdGlwQ29udGVudFZhcmlhbnRzKHsgdmFyaWFudCB9KSwgY2xhc3NOYW1lKX0KCQkJZ3V0dGVyPXtjb250ZXh0R3V0dGVyfQoJCQlwb3J0YWw9e2NvbnRleHRQb3J0YWwgPz8gdHJ1ZX0KCQkJZml4ZWQ9e2NvbnRleHRGaXhlZCA/PyBmYWxzZX0KCQkJey4uLihhdXRvRm9jdXMgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBhdXRvRm9jdXMgfSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQkJeyhjb250ZXh0U2hvd0Fycm93ID8/IHRydWUpID8gPEFyaWFraXQuVG9vbHRpcEFycm93IC8+IDogbnVsbH0KCQk8L0FyaWFraXQuVG9vbHRpcD4KCSk7Cn07"
,
  "calendar.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvaWNvbnMnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IGNhbGVuZGFyVmFyaWFudHMgPSBjdmEoCglbCgkJJ3JvdW5kZWQtbGcgYmctY2FyZCcsCgkJJ3NoYWRvdy1tZCcsCgkJJ292ZXJmbG93LWhpZGRlbicsCgkJJ25vdC1wcm9zZScsCgkJJ3RleHQteHMnLAoJCSd3LWZpdCcsCgkJJ21heC13LXNtJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgZGF5QnV0dG9uVmFyaWFudHMgPSBjdmEoCglbCgkJJ3RleHQtY2VudGVyJywKCQkncm91bmRlZC1zbScsCgkJJ3RyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvdyxjb2xvcl0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMnLAoJCSdub3QtcHJvc2UgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCSd3LTgnLAoJCSdoLTgnLAoJCSd0ZXh0LXhzJywKCQknZmxleCcsCgkJJ2l0ZW1zLWNlbnRlcicsCgkJJ2p1c3RpZnktY2VudGVyJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJc3RhdGU6IHsKCQkJCWRlZmF1bHQ6ICd0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6YmctY2FyZC1tdXRlZCcsCgkJCQlzZWxlY3RlZDogJ2JnLWZvcmVncm91bmQgdGV4dC1iYWNrZ3JvdW5kJywKCQkJCXRvZGF5OiAnYmctY2FyZC1tdXRlZCB0ZXh0LWZvcmVncm91bmQnLAoJCQkJZGlzYWJsZWQ6ICdjdXJzb3Itbm90LWFsbG93ZWQgbGluZS10aHJvdWdoIG9wYWNpdHktNTAnLAoJCQkJb3V0c2lkZU1vbnRoOiAndGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJfSwKCQkJaW50ZXJhY3Rpb246IHsKCQkJCWVuYWJsZWQ6ICdjdXJzb3ItcG9pbnRlcicsCgkJCQlkaXNhYmxlZDogJ2N1cnNvci1ub3QtYWxsb3dlZCcsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc3RhdGU6ICdkZWZhdWx0JywKCQkJaW50ZXJhY3Rpb246ICdlbmFibGVkJywKCQl9LAoJfSwKKTsKCmNvbnN0IERBWVNfSU5fV0VFSyA9IDc7CmNvbnN0IE1PTlRIUyA9IFsKCSdKYW51YXJ5JywKCSdGZWJydWFyeScsCgknTWFyY2gnLAoJJ0FwcmlsJywKCSdNYXknLAoJJ0p1bmUnLAoJJ0p1bHknLAoJJ0F1Z3VzdCcsCgknU2VwdGVtYmVyJywKCSdPY3RvYmVyJywKCSdOb3ZlbWJlcicsCgknRGVjZW1iZXInLApdOwpjb25zdCBXRUVLREFZUyA9IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J107CgpleHBvcnQgaW50ZXJmYWNlIENhbGVuZGFyUHJvcHMKCWV4dGVuZHMgT21pdDwKCQkJUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCQknb25DaGFuZ2UnIHwgJ2RlZmF1bHRWYWx1ZScKCQk+LAoJCU9taXQ8VmFyaWFudFByb3BzPHR5cGVvZiBjYWxlbmRhclZhcmlhbnRzPiwgJ2Rpc2FibGVkJz4gewoJdmFsdWU/OiBEYXRlOwoJZGVmYXVsdFZhbHVlPzogRGF0ZTsKCW9uQ2hhbmdlPzogKGRhdGU6IERhdGUgfCB1bmRlZmluZWQpID0+IHZvaWQ7CglkaXNhYmxlZD86IGJvb2xlYW47CglkaXNhYmxlZERhdGVzPzogRGF0ZVtdIHwgKChkYXRlOiBEYXRlKSA9PiBib29sZWFuKTsKCW1pbkRhdGU/OiBEYXRlOwoJbWF4RGF0ZT86IERhdGU7CglzaG93V2Vla051bWJlcnM/OiBib29sZWFuOwoJc2hvd091dHNpZGVEYXlzPzogYm9vbGVhbjsKCXdlZWtTdGFydHNPbj86IDAgfCAxIHwgMiB8IDMgfCA0IHwgNSB8IDY7Cglmb3JtYXRNb250aD86IChkYXRlOiBEYXRlKSA9PiBzdHJpbmc7Cglmb3JtYXRXZWVrZGF5PzogKGRhdGU6IERhdGUpID0+IHN0cmluZzsKCSdhcmlhLWxhYmVsJz86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IENhbGVuZGFyOiBSZWFjdC5GQzxDYWxlbmRhclByb3BzPiA9ICh7Cgl2YWx1ZTogY29udHJvbGxlZFZhbHVlLAoJZGVmYXVsdFZhbHVlLAoJb25DaGFuZ2UsCglkaXNhYmxlZCA9IGZhbHNlLAoJZGlzYWJsZWREYXRlcywKCW1pbkRhdGUsCgltYXhEYXRlLAoJc2hvd1dlZWtOdW1iZXJzID0gZmFsc2UsCglzaG93T3V0c2lkZURheXMgPSB0cnVlLAoJd2Vla1N0YXJ0c09uID0gMCwKCWZvcm1hdE1vbnRoID0gKGRhdGUpID0+IGAke01PTlRIU1tkYXRlLmdldE1vbnRoKCldfSAke2RhdGUuZ2V0RnVsbFllYXIoKX1gLAoJZm9ybWF0V2Vla2RheSA9IChkYXRlKSA9PiBXRUVLREFZU1tkYXRlLmdldERheSgpXSwKCWNsYXNzTmFtZSA9ICcnLAoJJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBbaW50ZXJuYWxWYWx1ZSwgc2V0SW50ZXJuYWxWYWx1ZV0gPSB1c2VTdGF0ZTxEYXRlIHwgdW5kZWZpbmVkPigKCQlkZWZhdWx0VmFsdWUsCgkpOwoJY29uc3QgW2N1cnJlbnRNb250aCwgc2V0Q3VycmVudE1vbnRoXSA9IHVzZVN0YXRlKCgpID0+IHsKCQlyZXR1cm4gY29udHJvbGxlZFZhbHVlIHx8IGRlZmF1bHRWYWx1ZSB8fCBuZXcgRGF0ZSgpOwoJfSk7CgoJY29uc3QgaXNDb250cm9sbGVkID0gY29udHJvbGxlZFZhbHVlICE9PSB1bmRlZmluZWQ7Cgljb25zdCBzZWxlY3RlZERhdGUgPSBpc0NvbnRyb2xsZWQgPyBjb250cm9sbGVkVmFsdWUgOiBpbnRlcm5hbFZhbHVlOwoJY29uc3QgaGVhZGluZ0lkID0gUmVhY3QudXNlSWQoKTsKCgljb25zdCBpc1NhbWVEYXkgPSB1c2VDYWxsYmFjaygoZGF0ZTE6IERhdGUsIGRhdGUyOiBEYXRlKSA9PiB7CgkJcmV0dXJuICgKCQkJZGF0ZTEuZ2V0RGF0ZSgpID09PSBkYXRlMi5nZXREYXRlKCkgJiYKCQkJZGF0ZTEuZ2V0TW9udGgoKSA9PT0gZGF0ZTIuZ2V0TW9udGgoKSAmJgoJCQlkYXRlMS5nZXRGdWxsWWVhcigpID09PSBkYXRlMi5nZXRGdWxsWWVhcigpCgkJKTsKCX0sIFtdKTsKCgljb25zdCBpc1NhbWVNb250aCA9IHVzZUNhbGxiYWNrKChkYXRlMTogRGF0ZSwgZGF0ZTI6IERhdGUpID0+IHsKCQlyZXR1cm4gKAoJCQlkYXRlMS5nZXRNb250aCgpID09PSBkYXRlMi5nZXRNb250aCgpICYmCgkJCWRhdGUxLmdldEZ1bGxZZWFyKCkgPT09IGRhdGUyLmdldEZ1bGxZZWFyKCkKCQkpOwoJfSwgW10pOwoKCWNvbnN0IGlzRGF0ZURpc2FibGVkID0gdXNlQ2FsbGJhY2soCgkJKGRhdGU6IERhdGUpID0+IHsKCQkJaWYgKGRpc2FibGVkKSByZXR1cm4gdHJ1ZTsKCgkJCWlmIChtaW5EYXRlICYmIGRhdGUgPCBtaW5EYXRlKSByZXR1cm4gdHJ1ZTsKCQkJaWYgKG1heERhdGUgJiYgZGF0ZSA+IG1heERhdGUpIHJldHVybiB0cnVlOwoKCQkJaWYgKGRpc2FibGVkRGF0ZXMpIHsKCQkJCWlmICh0eXBlb2YgZGlzYWJsZWREYXRlcyA9PT0gJ2Z1bmN0aW9uJykgewoJCQkJCXJldHVybiBkaXNhYmxlZERhdGVzKGRhdGUpOwoJCQkJfQoJCQkJcmV0dXJuIGRpc2FibGVkRGF0ZXMuc29tZSgoZGlzYWJsZWREYXRlKSA9PgoJCQkJCWlzU2FtZURheShkYXRlLCBkaXNhYmxlZERhdGUpLAoJCQkJKTsKCQkJfQoKCQkJcmV0dXJuIGZhbHNlOwoJCX0sCgkJW2Rpc2FibGVkLCBtaW5EYXRlLCBtYXhEYXRlLCBkaXNhYmxlZERhdGVzLCBpc1NhbWVEYXldLAoJKTsKCgljb25zdCBjYWxlbmRhckRheXMgPSB1c2VNZW1vKCgpID0+IHsKCQljb25zdCB5ZWFyID0gY3VycmVudE1vbnRoLmdldEZ1bGxZZWFyKCk7CgkJY29uc3QgbW9udGggPSBjdXJyZW50TW9udGguZ2V0TW9udGgoKTsKCgkJY29uc3QgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpOwoJCWNvbnN0IGxhc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGggKyAxLCAwKTsKCgkJY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoZmlyc3REYXlPZk1vbnRoKTsKCQlzdGFydERhdGUuc2V0RGF0ZSgKCQkJc3RhcnREYXRlLmdldERhdGUoKSAtICgoZmlyc3REYXlPZk1vbnRoLmdldERheSgpIC0gd2Vla1N0YXJ0c09uICsgNykgJSA3KSwKCQkpOwoKCQljb25zdCBlbmREYXRlID0gbmV3IERhdGUobGFzdERheU9mTW9udGgpOwoJCWNvbnN0IGRheXNUb0FkZCA9IDYgLSAoKGxhc3REYXlPZk1vbnRoLmdldERheSgpIC0gd2Vla1N0YXJ0c09uICsgNykgJSA3KTsKCQllbmREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgKyBkYXlzVG9BZGQpOwoKCQljb25zdCBkYXlzOiBEYXRlW10gPSBbXTsKCQljb25zdCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKTsKCgkJd2hpbGUgKGN1cnJlbnQgPD0gZW5kRGF0ZSkgewoJCQlkYXlzLnB1c2gobmV3IERhdGUoY3VycmVudCkpOwoJCQljdXJyZW50LnNldERhdGUoY3VycmVudC5nZXREYXRlKCkgKyAxKTsKCQl9CgoJCXJldHVybiBkYXlzOwoJfSwgW2N1cnJlbnRNb250aCwgd2Vla1N0YXJ0c09uXSk7CgoJY29uc3QgZ29Ub1ByZXZpb3VzTW9udGggPSB1c2VDYWxsYmFjaygoKSA9PiB7CgkJc2V0Q3VycmVudE1vbnRoKAoJCQkocHJldikgPT4gbmV3IERhdGUocHJldi5nZXRGdWxsWWVhcigpLCBwcmV2LmdldE1vbnRoKCkgLSAxLCAxKSwKCQkpOwoJfSwgW10pOwoKCWNvbnN0IGdvVG9OZXh0TW9udGggPSB1c2VDYWxsYmFjaygoKSA9PiB7CgkJc2V0Q3VycmVudE1vbnRoKAoJCQkocHJldikgPT4gbmV3IERhdGUocHJldi5nZXRGdWxsWWVhcigpLCBwcmV2LmdldE1vbnRoKCkgKyAxLCAxKSwKCQkpOwoJfSwgW10pOwoKCWNvbnN0IGdvVG9Ub2RheSA9IHVzZUNhbGxiYWNrKCgpID0+IHsKCQljb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7CgkJc2V0Q3VycmVudE1vbnRoKHRvZGF5KTsKCgkJaWYgKCFpc0RhdGVEaXNhYmxlZCh0b2RheSkpIHsKCQkJaWYgKCFpc0NvbnRyb2xsZWQpIHsKCQkJCXNldEludGVybmFsVmFsdWUodG9kYXkpOwoJCQl9CgkJCW9uQ2hhbmdlPy4odG9kYXkpOwoJCX0KCX0sIFtpc0NvbnRyb2xsZWQsIGlzRGF0ZURpc2FibGVkLCBvbkNoYW5nZV0pOwoKCWNvbnN0IGdldElTT1dlZWtOdW1iZXIgPSB1c2VDYWxsYmFjaygoZGF0ZTogRGF0ZSkgPT4gewoJCWNvbnN0IGQgPSBuZXcgRGF0ZSgKCQkJRGF0ZS5VVEMoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKSwKCQkpOwoJCWNvbnN0IGRheU51bSA9IGQuZ2V0VVRDRGF5KCkgfHwgNzsKCQlkLnNldFVUQ0RhdGUoZC5nZXRVVENEYXRlKCkgKyA0IC0gZGF5TnVtKTsKCQljb25zdCB5ZWFyU3RhcnQgPSBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldFVUQ0Z1bGxZZWFyKCksIDAsIDEpKTsKCQlyZXR1cm4gTWF0aC5jZWlsKCgoZC5nZXRUaW1lKCkgLSB5ZWFyU3RhcnQuZ2V0VGltZSgpKSAvIDg2NDAwMDAwICsgMSkgLyA3KTsKCX0sIFtdKTsKCgljb25zdCBoYW5kbGVEYXRlU2VsZWN0ID0gdXNlQ2FsbGJhY2soCgkJKGRhdGU6IERhdGUpID0+IHsKCQkJaWYgKGlzRGF0ZURpc2FibGVkKGRhdGUpKSByZXR1cm47CgoJCQlpZiAoIWlzQ29udHJvbGxlZCkgewoJCQkJc2V0SW50ZXJuYWxWYWx1ZShkYXRlKTsKCQkJfQoKCQkJb25DaGFuZ2U/LihkYXRlKTsKCQl9LAoJCVtpc0RhdGVEaXNhYmxlZCwgaXNDb250cm9sbGVkLCBvbkNoYW5nZV0sCgkpOwoKCWNvbnN0IHdlZWtkYXlzID0gdXNlTWVtbygoKSA9PiB7CgkJY29uc3QgZGF5cyA9IFtdOwoJCWZvciAobGV0IGkgPSAwOyBpIDwgREFZU19JTl9XRUVLOyBpKyspIHsKCQkJY29uc3QgZGF5SW5kZXggPSAod2Vla1N0YXJ0c09uICsgaSkgJSBEQVlTX0lOX1dFRUs7CgkJCWNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgyMDIzLCAwLCBkYXlJbmRleCArIDEpOwoJCQljb25zdCBkYXlOYW1lID0KCQkJCWZvcm1hdFdlZWtkYXk/LihkYXRlKSA/PyBXRUVLREFZU1tkYXlJbmRleF0gPz8gV0VFS0RBWVNbaV0gPz8gJyc7CgkJCWRheXMucHVzaChkYXlOYW1lLnNsaWNlKDAsIDIpKTsKCQl9CgkJcmV0dXJuIGRheXM7Cgl9LCBbd2Vla1N0YXJ0c09uLCBmb3JtYXRXZWVrZGF5XSk7CgoJY29uc3QgZm9jdXNEYXRlSVNPID0gdXNlTWVtbygoKSA9PiB7CgkJY29uc3QgdG9JU08gPSAoZDogRGF0ZSkgPT4gZC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07CgkJY29uc3QgaXNWaXNpYmxlID0gKGQ6IERhdGUpID0+CgkJCXNob3dPdXRzaWRlRGF5cyB8fCBpc1NhbWVNb250aChkLCBjdXJyZW50TW9udGgpOwoKCQlpZiAoc2VsZWN0ZWREYXRlKSB7CgkJCWNvbnN0IGZvdW5kID0gY2FsZW5kYXJEYXlzLmZpbmQoCgkJCQkoZCkgPT4gaXNWaXNpYmxlKGQpICYmIGlzU2FtZURheShkLCBzZWxlY3RlZERhdGUpICYmICFpc0RhdGVEaXNhYmxlZChkKSwKCQkJKTsKCQkJaWYgKGZvdW5kKSByZXR1cm4gdG9JU08oZm91bmQpOwoJCX0KCgkJY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwoJCWNvbnN0IHRvZGF5SW5WaWV3ID0gY2FsZW5kYXJEYXlzLmZpbmQoCgkJCShkKSA9PiBpc1Zpc2libGUoZCkgJiYgaXNTYW1lRGF5KGQsIHRvZGF5KSAmJiAhaXNEYXRlRGlzYWJsZWQoZCksCgkJKTsKCQlpZiAodG9kYXlJblZpZXcpIHJldHVybiB0b0lTTyh0b2RheUluVmlldyk7CgoJCWNvbnN0IGZpcnN0RW5hYmxlZEN1cnJlbnRNb250aCA9IGNhbGVuZGFyRGF5cy5maW5kKAoJCQkoZCkgPT4gaXNTYW1lTW9udGgoZCwgY3VycmVudE1vbnRoKSAmJiBpc1Zpc2libGUoZCkgJiYgIWlzRGF0ZURpc2FibGVkKGQpLAoJCSk7CgkJaWYgKGZpcnN0RW5hYmxlZEN1cnJlbnRNb250aCkgcmV0dXJuIHRvSVNPKGZpcnN0RW5hYmxlZEN1cnJlbnRNb250aCk7CgoJCWNvbnN0IGZpcnN0RW5hYmxlZEFueSA9IGNhbGVuZGFyRGF5cy5maW5kKAoJCQkoZCkgPT4gaXNWaXNpYmxlKGQpICYmICFpc0RhdGVEaXNhYmxlZChkKSwKCQkpOwoJCXJldHVybiBmaXJzdEVuYWJsZWRBbnkgPyB0b0lTTyhmaXJzdEVuYWJsZWRBbnkpIDogdW5kZWZpbmVkOwoJfSwgWwoJCWNhbGVuZGFyRGF5cywKCQljdXJyZW50TW9udGgsCgkJaXNEYXRlRGlzYWJsZWQsCgkJaXNTYW1lRGF5LAoJCWlzU2FtZU1vbnRoLAoJCXNlbGVjdGVkRGF0ZSwKCQlzaG93T3V0c2lkZURheXMsCgldKTsKCgljb25zdCBjb21wb3NpdGUgPSBBcmlha2l0LnVzZUNvbXBvc2l0ZVN0b3JlKHsKCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJCWZvY3VzTG9vcDogZmFsc2UsCgl9KTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmIChmb2N1c0RhdGVJU08pIHsKCQkJY29tcG9zaXRlLnNldEFjdGl2ZUlkKGBkLSR7Zm9jdXNEYXRlSVNPfWApOwoJCX0KCX0sIFtjb21wb3NpdGUsIGZvY3VzRGF0ZUlTT10pOwoKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJY2FsZW5kYXJWYXJpYW50cyh7CgkJCQkJZGlzYWJsZWQsCgkJCQl9KSwKCQkJCSdyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyIGJvcmRlci1ib3JkZXInLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbicsICdweC00IHB0LTQnKX0+CgkJCQk8YnV0dG9uCgkJCQkJdHlwZT0iYnV0dG9uIgoJCQkJCW9uQ2xpY2s9e2dvVG9QcmV2aW91c01vbnRofQoJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQknbm90LXByb3NlIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvd10gaG92ZXI6YmctY2FyZC1tdXRlZCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCcsCgkJCQkJCSdwLTEuNScsCgkJCQkJKX0KCQkJCT4KCQkJCQk8SWNvbnMuQ2hldnJvbkxlZnQgYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KCQkJCQk8QXJpYWtpdC5WaXN1YWxseUhpZGRlbj5QcmV2aW91cyBNb250aDwvQXJpYWtpdC5WaXN1YWxseUhpZGRlbj4KCQkJCTwvYnV0dG9uPgoKCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMiPgoJCQkJCTxoMgoJCQkJCQlpZD17aGVhZGluZ0lkfQoJCQkJCQlhcmlhLWxpdmU9InBvbGl0ZSIKCQkJCQkJYXJpYS1hdG9taWM9InRydWUiCgkJCQkJCWNsYXNzTmFtZT17Y24oJ2ZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcsICd0ZXh0LXNtJyl9CgkJCQkJPgoJCQkJCQl7Zm9ybWF0TW9udGgoY3VycmVudE1vbnRoKX0KCQkJCQk8L2gyPgoJCQkJCTxidXR0b24KCQkJCQkJdHlwZT0iYnV0dG9uIgoJCQkJCQlvbkNsaWNrPXtnb1RvVG9kYXl9CgkJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCSdub3QtcHJvc2UgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1zbSBiZy1jYXJkIHRleHQtZm9yZWdyb3VuZC83MCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGhvdmVyOmJnLWNhcmQtbXV0ZWQgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAnLAoJCQkJCQkJJ3B4LTIgcHktMSB0ZXh0LXhzJywKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCVRvZGF5CgkJCQkJCTxBcmlha2l0LlZpc3VhbGx5SGlkZGVuPlRvZGF5PC9Bcmlha2l0LlZpc3VhbGx5SGlkZGVuPgoJCQkJCTwvYnV0dG9uPgoJCQkJPC9kaXY+CgoJCQkJPGJ1dHRvbgoJCQkJCXR5cGU9ImJ1dHRvbiIKCQkJCQlvbkNsaWNrPXtnb1RvTmV4dE1vbnRofQoJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQknbm90LXByb3NlIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvd10gaG92ZXI6YmctY2FyZC1tdXRlZCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCcsCgkJCQkJCSdwLTEuNScsCgkJCQkJKX0KCQkJCT4KCQkJCQk8SWNvbnMuQ2hldnJvblJpZ2h0IGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCQkJPEFyaWFraXQuVmlzdWFsbHlIaWRkZW4+TmV4dCBNb250aDwvQXJpYWtpdC5WaXN1YWxseUhpZGRlbj4KCQkJCTwvYnV0dG9uPgoJCQk8L2Rpdj4KCgkJCTxkaXYgY2xhc3NOYW1lPSJwLTQiPgoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdtYi0zIGdyaWQnLAoJCQkJCQlzaG93V2Vla051bWJlcnMgPyAnZ3JpZC1jb2xzLTgnIDogJ2dyaWQtY29scy03JywKCQkJCQkJJ2dhcC0xJywKCQkJCQkpfQoJCQkJPgoJCQkJCXtzaG93V2Vla051bWJlcnMgJiYgKAoJCQkJCQk8ZGl2CgkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWNlbnRlciBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNDUnLAoJCQkJCQkJCSdoLTggdy04IHRleHQteHMnLAoJCQkJCQkJKX0KCQkJCQkJPgoJCQkJCQkJV2sKCQkJCQkJPC9kaXY+CgkJCQkJKX0KCQkJCQl7d2Vla2RheXMubWFwKChkYXkpID0+IHsKCQkJCQkJcmV0dXJuICgKCQkJCQkJCTxkaXYKCQkJCQkJCQlrZXk9e2RheX0KCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQknZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1jZW50ZXIgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQkJCQkJJ2gtOCB3LTggdGV4dC14cycsCgkJCQkJCQkJKX0KCQkJCQkJCT4KCQkJCQkJCQl7ZGF5fQoJCQkJCQkJPC9kaXY+CgkJCQkJCSk7CgkJCQkJfSl9CgkJCQk8L2Rpdj4KCgkJCQk8QXJpYWtpdC5Db21wb3NpdGUKCQkJCQlzdG9yZT17Y29tcG9zaXRlfQoJCQkJCXJvbGU9ImdyaWQiCgkJCQkJey4uLihhcmlhTGFiZWwKCQkJCQkJPyB7ICdhcmlhLWxhYmVsJzogYXJpYUxhYmVsIH0KCQkJCQkJOiB7ICdhcmlhLWxhYmVsbGVkYnknOiBoZWFkaW5nSWQgfSl9CgkJCQkJY2xhc3NOYW1lPSJzcGFjZS15LTEiCgkJCQk+CgkJCQkJe0FycmF5LmZyb20oCgkJCQkJCXsgbGVuZ3RoOiBNYXRoLmNlaWwoY2FsZW5kYXJEYXlzLmxlbmd0aCAvIERBWVNfSU5fV0VFSykgfSwKCQkJCQkJKF8sIHdlZWtJbmRleCkgPT4gewoJCQkJCQkJY29uc3Qgd2Vla1N0YXJ0RGF0ZSA9IGNhbGVuZGFyRGF5c1t3ZWVrSW5kZXggKiBEQVlTX0lOX1dFRUtdOwoKCQkJCQkJCWlmICghd2Vla1N0YXJ0RGF0ZSkgewoJCQkJCQkJCXJldHVybiBudWxsOwoJCQkJCQkJfQoKCQkJCQkJCXJldHVybiAoCgkJCQkJCQkJPEFyaWFraXQuQ29tcG9zaXRlUm93CgkJCQkJCQkJCWtleT17d2Vla1N0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19CgkJCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJCQknZ3JpZCcsCgkJCQkJCQkJCQlzaG93V2Vla051bWJlcnMgPyAnZ3JpZC1jb2xzLTgnIDogJ2dyaWQtY29scy03JywKCQkJCQkJCQkJCSdnYXAtMScsCgkJCQkJCQkJCSl9CgkJCQkJCQkJPgoJCQkJCQkJCQl7c2hvd1dlZWtOdW1iZXJzICYmICgKCQkJCQkJCQkJCTxkaXYKCQkJCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQkJCQknZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1jZW50ZXIgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQkJCQkJCQkJJ2gtOCB3LTggdGV4dC14cycsCgkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQl7Z2V0SVNPV2Vla051bWJlcih3ZWVrU3RhcnREYXRlKX0KCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkpfQoJCQkJCQkJCQl7Y2FsZW5kYXJEYXlzCgkJCQkJCQkJCQkuc2xpY2UoCgkJCQkJCQkJCQkJd2Vla0luZGV4ICogREFZU19JTl9XRUVLLAoJCQkJCQkJCQkJCSh3ZWVrSW5kZXggKyAxKSAqIERBWVNfSU5fV0VFSywKCQkJCQkJCQkJCSkKCQkJCQkJCQkJCS5tYXAoKGRhdGUsIF9kYXlJbmRleCkgPT4gewoJCQkJCQkJCQkJCWNvbnN0IGlzU2VsZWN0ZWQgPQoJCQkJCQkJCQkJCQlzZWxlY3RlZERhdGUgJiYgaXNTYW1lRGF5KGRhdGUsIHNlbGVjdGVkRGF0ZSk7CgkJCQkJCQkJCQkJY29uc3QgaXNDdXJyZW50TW9udGggPSBpc1NhbWVNb250aChkYXRlLCBjdXJyZW50TW9udGgpOwoJCQkJCQkJCQkJCWNvbnN0IGlzVG9kYXkgPSBpc1NhbWVEYXkoZGF0ZSwgbmV3IERhdGUoKSk7CgkJCQkJCQkJCQkJY29uc3QgaXNEaXNhYmxlZCA9IGlzRGF0ZURpc2FibGVkKGRhdGUpOwoJCQkJCQkJCQkJCWNvbnN0IHNob3VsZFNob3cgPSBzaG93T3V0c2lkZURheXMgfHwgaXNDdXJyZW50TW9udGg7CgoJCQkJCQkJCQkJCWlmICghc2hvdWxkU2hvdykgewoJCQkJCQkJCQkJCQlyZXR1cm4gKAoJCQkJCQkJCQkJCQkJPGRpdiBrZXk9e2RhdGUudG9JU09TdHJpbmcoKX0gY2xhc3NOYW1lPSJoLTggdy04IiAvPgoJCQkJCQkJCQkJCQkpOwoJCQkJCQkJCQkJCX0KCgkJCQkJCQkJCQkJcmV0dXJuICgKCQkJCQkJCQkJCQkJPEFyaWFraXQuQ29tcG9zaXRlSXRlbQoJCQkJCQkJCQkJCQkJaWQ9e2BkLSR7ZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19YH0KCQkJCQkJCQkJCQkJCWtleT17ZGF0ZS50b0lTT1N0cmluZygpfQoJCQkJCQkJCQkJCQkJb25DbGljaz17KCkgPT4gaGFuZGxlRGF0ZVNlbGVjdChkYXRlKX0KCQkJCQkJCQkJCQkJCW9uS2V5RG93bj17KGUpID0+IHsKCQkJCQkJCQkJCQkJCQlpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykgewoJCQkJCQkJCQkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJCQkJCQkJCWhhbmRsZURhdGVTZWxlY3QoZGF0ZSk7CgkJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkJCXJvbGU9ImdyaWRjZWxsIgoJCQkJCQkJCQkJCQkJYXJpYS1zZWxlY3RlZD17Qm9vbGVhbihpc1NlbGVjdGVkKX0KCQkJCQkJCQkJCQkJCWFyaWEtZGlzYWJsZWQ9e2lzRGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCQkJCQkJCQkJCQkJZGF0YS1kYXRlPXtkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0KCQkJCQkJCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJCQkJCQkJZGF5QnV0dG9uVmFyaWFudHMoewoJCQkJCQkJCQkJCQkJCQlzdGF0ZTogaXNTZWxlY3RlZAoJCQkJCQkJCQkJCQkJCQkJPyAnc2VsZWN0ZWQnCgkJCQkJCQkJCQkJCQkJCQk6IGlzVG9kYXkKCQkJCQkJCQkJCQkJCQkJCQk/ICd0b2RheScKCQkJCQkJCQkJCQkJCQkJCQk6IGlzRGlzYWJsZWQKCQkJCQkJCQkJCQkJCQkJCQkJPyAnZGlzYWJsZWQnCgkJCQkJCQkJCQkJCQkJCQkJCTogIWlzQ3VycmVudE1vbnRoCgkJCQkJCQkJCQkJCQkJCQkJCQk/ICdvdXRzaWRlTW9udGgnCgkJCQkJCQkJCQkJCQkJCQkJCQk6ICdkZWZhdWx0JywKCQkJCQkJCQkJCQkJCQkJaW50ZXJhY3Rpb246IGlzRGlzYWJsZWQgPyAnZGlzYWJsZWQnIDogJ2VuYWJsZWQnLAoJCQkJCQkJCQkJCQkJCX0pLAoJCQkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCQkJCWFyaWEtbGFiZWw9e2Ake2RhdGUuZ2V0RGF0ZSgpfSAke01PTlRIU1tkYXRlLmdldE1vbnRoKCldfSAke2RhdGUuZ2V0RnVsbFllYXIoKX1gfQoJCQkJCQkJCQkJCQkJYXJpYS1jdXJyZW50PXtpc1RvZGF5ID8gJ2RhdGUnIDogdW5kZWZpbmVkfQoJCQkJCQkJCQkJCQk+CgkJCQkJCQkJCQkJCQl7ZGF0ZS5nZXREYXRlKCl9CgkJCQkJCQkJCQkJCTwvQXJpYWtpdC5Db21wb3NpdGVJdGVtPgoJCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQl9KX0KCQkJCQkJCQk8L0FyaWFraXQuQ29tcG9zaXRlUm93PgoJCQkJCQkJKTsKCQkJCQkJfSwKCQkJCQkpfQoJCQkJPC9Bcmlha2l0LkNvbXBvc2l0ZT4KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "checkbox-card.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QsIHsgdXNlSWQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgY2hlY2tib3hDYXJkVmFyaWFudHMgPSBjdmEoCglbCgkJJ25vdC1wcm9zZSBncm91cCByZWxhdGl2ZSBmbGV4IHctZnVsbCBmbGV4LWNvbCBnYXAtMyByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgcHgtNCBweS0zIHRleHQtbGVmdCBzaGFkb3ctbWQgdHJhbnNpdGlvbi1bYm9yZGVyLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljJywKCQknaGFzLVs6Zm9jdXMtdmlzaWJsZV06cmluZy0xIGhhcy1bOmZvY3VzLXZpc2libGVdOnJpbmctcmluZy81MCBoYXMtWzpmb2N1cy12aXNpYmxlXTpyaW5nLW9mZnNldC0xIGhhcy1bOmZvY3VzLXZpc2libGVdOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGhhcy1bOmZvY3VzLXZpc2libGVdOm91dGxpbmUtbm9uZScsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCWNoZWNrZWQ6IHsKCQkJCXRydWU6ICcnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCQlkaXNhYmxlZDogewoJCQkJdHJ1ZTogJ2N1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWZhbHNlOiAnY3Vyc29yLXBvaW50ZXInLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCWNoZWNrZWQ6IGZhbHNlLAoJCQlkaXNhYmxlZDogZmFsc2UsCgkJfSwKCX0sCik7Cgpjb25zdCBpbmRpY2F0b3JWYXJpYW50cyA9IGN2YSgKCSdmbGV4IGgtMyB3LTMgc2hyaW5rLTAgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHRyYW5zaXRpb24tW2JvcmRlci1jb2xvcl0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMnLAoJewoJCXZhcmlhbnRzOiB7CgkJCWNoZWNrZWQ6IHsKCQkJCXRydWU6ICdib3JkZXItZm9yZWdyb3VuZCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWRpc2FibGVkOiB7CgkJCQl0cnVlOiAnb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJY2hlY2tlZDogZmFsc2UsCgkJCWRpc2FibGVkOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2tib3hDYXJkUHJvcHMKCWV4dGVuZHMgT21pdDwKCQkJT21pdDxSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LCAnc2l6ZSc+LAoJCQkndGl0bGUnCgkJPiwKCQlPbWl0PFZhcmlhbnRQcm9wczx0eXBlb2YgY2hlY2tib3hDYXJkVmFyaWFudHM+LCAnY2hlY2tlZCcgfCAnZGlzYWJsZWQnPiB7Cgl0aXRsZTogUmVhY3QuUmVhY3ROb2RlOwoJZGVzY3JpcHRpb24/OiBSZWFjdC5SZWFjdE5vZGU7CgltZXRhPzogUmVhY3QuUmVhY3ROb2RlOwoJaGVscGVyPzogUmVhY3QuUmVhY3ROb2RlOwoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7CgljaGVja2VkPzogYm9vbGVhbjsKCWRlZmF1bHRDaGVja2VkPzogYm9vbGVhbjsKCW9uQ2hlY2tlZENoYW5nZT86IChjaGVja2VkOiBib29sZWFuKSA9PiB2b2lkOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgQ2hlY2tib3hDYXJkID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxMYWJlbEVsZW1lbnQsCglDaGVja2JveENhcmRQcm9wcwo+KAoJKAoJCXsKCQkJdGl0bGUsCgkJCWRlc2NyaXB0aW9uLAoJCQltZXRhLAoJCQloZWxwZXIsCgkJCWNoaWxkcmVuLAoJCQljbGFzc05hbWUgPSAnJywKCQkJY2hlY2tlZCwKCQkJb25DaGVja2VkQ2hhbmdlLAoJCQlkZWZhdWx0Q2hlY2tlZCwKCQkJZGlzYWJsZWQgPSBmYWxzZSwKCQkJaWQ6IGlkUHJvcCwKCQkJLi4ucHJvcHMKCQl9LAoJCXJlZiwKCSkgPT4gewoJCWNvbnN0IGdlbmVyYXRlZElkID0gdXNlSWQoKTsKCQljb25zdCBpbnB1dElkID0gaWRQcm9wID8/IGdlbmVyYXRlZElkOwoKCQlsZXQgc3RvcmVQcm9wczogUGFyYW1ldGVyczx0eXBlb2YgQXJpYWtpdC51c2VDaGVja2JveFN0b3JlPGJvb2xlYW4+PlswXTsKCQlpZiAodHlwZW9mIGNoZWNrZWQgIT09ICd1bmRlZmluZWQnKSB7CgkJCXN0b3JlUHJvcHMgPSB7CgkJCQl2YWx1ZTogY2hlY2tlZCwKCQkJCXNldFZhbHVlOiAodmFsdWUpID0+IHsKCQkJCQljb25zdCBib29sID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkKCQkJCQkJPyB2YWx1ZS5zb21lKChpdGVtKSA9PiBCb29sZWFuKGl0ZW0pKQoJCQkJCQk6IEJvb2xlYW4odmFsdWUpOwoJCQkJCW9uQ2hlY2tlZENoYW5nZT8uKGJvb2wpOwoJCQkJfSwKCQkJfTsKCQl9IGVsc2UgewoJCQlzdG9yZVByb3BzID0geyBkZWZhdWx0VmFsdWU6IEJvb2xlYW4oZGVmYXVsdENoZWNrZWQpIH07CgkJfQoKCQljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlQ2hlY2tib3hTdG9yZTxib29sZWFuPihzdG9yZVByb3BzKTsKCQljb25zdCBzdG9yZWRWYWx1ZSA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ3ZhbHVlJyk7CgkJY29uc3QgaXNDaGVja2VkID0gQXJyYXkuaXNBcnJheShzdG9yZWRWYWx1ZSkKCQkJPyBzdG9yZWRWYWx1ZS5zb21lKChpdGVtKSA9PiBCb29sZWFuKGl0ZW0pKQoJCQk6IEJvb2xlYW4oc3RvcmVkVmFsdWUpOwoJCWNvbnN0IHsgbmFtZSwgYXV0b0ZvY3VzLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzOwoJCWNvbnN0IGNoZWNrYm94UHJvcHMgPSB7CgkJCS4uLnJlc3RQcm9wcywKCQkJLi4uKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/IHt9IDogeyBuYW1lIH0pLAoJCQkuLi4odHlwZW9mIGF1dG9Gb2N1cyA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IHsgYXV0b0ZvY3VzIH0pLAoJCX07CgoJCXJldHVybiAoCgkJCTxsYWJlbAoJCQkJcmVmPXtyZWZ9CgkJCQlodG1sRm9yPXtpbnB1dElkfQoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQljaGVja2JveENhcmRWYXJpYW50cyh7IGNoZWNrZWQ6IGlzQ2hlY2tlZCwgZGlzYWJsZWQgfSksCgkJCQkJY2xhc3NOYW1lLAoJCQkJKX0KCQkJCWRhdGEtZGlzYWJsZWQ9e2Rpc2FibGVkID8gJycgOiB1bmRlZmluZWR9CgkJCQlkYXRhLWNoZWNrZWQ9e2lzQ2hlY2tlZCA/ICcnIDogdW5kZWZpbmVkfQoJCQk+CgkJCQk8QXJpYWtpdC5DaGVja2JveAoJCQkJCXN0b3JlPXtzdG9yZX0KCQkJCQljbGFzc05hbWU9InNyLW9ubHkiCgkJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJCWlkPXtpbnB1dElkfQoJCQkJCXsuLi5jaGVja2JveFByb3BzfQoJCQkJLz4KCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IHctZnVsbCBpdGVtcy1zdGFydCBnYXAtMyI+CgkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC0xIGZsZXgtY29sIGdhcC0zIj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtc3RhcnQgZ2FwLTMiPgoJCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggbWluLXctMCBmbGV4LTEgZmxleC1jb2wiPgoJCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0idHJ1bmNhdGUgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCQkJCQl7dGl0bGV9CgkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCXtkZXNjcmlwdGlvbiA/ICgKCQkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJtdC0xIHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwIj4KCQkJCQkJCQkJCXtkZXNjcmlwdGlvbn0KCQkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCSkgOiBudWxsfQoJCQkJCQkJPC9kaXY+CgkJCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBzaHJpbmstMCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCQkJCXttZXRhID8gKAoJCQkJCQkJCQk8c3BhbiBjbGFzc05hbWU9IndoaXRlc3BhY2Utbm93cmFwIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kLzcwIj4KCQkJCQkJCQkJCXttZXRhfQoJCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJKSA6IG51bGx9CgkJCQkJCQkJPHNwYW4KCQkJCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCQkJCWNsYXNzTmFtZT17aW5kaWNhdG9yVmFyaWFudHMoewoJCQkJCQkJCQkJY2hlY2tlZDogaXNDaGVja2VkLAoJCQkJCQkJCQkJZGlzYWJsZWQsCgkJCQkJCQkJCX0pfQoJCQkJCQkJCT4KCQkJCQkJCQkJPHNwYW4KCQkJCQkJCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQkJCQknaC0yIHctMiByb3VuZGVkLWZ1bGwgYmctZm9yZWdyb3VuZCB0cmFuc2l0aW9uLVtzY2FsZSxvcGFjaXR5XSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYyB0cmFuc2Zvcm0nLAoJCQkJCQkJCQkJCWlzQ2hlY2tlZCA/ICdzY2FsZS0xMDAgb3BhY2l0eS0xMDAnIDogJ3NjYWxlLTAgb3BhY2l0eS0wJywKCQkJCQkJCQkJCQlkaXNhYmxlZCA/ICdvcGFjaXR5LTYwJyA6ICcnLAoJCQkJCQkJCQkJKX0KCQkJCQkJCQkJPjwvc3Bhbj4KCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJPC9kaXY+CgkJCQkJCXtjaGlsZHJlbiA/ICgKCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIgdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQvNzAiPgoJCQkJCQkJCXtjaGlsZHJlbn0KCQkJCQkJCTwvZGl2PgoJCQkJCQkpIDogbnVsbH0KCQkJCQkJe2hlbHBlciA/ICgKCQkJCQkJCTxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAiPntoZWxwZXJ9PC9wPgoJCQkJCQkpIDogbnVsbH0KCQkJCQk8L2Rpdj4KCQkJCTwvZGl2PgoJCQk8L2xhYmVsPgoJCSk7Cgl9LAopOwoKQ2hlY2tib3hDYXJkLmRpc3BsYXlOYW1lID0gJ0NoZWNrYm94Q2FyZCc7"
,
  "card.tsx": "aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CgpleHBvcnQgaW50ZXJmYWNlIENhcmRQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIENhcmRIZWFkZXJQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIENhcmRUaXRsZVByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhcz86IFJlYWN0LkVsZW1lbnRUeXBlOwp9CgpleHBvcnQgaW50ZXJmYWNlIENhcmREZXNjcmlwdGlvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIENhcmRDb250ZW50UHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDYXJkRm9vdGVyUHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDYXJkQWN0aW9uc1Byb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBDYXJkID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgQ2FyZFByb3BzPigKCSh7IGNoaWxkcmVuLCBjbGFzc05hbWUgPSAnJywgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CgkJcmV0dXJuICgKCQkJPGRpdgoJCQkJcmVmPXtyZWZ9CgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSdub3QtcHJvc2UgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBzaGFkb3ctbWQnLAoJCQkJCWNsYXNzTmFtZSwKCQkJCSl9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9kaXY+CgkJKTsKCX0sCik7CgpDYXJkLmRpc3BsYXlOYW1lID0gJ0NhcmQnOwoKZXhwb3J0IGNvbnN0IENhcmRIZWFkZXI6IFJlYWN0LkZDPENhcmRIZWFkZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NuKCdub3QtcHJvc2UgcHgtNCBwdC00JywgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDYXJkVGl0bGU6IFJlYWN0LkZDPENhcmRUaXRsZVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXM6IENvbXBvbmVudCA9ICdoMycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgKCQlDb21wb25lbnQsCgkJewoJCQljbGFzc05hbWU6IGNuKAoJCQkJJ25vdC1wcm9zZSB0ZXh0LWJhc2UgbGVhZGluZy1ub25lIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcsCgkJCQljbGFzc05hbWUsCgkJCSksCgkJCS4uLnByb3BzLAoJCX0sCgkJY2hpbGRyZW4sCgkpOwp9OwoKZXhwb3J0IGNvbnN0IENhcmREZXNjcmlwdGlvbjogUmVhY3QuRkM8Q2FyZERlc2NyaXB0aW9uUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxwCgkJCWNsYXNzTmFtZT17Y24oCgkJCQknbm90LXByb3NlIG10LTEgdGV4dC1zbSBsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvcD4KCSk7Cn07CgpleHBvcnQgY29uc3QgQ2FyZENvbnRlbnQ6IFJlYWN0LkZDPENhcmRDb250ZW50UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgdGV4dC1zbSBwLTQgdGV4dC1mb3JlZ3JvdW5kLzcwIGxlYWRpbmctc251ZycsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn07CgpleHBvcnQgY29uc3QgQ2FyZEZvb3RlcjogUmVhY3QuRkM8Q2FyZEZvb3RlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknbm90LXByb3NlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgYmctY2FyZC1tdXRlZC8zMCBwLTQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IENhcmRBY3Rpb25zOiBSZWFjdC5GQzxDYXJkQWN0aW9uc1Byb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2CgkJCWNsYXNzTmFtZT17Y24oJ25vdC1wcm9zZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMicsIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn07"
,
  "navigation-menu.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9pY29ucyc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgbmF2aWdhdGlvbk1lbnVWYXJpYW50cyA9IGN2YSgKCSdub3QtcHJvc2UgaW5saW5lLWZsZXggaC0xMSBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMiB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC83MCcsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJbWQ6ICcnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBuYXZpZ2F0aW9uTWVudVRyaWdnZXJWYXJpYW50cyA9IGN2YSgKCSdpbmxpbmUtZmxleCBoLTkgaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtbWQgcHgtNCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGZvY3VzLXZpc2libGU6YmctY2FyZC1tdXRlZCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgZGF0YS1bZXhwYW5kZWQ9dHJ1ZV06YmctY2FyZC1tdXRlZCBjdXJzb3ItcG9pbnRlcicsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJbWQ6ICd0ZXh0LXNtJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgbmF2aWdhdGlvbk1lbnVQYW5lbFZhcmlhbnRzID0gY3ZhKAoJJ25vdC1wcm9zZSByZWxhdGl2ZSB6LTUwIHctW21pbigzMnJlbSxjYWxjKDEwMHZ3LTRyZW0pKV0gcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHRleHQtZm9yZWdyb3VuZC83MCBvcGFjaXR5LTAgc2NhbGUtOTUgc2hhZG93LTJ4bCBkYXRhLVtlbnRlcl06dHJhbnNsYXRlLXktMCBkYXRhLVtlbnRlcl06c2NhbGUtMTAwIGRhdGEtW2VudGVyXTpvcGFjaXR5LTEwMCBkYXRhLVtsZWF2ZV06c2NhbGUtOTUgZGF0YS1bbGVhdmVdOi10cmFuc2xhdGUteS0yIGRhdGEtW2xlYXZlXTpvcGFjaXR5LTAgLXRyYW5zbGF0ZS15LTIgdHJhbnNpdGlvbi1bdHJhbnNsYXRlLG9wYWNpdHksc2NhbGVdbCBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGgnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCW1kOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgbmF2aWdhdGlvbk1lbnVDb250ZW50TGF5b3V0Q2xhc3MgPQoJJ2ZsZXggZmxleC1jb2wgZ2FwLTMgWyY6aGFzKFtyb2xlPWdyb3VwXSldOmdyaWQgWyY6aGFzKFtyb2xlPWdyb3VwXSldOmdhcC0yIFsmOmhhcyhbcm9sZT1ncm91cF0pXTpncmlkLWNvbHMtMSBtZDpbJjpoYXMoW3JvbGU9Z3JvdXBdKV06Z3JpZC1jb2xzLTInOwoKY29uc3QgbmF2aWdhdGlvbk1lbnVMaW5rVmFyaWFudHMgPSBjdmEoCgkncmVsYXRpdmUgZmxleCBtZDpsYXN0OmgtZnVsbCBmbGV4LWNvbCBpdGVtcy1zdGFydCBnYXAtMSByb3VuZGVkLW1kIHAtMiB0ZXh0LWxlZnQgdGV4dC1zbSB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIG91dGxpbmUtbm9uZSBob3ZlcjpiZy1jYXJkLW11dGVkIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGRhdGEtW2ZvY3VzLXZpc2libGVdOm91dGxpbmUtbm9uZSBkYXRhLVtmb2N1cy12aXNpYmxlXTpiZy1jYXJkLW11dGVkIFthJl06Y3Vyc29yLXBvaW50ZXIgb3ZlcmZsb3ctY2xpcCcsCik7Cgpjb25zdCBuYXZpZ2F0aW9uTWVudUdyb3VwVmFyaWFudHMgPSBjdmEoJ2ZsZXggZmxleC1jb2wgZ2FwLTIgaXRlbXMtc3RyZXRjaCcpOwoKY29uc3QgU2V0U2hpZnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDwKCVJlYWN0LkRpc3BhdGNoPFJlYWN0LlNldFN0YXRlQWN0aW9uPG51bWJlcj4+Cj4oKCkgPT4ge30pOwoKdHlwZSBNZW51UGxhY2VtZW50ID0gTm9uTnVsbGFibGU8QXJpYWtpdC5NZW51UHJvdmlkZXJQcm9wc1sncGxhY2VtZW50J10+OwoKY29uc3QgU2V0UGxhY2VtZW50Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8CglSZWFjdC5EaXNwYXRjaDxSZWFjdC5TZXRTdGF0ZUFjdGlvbjxNZW51UGxhY2VtZW50Pj4KPigoKSA9PiB7fSk7Cgp0eXBlIE1vdGlvbkF0dHJpYnV0ZSA9ICdmcm9tLXN0YXJ0JyB8ICdmcm9tLWVuZCcgfCAndG8tc3RhcnQnIHwgJ3RvLWVuZCc7CgppbnRlcmZhY2UgTmF2aWdhdGlvbk1lbnVNb3Rpb25QYW5lIHsKCWtleTogc3RyaW5nOwoJdWlkOiBzdHJpbmc7CglpbmRleDogbnVtYmVyOwoJcGhhc2U6ICdlbnRlcicgfCAnbGVhdmUnOwoJbW90aW9uOiBNb3Rpb25BdHRyaWJ1dGUgfCBudWxsOwoJbGFzdERpcmVjdGlvbjogJ3N0YXJ0JyB8ICdlbmQnIHwgbnVsbDsKCWNvbnRlbnQ6IFJlYWN0LlJlYWN0Tm9kZTsKfQoKdHlwZSBOYXZpZ2F0aW9uTWVudU9wZW5BY3Rpb24gPSB7Cgl0eXBlOiAnb3Blbic7CglrZXk6IHN0cmluZzsKCWluZGV4OiBudW1iZXI7Cgljb250ZW50OiBSZWFjdC5SZWFjdE5vZGU7Cn07Cgp0eXBlIE5hdmlnYXRpb25NZW51VXBkYXRlQWN0aW9uID0gewoJdHlwZTogJ3VwZGF0ZSc7CglrZXk6IHN0cmluZzsKCWluZGV4OiBudW1iZXI7Cgljb250ZW50OiBSZWFjdC5SZWFjdE5vZGU7Cn07Cgp0eXBlIE5hdmlnYXRpb25NZW51Q2xvc2VBY3Rpb24gPSB7Cgl0eXBlOiAnY2xvc2UnOwoJa2V5OiBzdHJpbmc7Cn07Cgp0eXBlIE5hdmlnYXRpb25NZW51Q29udGVudEFjdGlvbiA9Cgl8IE5hdmlnYXRpb25NZW51T3BlbkFjdGlvbgoJfCBOYXZpZ2F0aW9uTWVudVVwZGF0ZUFjdGlvbgoJfCBOYXZpZ2F0aW9uTWVudUNsb3NlQWN0aW9uOwoKaW50ZXJmYWNlIE5hdmlnYXRpb25NZW51Q29udGVudENvbnRleHRWYWx1ZSB7CglkaXNwYXRjaDogKGFjdGlvbjogTmF2aWdhdGlvbk1lbnVDb250ZW50QWN0aW9uKSA9PiB2b2lkOwp9Cgpjb25zdCBOYXZpZ2F0aW9uTWVudUNvbnRlbnRDb250ZXh0ID0KCVJlYWN0LmNyZWF0ZUNvbnRleHQ8TmF2aWdhdGlvbk1lbnVDb250ZW50Q29udGV4dFZhbHVlIHwgbnVsbD4obnVsbCk7CgppbnRlcmZhY2UgTmF2aWdhdGlvbk1lbnVJdGVtT3JkZXJDb250ZXh0VmFsdWUgewoJcmVnaXN0ZXJJdGVtOiAoaWQ6IHN0cmluZykgPT4gbnVtYmVyOwoJdW5yZWdpc3Rlckl0ZW06IChpZDogc3RyaW5nKSA9PiB2b2lkOwp9Cgpjb25zdCBOYXZpZ2F0aW9uTWVudUl0ZW1PcmRlckNvbnRleHQgPQoJUmVhY3QuY3JlYXRlQ29udGV4dDxOYXZpZ2F0aW9uTWVudUl0ZW1PcmRlckNvbnRleHRWYWx1ZSB8IG51bGw+KG51bGwpOwoKY29uc3QgTkFWSUdBVElPTl9NRU5VX01PVElPTl9EVVJBVElPTiA9IDQ1MDsKCmNvbnN0IG5hdmlnYXRpb25NZW51TW90aW9uVmlld3BvcnRDbGFzcyA9CgkncmVsYXRpdmUgdy1mdWxsIG92ZXJmbG93LWhpZGRlbiB0cmFuc2l0aW9uLVtoZWlnaHRdIGR1cmF0aW9uLTQ1MCBlYXNlLXNtb290aCBbLS1uYXZpZ2F0aW9uLW1lbnUtbW90aW9uLWR1cmF0aW9uOjQ1MG1zXSBbLS1uYXZpZ2F0aW9uLW1lbnUtbW90aW9uLWRpc3RhbmNlOm1pbig1NTBweCwzNXZ3KV0gbWQ6Wy0tbmF2aWdhdGlvbi1tZW51LW1vdGlvbi1kaXN0YW5jZTptaW4oMjUwcHgsMzV2dyldJzsKCmNvbnN0IG5hdmlnYXRpb25NZW51TW90aW9uUGFuZUNsYXNzID0KCSdyZWxhdGl2ZSBwLTIgdy1mdWxsIGRhdGEtW3N0YXRlPWxlYXZlXTphYnNvbHV0ZSBkYXRhLVtzdGF0ZT1sZWF2ZV06aW5zZXQtMCBkYXRhLVtzdGF0ZT1sZWF2ZV06cG9pbnRlci1ldmVudHMtbm9uZSBkYXRhLVttb3Rpb25dOlthbmltYXRpb24tZHVyYXRpb246dmFyKC0tbmF2aWdhdGlvbi1tZW51LW1vdGlvbi1kdXJhdGlvbildIGRhdGEtW21vdGlvbl06W2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246dmFyKC0tZWFzZS1zbW9vdGgpXSBkYXRhLVttb3Rpb25dOlthbmltYXRpb24tZmlsbC1tb2RlOmJvdGhdIGRhdGEtW21vdGlvbl06W3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5XSBkYXRhLVttb3Rpb249ZnJvbS1zdGFydF06W2FuaW1hdGlvbi1uYW1lOm5hdmlnYXRpb24tbWVudS1lbnRlci1mcm9tLXN0YXJ0XSBkYXRhLVttb3Rpb249ZnJvbS1lbmRdOlthbmltYXRpb24tbmFtZTpuYXZpZ2F0aW9uLW1lbnUtZW50ZXItZnJvbS1lbmRdIGRhdGEtW21vdGlvbj10by1zdGFydF06W2FuaW1hdGlvbi1uYW1lOm5hdmlnYXRpb24tbWVudS1leGl0LXRvLXN0YXJ0XSBkYXRhLVttb3Rpb249dG8tZW5kXTpbYW5pbWF0aW9uLW5hbWU6bmF2aWdhdGlvbi1tZW51LWV4aXQtdG8tZW5kXSc7CgppbnRlcmZhY2UgTmF2aWdhdGlvbk1lbnVNb3Rpb25PYnNlcnZlclByb3BzIHsKCW9uTWVudUNsb3NlOiAoKSA9PiB2b2lkOwp9CgpmdW5jdGlvbiBOYXZpZ2F0aW9uTWVudU1vdGlvbk9ic2VydmVyKHsKCW9uTWVudUNsb3NlLAp9OiBOYXZpZ2F0aW9uTWVudU1vdGlvbk9ic2VydmVyUHJvcHMpIHsKCWNvbnN0IG1lbnUgPSBBcmlha2l0LnVzZU1lbnVDb250ZXh0KCk7Cgljb25zdCBtb3VudGVkID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKG1lbnUsICdtb3VudGVkJyk7Cgljb25zdCBwcmV2aW91c01vdW50ZWRSZWYgPSBSZWFjdC51c2VSZWYobW91bnRlZCk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAocHJldmlvdXNNb3VudGVkUmVmLmN1cnJlbnQgJiYgIW1vdW50ZWQpIHsKCQkJb25NZW51Q2xvc2UoKTsKCQl9CgkJcHJldmlvdXNNb3VudGVkUmVmLmN1cnJlbnQgPSBtb3VudGVkOwoJfSwgW21vdW50ZWQsIG9uTWVudUNsb3NlXSk7CgoJcmV0dXJuIG51bGw7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGlvbk1lbnVQcm9wcwoJZXh0ZW5kcyBPbWl0PEFyaWFraXQuTWVudWJhclByb3BzLCAnY2xhc3NOYW1lJyB8ICdjaGlsZHJlbic+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgbmF2aWdhdGlvbk1lbnVWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXBhbmVsQ2xhc3NOYW1lPzogc3RyaW5nOwoJcGFuZWxXcmFwcGVyQ2xhc3NOYW1lPzogc3RyaW5nOwoJYXJyb3dDbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uTWVudSA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCU5hdmlnYXRpb25NZW51UHJvcHMKPihmdW5jdGlvbiBOYXZpZ2F0aW9uTWVudSgKCXsKCQljaGlsZHJlbiwKCQljbGFzc05hbWUsCgkJc2l6ZSwKCQlwYW5lbENsYXNzTmFtZSwKCQlwYW5lbFdyYXBwZXJDbGFzc05hbWUsCgkJYXJyb3dDbGFzc05hbWUsCgkJLi4ucHJvcHMKCX0sCglyZWYsCikgewoJY29uc3QgW3NoaWZ0LCBzZXRTaGlmdF0gPSBSZWFjdC51c2VTdGF0ZSgwKTsKCWNvbnN0IFtwbGFjZW1lbnQsIHNldFBsYWNlbWVudF0gPSBSZWFjdC51c2VTdGF0ZTxNZW51UGxhY2VtZW50PignYm90dG9tJyk7Cgljb25zdCBbcGFuZXMsIHNldFBhbmVzXSA9IFJlYWN0LnVzZVN0YXRlPE5hdmlnYXRpb25NZW51TW90aW9uUGFuZVtdPihbXSk7Cgljb25zdCBpdGVtT3JkZXJNYXBSZWYgPSBSZWFjdC51c2VSZWYobmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKSk7Cgljb25zdCBwYW5lSWRSZWYgPSBSZWFjdC51c2VSZWYoMCk7Cgljb25zdCBhY3RpdmVLZXlSZWYgPSBSZWFjdC51c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7Cgljb25zdCBhY3RpdmVJbmRleFJlZiA9IFJlYWN0LnVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCWNvbnN0IGNvbnRlbnRSZWdpc3RyeVJlZiA9IFJlYWN0LnVzZVJlZihuZXcgTWFwPHN0cmluZywgUmVhY3QuUmVhY3ROb2RlPigpKTsKCWNvbnN0IHBhbmVSZWZzID0gUmVhY3QudXNlUmVmKG5ldyBNYXA8c3RyaW5nLCBIVE1MRGl2RWxlbWVudD4oKSk7Cgljb25zdCBhbmltYXRpb25Mb2NrVGltZW91dFJlZiA9IFJlYWN0LnVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCWNvbnN0IGlzQW5pbWF0aW9uTG9ja2VkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTsKCWNvbnN0IHBlbmRpbmdPcGVuQWN0aW9uUmVmID0gUmVhY3QudXNlUmVmPE5hdmlnYXRpb25NZW51T3BlbkFjdGlvbiB8IG51bGw+KAoJCW51bGwsCgkpOwoJY29uc3QgW2FuaW1hdGlvbkxvY2tWZXJzaW9uLCBzZXRBbmltYXRpb25Mb2NrVmVyc2lvbl0gPSBSZWFjdC51c2VTdGF0ZSgwKTsKCWNvbnN0IFttb3Rpb25WaWV3cG9ydEhlaWdodCwgc2V0TW90aW9uVmlld3BvcnRIZWlnaHRdID0gUmVhY3QudXNlU3RhdGU8CgkJbnVtYmVyIHwgbnVsbAoJPihudWxsKTsKCWNvbnN0IGFjdGl2ZVBhbmVVaWQgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+IHBhbmVzLmZpbmQoKHBhbmUpID0+IHBhbmUucGhhc2UgPT09ICdlbnRlcicpPy51aWQgPz8gbnVsbCwKCQlbcGFuZXNdLAoJKTsKCglSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gewoJCWlmICghYWN0aXZlUGFuZVVpZCkgewoJCQlzZXRNb3Rpb25WaWV3cG9ydEhlaWdodChudWxsKTsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgcGFuZUVsZW1lbnQgPSBwYW5lUmVmcy5jdXJyZW50LmdldChhY3RpdmVQYW5lVWlkKTsKCQlpZiAoIXBhbmVFbGVtZW50KSB7CgkJCXJldHVybjsKCQl9CgoJCWNvbnN0IHVwZGF0ZUhlaWdodCA9ICgpID0+IHsKCQkJc2V0TW90aW9uVmlld3BvcnRIZWlnaHQocGFuZUVsZW1lbnQub2Zmc2V0SGVpZ2h0KTsKCQl9OwoKCQl1cGRhdGVIZWlnaHQoKTsKCgkJaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gJ3VuZGVmaW5lZCcpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gewoJCQl1cGRhdGVIZWlnaHQoKTsKCQl9KTsKCgkJb2JzZXJ2ZXIub2JzZXJ2ZShwYW5lRWxlbWVudCk7CgoJCXJldHVybiAoKSA9PiB7CgkJCW9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCQl9OwoJfSwgW2FjdGl2ZVBhbmVVaWRdKTsKCgljb25zdCBoYW5kbGVBbmltYXRpb25Mb2NrQ29tcGxldGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQlpZiAoYW5pbWF0aW9uTG9ja1RpbWVvdXRSZWYuY3VycmVudCkgewoJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KGFuaW1hdGlvbkxvY2tUaW1lb3V0UmVmLmN1cnJlbnQpOwoJCQlhbmltYXRpb25Mb2NrVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDsKCQl9CgoJCWlmICghaXNBbmltYXRpb25Mb2NrZWRSZWYuY3VycmVudCkgewoJCQlyZXR1cm47CgkJfQoKCQlpc0FuaW1hdGlvbkxvY2tlZFJlZi5jdXJyZW50ID0gZmFsc2U7CgkJc2V0QW5pbWF0aW9uTG9ja1ZlcnNpb24oKHZlcnNpb24pID0+IHZlcnNpb24gKyAxKTsKCX0sIFtdKTsKCgljb25zdCBzdGFydEFuaW1hdGlvbkxvY2sgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJaWYgKGFuaW1hdGlvbkxvY2tUaW1lb3V0UmVmLmN1cnJlbnQpIHsKCQkJd2luZG93LmNsZWFyVGltZW91dChhbmltYXRpb25Mb2NrVGltZW91dFJlZi5jdXJyZW50KTsKCQl9CgoJCWlzQW5pbWF0aW9uTG9ja2VkUmVmLmN1cnJlbnQgPSB0cnVlOwoJCWFuaW1hdGlvbkxvY2tUaW1lb3V0UmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CgkJCWhhbmRsZUFuaW1hdGlvbkxvY2tDb21wbGV0aW9uKCk7CgkJfSwgTkFWSUdBVElPTl9NRU5VX01PVElPTl9EVVJBVElPTik7Cgl9LCBbaGFuZGxlQW5pbWF0aW9uTG9ja0NvbXBsZXRpb25dKTsKCgljb25zdCByZXNldE1vdGlvblN0YXRlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCWFjdGl2ZUtleVJlZi5jdXJyZW50ID0gbnVsbDsKCQlhY3RpdmVJbmRleFJlZi5jdXJyZW50ID0gbnVsbDsKCQljb250ZW50UmVnaXN0cnlSZWYuY3VycmVudC5jbGVhcigpOwoJCXBlbmRpbmdPcGVuQWN0aW9uUmVmLmN1cnJlbnQgPSBudWxsOwoJCXNldFBhbmVzKFtdKTsKCQloYW5kbGVBbmltYXRpb25Mb2NrQ29tcGxldGlvbigpOwoJfSwgW2hhbmRsZUFuaW1hdGlvbkxvY2tDb21wbGV0aW9uXSk7CgoJY29uc3QgbWFrZVBhbmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoCgkJCXBhbmU6IE9taXQ8TmF2aWdhdGlvbk1lbnVNb3Rpb25QYW5lLCAndWlkJz4sCgkJKTogTmF2aWdhdGlvbk1lbnVNb3Rpb25QYW5lID0+ICh7CgkJCS4uLnBhbmUsCgkJCXVpZDogYG5hdmlnYXRpb24tcGFuZS0ke3BhbmVJZFJlZi5jdXJyZW50Kyt9YCwKCQl9KSwKCQlbXSwKCSk7CgoJY29uc3QgcmVnaXN0ZXJJdGVtID0gUmVhY3QudXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHsKCQljb25zdCBtYXAgPSBpdGVtT3JkZXJNYXBSZWYuY3VycmVudDsKCQlpZiAoIW1hcC5oYXMoaWQpKSB7CgkJCW1hcC5zZXQoaWQsIG1hcC5zaXplKTsKCQl9CgkJcmV0dXJuIG1hcC5nZXQoaWQpID8/IDA7Cgl9LCBbXSk7CgoJY29uc3QgdW5yZWdpc3Rlckl0ZW0gPSBSZWFjdC51c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4gewoJCWNvbnN0IG1hcCA9IGl0ZW1PcmRlck1hcFJlZi5jdXJyZW50OwoKCQlpZiAoIW1hcC5oYXMoaWQpKSByZXR1cm47CgoJCWNvbnN0IHJlbW92ZWRJbmRleCA9IG1hcC5nZXQoaWQpOwoJCWlmIChyZW1vdmVkSW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKCQltYXAuZGVsZXRlKGlkKTsKCgkJZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgbWFwLmVudHJpZXMoKSkgewoJCQlpZiAodmFsdWUgPiByZW1vdmVkSW5kZXgpIHsKCQkJCW1hcC5zZXQoa2V5LCB2YWx1ZSAtIDEpOwoJCQl9CgkJfQoJfSwgW10pOwoKCWNvbnN0IGhhbmRsZVBhbmVBbmltYXRpb25FbmQgPSBSZWFjdC51c2VDYWxsYmFjaygocGFuZVVpZDogc3RyaW5nKSA9PiB7CgkJc2V0UGFuZXMoKHByZXYpID0+CgkJCXByZXYuZmlsdGVyKChwYW5lKSA9PiAhKHBhbmUucGhhc2UgPT09ICdsZWF2ZScgJiYgcGFuZS51aWQgPT09IHBhbmVVaWQpKSwKCQkpOwoJfSwgW10pOwoKCWNvbnN0IGRpc3BhdGNoQ29udGVudEFjdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShhY3Rpb246IE5hdmlnYXRpb25NZW51Q29udGVudEFjdGlvbikgPT4gewoJCQlpZiAoYWN0aW9uLnR5cGUgPT09ICd1cGRhdGUnKSB7CgkJCQljb250ZW50UmVnaXN0cnlSZWYuY3VycmVudC5zZXQoYWN0aW9uLmtleSwgYWN0aW9uLmNvbnRlbnQpOwoJCQkJc2V0UGFuZXMoKHByZXYpID0+CgkJCQkJcHJldi5tYXAoKHBhbmUpID0+CgkJCQkJCXBhbmUua2V5ID09PSBhY3Rpb24ua2V5CgkJCQkJCQk/IHsgLi4ucGFuZSwgY29udGVudDogYWN0aW9uLmNvbnRlbnQsIGluZGV4OiBhY3Rpb24uaW5kZXggfQoJCQkJCQkJOiBwYW5lLAoJCQkJCSksCgkJCQkpOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQlpZiAoYWN0aW9uLnR5cGUgPT09ICdjbG9zZScpIHsKCQkJCWNvbnRlbnRSZWdpc3RyeVJlZi5jdXJyZW50LmRlbGV0ZShhY3Rpb24ua2V5KTsKCQkJCXNldFBhbmVzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigocGFuZSkgPT4gcGFuZS5rZXkgIT09IGFjdGlvbi5rZXkpKTsKCQkJCXJldHVybjsKCQkJfQoKCQkJY29uc3QgaXNTYW1lVGFyZ2V0ID0KCQkJCWFjdGl2ZUtleVJlZi5jdXJyZW50ID09PSBhY3Rpb24ua2V5IHx8CgkJCQlhY3RpdmVJbmRleFJlZi5jdXJyZW50ID09PSBhY3Rpb24uaW5kZXg7CgoJCQlpZiAoaXNBbmltYXRpb25Mb2NrZWRSZWYuY3VycmVudCAmJiAhaXNTYW1lVGFyZ2V0KSB7CgkJCQlwZW5kaW5nT3BlbkFjdGlvblJlZi5jdXJyZW50ID0gYWN0aW9uOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQljb250ZW50UmVnaXN0cnlSZWYuY3VycmVudC5zZXQoYWN0aW9uLmtleSwgYWN0aW9uLmNvbnRlbnQpOwoJCQljb25zdCBwcmV2aW91c0tleSA9IGFjdGl2ZUtleVJlZi5jdXJyZW50OwoJCQljb25zdCBwcmV2aW91c0luZGV4ID0gYWN0aXZlSW5kZXhSZWYuY3VycmVudDsKCQkJY29uc3QgbW90aW9uQXR0cmlidXRlcyA9IGdldE1vdGlvbkF0dHJpYnV0ZXMocHJldmlvdXNJbmRleCwgYWN0aW9uLmluZGV4KTsKCQkJYWN0aXZlS2V5UmVmLmN1cnJlbnQgPSBhY3Rpb24ua2V5OwoJCQlhY3RpdmVJbmRleFJlZi5jdXJyZW50ID0gYWN0aW9uLmluZGV4OwoKCQkJc2V0UGFuZXMoKHByZXYpID0+IHsKCQkJCWNvbnN0IHsgZW50ZXJNb3Rpb24sIGxlYXZlTW90aW9uIH0gPSBtb3Rpb25BdHRyaWJ1dGVzOwoKCQkJCWNvbnN0IGxlYXZpbmdQYW5lcyA9IHByZXYuZmlsdGVyKAoJCQkJCShwYW5lKSA9PgoJCQkJCQlwYW5lLnBoYXNlID09PSAnbGVhdmUnICYmCgkJCQkJCXBhbmUua2V5ICE9PSBwcmV2aW91c0tleSAmJgoJCQkJCQlwYW5lLmtleSAhPT0gYWN0aW9uLmtleSwKCQkJCSk7CgkJCQljb25zdCBuZXh0UGFuZXM6IE5hdmlnYXRpb25NZW51TW90aW9uUGFuZVtdID0gWy4uLmxlYXZpbmdQYW5lc107CgoJCQkJaWYgKAoJCQkJCXByZXZpb3VzS2V5ICYmCgkJCQkJcHJldmlvdXNLZXkgIT09IGFjdGlvbi5rZXkgJiYKCQkJCQlwcmV2aW91c0luZGV4ICE9PSBudWxsICYmCgkJCQkJbGVhdmVNb3Rpb24KCQkJCSkgewoJCQkJCWNvbnN0IHByZXZpb3VzQ29udGVudCA9CgkJCQkJCXByZXYuZmluZCgKCQkJCQkJCShwYW5lKSA9PiBwYW5lLmtleSA9PT0gcHJldmlvdXNLZXkgJiYgcGFuZS5waGFzZSA9PT0gJ2VudGVyJywKCQkJCQkJKT8uY29udGVudCA/PwoJCQkJCQljb250ZW50UmVnaXN0cnlSZWYuY3VycmVudC5nZXQocHJldmlvdXNLZXkpID8/CgkJCQkJCW51bGw7CgoJCQkJCWlmIChwcmV2aW91c0NvbnRlbnQpIHsKCQkJCQkJbmV4dFBhbmVzLnB1c2goCgkJCQkJCQltYWtlUGFuZSh7CgkJCQkJCQkJa2V5OiBwcmV2aW91c0tleSwKCQkJCQkJCQlpbmRleDogcHJldmlvdXNJbmRleCwKCQkJCQkJCQlwaGFzZTogJ2xlYXZlJywKCQkJCQkJCQljb250ZW50OiBwcmV2aW91c0NvbnRlbnQsCgkJCQkJCQkJbW90aW9uOiBsZWF2ZU1vdGlvbiwKCQkJCQkJCQlsYXN0RGlyZWN0aW9uOgoJCQkJCQkJCQlsZWF2ZU1vdGlvbiA9PT0gJ3RvLWVuZCcKCQkJCQkJCQkJCT8gJ2VuZCcKCQkJCQkJCQkJCTogbGVhdmVNb3Rpb24gPT09ICd0by1zdGFydCcKCQkJCQkJCQkJCQk/ICdzdGFydCcKCQkJCQkJCQkJCQk6IG51bGwsCgkJCQkJCQl9KSwKCQkJCQkJKTsKCQkJCQl9CgkJCQl9CgoJCQkJbmV4dFBhbmVzLnB1c2goCgkJCQkJbWFrZVBhbmUoewoJCQkJCQlrZXk6IGFjdGlvbi5rZXksCgkJCQkJCWluZGV4OiBhY3Rpb24uaW5kZXgsCgkJCQkJCXBoYXNlOiAnZW50ZXInLAoJCQkJCQljb250ZW50OiBhY3Rpb24uY29udGVudCwKCQkJCQkJbW90aW9uOiBlbnRlck1vdGlvbiwKCQkJCQkJbGFzdERpcmVjdGlvbjoKCQkJCQkJCWVudGVyTW90aW9uID09PSAnZnJvbS1lbmQnCgkJCQkJCQkJPyAnZW5kJwoJCQkJCQkJCTogZW50ZXJNb3Rpb24gPT09ICdmcm9tLXN0YXJ0JwoJCQkJCQkJCQk/ICdzdGFydCcKCQkJCQkJCQkJOiBudWxsLAoJCQkJCX0pLAoJCQkJKTsKCgkJCQlyZXR1cm4gbmV4dFBhbmVzOwoJCQl9KTsKCgkJCWlmICgKCQkJCW1vdGlvbkF0dHJpYnV0ZXMuZW50ZXJNb3Rpb24gIT09IG51bGwgfHwKCQkJCW1vdGlvbkF0dHJpYnV0ZXMubGVhdmVNb3Rpb24gIT09IG51bGwKCQkJKSB7CgkJCQlzdGFydEFuaW1hdGlvbkxvY2soKTsKCQkJfQoJCX0sCgkJW21ha2VQYW5lLCBzdGFydEFuaW1hdGlvbkxvY2tdLAoJKTsKCgljb25zdCBvcmRlckNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gKHsKCQkJcmVnaXN0ZXJJdGVtLAoJCQl1bnJlZ2lzdGVySXRlbSwKCQl9KSwKCQlbcmVnaXN0ZXJJdGVtLCB1bnJlZ2lzdGVySXRlbV0sCgkpOwoKCWNvbnN0IGNvbnRlbnRDb250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+ICh7CgkJCWRpc3BhdGNoOiBkaXNwYXRjaENvbnRlbnRBY3Rpb24sCgkJfSksCgkJW2Rpc3BhdGNoQ29udGVudEFjdGlvbl0sCgkpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJLy8gVG91Y2ggdGhlIHZlcnNpb24gc28gbGludCB1bmRlcnN0YW5kcyB0aGUgZGVwZW5kZW5jeSBpcyBpbnRlbnRpb25hbC4KCQl2b2lkIGFuaW1hdGlvbkxvY2tWZXJzaW9uOwoKCQlpZiAoaXNBbmltYXRpb25Mb2NrZWRSZWYuY3VycmVudCkgewoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBwZW5kaW5nQWN0aW9uID0gcGVuZGluZ09wZW5BY3Rpb25SZWYuY3VycmVudDsKCQlpZiAoIXBlbmRpbmdBY3Rpb24pIHsKCQkJcmV0dXJuOwoJCX0KCgkJcGVuZGluZ09wZW5BY3Rpb25SZWYuY3VycmVudCA9IG51bGw7CgkJZGlzcGF0Y2hDb250ZW50QWN0aW9uKHBlbmRpbmdBY3Rpb24pOwoJfSwgW2FuaW1hdGlvbkxvY2tWZXJzaW9uLCBkaXNwYXRjaENvbnRlbnRBY3Rpb25dKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCXJldHVybiAoKSA9PiB7CgkJCWlmIChhbmltYXRpb25Mb2NrVGltZW91dFJlZi5jdXJyZW50KSB7CgkJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KGFuaW1hdGlvbkxvY2tUaW1lb3V0UmVmLmN1cnJlbnQpOwoJCQl9CgkJfTsKCX0sIFtdKTsKCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnViYXIKCQkJcmVmPXtyZWZ9CgkJCXsuLi5wcm9wc30KCQkJY2xhc3NOYW1lPXtjbihuYXZpZ2F0aW9uTWVudVZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQk+CgkJCTxTZXRTaGlmdENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3NldFNoaWZ0fT4KCQkJCTxTZXRQbGFjZW1lbnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtzZXRQbGFjZW1lbnR9PgoJCQkJCTxBcmlha2l0Lk1lbnVQcm92aWRlcgoJCQkJCQlwbGFjZW1lbnQ9e3BsYWNlbWVudH0KCQkJCQkJc2hvd1RpbWVvdXQ9ezEwMH0KCQkJCQkJaGlkZVRpbWVvdXQ9ezI1MH0KCQkJCQk+CgkJCQkJCTxOYXZpZ2F0aW9uTWVudUl0ZW1PcmRlckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e29yZGVyQ29udGV4dFZhbHVlfT4KCQkJCQkJCTxOYXZpZ2F0aW9uTWVudUNvbnRlbnRDb250ZXh0LlByb3ZpZGVyCgkJCQkJCQkJdmFsdWU9e2NvbnRlbnRDb250ZXh0VmFsdWV9CgkJCQkJCQk+CgkJCQkJCQkJPE5hdmlnYXRpb25NZW51TW90aW9uT2JzZXJ2ZXIgb25NZW51Q2xvc2U9e3Jlc2V0TW90aW9uU3RhdGV9IC8+CgkJCQkJCQkJe2NoaWxkcmVufQoJCQkJCQkJCTxBcmlha2l0Lk1lbnUKCQkJCQkJCQkJcG9ydGFsCgkJCQkJCQkJCXNoaWZ0PXtzaGlmdH0KCQkJCQkJCQkJdGFiSW5kZXg9ey0xfQoJCQkJCQkJCQl1bm1vdW50T25IaWRlCgkJCQkJCQkJCXdyYXBwZXJQcm9wcz17ewoJCQkJCQkJCQkJY2xhc3NOYW1lOiBjbigKCQkJCQkJCQkJCQknWyY6aGFzKFtkYXRhLWVudGVyXSldOnRyYW5zaXRpb24tW3RyYW5zZm9ybV0gWyY6aGFzKFtkYXRhLWVudGVyXSldOmR1cmF0aW9uLTQ1MCBlYXNlLXNtb290aCcsCgkJCQkJCQkJCQkJcGFuZWxXcmFwcGVyQ2xhc3NOYW1lLAoJCQkJCQkJCQkJKSwKCQkJCQkJCQkJfX0KCQkJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQkJCW5hdmlnYXRpb25NZW51UGFuZWxWYXJpYW50cyh7IHNpemUgfSksCgkJCQkJCQkJCQlwYW5lbENsYXNzTmFtZSwKCQkJCQkJCQkJKX0KCQkJCQkJCQk+CgkJCQkJCQkJCTxkaXYKCQkJCQkJCQkJCWNsYXNzTmFtZT17bmF2aWdhdGlvbk1lbnVNb3Rpb25WaWV3cG9ydENsYXNzfQoJCQkJCQkJCQkJc3R5bGU9ewoJCQkJCQkJCQkJCW1vdGlvblZpZXdwb3J0SGVpZ2h0ID09PSBudWxsCgkJCQkJCQkJCQkJCT8gdW5kZWZpbmVkCgkJCQkJCQkJCQkJCTogeyBoZWlnaHQ6IG1vdGlvblZpZXdwb3J0SGVpZ2h0IH0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJPgoJCQkJCQkJCQkJe3BhbmVzLm1hcCgocGFuZSkgPT4gKAoJCQkJCQkJCQkJCTxkaXYKCQkJCQkJCQkJCQkJa2V5PXtwYW5lLnVpZH0KCQkJCQkJCQkJCQkJZGF0YS1tb3Rpb249e3BhbmUubW90aW9uID8/IHVuZGVmaW5lZH0KCQkJCQkJCQkJCQkJZGF0YS1zdGF0ZT17cGFuZS5waGFzZSA9PT0gJ2VudGVyJyA/ICdvcGVuJyA6ICdsZWF2ZSd9CgkJCQkJCQkJCQkJCWNsYXNzTmFtZT17bmF2aWdhdGlvbk1lbnVNb3Rpb25QYW5lQ2xhc3N9CgkJCQkJCQkJCQkJCXJlZj17KG5vZGUpID0+IHsKCQkJCQkJCQkJCQkJCWlmIChub2RlKSB7CgkJCQkJCQkJCQkJCQkJcGFuZVJlZnMuY3VycmVudC5zZXQocGFuZS51aWQsIG5vZGUpOwoJCQkJCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCQkJCQlwYW5lUmVmcy5jdXJyZW50LmRlbGV0ZShwYW5lLnVpZCk7CgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCX19CgkJCQkJCQkJCQkJCW9uQW5pbWF0aW9uRW5kPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJCQkJCWlmICgKCQkJCQkJCQkJCQkJCQlwYW5lLnBoYXNlID09PSAnbGVhdmUnICYmCgkJCQkJCQkJCQkJCQkJZXZlbnQuY3VycmVudFRhcmdldCA9PT0gZXZlbnQudGFyZ2V0CgkJCQkJCQkJCQkJCQkpIHsKCQkJCQkJCQkJCQkJCQloYW5kbGVQYW5lQW5pbWF0aW9uRW5kKHBhbmUudWlkKTsKCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQk+CgkJCQkJCQkJCQkJCTxkaXYgY2xhc3NOYW1lPXtuYXZpZ2F0aW9uTWVudUNvbnRlbnRMYXlvdXRDbGFzc30+CgkJCQkJCQkJCQkJCQl7cGFuZS5jb250ZW50fQoJCQkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCSkpfQoJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJPEFyaWFraXQuTWVudUFycm93CgkJCQkJCQkJCQljbGFzc05hbWU9e2NuKCd0cmFuc2l0aW9uLVtsZWZ0XScsIGFycm93Q2xhc3NOYW1lKX0KCQkJCQkJCQkJLz4KCQkJCQkJCQk8L0FyaWFraXQuTWVudT4KCQkJCQkJCTwvTmF2aWdhdGlvbk1lbnVDb250ZW50Q29udGV4dC5Qcm92aWRlcj4KCQkJCQkJPC9OYXZpZ2F0aW9uTWVudUl0ZW1PcmRlckNvbnRleHQuUHJvdmlkZXI+CgkJCQkJPC9Bcmlha2l0Lk1lbnVQcm92aWRlcj4KCQkJCTwvU2V0UGxhY2VtZW50Q29udGV4dC5Qcm92aWRlcj4KCQkJPC9TZXRTaGlmdENvbnRleHQuUHJvdmlkZXI+CgkJPC9Bcmlha2l0Lk1lbnViYXI+CgkpOwp9KTsKCk5hdmlnYXRpb25NZW51LmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25NZW51JzsKCmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGlvbk1lbnVJdGVtUHJvcHMKCWV4dGVuZHMgT21pdDxBcmlha2l0Lk1lbnVJdGVtUHJvcHMsICdjaGlsZHJlbic+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgbmF2aWdhdGlvbk1lbnVUcmlnZ2VyVmFyaWFudHM+IHsKCWxhYmVsOiBSZWFjdC5SZWFjdE5vZGU7CglocmVmPzogc3RyaW5nOwoJc2hpZnQ/OiBudW1iZXI7CglwbGFjZW1lbnQ/OiBBcmlha2l0Lk1lbnVTdG9yZVByb3BzWydwbGFjZW1lbnQnXTsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgTmF2aWdhdGlvbk1lbnVJdGVtID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxEaXZFbGVtZW50LAoJTmF2aWdhdGlvbk1lbnVJdGVtUHJvcHMKPihmdW5jdGlvbiBOYXZpZ2F0aW9uTWVudUl0ZW0oCgl7CgkJbGFiZWwsCgkJY2hpbGRyZW4sCgkJY2xhc3NOYW1lLAoJCWhyZWYsCgkJc2hpZnQgPSAwLAoJCXBsYWNlbWVudCA9ICdib3R0b20nLAoJCXNpemUsCgkJcmVuZGVyLAoJCS4uLml0ZW1Qcm9wcwoJfSwKCXJlZiwKKSB7Cgljb25zdCBbbWVudUJ1dHRvbiwgc2V0TWVudUJ1dHRvbl0gPSBSZWFjdC51c2VTdGF0ZTxIVE1MRGl2RWxlbWVudCB8IG51bGw+KAoJCW51bGwsCgkpOwoJY29uc3Qgc2V0U2hpZnQgPSBSZWFjdC51c2VDb250ZXh0KFNldFNoaWZ0Q29udGV4dCk7Cgljb25zdCBzZXRQbGFjZW1lbnQgPSBSZWFjdC51c2VDb250ZXh0KFNldFBsYWNlbWVudENvbnRleHQpOwoJY29uc3QgY29udGV4dCA9IEFyaWFraXQudXNlTWVudUNvbnRleHQoKTsKCWNvbnN0IGNvbnRlbnRDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChOYXZpZ2F0aW9uTWVudUNvbnRlbnRDb250ZXh0KTsKCWNvbnN0IGl0ZW1PcmRlckNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KE5hdmlnYXRpb25NZW51SXRlbU9yZGVyQ29udGV4dCk7CglpZiAoIWNvbnRleHQgfHwgIWNvbnRlbnRDb250ZXh0IHx8ICFpdGVtT3JkZXJDb250ZXh0KSB7CgkJdGhyb3cgbmV3IEVycm9yKCdOYXZpZ2F0aW9uTWVudUl0ZW0gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIE5hdmlnYXRpb25NZW51Jyk7Cgl9Cgljb25zdCBpdGVtSWQgPSBSZWFjdC51c2VJZCgpOwoJY29uc3QgW2l0ZW1JbmRleF0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PgoJCWl0ZW1PcmRlckNvbnRleHQucmVnaXN0ZXJJdGVtKGl0ZW1JZCksCgkpOwoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlyZXR1cm4gKCkgPT4gewoJCQlpdGVtT3JkZXJDb250ZXh0LnVucmVnaXN0ZXJJdGVtKGl0ZW1JZCk7CgkJfTsKCX0sIFtpdGVtT3JkZXJDb250ZXh0LCBpdGVtSWRdKTsKCWNvbnN0IG1lbnUgPSBBcmlha2l0LnVzZU1lbnVTdG9yZSh7IHN0b3JlOiBjb250ZXh0IH0pOwoJY29uc3Qgb3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZSgKCQltZW51LAoJCShzdGF0ZSkgPT4gc3RhdGUubW91bnRlZCAmJiBzdGF0ZS5hbmNob3JFbGVtZW50ID09PSBtZW51QnV0dG9uLAoJKTsKCglSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gewoJCWlmICghb3BlbikgcmV0dXJuOwoJCXNldFNoaWZ0KHNoaWZ0KTsKCQlzZXRQbGFjZW1lbnQocGxhY2VtZW50ID8/ICdib3R0b20nKTsKCX0sIFtvcGVuLCBwbGFjZW1lbnQsIHNldFBsYWNlbWVudCwgc2V0U2hpZnQsIHNoaWZ0XSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQlpZiAoIW9wZW4pIHJldHVybjsKCQljb250ZW50Q29udGV4dC5kaXNwYXRjaCh7CgkJCXR5cGU6ICdvcGVuJywKCQkJa2V5OiBpdGVtSWQsCgkJCWluZGV4OiBpdGVtSW5kZXgsCgkJCWNvbnRlbnQ6IGNoaWxkcmVuID8/IG51bGwsCgkJfSk7Cgl9LCBbb3BlbiwgY29udGVudENvbnRleHQsIGl0ZW1JZCwgaXRlbUluZGV4LCBjaGlsZHJlbl0pOwoKCVJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJaWYgKCFvcGVuKSByZXR1cm47CgkJY29udGVudENvbnRleHQuZGlzcGF0Y2goewoJCQl0eXBlOiAndXBkYXRlJywKCQkJa2V5OiBpdGVtSWQsCgkJCWluZGV4OiBpdGVtSW5kZXgsCgkJCWNvbnRlbnQ6IGNoaWxkcmVuID8/IG51bGwsCgkJfSk7Cgl9LCBbY2hpbGRyZW4sIG9wZW4sIGNvbnRlbnRDb250ZXh0LCBpdGVtSWQsIGl0ZW1JbmRleF0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJcmV0dXJuICgpID0+IHsKCQkJY29udGVudENvbnRleHQuZGlzcGF0Y2goeyB0eXBlOiAnY2xvc2UnLCBrZXk6IGl0ZW1JZCB9KTsKCQl9OwoJfSwgW2NvbnRlbnRDb250ZXh0LCBpdGVtSWRdKTsKCgljb25zdCByZW5kZXJFbGVtZW50ID0KCQlyZW5kZXIgPz8KCQkoaHJlZgoJCQk/IChwcm9wczogUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCdhJz4pID0+ICgKCQkJCQk8YSB7Li4ucHJvcHN9IGhyZWY9e2hyZWZ9PgoJCQkJCQl7cHJvcHMuY2hpbGRyZW59CgkJCQkJPC9hPgoJCQkJKQoJCQk6IHVuZGVmaW5lZCk7CgoJY29uc3QgcmVuZGVyUHJvcHMgPSByZW5kZXJFbGVtZW50ID8geyByZW5kZXI6IHJlbmRlckVsZW1lbnQgfSA6IHt9OwoJY29uc3Qgc3RvcmVGb3JJdGVtID0gbWVudS5tZW51YmFyID8/IG1lbnU7CgoJY29uc3QgaXRlbSA9ICgKCQk8QXJpYWtpdC5NZW51SXRlbQoJCQlyZWY9e3JlZn0KCQkJc3RvcmU9e3N0b3JlRm9ySXRlbX0KCQkJdGFiYmFibGUKCQkJYmx1ck9uSG92ZXJFbmQ9e2ZhbHNlfQoJCQlkYXRhLWV4cGFuZGVkPXtvcGVuID8gJ3RydWUnIDogdW5kZWZpbmVkfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJbmF2aWdhdGlvbk1lbnVUcmlnZ2VyVmFyaWFudHMoeyBzaXplIH0pLAoJCQkJb3BlbiAmJiAnYmctY2FyZC1tdXRlZCB0ZXh0LWZvcmVncm91bmQnLAoJCQkJIWNoaWxkcmVuICYmICdob3ZlcjpiZy1jYXJkLW11dGVkJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnJlbmRlclByb3BzfQoJCQl7Li4uaXRlbVByb3BzfQoJCT4KCQkJPHNwYW4gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CgkJCQl7bGFiZWx9CgkJCQl7ISFjaGlsZHJlbiAmJiAoCgkJCQkJPEljb25zLkNoZXZyb25Eb3duCgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQknbWwtMSBzaXplLTQgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMnLAoJCQkJCQkJb3BlbiAmJiAncm90YXRlLTE4MCcsCgkJCQkJCSl9CgkJCQkJLz4KCQkJCSl9CgkJCTwvc3Bhbj4KCQk8L0FyaWFraXQuTWVudUl0ZW0+CgkpOwoKCWlmICghY2hpbGRyZW4pIHsKCQlyZXR1cm4gaXRlbTsKCX0KCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnVQcm92aWRlciBzdG9yZT17bWVudX0gcGFyZW50PXtudWxsfT4KCQkJPEFyaWFraXQuTWVudUJ1dHRvbgoJCQkJcmVmPXtzZXRNZW51QnV0dG9ufQoJCQkJc2hvd09uSG92ZXIKCQkJCXJlbmRlcj17aXRlbX0KCQkJCW9uRm9jdXNWaXNpYmxlPXsoZXZlbnQpID0+IHsKCQkJCQltZW51LnNldERpc2Nsb3N1cmVFbGVtZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQpOwoJCQkJCW1lbnUuc2V0QW5jaG9yRWxlbWVudChldmVudC5jdXJyZW50VGFyZ2V0KTsKCQkJCQltZW51LnNob3coKTsKCQkJCX19CgkJCQl0b2dnbGVPbkNsaWNrPXsoKSA9PiB7CgkJCQkJaWYgKGhyZWYpIHJldHVybiBmYWxzZTsKCQkJCQltZW51LnNob3coKTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9fQoJCQkvPgoJCTwvQXJpYWtpdC5NZW51UHJvdmlkZXI+CgkpOwp9KTsKCk5hdmlnYXRpb25NZW51SXRlbS5kaXNwbGF5TmFtZSA9ICdOYXZpZ2F0aW9uTWVudUl0ZW0nOwoKZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0aW9uTWVudUxpbmtQcm9wcwoJZXh0ZW5kcyBPbWl0PEFyaWFraXQuTWVudUl0ZW1Qcm9wcywgJ2NoaWxkcmVuJz4gewoJbGFiZWw/OiBSZWFjdC5SZWFjdE5vZGU7CglkZXNjcmlwdGlvbj86IFJlYWN0LlJlYWN0Tm9kZTsKCWhyZWY/OiBzdHJpbmc7CgljbGFzc05hbWU/OiBzdHJpbmc7CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25NZW51TGluayA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCU5hdmlnYXRpb25NZW51TGlua1Byb3BzCj4oZnVuY3Rpb24gTmF2aWdhdGlvbk1lbnVMaW5rKAoJeyBsYWJlbCwgZGVzY3JpcHRpb24sIGhyZWYsIGNsYXNzTmFtZSwgY2hpbGRyZW4sIHJlbmRlciwgLi4ucHJvcHMgfSwKCXJlZiwKKSB7Cgljb25zdCBtZW51ID0gQXJpYWtpdC51c2VNZW51Q29udGV4dCgpOwoJaWYgKCFtZW51KSB7CgkJdGhyb3cgbmV3IEVycm9yKCdOYXZpZ2F0aW9uTWVudUxpbmsgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIE5hdmlnYXRpb25NZW51Jyk7Cgl9Cgljb25zdCBpZCA9IFJlYWN0LnVzZUlkKCk7Cgljb25zdCBsYWJlbElkID0gYCR7aWR9LWxhYmVsYDsKCWNvbnN0IGRlc2NyaXB0aW9uSWQgPSBgJHtpZH0tZGVzY3JpcHRpb25gOwoJY29uc3QgaGFzQ3VzdG9tQ2hpbGRyZW4gPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+IFJlYWN0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSA+IDAsCgkJW2NoaWxkcmVuXSwKCSk7CgoJY29uc3QgcmVuZGVyRWxlbWVudCA9CgkJcmVuZGVyID8/CgkJKGhyZWYKCQkJPyAocHJvcHM6IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnYSc+KSA9PiAoCgkJCQkJPGEgey4uLnByb3BzfSBocmVmPXtocmVmfT4KCQkJCQkJe3Byb3BzLmNoaWxkcmVufQoJCQkJCTwvYT4KCQkJCSkKCQkJOiB1bmRlZmluZWQpOwoKCWNvbnN0IHJlbmRlclByb3BzID0gcmVuZGVyRWxlbWVudCA/IHsgcmVuZGVyOiByZW5kZXJFbGVtZW50IH0gOiB7fTsKCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnVJdGVtCgkJCXJlZj17cmVmfQoJCQlzdG9yZT17bWVudX0KCQkJdGFiYmFibGUKCQkJZm9jdXNPbkhvdmVyPXtmYWxzZX0KCQkJYXJpYS1sYWJlbGxlZGJ5PXshaGFzQ3VzdG9tQ2hpbGRyZW4gPyBsYWJlbElkIDogdW5kZWZpbmVkfQoJCQlhcmlhLWRlc2NyaWJlZGJ5PXsKCQkJCSFoYXNDdXN0b21DaGlsZHJlbiAmJiBkZXNjcmlwdGlvbiA/IGRlc2NyaXB0aW9uSWQgOiB1bmRlZmluZWQKCQkJfQoJCQljbGFzc05hbWU9e2NuKG5hdmlnYXRpb25NZW51TGlua1ZhcmlhbnRzKCksIGNsYXNzTmFtZSl9CgkJCXsuLi5yZW5kZXJQcm9wc30KCQkJey4uLnByb3BzfQoJCT4KCQkJe2hhc0N1c3RvbUNoaWxkcmVuID8gKAoJCQkJY2hpbGRyZW4KCQkJKSA6ICgKCQkJCTw+CgkJCQkJPHNwYW4KCQkJCQkJaWQ9e2xhYmVsSWR9CgkJCQkJCWNsYXNzTmFtZT0idGV4dC1zbSBmb250LW1lZGl1bSBsZWFkaW5nLW5vbmUgdGV4dC1mb3JlZ3JvdW5kIgoJCQkJCT4KCQkJCQkJe2xhYmVsfQoJCQkJCTwvc3Bhbj4KCQkJCQl7ZGVzY3JpcHRpb24gJiYgKAoJCQkJCQk8c3BhbgoJCQkJCQkJaWQ9e2Rlc2NyaXB0aW9uSWR9CgkJCQkJCQljbGFzc05hbWU9InRleHQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIGxpbmUtY2xhbXAtMiBsZWFkaW5nLXNudWciCgkJCQkJCT4KCQkJCQkJCXtkZXNjcmlwdGlvbn0KCQkJCQkJPC9zcGFuPgoJCQkJCSl9CgkJCQk8Lz4KCQkJKX0KCQk8L0FyaWFraXQuTWVudUl0ZW0+CgkpOwp9KTsKCk5hdmlnYXRpb25NZW51TGluay5kaXNwbGF5TmFtZSA9ICdOYXZpZ2F0aW9uTWVudUxpbmsnOwoKZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0aW9uTWVudUdyb3VwUHJvcHMKCWV4dGVuZHMgQXJpYWtpdC5NZW51R3JvdXBQcm9wcywKCQlWYXJpYW50UHJvcHM8dHlwZW9mIG5hdmlnYXRpb25NZW51R3JvdXBWYXJpYW50cz4gewoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgTmF2aWdhdGlvbk1lbnVHcm91cCA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCU5hdmlnYXRpb25NZW51R3JvdXBQcm9wcwo+KGZ1bmN0aW9uIE5hdmlnYXRpb25NZW51R3JvdXAoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpIHsKCXJldHVybiAoCgkJPEFyaWFraXQuTWVudUdyb3VwCgkJCXJlZj17cmVmfQoJCQl7Li4ucHJvcHN9CgkJCWNsYXNzTmFtZT17Y24obmF2aWdhdGlvbk1lbnVHcm91cFZhcmlhbnRzKCksIGNsYXNzTmFtZSl9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0Lk1lbnVHcm91cD4KCSk7Cn0pOwoKTmF2aWdhdGlvbk1lbnVHcm91cC5kaXNwbGF5TmFtZSA9ICdOYXZpZ2F0aW9uTWVudUdyb3VwJzsKCmZ1bmN0aW9uIGdldE1vdGlvbkF0dHJpYnV0ZXMoCglwcmV2SW5kZXg6IG51bWJlciB8IG51bGwsCgluZXh0SW5kZXg6IG51bWJlciwKKTogewoJZW50ZXJNb3Rpb246IE1vdGlvbkF0dHJpYnV0ZSB8IG51bGw7CglsZWF2ZU1vdGlvbjogTW90aW9uQXR0cmlidXRlIHwgbnVsbDsKfSB7CglpZiAocHJldkluZGV4ID09PSBudWxsIHx8IHByZXZJbmRleCA9PT0gbmV4dEluZGV4KSB7CgkJcmV0dXJuIHsgZW50ZXJNb3Rpb246IG51bGwsIGxlYXZlTW90aW9uOiBudWxsIH07Cgl9CgoJcmV0dXJuIHByZXZJbmRleCA8IG5leHRJbmRleAoJCT8geyBlbnRlck1vdGlvbjogJ2Zyb20tZW5kJywgbGVhdmVNb3Rpb246ICd0by1zdGFydCcgfQoJCTogeyBlbnRlck1vdGlvbjogJ2Zyb20tc3RhcnQnLCBsZWF2ZU1vdGlvbjogJ3RvLWVuZCcgfTsKfQ=="
,
  "menubar.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSB7IEZDLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgbWVudWJhclZhcmlhbnRzID0gY3ZhKAoJJ25vdC1wcm9zZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHAtMSBzaGFkb3ctc20nLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCW1kOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgbWVudWJhclRyaWdnZXJWYXJpYW50cyA9IGN2YSgKCSdpbmxpbmUtZmxleCBzZWxlY3Qtbm9uZSBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1zbSBoLTcuNSBweC0zIHB5LTEuNSBweC0zIGdhcC0xLjUgaGFzLVs+c3ZnXTpweC0yLjUgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixjb2xvcixib3gtc2hhZG93XSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYyBvdXRsaW5lLW5vbmUgaG92ZXI6YmctY2FyZC1tdXRlZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIGN1cnNvci1wb2ludGVyJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQltZDogJ3RleHQtc20nLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBtZW51YmFyQ29udGVudFZhcmlhbnRzID0gY3ZhKAoJJ25vdC1wcm9zZSB6LTUwIG1pbi13LVsxMnJlbV0gb3JpZ2luLXRvcCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgc2hhZG93LW1kIC10cmFuc2xhdGUteS0yIHNjYWxlLTk1IG9wYWNpdHktMCB0cmFuc2l0aW9uLVt0cmFuc2xhdGUsb3BhY2l0eSxzY2FsZV0gZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoIGRhdGEtZW50ZXI6dHJhbnNsYXRlLXktMCBkYXRhLWVudGVyOnNjYWxlLTEwMCBkYXRhLWVudGVyOm9wYWNpdHktMTAwIGRhdGEtbGVhdmU6LXRyYW5zbGF0ZS15LTIgZGF0YS1sZWF2ZTpzY2FsZS05NSBkYXRhLWxlYXZlOm9wYWNpdHktMCBlYXNlLWJhc2ljJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQltZDogJ3AtMScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IG1lbnViYXJTdWJDb250ZW50VmFyaWFudHMgPSBjdmEoCgknbm90LXByb3NlIHotNTAgbWluLXctWzEwcmVtXSBvcmlnaW4tdG9wLWxlZnQgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHNoYWRvdy1tZCAtdHJhbnNsYXRlLXktMiBzY2FsZS05NSBvcGFjaXR5LTAgdHJhbnNpdGlvbi1bdHJhbnNsYXRlLG9wYWNpdHksc2NhbGVdIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTpvcGFjaXR5LTAgZWFzZS1iYXNpYycsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJbWQ6ICdwLTEnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBtZW51YmFySXRlbVZhcmlhbnRzID0gY3ZhKAoJImZsZXggdy1mdWxsIGN1cnNvci1wb2ludGVyIHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB4LTIgcHktMS41IHRleHQtc20gWyZfc3ZnXTpzaHJpbmstMCBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IGdhcC0yIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsY29sb3JdIG91dGxpbmUtbm9uZSB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6YmctY2FyZC1tdXRlZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpiZy1jYXJkLW11dGVkIGZvY3VzLXZpc2libGU6dGV4dC1mb3JlZ3JvdW5kIGFyaWEtZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBhcmlhLWRpc2FibGVkOm9wYWNpdHktNTAiLAoJewoJCXZhcmlhbnRzOiB7CgkJCWluc2V0OiB7CgkJCQl0cnVlOiAncGwtOScsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWRlc3RydWN0aXZlOiB7CgkJCQl0cnVlOiAndGV4dC1kZXN0cnVjdGl2ZS85MCBob3ZlcjpiZy1kZXN0cnVjdGl2ZS8xMCBob3Zlcjp0ZXh0LWRlc3RydWN0aXZlJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlpbnNldDogZmFsc2UsCgkJCWRlc3RydWN0aXZlOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgTWVudWJhclByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglzaXplPzogVmFyaWFudFByb3BzPHR5cGVvZiBtZW51YmFyVmFyaWFudHM+WydzaXplJ107Cn0KCmV4cG9ydCBjb25zdCBNZW51YmFyOiBGQzxNZW51YmFyUHJvcHM+ID0gKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgc2l6ZSB9KSA9PiB7Cgljb25zdCBtZW51YmFyID0gQXJpYWtpdC51c2VNZW51YmFyU3RvcmUoewoJCW9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsCgkJZm9jdXNMb29wOiB0cnVlLAoJfSk7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51YmFyUHJvdmlkZXIgc3RvcmU9e21lbnViYXJ9PgoJCQk8QXJpYWtpdC5NZW51YmFyCgkJCQlzdG9yZT17bWVudWJhcn0KCQkJCWNsYXNzTmFtZT17Y24obWVudWJhclZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJPgoJCQkJe2NoaWxkcmVufQoJCQk8L0FyaWFraXQuTWVudWJhcj4KCQk8L0FyaWFraXQuTWVudWJhclByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgTWVudWJhck1lbnVQcm9wcyB7CgljaGlsZHJlbjogUmVhY3ROb2RlOwp9CgpleHBvcnQgY29uc3QgTWVudWJhck1lbnU6IEZDPE1lbnViYXJNZW51UHJvcHM+ID0gKHsgY2hpbGRyZW4gfSkgPT4gewoJY29uc3QgbWVudWJhciA9IEFyaWFraXQudXNlTWVudWJhckNvbnRleHQoKTsKCWNvbnN0IG1lbnUgPSBBcmlha2l0LnVzZU1lbnVTdG9yZSh7IG1lbnViYXI6IG1lbnViYXIgPz8gbnVsbCB9KTsKCglyZXR1cm4gPEFyaWFraXQuTWVudVByb3ZpZGVyIHN0b3JlPXttZW51fT57Y2hpbGRyZW59PC9Bcmlha2l0Lk1lbnVQcm92aWRlcj47Cn07CgpleHBvcnQgaW50ZXJmYWNlIE1lbnViYXJUcmlnZ2VyUHJvcHMKCWV4dGVuZHMgVmFyaWFudFByb3BzPHR5cGVvZiBtZW51YmFyVHJpZ2dlclZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJZGlzYWJsZWQ/OiBib29sZWFuOwp9CgpleHBvcnQgY29uc3QgTWVudWJhclRyaWdnZXI6IEZDPE1lbnViYXJUcmlnZ2VyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJZGlzYWJsZWQsCglzaXplLAp9KSA9PiB7Cgljb25zdCBtZW51ID0gQXJpYWtpdC51c2VNZW51Q29udGV4dCgpOwoJaWYgKCFtZW51KSB7CgkJdGhyb3cgbmV3IEVycm9yKCdNZW51YmFyVHJpZ2dlciBtdXN0IGJlIHVzZWQgd2l0aGluIGEgTWVudWJhck1lbnUuJyk7Cgl9Cgljb25zdCBvcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKG1lbnUsICdvcGVuJyk7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51SXRlbQoJCQlyZW5kZXI9ewoJCQkJPEFyaWFraXQuTWVudUJ1dHRvbgoJCQkJCXN0b3JlPXttZW51fQoJCQkJCWRpc2FibGVkPXtCb29sZWFuKGRpc2FibGVkKX0KCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQltZW51YmFyVHJpZ2dlclZhcmlhbnRzKHsgc2l6ZSB9KSwKCQkJCQkJb3BlbiAmJiAnYmctY2FyZC1tdXRlZCB0ZXh0LWZvcmVncm91bmQnLAoJCQkJCQljbGFzc05hbWUsCgkJCQkJKX0KCQkJCS8+CgkJCX0KCQkJZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5NZW51SXRlbT4KCSk7Cn07CgpleHBvcnQgaW50ZXJmYWNlIE1lbnViYXJDb250ZW50UHJvcHMKCWV4dGVuZHMgVmFyaWFudFByb3BzPHR5cGVvZiBtZW51YmFyQ29udGVudFZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgTWVudWJhckNvbnRlbnQ6IEZDPE1lbnViYXJDb250ZW50UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJc2l6ZSwKfSkgPT4gewoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51CgkJCXBvcnRhbAoJCQlndXR0ZXI9ezl9CgkJCWNsYXNzTmFtZT17Y24obWVudWJhckNvbnRlbnRWYXJpYW50cyh7IHNpemUgfSksIGNsYXNzTmFtZSl9CgkJPgoJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBnYXAtMSI+e2NoaWxkcmVufTwvZGl2PgoJCTwvQXJpYWtpdC5NZW51PgoJKTsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgTWVudWJhckl0ZW1Qcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIG1lbnViYXJJdGVtVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47CglvbkNsaWNrPzogKCkgPT4gdm9pZDsKfQoKZXhwb3J0IGNvbnN0IE1lbnViYXJJdGVtOiBGQzxNZW51YmFySXRlbVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSwKCWRpc2FibGVkLAoJaW5zZXQsCglkZXN0cnVjdGl2ZSwKCW9uQ2xpY2ssCn0pID0+ICgKCTxBcmlha2l0Lk1lbnVJdGVtCgkJZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfQoJCW9uQ2xpY2s9e29uQ2xpY2t9CgkJY2xhc3NOYW1lPXtjbihtZW51YmFySXRlbVZhcmlhbnRzKHsgaW5zZXQsIGRlc3RydWN0aXZlIH0pLCBjbGFzc05hbWUpfQoJPgoJCXtjaGlsZHJlbn0KCTwvQXJpYWtpdC5NZW51SXRlbT4KKTsKCmV4cG9ydCBjb25zdCBNZW51YmFyU2VwYXJhdG9yOiBGQzx7IGNsYXNzTmFtZT86IHN0cmluZyB9PiA9ICh7IGNsYXNzTmFtZSB9KSA9PiAoCgk8QXJpYWtpdC5NZW51U2VwYXJhdG9yCgkJY2xhc3NOYW1lPXtjbignLW14LTEgaC1weCBiZy1ib3JkZXIgb3BhY2l0eS02MCcsIGNsYXNzTmFtZSl9CgkvPgopOwoKZXhwb3J0IGNvbnN0IE1lbnViYXJTdWI6IEZDPHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9PiA9ICh7IGNoaWxkcmVuIH0pID0+IHsKCXJldHVybiA8QXJpYWtpdC5NZW51UHJvdmlkZXI+e2NoaWxkcmVufTwvQXJpYWtpdC5NZW51UHJvdmlkZXI+Owp9OwoKZXhwb3J0IGludGVyZmFjZSBNZW51YmFyU3ViVHJpZ2dlclByb3BzCglleHRlbmRzIFZhcmlhbnRQcm9wczx0eXBlb2YgbWVudWJhckl0ZW1WYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGNvbnN0IE1lbnViYXJTdWJUcmlnZ2VyOiBGQzxNZW51YmFyU3ViVHJpZ2dlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSwKCWRpc2FibGVkLAoJaW5zZXQsCglkZXN0cnVjdGl2ZSwKfSkgPT4gewoJY29uc3QgbWVudSA9IEFyaWFraXQudXNlTWVudUNvbnRleHQoKTsKCWlmICghbWVudSkgewoJCXRocm93IG5ldyBFcnJvcignTWVudWJhclN1YlRyaWdnZXIgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIE1lbnViYXJTdWIuJyk7Cgl9Cgljb25zdCBvcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKG1lbnUsICdvcGVuJyk7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51SXRlbQoJCQlyZW5kZXI9ewoJCQkJPEFyaWFraXQuTWVudUJ1dHRvbgoJCQkJCXN0b3JlPXttZW51fQoJCQkJCWRpc2FibGVkPXtCb29sZWFuKGRpc2FibGVkKX0KCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQltZW51YmFySXRlbVZhcmlhbnRzKHsgaW5zZXQsIGRlc3RydWN0aXZlIH0pLAoJCQkJCQlvcGVuICYmICdiZy1jYXJkLW11dGVkIHRleHQtZm9yZWdyb3VuZCcsCgkJCQkJCWNsYXNzTmFtZSwKCQkJCQkpfQoJCQkJLz4KCQkJfQoJCQlkaXNhYmxlZD17Qm9vbGVhbihkaXNhYmxlZCl9CgkJPgoJCQk8c3BhbiBjbGFzc05hbWU9ImZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LXN0YXJ0IFsmX3N2Z106c2hyaW5rLTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNCBnYXAtMiI+CgkJCQl7Y2hpbGRyZW59CgkJCTwvc3Bhbj4KCQkJPEFyaWFraXQuTWVudUJ1dHRvbkFycm93IGNsYXNzTmFtZT0ibWwtMiIgLz4KCQk8L0FyaWFraXQuTWVudUl0ZW0+CgkpOwp9OwoKZXhwb3J0IGludGVyZmFjZSBNZW51YmFyU3ViQ29udGVudFByb3BzCglleHRlbmRzIFZhcmlhbnRQcm9wczx0eXBlb2YgbWVudWJhclN1YkNvbnRlbnRWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IE1lbnViYXJTdWJDb250ZW50OiBGQzxNZW51YmFyU3ViQ29udGVudFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSwKCXNpemUsCn0pID0+ICgKCTxBcmlha2l0Lk1lbnUKCQlwb3J0YWwKCQljbGFzc05hbWU9e2NuKG1lbnViYXJTdWJDb250ZW50VmFyaWFudHMoeyBzaXplIH0pLCBjbGFzc05hbWUpfQoJPgoJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGdhcC0xIj57Y2hpbGRyZW59PC9kaXY+Cgk8L0FyaWFraXQuTWVudT4KKTs="
,
  "progress.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBwcm9ncmVzc1ZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSB3LWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtZnVsbCcsCgkJJ2JvcmRlciBib3JkZXItYm9yZGVyLzYwIGJnLWNhcmQtbXV0ZWQgc2hhZG93LWlubmVyJywKCQknbm90LXByb3NlJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ1smPmRpdl06YmctZm9yZWdyb3VuZCBkYXJrOlsmPmRpdl06YmctZm9yZWdyb3VuZC81MCcsCgkJCQlzdWNjZXNzOiAnWyY+ZGl2XTpiZy1zdWNjZXNzLzgwIGRhcms6WyY+ZGl2XTpiZy1zdWNjZXNzLzQwJywKCQkJCXdhcm5pbmc6ICdbJj5kaXZdOmJnLXdhcm5pbmcvODAgZGFyazpbJj5kaXZdOmJnLXdhcm5pbmcvNDAnLAoJCQkJZGVzdHJ1Y3RpdmU6ICdbJj5kaXZdOmJnLWRlc3RydWN0aXZlLzgwIGRhcms6WyY+ZGl2XTpiZy1kZXN0cnVjdGl2ZS80MCcsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnaC0yJywKCQkJCW1kOiAnaC0zJywKCQkJCWxnOiAnaC00JywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIFByb2dyZXNzUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgcHJvZ3Jlc3NWYXJpYW50cz4gewoJdmFsdWU/OiBudW1iZXI7CgltYXg/OiBudW1iZXI7CglzaG93TGFiZWw/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJJ2FyaWEtbGFiZWwnPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUHJvZ3Jlc3M6IFJlYWN0LkZDPFByb2dyZXNzUHJvcHM+ID0gKHsKCXZhbHVlID0gMCwKCW1heCA9IDEwMCwKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKCXNob3dMYWJlbCA9IGZhbHNlLAoJY2xhc3NOYW1lID0gJycsCgknYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLm1pbihNYXRoLm1heCgodmFsdWUgLyBtYXgpICogMTAwLCAwKSwgMTAwKTsKCglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPSJ3LWZ1bGwiPgoJCQl7c2hvd0xhYmVsICYmICgKCQkJCTxkaXYgY2xhc3NOYW1lPSJtYi0yIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiI+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCI+CgkJCQkJCXthcmlhTGFiZWwgfHwgJ1Byb2dyZXNzJ30KCQkJCQk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJtbC0yIHRleHQtc20gdGV4dC1mb3JlZ3JvdW5kLzQ1Ij4KCQkJCQkJe01hdGgucm91bmQocGVyY2VudGFnZSl9JQoJCQkJCTwvc3Bhbj4KCQkJCTwvZGl2PgoJCQkpfQoKCQkJPGRpdgoJCQkJY2xhc3NOYW1lPXtjbihwcm9ncmVzc1ZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJCXJvbGU9InByb2dyZXNzYmFyIgoJCQkJYXJpYS12YWx1ZW1pbj17MH0KCQkJCWFyaWEtdmFsdWVtYXg9e21heH0KCQkJCWFyaWEtdmFsdWVub3c9e3ZhbHVlfQoJCQkJYXJpYS1sYWJlbD17YXJpYUxhYmVsIHx8ICdQcm9ncmVzcyd9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCTxkaXYKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkncHJvZ3Jlc3MtZmlsbCBoLWZ1bGwgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tW3dpZHRoXSBkdXJhdGlvbi01MDAgZWFzZS1zbW9vdGgnLAoJCQkJCSl9CgkJCQkJc3R5bGU9e3sgd2lkdGg6IGAke3BlcmNlbnRhZ2V9JWAgfX0KCQkJCS8+CgkJCTwvZGl2PgoJCTwvZGl2PgoJKTsKfTs="
,
  "chat.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2FwcC9jb21wb25lbnRzL3VpL2ljb25zJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBjaGF0VmFyaWFudHMgPSBjdmEoCglbJ3JlbGF0aXZlIGJvcmRlcicsICdyb3VuZGVkLWxnIHNoYWRvdy1tZCcsICdub3QtcHJvc2Ugb3ZlcmZsb3ctaGlkZGVuJ10sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ2JnLWNhcmQgYm9yZGVyLWJvcmRlcicsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCX0sCgl9LAopOwoKY29uc3QgbWVzc2FnZVZhcmlhbnRzID0gY3ZhKAoJWwoJCSd3LWZpdCBtYXgtdy1bODAlXSByb3VuZGVkLWxnIHB4LTMgcHktMiB0ZXh0LXNtJywKCQknbm90LXByb3NlJywKCQknb3ZlcmZsb3ctaGlkZGVuJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJdXNlcjogJ2JnLWZvcmVncm91bmQvOTAgdGV4dC1jYXJkJywKCQkJCWFzc2lzdGFudDogJ2JnLWNhcmQtbXV0ZWQgdGV4dC1mb3JlZ3JvdW5kJywKCQkJCXN5c3RlbTogJ214LWF1dG8gYmctY2FyZC1tdXRlZCB0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ3VzZXInLAoJCX0sCgl9LAopOwoKY29uc3QgaW5wdXRWYXJpYW50cyA9IGN2YSgKCVsKCQknbWluLWgtWzQwcHhdIGZsZXgtMSByZXNpemUtbm9uZSByb3VuZGVkLWxnIGJvcmRlciBweC0zIHB5LTIgdGV4dC1zbSB0cmFuc2l0aW9uLXNoYWRvdyBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYycsCgkJJ2ZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJJ2Rpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwJywKCQknbm90LXByb3NlIHBsYWNlaG9sZGVyOnRleHQtZm9yZWdyb3VuZC80NScsCgkJJ2ZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiBbCgkJCQkJJ2JvcmRlci1ib3JkZXIvNjAnLAoJCQkJCSdiZy1jYXJkJywKCQkJCQkndGV4dC1mb3JlZ3JvdW5kJywKCQkJCQknZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAnLAoJCQkJXSwKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIENoYXRNZXNzYWdlIHsKCWlkOiBzdHJpbmc7Cgljb250ZW50OiBzdHJpbmc7CglzZW5kZXI6ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbSc7Cgl0aW1lc3RhbXA6IERhdGU7CglhdmF0YXI/OiBzdHJpbmc7CgluYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIFR5cGluZ1VzZXIgewoJaWQ6IHN0cmluZzsKCW5hbWU/OiBzdHJpbmc7CglhdmF0YXI/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQ2hhdFByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGNoYXRWYXJpYW50cz4gewoJbWVzc2FnZXM/OiBDaGF0TWVzc2FnZVtdOwoJb25TZW5kTWVzc2FnZT86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7CglwbGFjZWhvbGRlcj86IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWF1dG9Gb2N1cz86IGJvb2xlYW47CgltYXhMZW5ndGg/OiBudW1iZXI7CglzaG93VGltZXN0YW1wcz86IGJvb2xlYW47CglzaG93QXZhdGFycz86IGJvb2xlYW47CglhbGxvd011bHRpbGluZT86IGJvb2xlYW47Cgl0eXBpbmdVc2Vycz86IFR5cGluZ1VzZXJbXTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDaGF0TWVzc2FnZXNQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJbWVzc2FnZXM6IENoYXRNZXNzYWdlW107CglzaG93VGltZXN0YW1wcz86IGJvb2xlYW47CglzaG93QXZhdGFycz86IGJvb2xlYW47Cgl0eXBpbmdVc2Vycz86IFR5cGluZ1VzZXJbXTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDaGF0TWVzc2FnZVByb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCW1lc3NhZ2U6IENoYXRNZXNzYWdlOwoJc2hvd1RpbWVzdGFtcD86IGJvb2xlYW47CglzaG93QXZhdGFyPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBUeXBpbmdJbmRpY2F0b3JQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJdHlwaW5nVXNlcnM/OiBUeXBpbmdVc2VyW107CglzaG93QXZhdGFycz86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQ2hhdElucHV0UHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJb25TZW5kTWVzc2FnZTogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDsKCXBsYWNlaG9sZGVyPzogc3RyaW5nOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJYXV0b0ZvY3VzPzogYm9vbGVhbjsKCW1heExlbmd0aD86IG51bWJlcjsKCWFsbG93TXVsdGlsaW5lPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDaGF0QWN0aW9uc1Byb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBUeXBpbmdJbmRpY2F0b3I6IFJlYWN0LkZDPFR5cGluZ0luZGljYXRvclByb3BzPiA9ICh7Cgl0eXBpbmdVc2VycywKCXNob3dBdmF0YXJzID0gZmFsc2UsCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHNhZmVUeXBpbmdVc2VycyA9IHR5cGluZ1VzZXJzID8/IFtdOwoJaWYgKHNhZmVUeXBpbmdVc2Vycy5sZW5ndGggPT09IDApIHJldHVybiBudWxsOwoKCWNvbnN0IGdldFR5cGluZ1RleHQgPSAoKSA9PiB7CgkJY29uc3QgW2ZpcnN0VXNlciwgc2Vjb25kVXNlcl0gPSBzYWZlVHlwaW5nVXNlcnM7CgkJaWYgKHNhZmVUeXBpbmdVc2Vycy5sZW5ndGggPT09IDEpIHsKCQkJcmV0dXJuIGAke2ZpcnN0VXNlcj8ubmFtZSB8fCAnU29tZW9uZSd9IGlzIHR5cGluZ2A7CgkJfSBlbHNlIGlmIChzYWZlVHlwaW5nVXNlcnMubGVuZ3RoID09PSAyKSB7CgkJCXJldHVybiBgJHtmaXJzdFVzZXI/Lm5hbWUgfHwgJ1NvbWVvbmUnfSBhbmQgJHtzZWNvbmRVc2VyPy5uYW1lIHx8ICdzb21lb25lIGVsc2UnfSBhcmUgdHlwaW5nYDsKCQl9IGVsc2UgewoJCQlyZXR1cm4gYCR7Zmlyc3RVc2VyPy5uYW1lIHx8ICdTb21lb25lJ30gYW5kICR7CgkJCQlzYWZlVHlwaW5nVXNlcnMubGVuZ3RoIC0gMQoJCQl9IG90aGVycyBhcmUgdHlwaW5nYDsKCQl9Cgl9OwoJcmV0dXJuICgKCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L3VzZVNlbWFudGljRWxlbWVudHM6IHR5cGluZyBpbmRpY2F0b3IgaW50ZW50aW9uYWxseSB1c2VzIGEgZGl2IHdpdGggcm9sZT0ic3RhdHVzIiBmb3IgYWNjZXNzaWJpbGl0eSAqLwoJCTxkaXYKCQkJcm9sZT0ic3RhdHVzIgoJCQljbGFzc05hbWU9e2NuKCdub3QtcHJvc2UgZmxleCBpdGVtcy1lbmQgZ2FwLTInLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7c2hvd0F2YXRhcnMgJiYgKAoJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaC04IHctOCBzaHJpbmstMCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLWNhcmQtbXV0ZWQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAiPgoJCQkJCXtzYWZlVHlwaW5nVXNlcnNbMF0/LmF2YXRhciA/ICgKCQkJCQkJLyogYmlvbWUtaWdub3JlIGxpbnQvcGVyZm9ybWFuY2Uvbm9JbWdFbGVtZW50OiBwcmVmZXIgbmF0aXZlIGltZyBoZXJlICovCgkJCQkJCTxpbWcKCQkJCQkJCXNyYz17c2FmZVR5cGluZ1VzZXJzWzBdPy5hdmF0YXJ9CgkJCQkJCQlhbHQ9e3NhZmVUeXBpbmdVc2Vyc1swXT8ubmFtZSB8fCAndHlwaW5nJ30KCQkJCQkJCWNsYXNzTmFtZT0iaC1mdWxsIHctZnVsbCByb3VuZGVkLWZ1bGwgb2JqZWN0LWNvdmVyIgoJCQkJCQkvPgoJCQkJCSkgOiAoCgkJCQkJCTxzcGFuPgoJCQkJCQkJe3NhZmVUeXBpbmdVc2Vyc1swXT8ubmFtZQoJCQkJCQkJCT8gc2FmZVR5cGluZ1VzZXJzWzBdPy5uYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpCgkJCQkJCQkJOiAnPyd9CgkJCQkJCTwvc3Bhbj4KCQkJCQkpfQoJCQkJPC9kaXY+CgkJCSl9CgoJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCB3LWZ1bGwgZmxleC1jb2wgaXRlbXMtc3RhcnQgZ2FwLTEiPgoJCQkJPGRpdiBjbGFzc05hbWU9Im5vdC1wcm9zZSB3LWZpdCBtYXgtdy1bODAlXSByb3VuZGVkLWxnIGJnLWNhcmQtbXV0ZWQgcHgtMyBweS0yIHRleHQtc20gdGV4dC1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIj4KCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCQk8c3BhbiBjbGFzc05hbWU9InRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwIj4KCQkJCQkJCXtnZXRUeXBpbmdUZXh0KCl9CgkJCQkJCTwvc3Bhbj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggZ2FwLTEiPgoJCQkJCQkJPGRpdiBjbGFzc05hbWU9ImgtMS41IHctMS41IGFuaW1hdGUtYm91bmNlIHJvdW5kZWQtZnVsbCBiZy1mb3JlZ3JvdW5kLzYwIFthbmltYXRpb24tZGVsYXk6LTAuM3NdIiAvPgoJCQkJCQkJPGRpdiBjbGFzc05hbWU9ImgtMS41IHctMS41IGFuaW1hdGUtYm91bmNlIHJvdW5kZWQtZnVsbCBiZy1mb3JlZ3JvdW5kLzYwIFthbmltYXRpb24tZGVsYXk6LTAuMTVzXSIgLz4KCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJoLTEuNSB3LTEuNSBhbmltYXRlLWJvdW5jZSByb3VuZGVkLWZ1bGwgYmctZm9yZWdyb3VuZC82MCIgLz4KCQkJCQkJPC9kaXY+CgkJCQkJPC9kaXY+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IENoYXQ6IFJlYWN0LkZDPENoYXRQcm9wcz4gPSAoewoJbWVzc2FnZXMgPSBbXSwKCW9uU2VuZE1lc3NhZ2UsCglwbGFjZWhvbGRlciA9ICdUeXBlIGEgbWVzc2FnZS4uLicsCglkaXNhYmxlZCA9IGZhbHNlLAoJYXV0b0ZvY3VzID0gZmFsc2UsCgltYXhMZW5ndGggPSA1MDAsCglzaG93VGltZXN0YW1wcyA9IGZhbHNlLAoJc2hvd0F2YXRhcnMgPSBmYWxzZSwKCWFsbG93TXVsdGlsaW5lID0gdHJ1ZSwKCXR5cGluZ1VzZXJzID0gW10sCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPXtjbihjaGF0VmFyaWFudHMoeyB2YXJpYW50IH0pLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9PgoJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLWZ1bGwgZmxleC1jb2wgcm91bmRlZC1sZyI+CgkJCQk8Q2hhdE1lc3NhZ2VzCgkJCQkJbWVzc2FnZXM9e21lc3NhZ2VzfQoJCQkJCXNob3dUaW1lc3RhbXBzPXtzaG93VGltZXN0YW1wc30KCQkJCQlzaG93QXZhdGFycz17c2hvd0F2YXRhcnN9CgkJCQkJdHlwaW5nVXNlcnM9e3R5cGluZ1VzZXJzfQoJCQkJCWNsYXNzTmFtZT0ibWF4LWgtOTYgbWluLWgtMCBmbGV4LTEiCgkJCQkvPgoJCQkJe29uU2VuZE1lc3NhZ2UgJiYgKAoJCQkJCTxDaGF0SW5wdXQKCQkJCQkJb25TZW5kTWVzc2FnZT17b25TZW5kTWVzc2FnZX0KCQkJCQkJcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfQoJCQkJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCQkJCWF1dG9Gb2N1cz17YXV0b0ZvY3VzfQoJCQkJCQltYXhMZW5ndGg9e21heExlbmd0aH0KCQkJCQkJYWxsb3dNdWx0aWxpbmU9e2FsbG93TXVsdGlsaW5lfQoJCQkJCS8+CgkJCQkpfQoJCQk8L2Rpdj4KCQk8L2Rpdj4KCSk7Cn07CgpleHBvcnQgY29uc3QgQ2hhdE1lc3NhZ2VzOiBSZWFjdC5GQzxDaGF0TWVzc2FnZXNQcm9wcz4gPSAoewoJbWVzc2FnZXMsCglzaG93VGltZXN0YW1wcyA9IGZhbHNlLAoJc2hvd0F2YXRhcnMgPSBmYWxzZSwKCXR5cGluZ1VzZXJzID0gW10sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCWNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7CgoJLyogYmlvbWUtaWdub3JlIGxpbnQvY29ycmVjdG5lc3MvdXNlRXhoYXVzdGl2ZURlcGVuZGVuY2llczogc2Nyb2xsIGRlcGVuZHMgb24gbWVzc2FnZSBjb250ZW50IGNoYW5nZXMgKi8KCXVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50ICYmIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQpIHsKCQkJY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJCWNvbnN0IHNjcm9sbEhlaWdodCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7CgkJCWNvbnN0IGhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7CgkJCWNvbnN0IG1heFNjcm9sbFRvcCA9IHNjcm9sbEhlaWdodCAtIGhlaWdodDsKCgkJCWNvbnRhaW5lci5zY3JvbGxUbyh7CgkJCQl0b3A6IG1heFNjcm9sbFRvcCA+IDAgPyBtYXhTY3JvbGxUb3AgOiAwLAoJCQkJYmVoYXZpb3I6ICdzbW9vdGgnLAoJCQl9KTsKCQl9Cgl9LCBbbWVzc2FnZXMubGVuZ3RoLCB0eXBpbmdVc2Vycy5sZW5ndGhdKTsKCglyZXR1cm4gKAoJCTxkaXYKCQkJcmVmPXtjb250YWluZXJSZWZ9CgkJCXJvbGU9ImxvZyIKCQkJYXJpYS1saXZlPSJwb2xpdGUiCgkJCWFyaWEtcmVsZXZhbnQ9ImFkZGl0aW9ucyB0ZXh0IgoJCQlhcmlhLWxhYmVsPSJDaGF0IG1lc3NhZ2VzIgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBmbGV4LTEgc3BhY2UteS0zIG92ZXJmbG93LXktYXV0byBwLTQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7bWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiAoCgkJCQk8Q2hhdE1lc3NhZ2UKCQkJCQlrZXk9e21lc3NhZ2UuaWR9CgkJCQkJbWVzc2FnZT17bWVzc2FnZX0KCQkJCQlzaG93VGltZXN0YW1wPXtzaG93VGltZXN0YW1wc30KCQkJCQlzaG93QXZhdGFyPXtzaG93QXZhdGFyc30KCQkJCS8+CgkJCSkpfQoJCQk8VHlwaW5nSW5kaWNhdG9yIHR5cGluZ1VzZXJzPXt0eXBpbmdVc2Vyc30gc2hvd0F2YXRhcnM9e3Nob3dBdmF0YXJzfSAvPgoJCQk8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IENoYXRNZXNzYWdlOiBSZWFjdC5GQzxDaGF0TWVzc2FnZVByb3BzPiA9ICh7CgltZXNzYWdlLAoJc2hvd1RpbWVzdGFtcCA9IGZhbHNlLAoJc2hvd0F2YXRhciA9IGZhbHNlLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBpc1VzZXIgPSBtZXNzYWdlLnNlbmRlciA9PT0gJ3VzZXInOwoJY29uc3QgaXNTeXN0ZW0gPSBtZXNzYWdlLnNlbmRlciA9PT0gJ3N5c3RlbSc7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJvbGU9e2lzU3lzdGVtID8gJ3N0YXR1cycgOiAnbGlzdGl0ZW0nfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBmbGV4IGl0ZW1zLWVuZCBnYXAtMicsCgkJCQlpc1VzZXIgPyAnZmxleC1yb3ctcmV2ZXJzZScgOiAnZmxleC1yb3cnLAoJCQkJaXNTeXN0ZW0gPyAnanVzdGlmeS1jZW50ZXInIDogJycsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtzaG93QXZhdGFyICYmICFpc1N5c3RlbSAmJiAoCgkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLTggdy04IHNocmluay0wIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYmctY2FyZC1tdXRlZCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCI+CgkJCQkJe21lc3NhZ2UuYXZhdGFyID8gKAoJCQkJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9wZXJmb3JtYW5jZS9ub0ltZ0VsZW1lbnQ6IHByZWZlciBuYXRpdmUgaW1nIGhlcmUgKi8KCQkJCQkJPGltZwoJCQkJCQkJc3JjPXttZXNzYWdlLmF2YXRhcn0KCQkJCQkJCWFsdD17bWVzc2FnZS5uYW1lIHx8IG1lc3NhZ2Uuc2VuZGVyfQoJCQkJCQkJY2xhc3NOYW1lPSJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtZnVsbCBvYmplY3QtY292ZXIiCgkJCQkJCS8+CgkJCQkJKSA6ICgKCQkJCQkJPHNwYW4+CgkJCQkJCQl7bWVzc2FnZS5uYW1lCgkJCQkJCQkJPyBtZXNzYWdlLm5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkKCQkJCQkJCQk6IG1lc3NhZ2Uuc2VuZGVyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfQoJCQkJCQk8L3NwYW4+CgkJCQkJKX0KCQkJCTwvZGl2PgoJCQkpfQoKCQkJPGRpdgoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQknZmxleCB3LWZ1bGwgZmxleC1jb2wgZ2FwLTEnLAoJCQkJCWlzVXNlciA/ICdpdGVtcy1lbmQnIDogJ2l0ZW1zLXN0YXJ0JywKCQkJCQlpc1N5c3RlbSA/ICdpdGVtcy1jZW50ZXInIDogJycsCgkJCQkpfQoJCQk+CgkJCQk8ZGl2IGNsYXNzTmFtZT17Y24obWVzc2FnZVZhcmlhbnRzKHsgdmFyaWFudDogbWVzc2FnZS5zZW5kZXIgfSkpfT4KCQkJCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2ZsZXggdy1mdWxsIGZsZXgtY29sIGdhcC0xJyl9PgoJCQkJCQk8ZGl2IGNsYXNzTmFtZT0id2hpdGVzcGFjZS1wcmUtd3JhcCI+e21lc3NhZ2UuY29udGVudH08L2Rpdj4KCQkJCQkJe3Nob3dUaW1lc3RhbXAgJiYgKAoJCQkJCQkJPHNwYW4KCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQkndGV4dC14cycsCgkJCQkJCQkJCWlzVXNlcgoJCQkJCQkJCQkJPyAndGV4dC1yaWdodCB0ZXh0LWJhY2tncm91bmQvNTAnCgkJCQkJCQkJCQk6ICd0ZXh0LWxlZnQgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQkJCQkJaXNTeXN0ZW0gPyAndGV4dC1jZW50ZXInIDogJycsCgkJCQkJCQkJKX0KCQkJCQkJCT4KCQkJCQkJCQl7bWVzc2FnZS50aW1lc3RhbXAudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7CgkJCQkJCQkJCWhvdXI6ICcyLWRpZ2l0JywKCQkJCQkJCQkJbWludXRlOiAnMi1kaWdpdCcsCgkJCQkJCQkJfSl9CgkJCQkJCQk8L3NwYW4+CgkJCQkJCSl9CgkJCQkJPC9kaXY+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IENoYXRJbnB1dDogUmVhY3QuRkM8Q2hhdElucHV0UHJvcHM+ID0gKHsKCW9uU2VuZE1lc3NhZ2UsCglwbGFjZWhvbGRlciA9ICdUeXBlIGEgbWVzc2FnZS4uLicsCglkaXNhYmxlZCA9IGZhbHNlLAoJYXV0b0ZvY3VzID0gZmFsc2UsCgltYXhMZW5ndGggPSA1MDAsCglhbGxvd011bHRpbGluZSA9IHRydWUsCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTsKCWNvbnN0IHRleHRhcmVhUmVmID0gdXNlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KG51bGwpOwoJdXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoYXV0b0ZvY3VzKSB7CgkJCXRleHRhcmVhUmVmLmN1cnJlbnQ/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTsKCQl9Cgl9LCBbYXV0b0ZvY3VzXSk7CgoJY29uc3QgaGFuZGxlU3VibWl0ID0gdXNlQ2FsbGJhY2soCgkJKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4gewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCWlmIChtZXNzYWdlLnRyaW0oKSAmJiAhZGlzYWJsZWQpIHsKCQkJCW9uU2VuZE1lc3NhZ2UobWVzc2FnZS50cmltKCkpOwoJCQkJc2V0TWVzc2FnZSgnJyk7CgkJCQlpZiAodGV4dGFyZWFSZWYuY3VycmVudCkgewoJCQkJCXRleHRhcmVhUmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nOwoJCQkJfQoJCQl9CgkJfSwKCQlbbWVzc2FnZSwgZGlzYWJsZWQsIG9uU2VuZE1lc3NhZ2VdLAoJKTsKCgljb25zdCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soCgkJKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHsKCQkJaWYgKGUua2V5ID09PSAnRW50ZXInKSB7CgkJCQlpZiAoYWxsb3dNdWx0aWxpbmUgJiYgZS5zaGlmdEtleSkgewoJCQkJCXJldHVybjsKCQkJCX0KCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCWhhbmRsZVN1Ym1pdChlKTsKCQkJfQoJCX0sCgkJW2FsbG93TXVsdGlsaW5lLCBoYW5kbGVTdWJtaXRdLAoJKTsKCgljb25zdCBoYW5kbGVUZXh0YXJlYUNoYW5nZSA9IHVzZUNhbGxiYWNrKAoJCShlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4gewoJCQljb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOwoJCQlpZiAobWF4TGVuZ3RoICYmIHZhbHVlLmxlbmd0aCA+IG1heExlbmd0aCkgcmV0dXJuOwoKCQkJc2V0TWVzc2FnZSh2YWx1ZSk7CgoJCQlpZiAodGV4dGFyZWFSZWYuY3VycmVudCkgewoJCQkJdGV4dGFyZWFSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7CgkJCQljb25zdCBuZXdIZWlnaHQgPSBNYXRoLm1pbih0ZXh0YXJlYVJlZi5jdXJyZW50LnNjcm9sbEhlaWdodCwgMTIwKTsKCQkJCXRleHRhcmVhUmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gYCR7bmV3SGVpZ2h0fXB4YDsKCQkJfQoJCX0sCgkJW21heExlbmd0aF0sCgkpOwoKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBib3JkZXItdCBib3JkZXItYm9yZGVyLzYwIGJnLWNhcmQtbXV0ZWQvMzAgcC00JywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CgkJCQk8dGV4dGFyZWEKCQkJCQlyZWY9e3RleHRhcmVhUmVmfQoJCQkJCXZhbHVlPXttZXNzYWdlfQoJCQkJCW9uQ2hhbmdlPXtoYW5kbGVUZXh0YXJlYUNoYW5nZX0KCQkJCQlvbktleURvd249e2hhbmRsZUtleURvd259CgkJCQkJcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfQoJCQkJCWFyaWEtbGFiZWw9e3BsYWNlaG9sZGVyIHx8ICdUeXBlIGEgbWVzc2FnZSd9CgkJCQkJYXJpYS1tdWx0aWxpbmU9e2FsbG93TXVsdGlsaW5lfQoJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQlyb3dzPXsxfQoJCQkJCWNsYXNzTmFtZT17aW5wdXRWYXJpYW50cyh7IHZhcmlhbnQ6ICdkZWZhdWx0JyB9KX0KCQkJCS8+CgkJCQk8YnV0dG9uCgkJCQkJdHlwZT0ic3VibWl0IgoJCQkJCWFyaWEtbGFiZWw9IlNlbmQgbWVzc2FnZSIKCQkJCQlkaXNhYmxlZD17IW1lc3NhZ2UudHJpbSgpIHx8IGRpc2FibGVkfQoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdyZWxhdGl2ZSBoLWZ1bGwgcm91bmRlZC1tZCBweC0zIHB5LTIgZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixmaWx0ZXIsYm94LXNoYWRvd10gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMgY3Vyc29yLXBvaW50ZXInLAoJCQkJCQknZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCQkJCQknbm90LXByb3NlIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwJywKCQkJCQkJJ2JnLWxpbmVhci10by1iIGZyb20tZ3JhZGllbnQtZnJvbSB0by1ncmFkaWVudC10byBob3Zlcjpjb250cmFzdC05MCBzaGFkb3ctW2luc2V0XzBfMXB4XzBfMF9yZ2IoMjU1XzI1NV8yNTUvLjMyKSwwcHhfMXB4XzFweF8tMC41cHhfcmdiYSg5LDksMTEsMC4wNSksMHB4XzNweF8zcHhfLTEuNXB4X3JnYmEoOSw5LDExLDAuMDUpLDBweF82cHhfNnB4Xy0zcHhfcmdiYSg5LDksMTEsMC4wNSldIGRhcms6c2hhZG93LVtpbnNldF8wXzFweF8wXzBfcmdiKDI1NV8yNTVfMjU1Ly4xMiksMHB4XzFweF8xcHhfLTAuNXB4X3JnYmEoOSw5LDExLDAuMDUpLDBweF8zcHhfM3B4Xy0xLjVweF9yZ2JhKDksOSwxMSwwLjA1KSwwcHhfNnB4XzZweF8tM3B4X3JnYmEoOSw5LDExLDAuMDUpXSB0ZXh0LWNhcmQtbXV0ZWQgZGFyazp0ZXh0LWZvcmVncm91bmQnLAoJCQkJCSl9CgkJCQk+CgkJCQkJPEljb25zLlNlbmRNZXNzYWdlCgkJCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJCQljbGFzc05hbWU9Im1iLTAuNSBtbC0xIHNpemUtNSAtcm90YXRlLTQ1IgoJCQkJCS8+CgkJCQk8L2J1dHRvbj4KCQkJPC9mb3JtPgoJCQl7bWF4TGVuZ3RoICYmICgKCQkJCTxkaXYgY2xhc3NOYW1lPSJtdC0xIHRleHQtcmlnaHQgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNDUgZGFyazp0ZXh0LWZvcmVncm91bmQvNDUiPgoJCQkJCXttZXNzYWdlLmxlbmd0aH0ve21heExlbmd0aH0KCQkJCTwvZGl2PgoJCQkpfQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDaGF0QWN0aW9uczogUmVhY3QuRkM8Q2hhdEFjdGlvbnNQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKCdub3QtcHJvc2UgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "input.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgaW5wdXRWYXJpYW50cyA9IGN2YSgKCVsKCQknZmxleCB3LWZpdCByb3VuZGVkLW1kIGJvcmRlciB0cmFuc2l0aW9uLXNoYWRvdyBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYycsCgkJJ2JnLWNhcmQgdGV4dC1mb3JlZ3JvdW5kJywKCQknZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQknZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCcsCgkJJ2Rpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwJywKCQkncGxhY2Vob2xkZXI6dGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQknbm90LXByb3NlIHNoYWRvdy1zbScsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6IFsnYm9yZGVyLWJvcmRlcicsICdmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCddLAoJCQkJZXJyb3I6IFsKCQkJCQknYm9yZGVyLWRlc3RydWN0aXZlLzQwJywKCQkJCQknZm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzUwIGRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzUwJywKCQkJCV0sCgkJCQlzdWNjZXNzOiBbCgkJCQkJJ2JvcmRlci1zdWNjZXNzLzQwJywKCQkJCQknZm9jdXMtdmlzaWJsZTpyaW5nLXN1Y2Nlc3MvNTAgZGFyazpmb2N1cy12aXNpYmxlOnJpbmctc3VjY2Vzcy81MCcsCgkJCQldLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ2gtOCBweC0yLjUgcHktMC41IHRleHQtc20nLAoJCQkJbWQ6ICdoLTkgcHgtMyBweS0xIHRleHQtc20nLAoJCQkJbGc6ICdoLTEwIHB4LTMuNSBweS0xLjUgdGV4dC1iYXNlJywKCQkJfSwKCQkJaGFzTGVmdEljb246IHsKCQkJCXRydWU6ICdwbC0xMCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWhhc1JpZ2h0SWNvbjogewoJCQkJdHJ1ZTogJ3ByLTEwJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJCWhhc0xlZnRJY29uOiBmYWxzZSwKCQkJaGFzUmlnaHRJY29uOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmNvbnN0IGljb25WYXJpYW50cyA9IGN2YSgKCVsnYWJzb2x1dGUgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHRyYW5zZm9ybScsICd0ZXh0LWZvcmVncm91bmQvNDUnXSwKCXsKCQl2YXJpYW50czogewoJCQlwb3NpdGlvbjogewoJCQkJbGVmdDogJ2xlZnQtMycsCgkJCQlyaWdodDogJ3JpZ2h0LTMnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ2gtNCB3LTQnLAoJCQkJbWQ6ICdoLTQgdy00JywKCQkJCWxnOiAnaC01IHctNScsCgkJCX0sCgkJCWRpc2FibGVkOiB7CgkJCQl0cnVlOiAnb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgbGFiZWxWYXJpYW50cyA9IGN2YSgKCSdtYi0xLjUgYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6ICcnLAoJCQkJZXJyb3I6ICcnLAoJCQkJc3VjY2VzczogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCX0sCgl9LAopOwoKY29uc3QgbWVzc2FnZVZhcmlhbnRzID0gY3ZhKCdtdC0xLjUgdGV4dC1zbScsIHsKCXZhcmlhbnRzOiB7CgkJdHlwZTogewoJCQllcnJvcjogJ3RleHQtZGVzdHJ1Y3RpdmUvOTAnLAoJCQlzdWNjZXNzOiAndGV4dC1zdWNjZXNzLzkwJywKCQkJaGVscGVyOiAndGV4dC1mb3JlZ3JvdW5kLzcwJywKCQl9LAoJfSwKfSk7CgpleHBvcnQgaW50ZXJmYWNlIElucHV0UHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LCAnc2l6ZSc+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgaW5wdXRWYXJpYW50cz4gewoJbGFiZWw/OiBzdHJpbmc7CgloZWxwZXJUZXh0Pzogc3RyaW5nOwoJc3VjY2Vzc01lc3NhZ2U/OiBzdHJpbmc7CgllcnJvck1lc3NhZ2U/OiBzdHJpbmc7CglsZWZ0SWNvbj86IFJlYWN0LlJlYWN0Tm9kZTsKCXJpZ2h0SWNvbj86IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWNvbnRhaW5lckNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IElucHV0OiBSZWFjdC5GQzxJbnB1dFByb3BzPiA9ICh7Cgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJc2l6ZSA9ICdtZCcsCglsYWJlbCwKCWhlbHBlclRleHQsCglzdWNjZXNzTWVzc2FnZSwKCWVycm9yTWVzc2FnZSwKCWxlZnRJY29uLAoJcmlnaHRJY29uLAoJY2xhc3NOYW1lID0gJycsCgljb250YWluZXJDbGFzc05hbWUgPSAnJywKCWRpc2FibGVkLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgaGFzTGVmdEljb24gPSAhIWxlZnRJY29uOwoJY29uc3QgaGFzUmlnaHRJY29uID0gISFyaWdodEljb247Cgljb25zdCBkaXNwbGF5RXJyb3JNZXNzYWdlID0gdmFyaWFudCA9PT0gJ2Vycm9yJyAmJiBlcnJvck1lc3NhZ2U7CgoJY29uc3QgYXV0b0lkID0gUmVhY3QudXNlSWQoKTsKCWNvbnN0IGlucHV0SWQgPSBwcm9wcy5pZCA/PyBhdXRvSWQ7Cgljb25zdCBkZXNjcmliZWRCeTogc3RyaW5nW10gPSBbXTsKCglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPXtgbm90LXByb3NlICR7Y29udGFpbmVyQ2xhc3NOYW1lfWB9PgoJCQl7bGFiZWwgJiYgKAoJCQkJPGxhYmVsIGh0bWxGb3I9e2lucHV0SWR9IGNsYXNzTmFtZT17bGFiZWxWYXJpYW50cyh7IHZhcmlhbnQgfSl9PgoJCQkJCXtsYWJlbH0KCQkJCTwvbGFiZWw+CgkJCSl9CgoJCQk8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUiPgoJCQkJe2xlZnRJY29uICYmICgKCQkJCQk8ZGl2CgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQlpY29uVmFyaWFudHMoewoJCQkJCQkJCXBvc2l0aW9uOiAnbGVmdCcsCgkJCQkJCQkJc2l6ZSwKCQkJCQkJCQlkaXNhYmxlZDogISFkaXNhYmxlZCwKCQkJCQkJCX0pLAoJCQkJCQkJJ1smPnN2Z106aC1mdWxsIFsmPnN2Z106dy1mdWxsJywKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCXtsZWZ0SWNvbn0KCQkJCQk8L2Rpdj4KCQkJCSl9CgoJCQkJPGlucHV0CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJaW5wdXRWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUsIGhhc0xlZnRJY29uLCBoYXNSaWdodEljb24gfSksCgkJCQkJCWNsYXNzTmFtZSwKCQkJCQkpfQoJCQkJCWlkPXtpbnB1dElkfQoJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQlhcmlhLWludmFsaWQ9e2Rpc3BsYXlFcnJvck1lc3NhZ2UgPyB0cnVlIDogdW5kZWZpbmVkfQoJCQkJCWFyaWEtZGVzY3JpYmVkYnk9eygoKSA9PiB7CgkJCQkJCWlmIChkaXNwbGF5RXJyb3JNZXNzYWdlKSBkZXNjcmliZWRCeS5wdXNoKGAke2lucHV0SWR9LWVycm9yYCk7CgkJCQkJCWVsc2UgaWYgKHN1Y2Nlc3NNZXNzYWdlKSBkZXNjcmliZWRCeS5wdXNoKGAke2lucHV0SWR9LXN1Y2Nlc3NgKTsKCQkJCQkJaWYgKGhlbHBlclRleHQpIGRlc2NyaWJlZEJ5LnB1c2goYCR7aW5wdXRJZH0taGVscGVyYCk7CgkJCQkJCXJldHVybiBkZXNjcmliZWRCeS5sZW5ndGggPyBkZXNjcmliZWRCeS5qb2luKCcgJykgOiB1bmRlZmluZWQ7CgkJCQkJfSkoKX0KCQkJCQl7Li4ucHJvcHN9CgkJCQkvPgoKCQkJCXtyaWdodEljb24gJiYgKAoJCQkJCTxkaXYKCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCWljb25WYXJpYW50cyh7CgkJCQkJCQkJcG9zaXRpb246ICdyaWdodCcsCgkJCQkJCQkJc2l6ZSwKCQkJCQkJCQlkaXNhYmxlZDogISFkaXNhYmxlZCwKCQkJCQkJCX0pLAoJCQkJCQkJJ1smPnN2Z106aC1mdWxsIFsmPnN2Z106dy1mdWxsJywKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCXtyaWdodEljb259CgkJCQkJPC9kaXY+CgkJCQkpfQoJCQk8L2Rpdj4KCgkJCXtkaXNwbGF5RXJyb3JNZXNzYWdlICYmICgKCQkJCTxwCgkJCQkJaWQ9e2Ake2lucHV0SWR9LWVycm9yYH0KCQkJCQljbGFzc05hbWU9e21lc3NhZ2VWYXJpYW50cyh7IHR5cGU6ICdlcnJvcicgfSl9CgkJCQk+CgkJCQkJe2Vycm9yTWVzc2FnZX0KCQkJCTwvcD4KCQkJKX0KCgkJCXshZGlzcGxheUVycm9yTWVzc2FnZSAmJiBzdWNjZXNzTWVzc2FnZSAmJiAoCgkJCQk8cAoJCQkJCWlkPXtgJHtpbnB1dElkfS1zdWNjZXNzYH0KCQkJCQljbGFzc05hbWU9e21lc3NhZ2VWYXJpYW50cyh7IHR5cGU6ICdzdWNjZXNzJyB9KX0KCQkJCT4KCQkJCQl7c3VjY2Vzc01lc3NhZ2V9CgkJCQk8L3A+CgkJCSl9CgoJCQl7aGVscGVyVGV4dCAmJiAoCgkJCQk8cAoJCQkJCWlkPXtgJHtpbnB1dElkfS1oZWxwZXJgfQoJCQkJCWNsYXNzTmFtZT17bWVzc2FnZVZhcmlhbnRzKHsgdHlwZTogJ2hlbHBlcicgfSl9CgkJCQk+CgkJCQkJe2hlbHBlclRleHR9CgkJCQk8L3A+CgkJCSl9CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "alert.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9pY29ucyc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgYWxlcnRWYXJpYW50cyA9IGN2YSgKCSdub3QtcHJvc2UgcmVsYXRpdmUgZmxleCB3LWZpdCBpdGVtcy1zdGFydCBnYXAtMyByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgcHgtNCBweS0zIHNoYWRvdy1zbScsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ3RleHQtZm9yZWdyb3VuZCBbJl9bZGF0YS1zbG90PWFsZXJ0LWljb25dXTp0ZXh0LWZvcmVncm91bmQnLAoJCQkJZGVzdHJ1Y3RpdmU6CgkJCQkJJ3RleHQtZGVzdHJ1Y3RpdmUvOTAgWyZfW2RhdGEtc2xvdD1hbGVydC1pY29uXV06dGV4dC1kZXN0cnVjdGl2ZS85MCcsCgkJCQl3YXJuaW5nOiAndGV4dC13YXJuaW5nLzkwIFsmX1tkYXRhLXNsb3Q9YWxlcnQtaWNvbl1dOnRleHQtd2FybmluZy85MCcsCgkJCQlzdWNjZXNzOiAndGV4dC1zdWNjZXNzLzkwIFsmX1tkYXRhLXNsb3Q9YWxlcnQtaWNvbl1dOnRleHQtc3VjY2Vzcy85MCcsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAncHgtMyBweS0yJywKCQkJCW1kOiAncHgtNCBweS0zJywKCQkJCWxnOiAncHgtNiBweS00JywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBhbGVydFRpdGxlVmFyaWFudHMgPSBjdmEoCgknbm90LXByb3NlIFtsaW5lLWhlaWdodDoxXSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQgbWItMScsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICd0ZXh0LXhzJywKCQkJCW1kOiAndGV4dC1zbScsCgkJCQlsZzogJ3RleHQtYmFzZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IGFsZXJ0RGVzY3JpcHRpb25WYXJpYW50cyA9IGN2YSgKCSdub3QtcHJvc2UgdGV4dC1mb3JlZ3JvdW5kLzcwIFsmX3BdOmxlYWRpbmctc251ZycsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICd0ZXh0LXhzJywKCQkJCW1kOiAndGV4dC14cycsCgkJCQlsZzogJ3RleHQtc20nLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgp0eXBlIEFsZXJ0VmFyaWFudCA9IE5vbk51bGxhYmxlPFZhcmlhbnRQcm9wczx0eXBlb2YgYWxlcnRWYXJpYW50cz5bJ3ZhcmlhbnQnXT47Cgp0eXBlIEljb25Db21wb25lbnQgPSB0eXBlb2YgSWNvbnMuSW5mbzsKCmNvbnN0IHZhcmlhbnRJY29uTWFwOiBSZWNvcmQ8QWxlcnRWYXJpYW50LCBJY29uQ29tcG9uZW50PiA9IHsKCWRlZmF1bHQ6IEljb25zLkluZm8sCglkZXN0cnVjdGl2ZTogSWNvbnMuWCwKCXdhcm5pbmc6IEljb25zLldhcm5pbmcsCglzdWNjZXNzOiBJY29ucy5TdWNjZXNzLAp9OwoKZXhwb3J0IGludGVyZmFjZSBBbGVydFByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGFsZXJ0VmFyaWFudHM+IHsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CglzaG93SWNvbj86IGJvb2xlYW47Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQWxlcnRUaXRsZVByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxIZWFkaW5nRWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBhbGVydFRpdGxlVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhcz86IFJlYWN0LkVsZW1lbnRUeXBlOwp9CgpleHBvcnQgaW50ZXJmYWNlIEFsZXJ0RGVzY3JpcHRpb25Qcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MUGFyYWdyYXBoRWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBhbGVydERlc2NyaXB0aW9uVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQWxlcnRJY29uUHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IEFsZXJ0OiBSZWFjdC5GQzxBbGVydFByb3BzPiA9ICh7Cgl2YXJpYW50LAoJc2l6ZSwKCWNsYXNzTmFtZSwKCWNoaWxkcmVuLAoJc2hvd0ljb24gPSB0cnVlLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgdmFyaWFudEtleSA9ICh2YXJpYW50ID8/ICdkZWZhdWx0JykgYXMgQWxlcnRWYXJpYW50OwoJY29uc3QgRGVmYXVsdEljb24gPSB2YXJpYW50SWNvbk1hcFt2YXJpYW50S2V5XSA/PyBJY29ucy5JbmZvOwoKCWNvbnN0IGNoaWxkcmVuQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKTsKCWNvbnN0IGljb25JbmRleCA9IGNoaWxkcmVuQXJyYXkuZmluZEluZGV4KAoJCShjaGlsZCkgPT4gUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpICYmIGNoaWxkLnR5cGUgPT09IEFsZXJ0SWNvbiwKCSk7CgoJY29uc3QgY29udGVudENoaWxkcmVuID0gY2hpbGRyZW5BcnJheS5maWx0ZXIoCgkJKF8sIGluZGV4KSA9PiBpbmRleCAhPT0gaWNvbkluZGV4LAoJKTsKCglsZXQgaWNvbkVsZW1lbnQ6IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGwgPSBudWxsOwoKCWlmIChzaG93SWNvbiAmJiBpY29uSW5kZXggIT09IC0xKSB7CgkJaWNvbkVsZW1lbnQgPSBjaGlsZHJlbkFycmF5W2ljb25JbmRleF07Cgl9IGVsc2UgaWYgKHNob3dJY29uICYmIERlZmF1bHRJY29uKSB7CgkJaWNvbkVsZW1lbnQgPSAoCgkJCTxkaXYKCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJZGF0YS1zbG90PSJhbGVydC1pY29uIgoJCQkJY2xhc3NOYW1lPSJtdC0wLjUgZmxleCBoLTQgdy00IHNocmluay0wIHRleHQtY3VycmVudCIKCQkJPgoJCQkJPERlZmF1bHRJY29uIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCTwvZGl2PgoJCSk7Cgl9CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJvbGU9ImFsZXJ0IgoJCQljbGFzc05hbWU9e2NuKGFsZXJ0VmFyaWFudHMoeyB2YXJpYW50LCBzaXplIH0pLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7aWNvbkVsZW1lbnR9CgkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IG1pbi13LTAgZmxleC0xIGZsZXgtY29sIj57Y29udGVudENoaWxkcmVufTwvZGl2PgoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBBbGVydFRpdGxlOiBSZWFjdC5GQzxBbGVydFRpdGxlUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJc2l6ZSwKCWFzOiBDb21wb25lbnQgPSAnaDUnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoCgkJQ29tcG9uZW50LAoJCXsKCQkJY2xhc3NOYW1lOiBjbihhbGVydFRpdGxlVmFyaWFudHMoeyBzaXplIH0pLCBjbGFzc05hbWUpLAoJCQkuLi5wcm9wcywKCQl9LAoJCWNoaWxkcmVuLAoJKTsKfTsKCmV4cG9ydCBjb25zdCBBbGVydERlc2NyaXB0aW9uOiBSZWFjdC5GQzxBbGVydERlc2NyaXB0aW9uUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJc2l6ZSwKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKGFsZXJ0RGVzY3JpcHRpb25WYXJpYW50cyh7IHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn07CgpleHBvcnQgY29uc3QgQWxlcnRJY29uOiBSZWFjdC5GQzxBbGVydEljb25Qcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2CgkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQlkYXRhLXNsb3Q9ImFsZXJ0LWljb24iCgkJCWNsYXNzTmFtZT17Y24oJ210LTAuNSBmbGV4IGgtNCB3LTQgc2hyaW5rLTAgdGV4dC1jdXJyZW50JywgY2xhc3NOYW1lKX0KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn07"
,
  "accordion.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9pY29ucyc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgYWNjb3JkaW9uVmFyaWFudHMgPSBjdmEoJ25vdC1wcm9zZSB3LWZ1bGwnLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJycsCgkJCWNhcmQ6ICdzcGFjZS15LTInLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJdmFyaWFudDogJ2RlZmF1bHQnLAoJfSwKfSk7Cgpjb25zdCBhY2NvcmRpb25JdGVtVmFyaWFudHMgPSBjdmEoCgknbm90LXByb3NlIHRyYW5zaXRpb24tW2JvcmRlci1jb2xvcixib3gtc2hhZG93XScsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ2JvcmRlci1iIGJvcmRlci1ib3JkZXIvNjAgbGFzdDpib3JkZXItYi0wJywKCQkJCWNhcmQ6ICdyb3VuZGVkLWxnIFsmOmhhcyg6Zm9jdXMtdmlzaWJsZSldOnJpbmctMSBbJjpoYXMoOmZvY3VzLXZpc2libGUpXTpyaW5nLXJpbmcvNTAgWyY6aGFzKDpmb2N1cy12aXNpYmxlKV06cmluZy1vZmZzZXQtMSBbJjpoYXMoOmZvY3VzLXZpc2libGUpXTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBbJjpoYXMoOmZvY3VzLXZpc2libGUpXTpvdXRsaW5lLW5vbmUnLAoJCQl9LAoJCQlpc09wZW46IHsKCQkJCXRydWU6ICcnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJaXNPcGVuOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmNvbnN0IGFjY29yZGlvblRyaWdnZXJWYXJpYW50cyA9IGN2YSgKCSdub3QtcHJvc2UgZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkLWxnIHRleHQtbGVmdCB0ZXh0LWZvcmVncm91bmQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kLzcwIHRyYW5zaXRpb24tW2JveC1zaGFkb3csY29sb3JdIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljJywKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OgoJCQkJCSdmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQljYXJkOiAnZm9jdXMtdmlzaWJsZTpyaW5nLTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ3RleHQteHMnLAoJCQkJbWQ6ICd0ZXh0LXNtJywKCQkJCWxnOiAndGV4dC1iYXNlJywKCQkJfSwKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJ2N1cnNvci1wb2ludGVyJywKCQkJfSwKCQkJaXNPcGVuOiB7CgkJCQl0cnVlOiAnJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWNvbXBvdW5kVmFyaWFudHM6IFsKCQkJewoJCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQkJc2l6ZTogJ3NtJywKCQkJCWNsYXNzOiAncHgtMCBweS0yJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAncHgtMCBweS0zJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQkJc2l6ZTogJ2xnJywKCQkJCWNsYXNzOiAncHgtMCBweS00JywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2NhcmQnLAoJCQkJc2l6ZTogJ3NtJywKCQkJCWNsYXNzOiAncHgtMyBweS0yJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2NhcmQnLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAncHgtNCBweS0zJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2NhcmQnLAoJCQkJc2l6ZTogJ2xnJywKCQkJCWNsYXNzOiAncHgtNSBweS00JywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2NhcmQnLAoJCQkJaXNPcGVuOiB0cnVlLAoJCQkJY2xhc3M6ICcnLAoJCQl9LAoJCV0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCQlpc09wZW46IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgYWNjb3JkaW9uQ29udGVudFZhcmlhbnRzID0gY3ZhKAoJJ25vdC1wcm9zZSBvdmVyZmxvdy1oaWRkZW4gdHJhbnNpdGlvbi1baGVpZ2h0LG9wYWNpdHldIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCcsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICd0ZXh0LXhzJywKCQkJCW1kOiAndGV4dC1zbScsCgkJCQlsZzogJ3RleHQtYmFzZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IGFjY29yZGlvbkNvbnRlbnRJbm5lclZhcmlhbnRzID0gY3ZhKCdsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzcwJywgewoJdmFyaWFudHM6IHsKCQl2YXJpYW50OiB7CgkJCWRlZmF1bHQ6ICcnLAoJCQljYXJkOiAnYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCcsCgkJfSwKCQlzaXplOiB7CgkJCXNtOiAnJywKCQkJbWQ6ICcnLAoJCQlsZzogJycsCgkJfSwKCX0sCgljb21wb3VuZFZhcmlhbnRzOiBbCgkJewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdzbScsCgkJCWNsYXNzOiAncGItMicsCgkJfSwKCQl7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQkJY2xhc3M6ICdwYi0zJywKCQl9LAoJCXsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbGcnLAoJCQljbGFzczogJ3BiLTQnLAoJCX0sCgkJewoJCQl2YXJpYW50OiAnY2FyZCcsCgkJCXNpemU6ICdzbScsCgkJCWNsYXNzOiAncHgtMyBweS0yJywKCQl9LAoJCXsKCQkJdmFyaWFudDogJ2NhcmQnLAoJCQlzaXplOiAnbWQnLAoJCQljbGFzczogJ3B4LTQgcHktMycsCgkJfSwKCQl7CgkJCXZhcmlhbnQ6ICdjYXJkJywKCQkJc2l6ZTogJ2xnJywKCQkJY2xhc3M6ICdweC01IHB5LTQnLAoJCX0sCgldLAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCXNpemU6ICdtZCcsCgl9LAp9KTsKCmV4cG9ydCBpbnRlcmZhY2UgQWNjb3JkaW9uUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgYWNjb3JkaW9uVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJdHlwZT86ICdzaW5nbGUnIHwgJ211bHRpcGxlJzsKCglvblZhbHVlQ2hhbmdlPzogKHZhbHVlOiBzdHJpbmcgfCBzdHJpbmdbXSkgPT4gdm9pZDsKfQoKZXhwb3J0IGludGVyZmFjZSBBY2NvcmRpb25JdGVtUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgYWNjb3JkaW9uSXRlbVZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJdmFsdWU/OiBzdHJpbmc7CglpZD86IHN0cmluZzsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWRlZmF1bHRPcGVuPzogYm9vbGVhbjsKfQoKdHlwZSBEaXNjbG9zdXJlQnV0dG9uUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8Cgl0eXBlb2YgQXJpYWtpdC5EaXNjbG9zdXJlCj47CgpleHBvcnQgaW50ZXJmYWNlIEFjY29yZGlvblRyaWdnZXJQcm9wcwoJZXh0ZW5kcyBPbWl0PERpc2Nsb3N1cmVCdXR0b25Qcm9wcywgJ3N0b3JlJz4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBhY2NvcmRpb25UcmlnZ2VyVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQWNjb3JkaW9uQ29udGVudFByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGFjY29yZGlvbkNvbnRlbnRWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQp0eXBlIEFjY29yZGlvblN0eWxlQ29udGV4dFR5cGUgPSB7Cgl2YXJpYW50OiAnZGVmYXVsdCcgfCAnY2FyZCc7CglzaXplOiAnc20nIHwgJ21kJyB8ICdsZyc7Cn07Cgpjb25zdCBBY2NvcmRpb25TdHlsZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PAoJQWNjb3JkaW9uU3R5bGVDb250ZXh0VHlwZSB8IHVuZGVmaW5lZAo+KHVuZGVmaW5lZCk7Cgpjb25zdCB1c2VBY2NvcmRpb25TdHlsZSA9ICgpID0+IHsKCWNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEFjY29yZGlvblN0eWxlQ29udGV4dCk7CglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ0FjY29yZGlvbiBjb21wb25lbnRzIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gQWNjb3JkaW9uJyk7Cgl9CglyZXR1cm4gY29udGV4dDsKfTsKCnR5cGUgQWNjb3JkaW9uQmVoYXZpb3JDb250ZXh0VHlwZSA9IHsKCXR5cGU6ICdzaW5nbGUnIHwgJ211bHRpcGxlJzsKCXJlZ2lzdGVySXRlbTogKHZhbHVlOiBzdHJpbmcsIHN0b3JlOiBBcmlha2l0LkRpc2Nsb3N1cmVTdG9yZSkgPT4gdm9pZDsKCXVucmVnaXN0ZXJJdGVtOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDsKCW5vdGlmeUl0ZW1PcGVuOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDsKfTsKCmNvbnN0IEFjY29yZGlvbkJlaGF2aW9yQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8CglBY2NvcmRpb25CZWhhdmlvckNvbnRleHRUeXBlIHwgdW5kZWZpbmVkCj4odW5kZWZpbmVkKTsKCmNvbnN0IHVzZUFjY29yZGlvbkJlaGF2aW9yID0gKCkgPT4gewoJY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQWNjb3JkaW9uQmVoYXZpb3JDb250ZXh0KTsKCWlmICghY29udGV4dCkgewoJCXRocm93IG5ldyBFcnJvcignQWNjb3JkaW9uIGNvbXBvbmVudHMgbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBY2NvcmRpb24nKTsKCX0KCXJldHVybiBjb250ZXh0Owp9OwoKdHlwZSBBY2NvcmRpb25JdGVtQ29udGV4dFR5cGUgPSB7CglzdG9yZTogQXJpYWtpdC5EaXNjbG9zdXJlU3RvcmU7CglkaXNhYmxlZDogYm9vbGVhbjsKCXRyaWdnZXJJZDogc3RyaW5nOwoJY29udGVudElkOiBzdHJpbmc7Cn07Cgpjb25zdCBBY2NvcmRpb25JdGVtQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8CglBY2NvcmRpb25JdGVtQ29udGV4dFR5cGUgfCB1bmRlZmluZWQKPih1bmRlZmluZWQpOwoKY29uc3QgdXNlQWNjb3JkaW9uSXRlbSA9ICgpID0+IHsKCWNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEFjY29yZGlvbkl0ZW1Db250ZXh0KTsKCWlmICghY29udGV4dCkgewoJCXRocm93IG5ldyBFcnJvcigKCQkJJ0FjY29yZGlvblRyaWdnZXIgYW5kIEFjY29yZGlvbkNvbnRlbnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBY2NvcmRpb25JdGVtJywKCQkpOwoJfQoJcmV0dXJuIGNvbnRleHQ7Cn07CgpleHBvcnQgY29uc3QgQWNjb3JkaW9uOiBSZWFjdC5GQzxBY2NvcmRpb25Qcm9wcz4gPSBSZWFjdC5tZW1vKAoJKHsKCQljaGlsZHJlbiwKCQl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJCXNpemUgPSAnbWQnLAoJCWNsYXNzTmFtZSwKCQl0eXBlID0gJ3NpbmdsZScsCgkJb25WYWx1ZUNoYW5nZSwKCQkuLi5wcm9wcwoJfSkgPT4gewoJCWNvbnN0IHJlc29sdmVkVmFyaWFudDogJ2RlZmF1bHQnIHwgJ2NhcmQnID0gdmFyaWFudCA/PyAnZGVmYXVsdCc7CgkJY29uc3QgcmVzb2x2ZWRTaXplOiAnc20nIHwgJ21kJyB8ICdsZycgPSBzaXplID8/ICdtZCc7CgkJY29uc3QgcmVzb2x2ZWRUeXBlOiAnc2luZ2xlJyB8ICdtdWx0aXBsZScgPSB0eXBlID8/ICdzaW5nbGUnOwoKCQljb25zdCBzdHlsZVZhbHVlID0gdXNlTWVtbygKCQkJKCkgPT4gKHsgdmFyaWFudDogcmVzb2x2ZWRWYXJpYW50LCBzaXplOiByZXNvbHZlZFNpemUgfSksCgkJCVtyZXNvbHZlZFZhcmlhbnQsIHJlc29sdmVkU2l6ZV0sCgkJKTsKCgkJY29uc3QgaXRlbXNSZWYgPSBSZWFjdC51c2VSZWY8TWFwPHN0cmluZywgQXJpYWtpdC5EaXNjbG9zdXJlU3RvcmU+PigKCQkJbmV3IE1hcCgpLAoJCSk7CgoJCWNvbnN0IHJlZ2lzdGVySXRlbSA9IHVzZUNhbGxiYWNrKAoJCQkodmFsdWU6IHN0cmluZywgc3RvcmU6IEFyaWFraXQuRGlzY2xvc3VyZVN0b3JlKSA9PiB7CgkJCQlpdGVtc1JlZi5jdXJyZW50LnNldCh2YWx1ZSwgc3RvcmUpOwoJCQl9LAoJCQlbXSwKCQkpOwoKCQljb25zdCB1bnJlZ2lzdGVySXRlbSA9IHVzZUNhbGxiYWNrKCh2YWx1ZTogc3RyaW5nKSA9PiB7CgkJCWl0ZW1zUmVmLmN1cnJlbnQuZGVsZXRlKHZhbHVlKTsKCQl9LCBbXSk7CgoJCWNvbnN0IG5vdGlmeUl0ZW1PcGVuID0gdXNlQ2FsbGJhY2soCgkJCSh2YWx1ZTogc3RyaW5nKSA9PiB7CgkJCQlpZiAocmVzb2x2ZWRUeXBlID09PSAnc2luZ2xlJykgewoJCQkJCWl0ZW1zUmVmLmN1cnJlbnQuZm9yRWFjaCgoc3RvcmUsIGtleSkgPT4gewoJCQkJCQlpZiAoa2V5ICE9PSB2YWx1ZSkgewoJCQkJCQkJaWYgKHR5cGVvZiBzdG9yZS5zZXRPcGVuID09PSAnZnVuY3Rpb24nKSB7CgkJCQkJCQkJc3RvcmUuc2V0T3BlbihmYWxzZSk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9KTsKCQkJCX0KCQkJCWlmICh0eXBlb2Ygb25WYWx1ZUNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykgewoJCQkJCW9uVmFsdWVDaGFuZ2UodmFsdWUpOwoJCQkJfQoJCQl9LAoJCQlbcmVzb2x2ZWRUeXBlLCBvblZhbHVlQ2hhbmdlXSwKCQkpOwoKCQljb25zdCBiZWhhdmlvclZhbHVlID0gdXNlTWVtbzxBY2NvcmRpb25CZWhhdmlvckNvbnRleHRUeXBlPigKCQkJKCkgPT4gKHsKCQkJCXR5cGU6IHJlc29sdmVkVHlwZSwKCQkJCXJlZ2lzdGVySXRlbSwKCQkJCXVucmVnaXN0ZXJJdGVtLAoJCQkJbm90aWZ5SXRlbU9wZW4sCgkJCX0pLAoJCQlbcmVzb2x2ZWRUeXBlLCByZWdpc3Rlckl0ZW0sIHVucmVnaXN0ZXJJdGVtLCBub3RpZnlJdGVtT3Blbl0sCgkJKTsKCgkJcmV0dXJuICgKCQkJPEFjY29yZGlvblN0eWxlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17c3R5bGVWYWx1ZX0+CgkJCQk8QWNjb3JkaW9uQmVoYXZpb3JDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtiZWhhdmlvclZhbHVlfT4KCQkJCQk8ZGl2CgkJCQkJCWRhdGEtYWNjb3JkaW9uLXJvb3QKCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCWFjY29yZGlvblZhcmlhbnRzKHsgdmFyaWFudDogcmVzb2x2ZWRWYXJpYW50IH0pLAoJCQkJCQkJY2xhc3NOYW1lLAoJCQkJCQkpfQoJCQkJCQl7Li4ucHJvcHN9CgkJCQkJPgoJCQkJCQl7Y2hpbGRyZW59CgkJCQkJPC9kaXY+CgkJCQk8L0FjY29yZGlvbkJlaGF2aW9yQ29udGV4dC5Qcm92aWRlcj4KCQkJPC9BY2NvcmRpb25TdHlsZUNvbnRleHQuUHJvdmlkZXI+CgkJKTsKCX0sCik7CgpBY2NvcmRpb24uZGlzcGxheU5hbWUgPSAnQWNjb3JkaW9uJzsKCmV4cG9ydCBjb25zdCBBY2NvcmRpb25JdGVtOiBSZWFjdC5GQzxBY2NvcmRpb25JdGVtUHJvcHM+ID0gUmVhY3QubWVtbygKCSh7CgkJY2hpbGRyZW4sCgkJdmFsdWUsCgkJaWQsCgkJY2xhc3NOYW1lLAoJCWRpc2FibGVkID0gZmFsc2UsCgkJZGVmYXVsdE9wZW4gPSBmYWxzZSwKCQkuLi5wcm9wcwoJfSkgPT4gewoJCWNvbnN0IHsgdmFyaWFudCB9ID0gdXNlQWNjb3JkaW9uU3R5bGUoKTsKCQljb25zdCB7IHJlZ2lzdGVySXRlbSwgdW5yZWdpc3Rlckl0ZW0sIG5vdGlmeUl0ZW1PcGVuIH0gPQoJCQl1c2VBY2NvcmRpb25CZWhhdmlvcigpOwoJCWNvbnN0IHJlYWN0SWQgPSBSZWFjdC51c2VJZCgpOwoJCWNvbnN0IGJhc2VJZCA9IChpZCB8fCB2YWx1ZSB8fCByZWFjdElkKS50b1N0cmluZygpOwoKCQljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlRGlzY2xvc3VyZVN0b3JlKHsgZGVmYXVsdE9wZW4gfSk7CgoJCWNvbnN0IHRyaWdnZXJJZCA9IGAke2Jhc2VJZH0tdHJpZ2dlcmA7CgkJY29uc3QgY29udGVudElkID0gYCR7YmFzZUlkfS1jb250ZW50YDsKCgkJY29uc3QgY29udGV4dFZhbHVlID0gdXNlTWVtbzxBY2NvcmRpb25JdGVtQ29udGV4dFR5cGU+KAoJCQkoKSA9PiAoeyBzdG9yZSwgZGlzYWJsZWQ6ICEhZGlzYWJsZWQsIHRyaWdnZXJJZCwgY29udGVudElkIH0pLAoJCQlbc3RvcmUsIGRpc2FibGVkLCB0cmlnZ2VySWQsIGNvbnRlbnRJZF0sCgkJKTsKCgkJY29uc3Qgb3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ29wZW4nKTsKCgkJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQkJcmVnaXN0ZXJJdGVtKGJhc2VJZCwgc3RvcmUpOwoJCQlyZXR1cm4gKCkgPT4gdW5yZWdpc3Rlckl0ZW0oYmFzZUlkKTsKCQl9LCBbYmFzZUlkLCByZWdpc3Rlckl0ZW0sIHVucmVnaXN0ZXJJdGVtLCBzdG9yZV0pOwoKCQlSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAob3BlbikgewoJCQkJbm90aWZ5SXRlbU9wZW4oYmFzZUlkKTsKCQkJfQoJCX0sIFtvcGVuLCBiYXNlSWQsIG5vdGlmeUl0ZW1PcGVuXSk7CgoJCWlmICh2YXJpYW50ID09PSAnY2FyZCcpIHsKCQkJcmV0dXJuICgKCQkJCTxBY2NvcmRpb25JdGVtQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT4KCQkJCQk8ZGl2CgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQlhY2NvcmRpb25JdGVtVmFyaWFudHMoeyB2YXJpYW50LCBpc09wZW46IG9wZW4gfSksCgkJCQkJCQljbGFzc05hbWUsCgkJCQkJCSl9CgkJCQkJCXsuLi5wcm9wc30KCQkJCQk+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJub3QtcHJvc2UgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBzaGFkb3ctc20gdHJhbnNpdGlvbi1baGVpZ2h0LG9wYWNpdHldIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCI+CgkJCQkJCQl7Y2hpbGRyZW59CgkJCQkJCTwvZGl2PgoJCQkJCTwvZGl2PgoJCQkJPC9BY2NvcmRpb25JdGVtQ29udGV4dC5Qcm92aWRlcj4KCQkJKTsKCQl9CgoJCXJldHVybiAoCgkJCTxBY2NvcmRpb25JdGVtQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT4KCQkJCTxkaXYKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQlhY2NvcmRpb25JdGVtVmFyaWFudHMoeyB2YXJpYW50LCBpc09wZW46IG9wZW4gfSksCgkJCQkJCWNsYXNzTmFtZSwKCQkJCQkpfQoJCQkJCXsuLi5wcm9wc30KCQkJCT4KCQkJCQl7Y2hpbGRyZW59CgkJCQk8L2Rpdj4KCQkJPC9BY2NvcmRpb25JdGVtQ29udGV4dC5Qcm92aWRlcj4KCQkpOwoJfSwKKTsKCkFjY29yZGlvbkl0ZW0uZGlzcGxheU5hbWUgPSAnQWNjb3JkaW9uSXRlbSc7CgpleHBvcnQgY29uc3QgQWNjb3JkaW9uVHJpZ2dlcjogUmVhY3QuRkM8QWNjb3JkaW9uVHJpZ2dlclByb3BzPiA9IFJlYWN0Lm1lbW8oCgkoewoJCWNoaWxkcmVuLAoJCWNsYXNzTmFtZSwKCQlkaXNhYmxlZDogZGlzYWJsZWRQcm9wLAoJCXZhcmlhbnQ6IF92YXJpYW50UHJvcCwKCQlzaXplOiBfc2l6ZVByb3AsCgkJaXNPcGVuOiBfaXNPcGVuUHJvcCwKCQkuLi5wcm9wcwoJfSkgPT4gewoJCWNvbnN0IHsgdmFyaWFudCwgc2l6ZSB9ID0gdXNlQWNjb3JkaW9uU3R5bGUoKTsKCQljb25zdCB7IHN0b3JlLCBkaXNhYmxlZCwgdHJpZ2dlcklkLCBjb250ZW50SWQgfSA9IHVzZUFjY29yZGlvbkl0ZW0oKTsKCQljb25zdCBpc09wZW4gPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc3RvcmUsICdvcGVuJyk7CgkJY29uc3QgbWVyZ2VkRGlzYWJsZWQgPSBCb29sZWFuKGRpc2FibGVkIHx8IGRpc2FibGVkUHJvcCk7CgoJCWNvbnN0IGljb25TaXplID0gdXNlTWVtbygoKSA9PiB7CgkJCXJldHVybiBzaXplID09PSAnc20nID8gMTQgOiBzaXplID09PSAnbWQnID8gMTYgOiAyMDsKCQl9LCBbc2l6ZV0pOwoKCQlyZXR1cm4gKAoJCQk8aDMgY2xhc3NOYW1lPSJub3QtcHJvc2UiPgoJCQkJPEFyaWFraXQuRGlzY2xvc3VyZQoJCQkJCXN0b3JlPXtzdG9yZX0KCQkJCQlpZD17dHJpZ2dlcklkfQoJCQkJCWRhdGEtYWNjb3JkaW9uLXRyaWdnZXIKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQlhY2NvcmRpb25UcmlnZ2VyVmFyaWFudHMoewoJCQkJCQkJdmFyaWFudCwKCQkJCQkJCXNpemUsCgkJCQkJCQlkaXNhYmxlZDogbWVyZ2VkRGlzYWJsZWQsCgkJCQkJCQlpc09wZW4sCgkJCQkJCX0pLAoJCQkJCQljbGFzc05hbWUsCgkJCQkJKX0KCQkJCQlhcmlhLWNvbnRyb2xzPXtjb250ZW50SWR9CgkJCQkJYXJpYS1kaXNhYmxlZD17bWVyZ2VkRGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCQkJCWRpc2FibGVkPXttZXJnZWREaXNhYmxlZH0KCQkJCQl7Li4ucHJvcHN9CgkJCQk+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJmb250LW1lZGl1bSI+e2NoaWxkcmVufTwvc3Bhbj4KCQkJCQk8SWNvbnMuQ2hldnJvbkRvd24KCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQknbWwtMiBzaHJpbmstMCB0ZXh0LWZvcmVncm91bmQvNDUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMgd2lsbC1jaGFuZ2UtdHJhbnNmb3JtJywKCQkJCQkJCWlzT3BlbiA/ICdyb3RhdGUtMTgwJyA6ICdyb3RhdGUtMCcsCgkJCQkJCSl9CgkJCQkJCXN0eWxlPXt7IHdpZHRoOiBpY29uU2l6ZSwgaGVpZ2h0OiBpY29uU2l6ZSB9fQoJCQkJCS8+CgkJCQk8L0FyaWFraXQuRGlzY2xvc3VyZT4KCQkJPC9oMz4KCQkpOwoJfSwKKTsKCkFjY29yZGlvblRyaWdnZXIuZGlzcGxheU5hbWUgPSAnQWNjb3JkaW9uVHJpZ2dlcic7CgpleHBvcnQgY29uc3QgQWNjb3JkaW9uQ29udGVudDogUmVhY3QuRkM8QWNjb3JkaW9uQ29udGVudFByb3BzPiA9IFJlYWN0Lm1lbW8oCgkoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCAuLi5wcm9wcyB9KSA9PiB7CgkJY29uc3QgeyB2YXJpYW50LCBzaXplIH0gPSB1c2VBY2NvcmRpb25TdHlsZSgpOwoJCWNvbnN0IHsgc3RvcmUsIHRyaWdnZXJJZCwgY29udGVudElkIH0gPSB1c2VBY2NvcmRpb25JdGVtKCk7CgkJY29uc3QgaXNPcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAnb3BlbicpOwoKCQljb25zdCBjb250ZW50UmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCQljb25zdCBpbm5lclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7CgkJY29uc3QgW2hlaWdodCwgc2V0SGVpZ2h0XSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4oMCk7CgkJY29uc3QgcmFmUmVmID0gUmVhY3QudXNlUmVmPG51bWJlciB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTsKCgkJY29uc3QgdXBkYXRlSGVpZ2h0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCQlpZiAocmFmUmVmLmN1cnJlbnQpIHsKCQkJCWNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZlJlZi5jdXJyZW50KTsKCQkJfQoKCQkJcmFmUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewoJCQkJaWYgKGlubmVyUmVmLmN1cnJlbnQpIHsKCQkJCQljb25zdCBuZXdIZWlnaHQgPSBpbm5lclJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDsKCQkJCQlzZXRIZWlnaHQobmV3SGVpZ2h0KTsKCQkJCX0KCQkJfSk7CgkJfSwgW10pOwoKCQlSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAoIWlubmVyUmVmLmN1cnJlbnQpIHJldHVybjsKCgkJCWNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHsKCQkJCXVwZGF0ZUhlaWdodCgpOwoJCQl9KTsKCgkJCXJlc2l6ZU9ic2VydmVyLm9ic2VydmUoaW5uZXJSZWYuY3VycmVudCk7CgkJCXVwZGF0ZUhlaWdodCgpOwoKCQkJcmV0dXJuICgpID0+IHsKCQkJCXJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCQkJCWlmIChyYWZSZWYuY3VycmVudCkgewoJCQkJCWNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZlJlZi5jdXJyZW50KTsKCQkJCX0KCQkJfTsKCQl9LCBbdXBkYXRlSGVpZ2h0XSk7CgoJCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJCXVwZGF0ZUhlaWdodCgpOwoJCX0sIFt1cGRhdGVIZWlnaHRdKTsKCgkJY29uc3QgY29udGVudFN0eWxlID0gdXNlTWVtbygKCQkJKCkgPT4gKHsKCQkJCWhlaWdodDogaXNPcGVuID8gYCR7aGVpZ2h0fXB4YCA6ICcwcHgnLAoJCQkJb3BhY2l0eTogaXNPcGVuID8gMSA6IDAsCgkJCX0pLAoJCQlbaXNPcGVuLCBoZWlnaHRdLAoJCSk7CgoJCXJldHVybiAoCgkJCTxkaXYKCQkJCXJlZj17Y29udGVudFJlZn0KCQkJCWNsYXNzTmFtZT17Y24oYWNjb3JkaW9uQ29udGVudFZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJCXN0eWxlPXtjb250ZW50U3R5bGV9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCTxzZWN0aW9uCgkJCQkJaWQ9e2NvbnRlbnRJZH0KCQkJCQlhcmlhLWxhYmVsbGVkYnk9e3RyaWdnZXJJZH0KCQkJCQlhcmlhLWhpZGRlbj17IWlzT3Blbn0KCQkJCQlpbmVydD17IWlzT3Blbn0KCQkJCQlyZWY9e2lubmVyUmVmfQoJCQkJCWNsYXNzTmFtZT17Y24oYWNjb3JkaW9uQ29udGVudElubmVyVmFyaWFudHMoeyB2YXJpYW50LCBzaXplIH0pKX0KCQkJCT4KCQkJCQl7Y2hpbGRyZW59CgkJCQk8L3NlY3Rpb24+CgkJCTwvZGl2PgoJCSk7Cgl9LAopOwoKQWNjb3JkaW9uQ29udGVudC5kaXNwbGF5TmFtZSA9ICdBY2NvcmRpb25Db250ZW50Jzs="
,
  "skeleton.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IHNrZWxldG9uVmFyaWFudHMgPSBjdmEoJ25vdC1wcm9zZSBiZy1jYXJkLW11dGVkJywgewoJdmFyaWFudHM6IHsKCQl2YXJpYW50OiB7CgkJCWRlZmF1bHQ6ICcnLAoJCQlzaGltbWVyOgoJCQkJInJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiBhZnRlcjphYnNvbHV0ZSBhZnRlcjppbnNldC0wIGFmdGVyOmFuaW1hdGUtW3NoaW1tZXJfMnNfZWFzZS1iYXNpY19pbmZpbml0ZV0gYWZ0ZXI6YmctW2xpbmVhci1ncmFkaWVudCg5MGRlZyx0cmFuc3BhcmVudF8wJSxyZ2JhKDAsMCwwLDAuMDUpXzUwJSx0cmFuc3BhcmVudF8xMDAlKV0gYWZ0ZXI6Y29udGVudC1bJyddIGRhcms6YWZ0ZXI6YmctW2xpbmVhci1ncmFkaWVudCg5MGRlZyx0cmFuc3BhcmVudF8wJSxyZ2JhKDI1NSwyNTUsMjU1LDAuMDUpXzUwJSx0cmFuc3BhcmVudF8xMDAlKV0iLAoJCX0sCgkJc2hhcGU6IHsKCQkJcmVjdGFuZ2xlOiAncm91bmRlZCcsCgkJCWNpcmNsZTogJ3JvdW5kZWQtZnVsbCcsCgkJCXRleHQ6ICdyb3VuZGVkJywKCQl9LAoJCXNpemU6IHsKCQkJc206ICcnLAoJCQltZDogJycsCgkJCWxnOiAnJywKCQl9LAoJfSwKCWNvbXBvdW5kVmFyaWFudHM6IFsKCQl7CgkJCXNoYXBlOiAndGV4dCcsCgkJCXNpemU6ICdzbScsCgkJCWNsYXNzOiAnaC0zJywKCQl9LAoJCXsKCQkJc2hhcGU6ICd0ZXh0JywKCQkJc2l6ZTogJ21kJywKCQkJY2xhc3M6ICdoLTQnLAoJCX0sCgkJewoJCQlzaGFwZTogJ3RleHQnLAoJCQlzaXplOiAnbGcnLAoJCQljbGFzczogJ2gtNScsCgkJfSwKCQl7CgkJCXNoYXBlOiAnY2lyY2xlJywKCQkJc2l6ZTogJ3NtJywKCQkJY2xhc3M6ICdoLTggdy04JywKCQl9LAoJCXsKCQkJc2hhcGU6ICdjaXJjbGUnLAoJCQlzaXplOiAnbWQnLAoJCQljbGFzczogJ2gtMTIgdy0xMicsCgkJfSwKCQl7CgkJCXNoYXBlOiAnY2lyY2xlJywKCQkJc2l6ZTogJ2xnJywKCQkJY2xhc3M6ICdoLTE2IHctMTYnLAoJCX0sCgkJewoJCQlzaGFwZTogJ3JlY3RhbmdsZScsCgkJCXNpemU6ICdzbScsCgkJCWNsYXNzOiAnaC04JywKCQl9LAoJCXsKCQkJc2hhcGU6ICdyZWN0YW5nbGUnLAoJCQlzaXplOiAnbWQnLAoJCQljbGFzczogJ2gtMTInLAoJCX0sCgkJewoJCQlzaGFwZTogJ3JlY3RhbmdsZScsCgkJCXNpemU6ICdsZycsCgkJCWNsYXNzOiAnaC0xNicsCgkJfSwKCV0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJc2hhcGU6ICdyZWN0YW5nbGUnLAoJCXNpemU6ICdtZCcsCgl9LAp9KTsKCmNvbnN0IGxhc3RUZXh0TGluZVZhcmlhbnRzID0gY3ZhKCcnLCB7Cgl2YXJpYW50czogewoJCWlzTGFzdDogewoJCQl0cnVlOiAndy0zLzQnLAoJCQlmYWxzZTogJ3ctZnVsbCcsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQlpc0xhc3Q6IGZhbHNlLAoJfSwKfSk7CgpleHBvcnQgaW50ZXJmYWNlIFNrZWxldG9uUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2Ygc2tlbGV0b25WYXJpYW50cz4gewoJd2lkdGg/OiBzdHJpbmcgfCBudW1iZXI7CgloZWlnaHQ/OiBzdHJpbmcgfCBudW1iZXI7CglsaW5lcz86IG51bWJlcjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IFNrZWxldG9uOiBSZWFjdC5GQzxTa2VsZXRvblByb3BzPiA9ICh7Cgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJc2l6ZSA9ICdtZCcsCglzaGFwZSA9ICdyZWN0YW5nbGUnLAoJd2lkdGgsCgloZWlnaHQsCglsaW5lcyA9IDEsCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKHZhcmlhbnQgIT09ICdzaGltbWVyJykgcmV0dXJuOwoJCWlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoaW1tZXIta2V5ZnJhbWVzJykpIHsKCQkJY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwoJCQlzdHlsZS5pZCA9ICdzaGltbWVyLWtleWZyYW1lcyc7CgkJCXN0eWxlLmlubmVySFRNTCA9IGBAa2V5ZnJhbWVzIHNoaW1tZXIge1xuICAwJSB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTtcbiAgfVxuICAxMDAlIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XG4gIH1cbn1gOwoJCQlkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKCQl9Cgl9LCBbdmFyaWFudF0pOwoKCWNvbnN0IGxpbmVLZXlzID0gdXNlTWVtbygKCQkoKSA9PgoJCQlBcnJheS5mcm9tKHsgbGVuZ3RoOiBsaW5lcyB9LCAoKSA9PgoJCQkJdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3JhbmRvbVVVSUQnIGluIGNyeXB0bwoJCQkJCT8gKGNyeXB0byBhcyBDcnlwdG8pLnJhbmRvbVVVSUQoKQoJCQkJCTogTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksCgkJCSksCgkJW2xpbmVzXSwKCSk7CgoJaWYgKHNoYXBlID09PSAndGV4dCcgJiYgbGluZXMgPiAxKSB7CgkJcmV0dXJuICgKCQkJPGRpdgoJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQlyb2xlPSJwcmVzZW50YXRpb24iCgkJCQljbGFzc05hbWU9e2NuKCdzcGFjZS15LTInLCBjbGFzc05hbWUpfQoJCQkJey4uLnByb3BzfQoJCQk+CgkJCQl7bGluZUtleXMubWFwKChrZXksIGluZGV4KSA9PiAoCgkJCQkJPGRpdgoJCQkJCQlrZXk9e2tleX0KCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCXNrZWxldG9uVmFyaWFudHMoeyB2YXJpYW50LCBzaGFwZSwgc2l6ZSB9KSwKCQkJCQkJCWxhc3RUZXh0TGluZVZhcmlhbnRzKHsgaXNMYXN0OiBpbmRleCA9PT0gbGluZXMgLSAxIH0pLAoJCQkJCQkpfQoJCQkJCQlzdHlsZT17ewoJCQkJCQkJd2lkdGg6IHdpZHRoICYmIGluZGV4ID09PSAwID8gd2lkdGggOiB1bmRlZmluZWQsCgkJCQkJCQloZWlnaHQ6IGhlaWdodCA/IGhlaWdodCA6IHVuZGVmaW5lZCwKCQkJCQkJfX0KCQkJCQkvPgoJCQkJKSl9CgkJCTwvZGl2PgoJCSk7Cgl9CgoJY29uc3QgaW5saW5lU3R5bGVzOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge307CglpZiAod2lkdGgpIGlubGluZVN0eWxlcy53aWR0aCA9IHdpZHRoOwoJaWYgKGhlaWdodCkgaW5saW5lU3R5bGVzLmhlaWdodCA9IGhlaWdodDsKCglyZXR1cm4gKAoJCTxkaXYKCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCXJvbGU9InByZXNlbnRhdGlvbiIKCQkJY2xhc3NOYW1lPXtjbigKCQkJCXNrZWxldG9uVmFyaWFudHMoeyB2YXJpYW50LCBzaGFwZSwgc2l6ZSB9KSwKCQkJCXNoYXBlID09PSAnY2lyY2xlJyA/ICcnIDogJ3ctZnVsbCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXN0eWxlPXtpbmxpbmVTdHlsZXN9CgkJCXsuLi5wcm9wc30KCQkvPgoJKTsKfTs="
,
  "separator.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKCmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qgc2VwYXJhdG9yVmFyaWFudHMgPSBjdmEoCgknbm90LXByb3NlIHJlbGF0aXZlIHNocmluay0wIHJvdW5kZWQtZnVsbCBiZy1ib3JkZXInLAoJewoJCXZhcmlhbnRzOiB7CgkJCW9yaWVudGF0aW9uOiB7CgkJCQlob3Jpem9udGFsOiAndy1mdWxsJywKCQkJCXZlcnRpY2FsOiAnaC1mdWxsIG1pbi1oLTQnLAoJCQl9LAoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAnYmctYm9yZGVyJywKCQkJCW11dGVkOiAnYmctYm9yZGVyLzYwJywKCQkJfSwKCQkJdGhpY2tuZXNzOiB7CgkJCQlzbTogJycsCgkJCQltZDogJycsCgkJCQlsZzogJycsCgkJCX0sCgkJfSwKCQljb21wb3VuZFZhcmlhbnRzOiBbCgkJCXsKCQkJCW9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsCgkJCQl0aGlja25lc3M6ICdzbScsCgkJCQljbGFzczogJ2gtcHgnLAoJCQl9LAoJCQl7CgkJCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJCQkJdGhpY2tuZXNzOiAnbWQnLAoJCQkJY2xhc3M6ICdoLTAuNScsCgkJCX0sCgkJCXsKCQkJCW9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsCgkJCQl0aGlja25lc3M6ICdsZycsCgkJCQljbGFzczogJ2gtMScsCgkJCX0sCgkJCXsKCQkJCW9yaWVudGF0aW9uOiAndmVydGljYWwnLAoJCQkJdGhpY2tuZXNzOiAnc20nLAoJCQkJY2xhc3M6ICd3LXB4JywKCQkJfSwKCQkJewoJCQkJb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsCgkJCQl0aGlja25lc3M6ICdtZCcsCgkJCQljbGFzczogJ3ctMC41JywKCQkJfSwKCQkJewoJCQkJb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsCgkJCQl0aGlja25lc3M6ICdsZycsCgkJCQljbGFzczogJ3ctMScsCgkJCX0sCgkJXSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCQkJdGhpY2tuZXNzOiAnc20nLAoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIFNlcGFyYXRvclByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHNlcGFyYXRvclZhcmlhbnRzPiB7CgkvKioKCSAqIFdoZW4gdHJ1ZSwgdGhlIHNlcGFyYXRvciBpcyB0cmVhdGVkIGFzIGRlY29yYXRpdmUgYW5kIGhpZGRlbiBmcm9tIGFzc2lzdGl2ZSB0ZWNoLgoJICovCglkZWNvcmF0aXZlPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IFNlcGFyYXRvcjogUmVhY3QuRkM8U2VwYXJhdG9yUHJvcHM+ID0gKHsKCW9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXRoaWNrbmVzcyA9ICdzbScsCglkZWNvcmF0aXZlID0gZmFsc2UsCglyb2xlLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBjb21wdXRlZFJvbGUgPSByb2xlID8/IChkZWNvcmF0aXZlID8gJ3ByZXNlbnRhdGlvbicgOiAnc2VwYXJhdG9yJyk7CgoJY29uc3QgYXJpYVByb3BzID0KCQkhZGVjb3JhdGl2ZSAmJiBjb21wdXRlZFJvbGUgPT09ICdzZXBhcmF0b3InICYmIG9yaWVudGF0aW9uID09PSAndmVydGljYWwnCgkJCT8geyAnYXJpYS1vcmllbnRhdGlvbic6ICd2ZXJ0aWNhbCcgYXMgY29uc3QgfQoJCQk6IHt9OwoKCXJldHVybiAoCgkJPGRpdgoJCQlyb2xlPXtjb21wdXRlZFJvbGV9CgkJCWFyaWEtaGlkZGVuPXtkZWNvcmF0aXZlIHx8IHVuZGVmaW5lZH0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCXNlcGFyYXRvclZhcmlhbnRzKHsgb3JpZW50YXRpb24sIHZhcmlhbnQsIHRoaWNrbmVzcyB9KSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLmFyaWFQcm9wc30KCQkJey4uLnByb3BzfQoJCS8+CgkpOwp9Ow=="
,
  "command-k.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhIH0gZnJvbSAnY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5JzsKaW1wb3J0IHR5cGUgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgewoJdXNlQ2FsbGJhY2ssCgl1c2VFZmZlY3QsCgl1c2VJZCwKCXVzZU1lbW8sCgl1c2VSZWYsCgl1c2VTdGF0ZSwKfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7CglEaWFsb2csCglEaWFsb2dDb250ZW50LAoJRGlhbG9nU3VyZmFjZSwKfSBmcm9tICdAL2FwcC9jb21wb25lbnRzL3VpL2RpYWxvZyc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9pY29ucyc7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9pbnB1dCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKZXhwb3J0IHR5cGUgQ29tbWFuZEtJdGVtID0gewoJaWQ/OiBzdHJpbmc7CglsYWJlbDogc3RyaW5nOwoJZ3JvdXA/OiBzdHJpbmc7CglkZXNjcmlwdGlvbj86IHN0cmluZzsKCWtleXdvcmRzPzogc3RyaW5nW107CglpY29uPzogUmVhY3QuUmVhY3ROb2RlOwoJc2hvcnRjdXQ/OiBzdHJpbmdbXTsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWFjdGlvbj86ICgpID0+IHZvaWQ7Cn07CgpleHBvcnQgaW50ZXJmYWNlIENvbW1hbmRLUHJvcHMgewoJaXRlbXM6IENvbW1hbmRLSXRlbVtdOwoJb3Blbj86IGJvb2xlYW47CglkZWZhdWx0T3Blbj86IGJvb2xlYW47Cglvbk9wZW5DaGFuZ2U/OiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDsKCXBsYWNlaG9sZGVyPzogc3RyaW5nOwoJZW1wdHlNZXNzYWdlPzogc3RyaW5nOwoJY2xvc2VPbkFjdGlvbj86IGJvb2xlYW47CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnIHwgJ3hsJzsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWxpc3RDbGFzc05hbWU/OiBzdHJpbmc7CglhdXRvRm9jdXM/OiBib29sZWFuOwoJaG90a2V5PzogewoJCWtleTogc3RyaW5nOwoJCW1ldGFLZXk/OiBib29sZWFuOwoJCWN0cmxLZXk/OiBib29sZWFuOwoJfTsKCW9uU2VsZWN0PzogKGl0ZW06IENvbW1hbmRLSXRlbSkgPT4gdm9pZDsKfQoKY29uc3QgZ3JvdXBIZWFkZXJDbGFzcyA9IGN2YSgKCSdweC0zIHB0LTIgcGItMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRyYWNraW5nLXdpZGUgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKKTsKCmNvbnN0IGxpc3RJdGVtQ2xhc3MgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIGZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtc20gaC05IHB4LTMgcHktMicsCgkJJ3RleHQtc20gdGV4dC1mb3JlZ3JvdW5kJywKCQknaG92ZXI6YmctY2FyZC1tdXRlZCcsCgkJJ3RyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3JdIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljJywKCV0uam9pbignICcpLAoJewoJCXZhcmlhbnRzOiB7CgkJCWhpZ2hsaWdodGVkOiB7IHRydWU6ICdiZy1jYXJkLW11dGVkJywgZmFsc2U6ICcnIH0sCgkJCWRpc2FibGVkOiB7CgkJCQl0cnVlOiAncG9pbnRlci1ldmVudHMtbm9uZSBjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsgaGlnaGxpZ2h0ZWQ6IGZhbHNlLCBkaXNhYmxlZDogZmFsc2UgfSwKCX0sCik7Cgpjb25zdCBrYmRDbGFzcyA9IGN2YSgKCVsKCQknZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZm9udC1tb25vJywKCQknaC01IG1pbi13LVsyLjJyZW1dIHJvdW5kZWQtc20gYm9yZGVyIHB4LTEuNScsCgkJJ3RleHQtWzEwcHhdIGxlYWRpbmctbm9uZSBmb250LW1lZGl1bScsCgkJJ2JvcmRlci1ib3JkZXInLAoJCSdiZy1jYXJkLW11dGVkLzUwJywKCQkndGV4dC1mb3JlZ3JvdW5kLzcwIHNoYWRvdy1zbScsCgldLmpvaW4oJyAnKSwKKTsKCmNvbnN0IHVzZVBsYXRmb3JtTWV0YSA9ICgpID0+IHsKCWNvbnN0IFtpc01hYywgc2V0SXNNYWNdID0gdXNlU3RhdGUoZmFsc2UpOwoJdXNlRWZmZWN0KCgpID0+IHsKCQljb25zdCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTsKCQlzZXRJc01hYygvbWFjfGlwaG9uZXxpcGFkfGlwb2QvLnRlc3QodWEpKTsKCX0sIFtdKTsKCXJldHVybiBpc01hYzsKfTsKCmV4cG9ydCBjb25zdCBDb21tYW5kSzogUmVhY3QuRkM8Q29tbWFuZEtQcm9wcz4gPSAoewoJaXRlbXMsCglvcGVuOiBjb250cm9sbGVkT3BlbiwKCWRlZmF1bHRPcGVuID0gZmFsc2UsCglvbk9wZW5DaGFuZ2UsCglwbGFjZWhvbGRlciA9ICdUeXBlIGEgY29tbWFuZCBvciBzZWFyY2guLi4nLAoJZW1wdHlNZXNzYWdlID0gJ05vIHJlc3VsdHMnLAoJY2xvc2VPbkFjdGlvbiA9IHRydWUsCglzaXplID0gJ3hsJywKCWNsYXNzTmFtZSA9ICcnLAoJbGlzdENsYXNzTmFtZSA9ICcnLAoJYXV0b0ZvY3VzID0gdHJ1ZSwKCWhvdGtleSA9IHsga2V5OiAnaycgfSwKCW9uU2VsZWN0LAp9KSA9PiB7Cgljb25zdCBbaW50ZXJuYWxPcGVuLCBzZXRJbnRlcm5hbE9wZW5dID0gdXNlU3RhdGUoZGVmYXVsdE9wZW4pOwoJY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7Cgljb25zdCBbaGlnaGxpZ2h0ZWRJbmRleCwgc2V0SGlnaGxpZ2h0ZWRJbmRleF0gPSB1c2VTdGF0ZSgwKTsKCWNvbnN0IHNlYXJjaENvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7Cgljb25zdCBsaXN0UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCWNvbnN0IG9wdGlvblJlZnMgPSB1c2VSZWY8KEhUTUxEaXZFbGVtZW50IHwgbnVsbClbXT4oW10pOwoJY29uc3QgaXNNYWMgPSB1c2VQbGF0Zm9ybU1ldGEoKTsKCgljb25zdCBvcGVuID0gY29udHJvbGxlZE9wZW4gIT09IHVuZGVmaW5lZCA/IGNvbnRyb2xsZWRPcGVuIDogaW50ZXJuYWxPcGVuOwoJY29uc3Qgc2V0T3BlbiA9IG9uT3BlbkNoYW5nZSB8fCBzZXRJbnRlcm5hbE9wZW47CgoJY29uc3QgYmFzZUlkID0gdXNlSWQoKTsKCgljb25zdCBub3JtYWxpemVkID0gdXNlTWVtbygoKSA9PiB7CgkJcmV0dXJuIGl0ZW1zLm1hcCgoaXQsIGlkeCkgPT4gKHsKCQkJa2V5OiBpdC5pZCA/PyBgJHtpdC5ncm91cCA/PyAnXyd9LSR7aXQubGFiZWx9LSR7aWR4fWAsCgkJCWl0ZW06IGl0LAoJCX0pKTsKCX0sIFtpdGVtc10pOwoKCWNvbnN0IGZpbHRlcmVkID0gdXNlTWVtbygoKSA9PiB7CgkJY29uc3QgcSA9IHF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpOwoJCWlmICghcSkgcmV0dXJuIG5vcm1hbGl6ZWQ7CgkJcmV0dXJuIG5vcm1hbGl6ZWQuZmlsdGVyKCh7IGl0ZW0gfSkgPT4gewoJCQljb25zdCBoYXkgPSBbaXRlbS5sYWJlbCwgaXRlbS5kZXNjcmlwdGlvbiA/PyAnJywgLi4uKGl0ZW0ua2V5d29yZHMgPz8gW10pXQoJCQkJLmpvaW4oJyAnKQoJCQkJLnRvTG93ZXJDYXNlKCk7CgkJCXJldHVybiBoYXkuaW5jbHVkZXMocSk7CgkJfSk7Cgl9LCBbbm9ybWFsaXplZCwgcXVlcnldKTsKCgljb25zdCBncm91cGVkID0gdXNlTWVtbygoKSA9PiB7CgkJY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIHsga2V5OiBzdHJpbmc7IGl0ZW06IENvbW1hbmRLSXRlbSB9W10+KCk7CgkJZmlsdGVyZWQuZm9yRWFjaCgoZW50cnkpID0+IHsKCQkJY29uc3QgZyA9IGVudHJ5Lml0ZW0uZ3JvdXAgPz8gJ0dlbmVyYWwnOwoJCQlpZiAoIWdyb3Vwcy5oYXMoZykpIGdyb3Vwcy5zZXQoZywgW10pOwoJCQlncm91cHMuZ2V0KGcpPy5wdXNoKGVudHJ5KTsKCQl9KTsKCQlyZXR1cm4gZ3JvdXBzOwoJfSwgW2ZpbHRlcmVkXSk7CgoJY29uc3QgZmxhdFNlbGVjdGFibGUgPSB1c2VNZW1vKAoJCSgpID0+IEFycmF5LmZyb20oZ3JvdXBlZC52YWx1ZXMoKSkuZmxhdCgpLAoJCVtncm91cGVkXSwKCSk7CgoJY29uc3QgZ2V0T3B0aW9uSWQgPSB1c2VDYWxsYmFjaygKCQkoaTogbnVtYmVyKSA9PiBgJHtiYXNlSWR9LWNtZGstb3B0aW9uLSR7aX1gLAoJCVtiYXNlSWRdLAoJKTsKCgljb25zdCBjbG9zZSA9IHVzZUNhbGxiYWNrKCgpID0+IHsKCQlzZXRPcGVuKGZhbHNlKTsKCQlzZXRRdWVyeSgnJyk7CgkJc2V0SGlnaGxpZ2h0ZWRJbmRleCgwKTsKCX0sIFtzZXRPcGVuXSk7CgoJY29uc3QgaGFuZGxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soCgkJKGVudHJ5OiB7IGtleTogc3RyaW5nOyBpdGVtOiBDb21tYW5kS0l0ZW0gfSkgPT4gewoJCQlpZiAoZW50cnkuaXRlbS5kaXNhYmxlZCkgcmV0dXJuOwoJCQllbnRyeS5pdGVtLmFjdGlvbj8uKCk7CgkJCW9uU2VsZWN0Py4oZW50cnkuaXRlbSk7CgkJCWlmIChjbG9zZU9uQWN0aW9uKSBjbG9zZSgpOwoJCX0sCgkJW2Nsb3NlT25BY3Rpb24sIGNsb3NlLCBvblNlbGVjdF0sCgkpOwoKCXVzZUVmZmVjdCgoKSA9PiB7CgkJY29uc3Qgb25LZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHsKCQkJY29uc3Qga2V5TWF0Y2ggPSBlLmtleS50b0xvd2VyQ2FzZSgpID09PSBob3RrZXkua2V5LnRvTG93ZXJDYXNlKCk7CgoJCQljb25zdCByZXF1aXJlc01ldGEgPSBob3RrZXkubWV0YUtleSA9PT0gdHJ1ZTsKCQkJY29uc3QgcmVxdWlyZXNDdHJsID0gaG90a2V5LmN0cmxLZXkgPT09IHRydWU7CgkJCWxldCBtb2RpZmllck9rOiBib29sZWFuOwoJCQlpZiAoIXJlcXVpcmVzTWV0YSAmJiAhcmVxdWlyZXNDdHJsKSB7CgkJCQltb2RpZmllck9rID0gaXNNYWMgPyBlLm1ldGFLZXkgOiBlLmN0cmxLZXk7CgkJCX0gZWxzZSBpZiAocmVxdWlyZXNNZXRhICYmIHJlcXVpcmVzQ3RybCkgewoJCQkJbW9kaWZpZXJPayA9IGUubWV0YUtleSB8fCBlLmN0cmxLZXk7CgkJCX0gZWxzZSB7CgkJCQltb2RpZmllck9rID0KCQkJCQkocmVxdWlyZXNNZXRhID8gZS5tZXRhS2V5IDogdHJ1ZSkgJiYKCQkJCQkocmVxdWlyZXNDdHJsID8gZS5jdHJsS2V5IDogdHJ1ZSk7CgkJCX0KCgkJCWNvbnN0IGlzTW9kaWZpZXJQcmVzc2VkID0gZS5tZXRhS2V5IHx8IGUuY3RybEtleSB8fCBlLmFsdEtleTsKCgkJCWNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50IHwgbnVsbDsKCQkJY29uc3QgaXNUeXBpbmdFbGVtZW50ID0KCQkJCSEhdGFyZ2V0ICYmCgkJCQkodGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCcgfHwKCQkJCQl0YXJnZXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fAoJCQkJCXRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSk7CgoJCQlpZiAoa2V5TWF0Y2ggJiYgbW9kaWZpZXJPaykgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCWlmIChpc1R5cGluZ0VsZW1lbnQgJiYgIWlzTW9kaWZpZXJQcmVzc2VkKSByZXR1cm47CgkJCQlzZXRPcGVuKCFvcGVuKTsKCQkJCXJldHVybjsKCQkJfQoKCQkJaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBvcGVuKSB7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQljbG9zZSgpOwoJCQl9CgkJfTsKCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlEb3duKTsKCQlyZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93bik7Cgl9LCBbaG90a2V5LCBvcGVuLCBzZXRPcGVuLCBjbG9zZSwgaXNNYWNdKTsKCgl1c2VFZmZlY3QoKCkgPT4gewoJCWlmICghb3BlbiB8fCAhYXV0b0ZvY3VzKSByZXR1cm47CgkJbGV0IHJhZjE6IG51bWJlciB8IG51bGwgPSBudWxsOwoJCWxldCByYWYyOiBudW1iZXIgfCBudWxsID0gbnVsbDsKCQlsZXQgdDE6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbCA9IG51bGw7CgoJCWNvbnN0IGZvY3VzSW5wdXQgPSAoKSA9PiB7CgkJCWNvbnN0IGVsID0gc2VhcmNoQ29udGFpbmVyUmVmLmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoCgkJCQknaW5wdXRbdHlwZT0idGV4dCJdLCBpbnB1dDpub3QoW3R5cGVdKScsCgkJCSkgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7CgkJCWlmIChlbCkgewoJCQkJdHJ5IHsKCQkJCQllbC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7CgkJCQkJY29uc3QgdmFsID0gZWwudmFsdWU7CgkJCQkJZWwudmFsdWUgPSAnJzsKCQkJCQllbC52YWx1ZSA9IHZhbDsKCQkJCX0gY2F0Y2gge30KCQkJfQoJCX07CgoJCXJhZjEgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewoJCQlmb2N1c0lucHV0KCk7CgkJCXJhZjIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZm9jdXNJbnB1dCgpKTsKCQl9KTsKCQl0MSA9IHNldFRpbWVvdXQoZm9jdXNJbnB1dCwgMjIwKTsKCgkJcmV0dXJuICgpID0+IHsKCQkJaWYgKHJhZjEpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZjEpOwoJCQlpZiAocmFmMikgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmMik7CgkJCWlmICh0MSkgY2xlYXJUaW1lb3V0KHQxKTsKCQl9OwoJfSwgW29wZW4sIGF1dG9Gb2N1c10pOwoKCXVzZUVmZmVjdCgoKSA9PiB7CgkJY29uc3Qgbm9kZSA9IG9wdGlvblJlZnMuY3VycmVudFtoaWdobGlnaHRlZEluZGV4XTsKCQlpZiAobm9kZSkgbm9kZS5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiAnbmVhcmVzdCcgfSk7Cgl9LCBbaGlnaGxpZ2h0ZWRJbmRleF0pOwoKCXVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFvcGVuKSByZXR1cm47CgkJY29uc3Qgb25TaG9ydGN1dCA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7CgkJCWNvbnN0IG1vZGlmaWVyT2sgPSBpc01hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleTsKCQkJY29uc3QgaXNDaGFyID0gZS5rZXkubGVuZ3RoID09PSAxICYmIC9bYS16MC05XS9pLnRlc3QoZS5rZXkpOwoJCQlpZiAoIW1vZGlmaWVyT2sgfHwgIWlzQ2hhcikgcmV0dXJuOwoKCQkJY29uc3QgcHJlc3NlZEtleSA9IGUua2V5LnRvVXBwZXJDYXNlKCk7CgkJCWNvbnN0IG5vcm1hbGl6ZSA9ICh0OiBzdHJpbmcpID0+IHQudHJpbSgpLnRvVXBwZXJDYXNlKCk7CgkJCWNvbnN0IGlzU2hpZnRUb2tlbiA9ICh0OiBzdHJpbmcpID0+IC9eKFNISUZUfOKHpykkLy50ZXN0KG5vcm1hbGl6ZSh0KSk7CgoJCQljb25zdCBtYXRjaCA9IGZsYXRTZWxlY3RhYmxlLmZpbmQoKGVudHJ5KSA9PiB7CgkJCQljb25zdCBzYyA9IGVudHJ5Lml0ZW0uc2hvcnRjdXQ7CgkJCQlpZiAoIXNjIHx8IHNjLmxlbmd0aCA9PT0gMCB8fCBlbnRyeS5pdGVtLmRpc2FibGVkKSByZXR1cm4gZmFsc2U7CgkJCQljb25zdCByZXF1aXJlc1NoaWZ0ID0gc2Muc29tZShpc1NoaWZ0VG9rZW4pOwoJCQkJaWYgKHJlcXVpcmVzU2hpZnQgJiYgIWUuc2hpZnRLZXkpIHJldHVybiBmYWxzZTsKCQkJCWNvbnN0IGxldHRlciA9IHNjLmZpbmQoKHQpID0+IC9eW2EtejAtOV0kL2kudGVzdCh0KSk7CgkJCQlpZiAoIWxldHRlcikgcmV0dXJuIGZhbHNlOwoJCQkJcmV0dXJuIG5vcm1hbGl6ZShsZXR0ZXIpID09PSBwcmVzc2VkS2V5OwoJCQl9KTsKCQkJaWYgKG1hdGNoKSB7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJaGFuZGxlU2VsZWN0KG1hdGNoKTsKCQkJfQoJCX07CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uU2hvcnRjdXQpOwoJCXJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25TaG9ydGN1dCk7Cgl9LCBbb3BlbiwgaXNNYWMsIGZsYXRTZWxlY3RhYmxlLCBoYW5kbGVTZWxlY3RdKTsKCgljb25zdCBvbktleU5hdiA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7CgkJaWYgKCFvcGVuKSByZXR1cm47CgkJaWYgKGZsYXRTZWxlY3RhYmxlLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoJCXN3aXRjaCAoZS5rZXkpIHsKCQkJY2FzZSAnQXJyb3dEb3duJzoKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCXNldEhpZ2hsaWdodGVkSW5kZXgoKGkpID0+IChpICsgMSkgJSBmbGF0U2VsZWN0YWJsZS5sZW5ndGgpOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ0Fycm93VXAnOgoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJc2V0SGlnaGxpZ2h0ZWRJbmRleCgKCQkJCQkoaSkgPT4gKGkgLSAxICsgZmxhdFNlbGVjdGFibGUubGVuZ3RoKSAlIGZsYXRTZWxlY3RhYmxlLmxlbmd0aCwKCQkJCSk7CgkJCQlicmVhazsKCQkJY2FzZSAnRW50ZXInOgoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJewoJCQkJCWNvbnN0IGVudHJ5ID0gZmxhdFNlbGVjdGFibGVbaGlnaGxpZ2h0ZWRJbmRleF07CgkJCQkJaWYgKGVudHJ5KSBoYW5kbGVTZWxlY3QoZW50cnkpOwoJCQkJfQoJCQkJYnJlYWs7CgkJCWNhc2UgJ0hvbWUnOgoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJc2V0SGlnaGxpZ2h0ZWRJbmRleCgwKTsKCQkJCWJyZWFrOwoJCQljYXNlICdFbmQnOgoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJc2V0SGlnaGxpZ2h0ZWRJbmRleChmbGF0U2VsZWN0YWJsZS5sZW5ndGggLSAxKTsKCQkJCWJyZWFrOwoJCX0KCX07CgoJY29uc3Qgc2hvcnRjdXRIaW50ID0gdXNlTWVtbygoKSA9PiB7CgkJY29uc3Qga2V5ID0gaG90a2V5LmtleS50b1VwcGVyQ2FzZSgpOwoJCWNvbnN0IHJlcXVpcmVzTWV0YSA9IGhvdGtleS5tZXRhS2V5ID09PSB0cnVlOwoJCWNvbnN0IHJlcXVpcmVzQ3RybCA9IGhvdGtleS5jdHJsS2V5ID09PSB0cnVlOwoJCWlmICghcmVxdWlyZXNNZXRhICYmICFyZXF1aXJlc0N0cmwpIHsKCQkJcmV0dXJuIGlzTWFjID8gYOKMmCR7a2V5fWAgOiBgQ3RybCske2tleX1gOwoJCX0KCQlpZiAocmVxdWlyZXNNZXRhICYmIHJlcXVpcmVzQ3RybCkgewoJCQlyZXR1cm4gaXNNYWMgPyBg4oyYJHtrZXl9YCA6IGBDdHJsKyR7a2V5fWA7CgkJfQoJCWlmIChyZXF1aXJlc01ldGEpIHJldHVybiBg4oyYJHtrZXl9YDsKCQlpZiAocmVxdWlyZXNDdHJsKSByZXR1cm4gYEN0cmwrJHtrZXl9YDsKCQlyZXR1cm4ga2V5OwoJfSwgW2hvdGtleSwgaXNNYWNdKTsKCglyZXR1cm4gKAoJCTxEaWFsb2cgb3Blbj17b3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRPcGVufT4KCQkJPERpYWxvZ1N1cmZhY2UKCQkJCXNpemU9e3NpemV9CgkJCQlzaG93Q2xvc2U9e2ZhbHNlfQoJCQkJY2xhc3NOYW1lPXtjbigncC0wIScsIGNsYXNzTmFtZSl9CgkJCT4KCQkJCTxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT0icC0wIj4KCQkJCQk8ZGl2IGNsYXNzTmFtZT0icHgtMC41IHB0LTIiIHJlZj17c2VhcmNoQ29udGFpbmVyUmVmfT4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIj4KCQkJCQkJCTxJbnB1dAoJCQkJCQkJCXJvbGU9ImNvbWJvYm94IgoJCQkJCQkJCWFyaWEtY29udHJvbHM9e2Ake2Jhc2VJZH0tY29tbWFuZGstbGlzdGJveGB9CgkJCQkJCQkJYXJpYS1leHBhbmRlZD17b3Blbn0KCQkJCQkJCQlhcmlhLWF1dG9jb21wbGV0ZT0ibGlzdCIKCQkJCQkJCQlhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9ewoJCQkJCQkJCQlmbGF0U2VsZWN0YWJsZVtoaWdobGlnaHRlZEluZGV4XQoJCQkJCQkJCQkJPyBnZXRPcHRpb25JZChoaWdobGlnaHRlZEluZGV4KQoJCQkJCQkJCQkJOiB1bmRlZmluZWQKCQkJCQkJCQl9CgkJCQkJCQkJdmFsdWU9e3F1ZXJ5fQoJCQkJCQkJCW9uQ2hhbmdlPXsoZSkgPT4gewoJCQkJCQkJCQlzZXRRdWVyeShlLnRhcmdldC52YWx1ZSk7CgkJCQkJCQkJCXNldEhpZ2hsaWdodGVkSW5kZXgoMCk7CgkJCQkJCQkJfX0KCQkJCQkJCQlvbktleURvd249e29uS2V5TmF2fQoJCQkJCQkJCXBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn0KCQkJCQkJCQljbGFzc05hbWU9InctZnVsbCBib3JkZXItbm9uZSEgcHItMTIgc2hhZG93LW5vbmUhIGZvY3VzLXZpc2libGU6Ym9yZGVyLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0wIgoJCQkJCQkJCWxlZnRJY29uPXsKCQkJCQkJCQkJPEljb25zLlNlYXJjaAoJCQkJCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCQkJCQljbGFzc05hbWU9InNpemUtNSEgLW10LTAuNSAtbWwtMC41IgoJCQkJCQkJCQkvPgoJCQkJCQkJCX0KCQkJCQkJCS8+CgkJCQkJCQk8ZGl2IGNsYXNzTmFtZT0icG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSB0b3AtMS8yIHJpZ2h0LTMgaC1maXQgLXRyYW5zbGF0ZS15LTEvMiI+CgkJCQkJCQkJPHNwYW4gYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT17a2JkQ2xhc3MoKX0+CgkJCQkJCQkJCXtzaG9ydGN1dEhpbnR9CgkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+U2hvcnRjdXQ6IHtzaG9ydGN1dEhpbnR9PC9zcGFuPgoJCQkJCQkJPC9kaXY+CgkJCQkJCTwvZGl2PgoJCQkJCTwvZGl2PgoKCQkJCQk8ZGl2CgkJCQkJCXJlZj17bGlzdFJlZn0KCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCSdtdC0yIG1heC1oLTgwIG92ZXJmbG93LWF1dG8gcHktMicsCgkJCQkJCQknYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCcsCgkJCQkJCQlsaXN0Q2xhc3NOYW1lLAoJCQkJCQkpfQoJCQkJCQlpZD17YCR7YmFzZUlkfS1jb21tYW5kay1saXN0Ym94YH0KCQkJCQkJcm9sZT0ibGlzdGJveCIKCQkJCQkJYXJpYS1sYWJlbD0iQ29tbWFuZCByZXN1bHRzIgoJCQkJCQlvbktleURvd249e29uS2V5TmF2fQoJCQkJCT4KCQkJCQkJPGRpdiBhcmlhLWxpdmU9InBvbGl0ZSIgY2xhc3NOYW1lPSJzci1vbmx5Ij4KCQkJCQkJCXtmaWx0ZXJlZC5sZW5ndGh9IHJlc3VsdHtmaWx0ZXJlZC5sZW5ndGggPT09IDEgPyAnJyA6ICdzJ30KCQkJCQkJPC9kaXY+CgkJCQkJCXtmbGF0U2VsZWN0YWJsZS5sZW5ndGggPT09IDAgPyAoCgkJCQkJCQk8b3V0cHV0CgkJCQkJCQkJYXJpYS1saXZlPSJwb2xpdGUiCgkJCQkJCQkJY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweC0zIHB5LTYgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQvNDUiCgkJCQkJCQk+CgkJCQkJCQkJe2VtcHR5TWVzc2FnZX0KCQkJCQkJCTwvb3V0cHV0PgoJCQkJCQkpIDogKAoJCQkJCQkJQXJyYXkuZnJvbShncm91cGVkLmVudHJpZXMoKSkubWFwKChbZ3JvdXAsIGVudHJpZXNdKSA9PiAoCgkJCQkJCQkJPGRpdiBrZXk9e2dyb3VwfSBjbGFzc05hbWU9InB4LTIiPgoJCQkJCQkJCQk8ZmllbGRzZXQgY2xhc3NOYW1lPSJtLTAgbXQtMSBmbGV4IGZsZXgtY29sIGdhcC0xIGJvcmRlci0wIHAtMCI+CgkJCQkJCQkJCQk8bGVnZW5kIGNsYXNzTmFtZT17Z3JvdXBIZWFkZXJDbGFzcygpfT57Z3JvdXB9PC9sZWdlbmQ+CgkJCQkJCQkJCQl7ZW50cmllcy5tYXAoKGVudHJ5KSA9PiB7CgkJCQkJCQkJCQkJY29uc3QgZmxhdEluZGV4ID0gZmxhdFNlbGVjdGFibGUuZmluZEluZGV4KAoJCQkJCQkJCQkJCQkoZikgPT4gZi5rZXkgPT09IGVudHJ5LmtleSwKCQkJCQkJCQkJCQkpOwoJCQkJCQkJCQkJCWNvbnN0IGhpZ2hsaWdodGVkID0gZmxhdEluZGV4ID09PSBoaWdobGlnaHRlZEluZGV4OwoJCQkJCQkJCQkJCXJldHVybiAoCgkJCQkJCQkJCQkJCTxkaXYKCQkJCQkJCQkJCQkJCWtleT17ZW50cnkua2V5fQoJCQkJCQkJCQkJCQkJcmVmPXsoZWwpID0+IHsKCQkJCQkJCQkJCQkJCQlvcHRpb25SZWZzLmN1cnJlbnRbZmxhdEluZGV4XSA9IGVsOwoJCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkJCWNsYXNzTmFtZT17bGlzdEl0ZW1DbGFzcyh7CgkJCQkJCQkJCQkJCQkJaGlnaGxpZ2h0ZWQsCgkJCQkJCQkJCQkJCQkJZGlzYWJsZWQ6ICEhZW50cnkuaXRlbS5kaXNhYmxlZCwKCQkJCQkJCQkJCQkJCX0pfQoJCQkJCQkJCQkJCQkJaWQ9e2dldE9wdGlvbklkKGZsYXRJbmRleCl9CgkJCQkJCQkJCQkJCQlyb2xlPSJvcHRpb24iCgkJCQkJCQkJCQkJCQlhcmlhLXNlbGVjdGVkPXtoaWdobGlnaHRlZH0KCQkJCQkJCQkJCQkJCWFyaWEtZGlzYWJsZWQ9e2VudHJ5Lml0ZW0uZGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCQkJCQkJCQkJCQkJdGFiSW5kZXg9ey0xfQoJCQkJCQkJCQkJCQkJb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRIaWdobGlnaHRlZEluZGV4KGZsYXRJbmRleCl9CgkJCQkJCQkJCQkJCQlvbkNsaWNrPXsoKSA9PiBoYW5kbGVTZWxlY3QoZW50cnkpfQoJCQkJCQkJCQkJCQkJb25LZXlEb3duPXsoZSkgPT4gewoJCQkJCQkJCQkJCQkJCWlmIChlbnRyeS5pdGVtLmRpc2FibGVkKSByZXR1cm47CgkJCQkJCQkJCQkJCQkJaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHsKCQkJCQkJCQkJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJCQkJCQkJCQloYW5kbGVTZWxlY3QoZW50cnkpOwoJCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJCX19CgkJCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQkJCXtlbnRyeS5pdGVtLmljb24gJiYgKAoJCQkJCQkJCQkJCQkJCTxzcGFuCgkJCQkJCQkJCQkJCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJCQkJCQkJCQkJCQljbGFzc05hbWU9InNocmluay0wIHRleHQtZm9yZWdyb3VuZC80NSIKCQkJCQkJCQkJCQkJCQk+CgkJCQkJCQkJCQkJCQkJCXtlbnRyeS5pdGVtLmljb259CgkJCQkJCQkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IG1pbi13LTAgZmxleC0xIGZsZXgtcm93IGdhcC0zIj4KCQkJCQkJCQkJCQkJCQk8ZGl2IGNsYXNzTmFtZT0idHJ1bmNhdGUgZm9udC1tZWRpdW0iPgoJCQkJCQkJCQkJCQkJCQl7ZW50cnkuaXRlbS5sYWJlbH0KCQkJCQkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCQkJCQl7ZW50cnkuaXRlbS5kZXNjcmlwdGlvbiAmJiAoCgkJCQkJCQkJCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJtdC0wLjUgaGlkZGVuIHRydW5jYXRlIHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwIG1kOmJsb2NrIj4KCQkJCQkJCQkJCQkJCQkJCXtlbnRyeS5pdGVtLmRlc2NyaXB0aW9ufQoJCQkJCQkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCQkJCQkpfQoJCQkJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQkJCQl7ZW50cnkuaXRlbS5zaG9ydGN1dCAmJgoJCQkJCQkJCQkJCQkJCWVudHJ5Lml0ZW0uc2hvcnRjdXQubGVuZ3RoID4gMCAmJiAoCgkJCQkJCQkJCQkJCQkJCTxkaXYKCQkJCQkJCQkJCQkJCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJCQkJCQkJCQkJCQkJY2xhc3NOYW1lPSJtbC0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xIgoJCQkJCQkJCQkJCQkJCQk+CgkJCQkJCQkJCQkJCQkJCQl7KCgpID0+IHsKCQkJCQkJCQkJCQkJCQkJCQljb25zdCBzYyA9IGVudHJ5Lml0ZW0uc2hvcnRjdXQgPz8gW107CgkJCQkJCQkJCQkJCQkJCQkJY29uc3QgaGFzU2hpZnQgPSBzYy5zb21lKCh0KSA9PgoJCQkJCQkJCQkJCQkJCQkJCQkvXihzaGlmdHzih6cpJC9pLnRlc3QodC50cmltKCkpLAoJCQkJCQkJCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQkJCQkJCQkJY29uc3QgbGV0dGVycyA9IHNjCgkJCQkJCQkJCQkJCQkJCQkJCS5maWx0ZXIoKHQpID0+IC9eW2EtejAtOV0kL2kudGVzdCh0LnRyaW0oKSkpCgkJCQkJCQkJCQkJCQkJCQkJCS5tYXAoKHQpID0+IHQudHJpbSgpLnRvVXBwZXJDYXNlKCkpOwoJCQkJCQkJCQkJCQkJCQkJCWNvbnN0IHRva2VucyA9IFsKCQkJCQkJCQkJCQkJCQkJCQkJaXNNYWMgPyAn4oyYJyA6ICdDdHJsJywKCQkJCQkJCQkJCQkJCQkJCQkJLi4uKGhhc1NoaWZ0ID8gWyfih6cnXSA6IFtdKSwKCQkJCQkJCQkJCQkJCQkJCQkJLi4ubGV0dGVycywKCQkJCQkJCQkJCQkJCQkJCQldOwoJCQkJCQkJCQkJCQkJCQkJCXJldHVybiB0b2tlbnMubWFwKCh0b2spID0+ICgKCQkJCQkJCQkJCQkJCQkJCQkJPHNwYW4ga2V5PXtgJHt0b2t9YH0gY2xhc3NOYW1lPXtrYmRDbGFzcygpfT4KCQkJCQkJCQkJCQkJCQkJCQkJCXt0b2t9CgkJCQkJCQkJCQkJCQkJCQkJCTwvc3Bhbj4KCQkJCQkJCQkJCQkJCQkJCQkpKTsKCQkJCQkJCQkJCQkJCQkJCX0pKCl9CgkJCQkJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJCQkJCSl9CgkJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQl9KX0KCQkJCQkJCQkJPC9maWVsZHNldD4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCSkpCgkJCQkJCSl9CgkJCQkJPC9kaXY+CgoJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBiZy1jYXJkLW11dGVkLzMwIHB4LTMgcHktMiB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCI+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CgkJCQkJCQk8c3BhbiBjbGFzc05hbWU9ImhpZGRlbiBzbTppbmxpbmUiPk5hdmlnYXRlPC9zcGFuPgoJCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CgkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPXtrYmRDbGFzcygpfT7ihpE8L3NwYW4+CgkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPXtrYmRDbGFzcygpfT7ihpM8L3NwYW4+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+TmF2aWdhdGUgd2l0aCBhcnJvdyBrZXlzPC9zcGFuPgoJCQkJCQk8L2Rpdj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0iaGlkZGVuIHNtOmlubGluZSI+U2VsZWN0PC9zcGFuPgoJCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CgkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPXtrYmRDbGFzcygpfT5FbnRlcjwvc3Bhbj4KCQkJCQkJCTwvZGl2PgoJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJzci1vbmx5Ij5TZWxlY3Qgd2l0aCBFbnRlciBrZXk8L3NwYW4+CgkJCQkJCTwvZGl2PgoJCQkJCTwvZGl2PgoJCQkJPC9EaWFsb2dDb250ZW50PgoJCQk8L0RpYWxvZ1N1cmZhY2U+CgkJPC9EaWFsb2c+CgkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgQ29tbWFuZEs7"
,
  "toast.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCwgewoJdXNlQ2FsbGJhY2ssCgl1c2VFZmZlY3QsCgl1c2VMYXlvdXRFZmZlY3QsCgl1c2VNZW1vLAoJdXNlUmVmLAoJdXNlU3RhdGUsCn0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvaWNvbnMnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IFBPU0lUSU9OX0NPTkZJR1MgPSB7CgkndG9wLWxlZnQnOiB7CgkJYW5pbWF0ZUluOiB7IHg6IC0xMDAsIHk6IC0yMCB9LAoJCWFuaW1hdGVPdXQ6IHsgeDogLTEwMCwgeTogLTIwIH0sCgl9LAoJJ3RvcC1jZW50ZXInOiB7CgkJYW5pbWF0ZUluOiB7IHg6IDAsIHk6IC0xMDAgfSwKCQlhbmltYXRlT3V0OiB7IHg6IDAsIHk6IC0xMDAgfSwKCX0sCgkndG9wLXJpZ2h0JzogewoJCWFuaW1hdGVJbjogeyB4OiAxMDAsIHk6IC0yMCB9LAoJCWFuaW1hdGVPdXQ6IHsgeDogMTAwLCB5OiAtMjAgfSwKCX0sCgknYm90dG9tLWxlZnQnOiB7CgkJYW5pbWF0ZUluOiB7IHg6IC0xMDAsIHk6IDIwIH0sCgkJYW5pbWF0ZU91dDogeyB4OiAtMTAwLCB5OiAxMDAgfSwKCX0sCgknYm90dG9tLWNlbnRlcic6IHsKCQlhbmltYXRlSW46IHsgeDogMCwgeTogMTAwIH0sCgkJYW5pbWF0ZU91dDogeyB4OiAwLCB5OiAxMDAgfSwKCX0sCgknYm90dG9tLXJpZ2h0JzogewoJCWFuaW1hdGVJbjogeyB4OiAxMDAsIHk6IDIwIH0sCgkJYW5pbWF0ZU91dDogeyB4OiAxMDAsIHk6IDEwMCB9LAoJfSwKfSBhcyBjb25zdDsKCmNvbnN0IEZPQ1VTQUJMRV9TRUxFQ1RPUlMgPSBbCgknYnV0dG9uOm5vdChbZGlzYWJsZWRdKScsCgknaW5wdXQ6bm90KFtkaXNhYmxlZF0pJywKCSd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSknLAoJJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSknLAoJJ2FbaHJlZl0nLAoJJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleD0iLTEiXSknLApdLmpvaW4oJywgJyk7Cgpjb25zdCBBTklNQVRJT05fQ09ORklHID0gewoJRU5URVJfRFVSQVRJT046IDAuNzUsCglFWElUX0RVUkFUSU9OOiAwLjc1LAoJU1RBQ0tfRFVSQVRJT046IDAuNzUsCglTVEFDS19PRkZTRVQ6IDE2LAoJRVhQQU5ERURfR0FQOiAxMiwKCVNDQUxFX0ZBQ1RPUjogMC4wNCwKCU1JTl9TQ0FMRTogMC45MiwKCU1BWF9WSVNJQkxFX1RPQVNUUzogMywKCVpfSU5ERVhfQkFTRTogNTAsCglFQVNJTkdfREVGQVVMVDogJ3ZhcigtLWVhc2Utc21vb3RoKScsCglFQVNJTkdfRVhJVDogJ3ZhcigtLWVhc2Utc21vb3RoKScsCn0gYXMgY29uc3Q7Cgpjb25zdCBTV0lQRV9ESVNNSVNTX1RIUkVTSE9MRCA9IDQ1Owpjb25zdCBTV0lQRV9ESVNNSVNTX1ZFTE9DSVRZID0gMC4xMTsKY29uc3QgU1dJUEVfRVhJVF9ESVNUQU5DRSA9IDYwMDsKCnR5cGUgU3dpcGVEaXJlY3Rpb24gPSAndG9wJyB8ICdib3R0b20nIHwgJ2xlZnQnIHwgJ3JpZ2h0JzsKdHlwZSBTd2lwZUF4aXMgPSAneCcgfCAneSc7Cgp0eXBlIFRvYXN0U3Vic2NyaWJlciA9ICh0b2FzdHM6IFRvYXN0RGF0YVtdKSA9PiB2b2lkOwoKY2xhc3MgVG9hc3RTdGF0ZSB7Cglwcml2YXRlIHRvYXN0czogVG9hc3REYXRhW10gPSBbXTsKCXByaXZhdGUgc3Vic2NyaWJlcnM6IFNldDxUb2FzdFN1YnNjcmliZXI+ID0gbmV3IFNldCgpOwoJcHJpdmF0ZSBpZENvdW50ZXIgPSAwOwoKCXN1YnNjcmliZShjYWxsYmFjazogVG9hc3RTdWJzY3JpYmVyKTogKCkgPT4gdm9pZCB7CgkJdGhpcy5zdWJzY3JpYmVycy5hZGQoY2FsbGJhY2spOwoJCXJldHVybiAoKSA9PiB7CgkJCXRoaXMuc3Vic2NyaWJlcnMuZGVsZXRlKGNhbGxiYWNrKTsKCQl9OwoJfQoKCXByaXZhdGUgbm90aWZ5KCk6IHZvaWQgewoJCXRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IHsKCQkJY2FsbGJhY2soWy4uLnRoaXMudG9hc3RzXSk7CgkJfSk7Cgl9CgoJcHJpdmF0ZSBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7CgkJcmV0dXJuIGB0b2FzdC0ke0RhdGUubm93KCl9LSR7Kyt0aGlzLmlkQ291bnRlcn1gOwoJfQoKCWFkZChkYXRhOiBPbWl0PFRvYXN0RGF0YSwgJ2lkJz4pOiBzdHJpbmcgewoJCWNvbnN0IGlkID0gdGhpcy5nZW5lcmF0ZUlkKCk7CgkJY29uc3QgbmV3VG9hc3Q6IFRvYXN0RGF0YSA9IHsgLi4uZGF0YSwgaWQgfTsKCQl0aGlzLnRvYXN0cyA9IFtuZXdUb2FzdCwgLi4udGhpcy50b2FzdHNdOwoJCXRoaXMubm90aWZ5KCk7CgkJcmV0dXJuIGlkOwoJfQoKCXJlbW92ZShpZDogc3RyaW5nKTogdm9pZCB7CgkJdGhpcy50b2FzdHMgPSB0aGlzLnRvYXN0cy5maWx0ZXIoKHRvYXN0KSA9PiB0b2FzdC5pZCAhPT0gaWQpOwoJCXRoaXMubm90aWZ5KCk7Cgl9CgoJdXBkYXRlKGlkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8VG9hc3REYXRhPik6IHZvaWQgewoJCXRoaXMudG9hc3RzID0gdGhpcy50b2FzdHMubWFwKCh0b2FzdCkgPT4KCQkJdG9hc3QuaWQgPT09IGlkID8geyAuLi50b2FzdCwgLi4uZGF0YSB9IDogdG9hc3QsCgkJKTsKCQl0aGlzLm5vdGlmeSgpOwoJfQoKCWRpc21pc3NBbGwoKTogdm9pZCB7CgkJdGhpcy50b2FzdHMgPSB0aGlzLnRvYXN0cy5tYXAoKHRvYXN0KSA9PiAoewoJCQkuLi50b2FzdCwKCQkJc2hvdWxkQ2xvc2U6IHRydWUsCgkJCWR1cmF0aW9uOiAwLAoJCX0pKTsKCQl0aGlzLm5vdGlmeSgpOwoJfQoKCWdldFRvYXN0cygpOiBUb2FzdERhdGFbXSB7CgkJcmV0dXJuIFsuLi50aGlzLnRvYXN0c107Cgl9Cn0KCmNvbnN0IHRvYXN0U3RhdGUgPSBuZXcgVG9hc3RTdGF0ZSgpOwoKY2xhc3MgVG9hc3Rlckluc3RhbmNlTWFuYWdlciB7Cglwcml2YXRlIGFjdGl2ZUluc3RhbmNlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsOwoJcHJpdmF0ZSBpbnN0YW5jZUNvdW50ZXIgPSAwOwoKCXJlZ2lzdGVySW5zdGFuY2UoKTogc3RyaW5nIHsKCQljb25zdCBpbnN0YW5jZUlkID0gYHRvYXN0ZXItJHsrK3RoaXMuaW5zdGFuY2VDb3VudGVyfWA7CgkJaWYgKCF0aGlzLmFjdGl2ZUluc3RhbmNlSWQpIHsKCQkJdGhpcy5hY3RpdmVJbnN0YW5jZUlkID0gaW5zdGFuY2VJZDsKCQl9CgkJcmV0dXJuIGluc3RhbmNlSWQ7Cgl9CgoJdW5yZWdpc3Rlckluc3RhbmNlKGluc3RhbmNlSWQ6IHN0cmluZyk6IHZvaWQgewoJCWlmICh0aGlzLmFjdGl2ZUluc3RhbmNlSWQgPT09IGluc3RhbmNlSWQpIHsKCQkJdGhpcy5hY3RpdmVJbnN0YW5jZUlkID0gbnVsbDsKCQl9Cgl9CgoJaXNBY3RpdmVJbnN0YW5jZShpbnN0YW5jZUlkOiBzdHJpbmcpOiBib29sZWFuIHsKCQlyZXR1cm4gdGhpcy5hY3RpdmVJbnN0YW5jZUlkID09PSBpbnN0YW5jZUlkOwoJfQp9Cgpjb25zdCB0b2FzdGVySW5zdGFuY2VNYW5hZ2VyID0gbmV3IFRvYXN0ZXJJbnN0YW5jZU1hbmFnZXIoKTsKCmNvbnN0IHRvYXN0Q29udGFpbmVyVmFyaWFudHMgPSBjdmEoCgknbm90LXByb3NlIHBvaW50ZXItZXZlbnRzLWF1dG8gZml4ZWQgcm91bmRlZC1sZyBib3JkZXIgc2hhZG93LTJ4bCB3aWxsLWNoYW5nZS10cmFuc2Zvcm0gb3ZlcmZsb3ctaGlkZGVuIGJvcmRlci1ib3JkZXIgYmctY2FyZC1tdXRlZCAnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXBvc2l0aW9uOiB7CgkJCQkndG9wLWxlZnQnOiAndG9wLTQgbGVmdC00IHctZnVsbCBtYXgtdy1zbScsCgkJCQkndG9wLWNlbnRlcic6CgkJCQkJJ3RvcC00IGxlZnQtMS8yIHctZnVsbCBtYXgtdy1zbSAtdHJhbnNsYXRlLXgtMS8yIHRyYW5zZm9ybScsCgkJCQkndG9wLXJpZ2h0JzogJ3RvcC00IHJpZ2h0LTQgdy1mdWxsIG1heC13LXNtJywKCQkJCSdib3R0b20tbGVmdCc6ICdib3R0b20tNCBsZWZ0LTQgdy1mdWxsIG1heC13LXNtJywKCQkJCSdib3R0b20tY2VudGVyJzoKCQkJCQknYm90dG9tLTQgbGVmdC0xLzIgdy1mdWxsIG1heC13LXNtIC10cmFuc2xhdGUteC0xLzIgdHJhbnNmb3JtJywKCQkJCSdib3R0b20tcmlnaHQnOiAncmlnaHQtNCBib3R0b20tNCB3LWZ1bGwgbWF4LXctc20nLAoJCQl9LAoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAndGV4dC1mb3JlZ3JvdW5kJywKCQkJCXN1Y2Nlc3M6ICd0ZXh0LXN1Y2Nlc3MvOTAnLAoJCQkJd2FybmluZzogJ3RleHQtd2FybmluZy85MCcsCgkJCQlkZXN0cnVjdGl2ZTogJ3RleHQtZGVzdHJ1Y3RpdmUvOTAnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXBvc2l0aW9uOiAnYm90dG9tLWNlbnRlcicsCgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQl9LAoJfSwKKTsKCmNvbnN0IHRvYXN0Q29udGVudFZhcmlhbnRzID0gY3ZhKCdyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZycsIHsKCXZhcmlhbnRzOiB7CgkJdmFyaWFudDogewoJCQlkZWZhdWx0OiAnJywKCQkJc3VjY2VzczogJycsCgkJCXdhcm5pbmc6ICcnLAoJCQlkZXN0cnVjdGl2ZTogJycsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQl2YXJpYW50OiAnZGVmYXVsdCcsCgl9LAp9KTsKCmV4cG9ydCB0eXBlIFRvYXN0UG9zaXRpb24gPQoJfCAndG9wLWxlZnQnCgl8ICd0b3AtY2VudGVyJwoJfCAndG9wLXJpZ2h0JwoJfCAnYm90dG9tLWxlZnQnCgl8ICdib3R0b20tY2VudGVyJwoJfCAnYm90dG9tLXJpZ2h0JzsKCmNvbnN0IGdldERlZmF1bHRTd2lwZURpcmVjdGlvbnMgPSAoCglwb3NpdGlvbj86IFRvYXN0UG9zaXRpb24gfCBudWxsLAopOiBTd2lwZURpcmVjdGlvbltdID0+IHsKCWlmICghcG9zaXRpb24pIHsKCQlyZXR1cm4gWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnXTsKCX0KCgljb25zdCBbdmVydGljYWwsIGhvcml6b250YWxdID0gcG9zaXRpb24uc3BsaXQoJy0nKSBhcyBbCgkJc3RyaW5nLAoJCXN0cmluZyB8IHVuZGVmaW5lZCwKCV07Cgljb25zdCBkaXJlY3Rpb25zOiBTd2lwZURpcmVjdGlvbltdID0gW107CgoJaWYgKHZlcnRpY2FsID09PSAndG9wJyB8fCB2ZXJ0aWNhbCA9PT0gJ2JvdHRvbScpIHsKCQlkaXJlY3Rpb25zLnB1c2godmVydGljYWwpOwoJfQoKCWlmIChob3Jpem9udGFsID09PSAnbGVmdCcgfHwgaG9yaXpvbnRhbCA9PT0gJ3JpZ2h0JykgewoJCWRpcmVjdGlvbnMucHVzaChob3Jpem9udGFsKTsKCX0KCglpZiAoZGlyZWN0aW9ucy5sZW5ndGggPT09IDApIHsKCQlkaXJlY3Rpb25zLnB1c2goJ3RvcCcsICdib3R0b20nKTsKCX0KCglyZXR1cm4gZGlyZWN0aW9uczsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgVG9hc3REYXRhIGV4dGVuZHMgVmFyaWFudFByb3BzPHR5cGVvZiB0b2FzdENvbnRhaW5lclZhcmlhbnRzPiB7CglpZDogc3RyaW5nOwoJdGl0bGU/OiBzdHJpbmc7CglkZXNjcmlwdGlvbj86IHN0cmluZzsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWR1cmF0aW9uPzogbnVtYmVyOwoJYWN0aW9uPzogewoJCWxhYmVsOiBzdHJpbmc7CgkJb25DbGljazogKCkgPT4gdm9pZDsKCX07CglvbkNsb3NlPzogKCkgPT4gdm9pZDsKCXNob3VsZENsb3NlPzogYm9vbGVhbjsKCWlzTGVhdmluZz86IGJvb2xlYW47Cn0KCmV4cG9ydCBjb25zdCB0b2FzdCA9IChkYXRhOiBPbWl0PFRvYXN0RGF0YSwgJ2lkJz4gfCBzdHJpbmcpOiBzdHJpbmcgPT4gewoJaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgewoJCXJldHVybiB0b2FzdFN0YXRlLmFkZCh7IGRlc2NyaXB0aW9uOiBkYXRhIH0pOwoJfQoJcmV0dXJuIHRvYXN0U3RhdGUuYWRkKGRhdGEpOwp9OwoKdG9hc3Quc3VjY2VzcyA9IChkYXRhOiBPbWl0PFRvYXN0RGF0YSwgJ2lkJyB8ICd2YXJpYW50Jz4gfCBzdHJpbmcpOiBzdHJpbmcgPT4gewoJaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgewoJCXJldHVybiB0b2FzdFN0YXRlLmFkZCh7IGRlc2NyaXB0aW9uOiBkYXRhLCB2YXJpYW50OiAnc3VjY2VzcycgfSk7Cgl9CglyZXR1cm4gdG9hc3RTdGF0ZS5hZGQoeyAuLi5kYXRhLCB2YXJpYW50OiAnc3VjY2VzcycgfSk7Cn07Cgp0b2FzdC53YXJuaW5nID0gKGRhdGE6IE9taXQ8VG9hc3REYXRhLCAnaWQnIHwgJ3ZhcmlhbnQnPiB8IHN0cmluZyk6IHN0cmluZyA9PiB7CglpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7CgkJcmV0dXJuIHRvYXN0U3RhdGUuYWRkKHsgZGVzY3JpcHRpb246IGRhdGEsIHZhcmlhbnQ6ICd3YXJuaW5nJyB9KTsKCX0KCXJldHVybiB0b2FzdFN0YXRlLmFkZCh7IC4uLmRhdGEsIHZhcmlhbnQ6ICd3YXJuaW5nJyB9KTsKfTsKCnRvYXN0LmVycm9yID0gKGRhdGE6IE9taXQ8VG9hc3REYXRhLCAnaWQnIHwgJ3ZhcmlhbnQnPiB8IHN0cmluZyk6IHN0cmluZyA9PiB7CglpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7CgkJcmV0dXJuIHRvYXN0U3RhdGUuYWRkKHsgZGVzY3JpcHRpb246IGRhdGEsIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScgfSk7Cgl9CglyZXR1cm4gdG9hc3RTdGF0ZS5hZGQoeyAuLi5kYXRhLCB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnIH0pOwp9OwoKdG9hc3QuZGlzbWlzcyA9IChpZDogc3RyaW5nKTogdm9pZCA9PiB7Cgl0b2FzdFN0YXRlLnVwZGF0ZShpZCwgeyBzaG91bGRDbG9zZTogdHJ1ZSB9KTsKfTsKCnRvYXN0LmRpc21pc3NBbGwgPSAoKTogdm9pZCA9PiB7Cgl0b2FzdFN0YXRlLmRpc21pc3NBbGwoKTsKfTsKCnR5cGUgUG9zaXRpb25lZFRvYXN0ID0gVG9hc3REYXRhICYgewoJaW5kZXg6IG51bWJlcjsKCXJlbmRlckluZGV4OiBudW1iZXI7Cgl0b3RhbDogbnVtYmVyOwp9OwoKaW50ZXJmYWNlIFRvYXN0SXRlbVByb3BzIHsKCXRvYXN0OiBQb3NpdGlvbmVkVG9hc3Q7CglvblJlbW92ZTogKGlkOiBzdHJpbmcpID0+IHZvaWQ7Cglpc0dyb3VwSG92ZXJlZD86IGJvb2xlYW47CglleHBhbmRlZE9mZnNldD86IG51bWJlcjsKCWV4cGFuZGVkR2FwPzogbnVtYmVyOwoJY29sbGFwc2VkT2Zmc2V0PzogbnVtYmVyOwoJaGlkZGVuQ29sbGFwc2VkT2Zmc2V0PzogbnVtYmVyOwoJb25IZWlnaHRDaGFuZ2U/OiAoaWQ6IHN0cmluZywgaGVpZ2h0OiBudW1iZXIpID0+IHZvaWQ7Cglvbkdyb3VwSG92ZXJFbnRlcj86ICgpID0+IHZvaWQ7Cn0KCmNvbnN0IFRvYXN0SXRlbTogUmVhY3QuRkM8VG9hc3RJdGVtUHJvcHM+ID0gUmVhY3QubWVtbygKCSh7CgkJdG9hc3QsCgkJb25SZW1vdmUsCgkJaXNHcm91cEhvdmVyZWQgPSBmYWxzZSwKCQlleHBhbmRlZE9mZnNldCA9IDAsCgkJZXhwYW5kZWRHYXAgPSBBTklNQVRJT05fQ09ORklHLkVYUEFOREVEX0dBUCwKCQljb2xsYXBzZWRPZmZzZXQsCgkJaGlkZGVuQ29sbGFwc2VkT2Zmc2V0LAoJCW9uSGVpZ2h0Q2hhbmdlLAoJCW9uR3JvdXBIb3ZlckVudGVyLAoJfSkgPT4gewoJCWNvbnN0IHRvYXN0UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCQljb25zdCB0aW1lb3V0UmVmID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7CgkJY29uc3QgdGltZXJTdGFydFJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCQljb25zdCByZW1haW5pbmdSZWYgPSB1c2VSZWY8bnVtYmVyPihOdW1iZXIuTmFOKTsKCQljb25zdCBlbnRlckFuaW1hdGlvblJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCQljb25zdCBpc0V4aXRpbmcgPSB1c2VSZWYoZmFsc2UpOwoJCWNvbnN0IGV4aXRBbmltYXRpb25Db21wbGV0ZVJlZiA9IHVzZVJlZihmYWxzZSk7CgkJY29uc3QgaGFzQW5pbWF0ZWRJbiA9IHVzZVJlZihmYWxzZSk7CgkJY29uc3QgcG9pbnRlclN0YXJ0UmVmID0gdXNlUmVmPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+KG51bGwpOwoJCWNvbnN0IGRyYWdTdGFydFRpbWVSZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7CgkJY29uc3Qgc3dpcGVBeGlzUmVmID0gdXNlUmVmPFN3aXBlQXhpcyB8IG51bGw+KG51bGwpOwoJCWNvbnN0IGxhc3RTd2lwZVJlZiA9IHVzZVJlZjx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+KHsgeDogMCwgeTogMCB9KTsKCQljb25zdCBbaXNJdGVtSG92ZXJlZCwgc2V0SXNJdGVtSG92ZXJlZF0gPSB1c2VTdGF0ZShmYWxzZSk7CgkJY29uc3QgW2lzU3dpcGluZywgc2V0SXNTd2lwaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKCQljb25zdCBbc3dpcGVEaXNtaXNzRGlyZWN0aW9uLCBzZXRTd2lwZURpc21pc3NEaXJlY3Rpb25dID0KCQkJdXNlU3RhdGU8U3dpcGVEaXJlY3Rpb24gfCBudWxsPihudWxsKTsKCQljb25zdCBbYW5pbWF0aW9uU3RhdGUsIHNldEFuaW1hdGlvblN0YXRlXSA9IHVzZVN0YXRlPAoJCQknZW50ZXJpbmcnIHwgJ2VudGVyZWQnIHwgJ2V4aXRpbmcnIHwgJ3N0YWNraW5nJwoJCT4oJ2VudGVyaW5nJyk7CgoJCWNvbnN0IHsKCQkJaWQsCgkJCXRpdGxlLAoJCQlkZXNjcmlwdGlvbiwKCQkJdmFyaWFudCA9ICdkZWZhdWx0JywKCQkJZHVyYXRpb24gPSA1MDAwLAoJCQlhY3Rpb24sCgkJCWluZGV4LAoJCQlyZW5kZXJJbmRleCwKCQkJc2hvdWxkQ2xvc2UsCgkJCXBvc2l0aW9uID0gJ2JvdHRvbS1jZW50ZXInLAoJCQljbGFzc05hbWUgPSAnJywKCQkJb25DbG9zZSwKCQl9ID0gdG9hc3Q7CgoJCWNvbnN0IHRpdGxlSWQgPSB0aXRsZSA/IGAke2lkfS10aXRsZWAgOiB1bmRlZmluZWQ7CgkJY29uc3QgZGVzY3JpcHRpb25JZCA9IGRlc2NyaXB0aW9uID8gYCR7aWR9LWRlc2NgIDogdW5kZWZpbmVkOwoJCWNvbnN0IGxpdmVSb2xlID0gdmFyaWFudCA9PT0gJ2Rlc3RydWN0aXZlJyA/ICdhbGVydCcgOiAnc3RhdHVzJzsKCQljb25zdCBsaXZlUG9saXRlbmVzcyA9IHZhcmlhbnQgPT09ICdkZXN0cnVjdGl2ZScgPyAnYXNzZXJ0aXZlJyA6ICdwb2xpdGUnOwoKCQljb25zdCBjb25maWcgPSBQT1NJVElPTl9DT05GSUdTW3Bvc2l0aW9uIGFzIGtleW9mIHR5cGVvZiBQT1NJVElPTl9DT05GSUdTXTsKCgkJY29uc3Qgc3dpcGVEaXJlY3Rpb25zID0gdXNlTWVtbygKCQkJKCkgPT4gZ2V0RGVmYXVsdFN3aXBlRGlyZWN0aW9ucyhwb3NpdGlvbiksCgkJCVtwb3NpdGlvbl0sCgkJKTsKCgkJY29uc3QgY2xlYXJTd2lwZVJlZnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7CgkJCXBvaW50ZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDsKCQkJZHJhZ1N0YXJ0VGltZVJlZi5jdXJyZW50ID0gbnVsbDsKCQkJc3dpcGVBeGlzUmVmLmN1cnJlbnQgPSBudWxsOwoJCQlsYXN0U3dpcGVSZWYuY3VycmVudCA9IHsgeDogMCwgeTogMCB9OwoJCX0sIFtdKTsKCgkJdXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQkJaWYgKCF0b2FzdFJlZi5jdXJyZW50KSByZXR1cm47CgkJCWNvbnN0IGVsID0gdG9hc3RSZWYuY3VycmVudDsKCQkJY29uc3Qgbm90aWZ5ID0gKCkgPT4gewoJCQkJaWYgKCFvbkhlaWdodENoYW5nZSkgcmV0dXJuOwoJCQkJb25IZWlnaHRDaGFuZ2UoaWQsIGVsLm9mZnNldEhlaWdodCk7CgkJCX07CgkJCW5vdGlmeSgpOwoJCQljb25zdCBybyA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiBub3RpZnkoKSk7CgkJCXJvLm9ic2VydmUoZWwpOwoJCQlyZXR1cm4gKCkgPT4gcm8uZGlzY29ubmVjdCgpOwoJCX0sIFtpZCwgb25IZWlnaHRDaGFuZ2VdKTsKCgkJY29uc3QgZ2V0Rm9jdXNhYmxlRWxlbWVudHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7CgkJCWlmICghdG9hc3RSZWYuY3VycmVudCkgcmV0dXJuIFtdOwoJCQlyZXR1cm4gQXJyYXkuZnJvbSgKCQkJCXRvYXN0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChGT0NVU0FCTEVfU0VMRUNUT1JTKSwKCQkJKSBhcyBIVE1MRWxlbWVudFtdOwoJCX0sIFtdKTsKCgkJY29uc3QgaGFuZGxlVHJhbnNpdGlvbkVuZCA9IHVzZUNhbGxiYWNrKAoJCQkoZTogUmVhY3QuVHJhbnNpdGlvbkV2ZW50KSA9PiB7CgkJCQlpZiAoZS50YXJnZXQgIT09IHRvYXN0UmVmLmN1cnJlbnQpIHJldHVybjsKCQkJCWlmIChlLnByb3BlcnR5TmFtZSAhPT0gJ29wYWNpdHknICYmIGUucHJvcGVydHlOYW1lICE9PSAndHJhbnNmb3JtJykKCQkJCQlyZXR1cm47CgkJCQlpZiAoYW5pbWF0aW9uU3RhdGUgIT09ICdleGl0aW5nJykgcmV0dXJuOwoJCQkJaWYgKGV4aXRBbmltYXRpb25Db21wbGV0ZVJlZi5jdXJyZW50KSByZXR1cm47CgoJCQkJZXhpdEFuaW1hdGlvbkNvbXBsZXRlUmVmLmN1cnJlbnQgPSB0cnVlOwoJCQkJb25DbG9zZT8uKCk7CgkJCQlvblJlbW92ZShpZCk7CgkJCX0sCgkJCVthbmltYXRpb25TdGF0ZSwgaWQsIG9uUmVtb3ZlLCBvbkNsb3NlXSwKCQkpOwoKCQljb25zdCBoYW5kbGVDbG9zZSA9IHVzZUNhbGxiYWNrKCgpID0+IHsKCQkJaWYgKCF0b2FzdFJlZi5jdXJyZW50IHx8IGlzRXhpdGluZy5jdXJyZW50KSByZXR1cm47CgoJCQlpc0V4aXRpbmcuY3VycmVudCA9IHRydWU7CgkJCWV4aXRBbmltYXRpb25Db21wbGV0ZVJlZi5jdXJyZW50ID0gZmFsc2U7CgoJCQl0b2FzdFN0YXRlLnVwZGF0ZShpZCwgeyBzaG91bGRDbG9zZTogdHJ1ZSB9KTsKCgkJCWlmIChlbnRlckFuaW1hdGlvblJlZi5jdXJyZW50KSB7CgkJCQljYW5jZWxBbmltYXRpb25GcmFtZShlbnRlckFuaW1hdGlvblJlZi5jdXJyZW50KTsKCQkJCWVudGVyQW5pbWF0aW9uUmVmLmN1cnJlbnQgPSBudWxsOwoJCQl9CgoJCQlpZiAodGltZW91dFJlZi5jdXJyZW50KSB7CgkJCQljbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTsKCQkJCXRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7CgkJCX0KCgkJCXNldEFuaW1hdGlvblN0YXRlKCdleGl0aW5nJyk7CgkJCXRvYXN0U3RhdGUudXBkYXRlKGlkLCB7IHNob3VsZENsb3NlOiB0cnVlLCBpc0xlYXZpbmc6IHRydWUgfSk7CgkJfSwgW2lkXSk7CgoJCXVzZUVmZmVjdCgoKSA9PiB7CgkJCWlmIChzaG91bGRDbG9zZSkgewoJCQkJaGFuZGxlQ2xvc2UoKTsKCQkJfQoJCX0sIFtzaG91bGRDbG9zZSwgaGFuZGxlQ2xvc2VdKTsKCgkJY29uc3Qgc3RhY2tIaWRkZW4gPSBpbmRleCA+PSBBTklNQVRJT05fQ09ORklHLk1BWF9WSVNJQkxFX1RPQVNUUzsKCQljb25zdCBoaWRkZW5CeVN0YWNraW5nID0gc3RhY2tIaWRkZW4gJiYgYW5pbWF0aW9uU3RhdGUgIT09ICdleGl0aW5nJzsKCQljb25zdCBpc1N0YWNrTGVhZGVyID0gaW5kZXggPT09IDA7CgkJY29uc3QgaXNMYXRlc3QgPSBpc1N0YWNrTGVhZGVyICYmICFzaG91bGRDbG9zZTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJaWYgKGlzU3dpcGluZykgcmV0dXJuOwoJCQlpZiAoc3dpcGVEaXNtaXNzRGlyZWN0aW9uKSByZXR1cm47CgkJCWNvbnN0IG5vZGUgPSB0b2FzdFJlZi5jdXJyZW50OwoJCQlpZiAoIW5vZGUpIHJldHVybjsKCQkJbm9kZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zd2lwZS10cmFuc2xhdGUteCcsICcwcHgnKTsKCQkJbm9kZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zd2lwZS10cmFuc2xhdGUteScsICcwcHgnKTsKCQl9LCBbaXNTd2lwaW5nLCBzd2lwZURpc21pc3NEaXJlY3Rpb25dKTsKCgkJdXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQkJaWYgKCF0b2FzdFJlZi5jdXJyZW50IHx8IGlzRXhpdGluZy5jdXJyZW50KSByZXR1cm47CgoJCQljb25zdCBlbGVtZW50ID0gdG9hc3RSZWYuY3VycmVudDsKCgkJCWNvbnN0IHNldEZvY3VzVG9Ub2FzdCA9ICgpID0+IHsKCQkJCWlmICghaXNMYXRlc3QpIHJldHVybjsKCQkJCWNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoKTsKCQkJCWNvbnN0IGZpcnN0Rm9jdXNhYmxlID0gZm9jdXNhYmxlRWxlbWVudHNbMF07CgkJCQlpZiAoZmlyc3RGb2N1c2FibGUpIHsKCQkJCQlmaXJzdEZvY3VzYWJsZS5mb2N1cygpOwoJCQkJCXJldHVybjsKCQkJCX0KCQkJCWVsZW1lbnQuZm9jdXMoKTsKCQkJfTsKCgkJCWlmICghaGFzQW5pbWF0ZWRJbi5jdXJyZW50ICYmIGlzTGF0ZXN0KSB7CgkJCQloYXNBbmltYXRlZEluLmN1cnJlbnQgPSB0cnVlOwoJCQkJc2V0QW5pbWF0aW9uU3RhdGUoJ2VudGVyaW5nJyk7CgoJCQkJZW50ZXJBbmltYXRpb25SZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CgkJCQkJZW50ZXJBbmltYXRpb25SZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CgkJCQkJCXNldEFuaW1hdGlvblN0YXRlKCdlbnRlcmVkJyk7CgkJCQkJCWlmIChhY3Rpb24pIHsKCQkJCQkJCXNldFRpbWVvdXQoCgkJCQkJCQkJc2V0Rm9jdXNUb1RvYXN0LAoJCQkJCQkJCUFOSU1BVElPTl9DT05GSUcuRU5URVJfRFVSQVRJT04gKiAxMDAwLAoJCQkJCQkJKTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfSk7CgkJCX0gZWxzZSBpZiAoaGFzQW5pbWF0ZWRJbi5jdXJyZW50KSB7CgkJCQlpZiAoYW5pbWF0aW9uU3RhdGUgIT09ICdzdGFja2luZycgfHwgaW5kZXggPiAwKSB7CgkJCQkJc2V0QW5pbWF0aW9uU3RhdGUoJ3N0YWNraW5nJyk7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlzZXRBbmltYXRpb25TdGF0ZSgnc3RhY2tpbmcnKTsKCQkJfQoJCX0sIFtpbmRleCwgZ2V0Rm9jdXNhYmxlRWxlbWVudHMsIGFuaW1hdGlvblN0YXRlLCBhY3Rpb24sIGlzTGF0ZXN0XSk7CgoJCXVzZUVmZmVjdCgoKSA9PiB7CgkJCWlmIChzaG91bGRDbG9zZSB8fCAhaGFzQW5pbWF0ZWRJbi5jdXJyZW50KSByZXR1cm47CgkJCWlmIChkdXJhdGlvbiA8PSAwKSByZXR1cm47CgoJCQlpZiAocmVtYWluaW5nUmVmLmN1cnJlbnQgPT0gbnVsbCB8fCBOdW1iZXIuaXNOYU4ocmVtYWluaW5nUmVmLmN1cnJlbnQpKSB7CgkJCQlyZW1haW5pbmdSZWYuY3VycmVudCA9IGR1cmF0aW9uOwoJCQl9CgoJCQljb25zdCBpc1BhdXNlZCA9CgkJCQlpc0dyb3VwSG92ZXJlZCB8fCBpc0l0ZW1Ib3ZlcmVkIHx8IGlzU3dpcGluZyB8fCBoaWRkZW5CeVN0YWNraW5nOwoJCQlpZiAoaXNQYXVzZWQpIHsKCQkJCWlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHsKCQkJCQljbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTsKCQkJCQl0aW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsOwoJCQkJfQoJCQkJaWYgKHRpbWVyU3RhcnRSZWYuY3VycmVudCAhPT0gbnVsbCkgewoJCQkJCWNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gdGltZXJTdGFydFJlZi5jdXJyZW50OwoJCQkJCXJlbWFpbmluZ1JlZi5jdXJyZW50ID0gTWF0aC5tYXgoMCwgcmVtYWluaW5nUmVmLmN1cnJlbnQgLSBlbGFwc2VkKTsKCQkJCQl0aW1lclN0YXJ0UmVmLmN1cnJlbnQgPSBudWxsOwoJCQkJfQoJCQkJcmV0dXJuOwoJCQl9CgoJCQlpZiAoIXRpbWVvdXRSZWYuY3VycmVudCkgewoJCQkJY29uc3QgbXMgPSBNYXRoLm1heCgwLCByZW1haW5pbmdSZWYuY3VycmVudCA/PyBkdXJhdGlvbik7CgkJCQlpZiAobXMgPT09IDApIHsKCQkJCQloYW5kbGVDbG9zZSgpOwoJCQkJCXJldHVybjsKCQkJCX0KCQkJCXRpbWVyU3RhcnRSZWYuY3VycmVudCA9IERhdGUubm93KCk7CgkJCQl0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQloYW5kbGVDbG9zZSgpOwoJCQkJfSwgbXMpOwoJCQl9CgoJCQlyZXR1cm4gKCkgPT4gewoJCQkJaWYgKHRpbWVvdXRSZWYuY3VycmVudCkgewoJCQkJCWNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpOwoJCQkJCWlmICh0aW1lclN0YXJ0UmVmLmN1cnJlbnQgIT09IG51bGwpIHsKCQkJCQkJY29uc3QgZWxhcHNlZCA9IERhdGUubm93KCkgLSB0aW1lclN0YXJ0UmVmLmN1cnJlbnQ7CgkJCQkJCXJlbWFpbmluZ1JlZi5jdXJyZW50ID0gTWF0aC5tYXgoMCwgcmVtYWluaW5nUmVmLmN1cnJlbnQgLSBlbGFwc2VkKTsKCQkJCQl9CgkJCQkJdGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDsKCQkJCQl0aW1lclN0YXJ0UmVmLmN1cnJlbnQgPSBudWxsOwoJCQkJfQoJCQl9OwoJCX0sIFsKCQkJZHVyYXRpb24sCgkJCXNob3VsZENsb3NlLAoJCQloYW5kbGVDbG9zZSwKCQkJaXNHcm91cEhvdmVyZWQsCgkJCWlzSXRlbUhvdmVyZWQsCgkJCWlzU3dpcGluZywKCQkJaGlkZGVuQnlTdGFja2luZywKCQldKTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJcmVtYWluaW5nUmVmLmN1cnJlbnQgPSBkdXJhdGlvbjsKCQl9LCBbZHVyYXRpb25dKTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJcmV0dXJuICgpID0+IHsKCQkJCWlmIChlbnRlckFuaW1hdGlvblJlZi5jdXJyZW50KSB7CgkJCQkJY2FuY2VsQW5pbWF0aW9uRnJhbWUoZW50ZXJBbmltYXRpb25SZWYuY3VycmVudCk7CgkJCQl9CgkJCQlpZiAodGltZW91dFJlZi5jdXJyZW50KSB7CgkJCQkJY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7CgkJCQl9CgkJCX07CgkJfSwgW10pOwoKCQljb25zdCBpc1RvcFBvc2l0aW9uID0gcG9zaXRpb24/LnN0YXJ0c1dpdGgoJ3RvcC0nKTsKCQljb25zdCBtYXhWaXNpYmxlSW5kZXggPSBNYXRoLm1heCgKCQkJMCwKCQkJQU5JTUFUSU9OX0NPTkZJRy5NQVhfVklTSUJMRV9UT0FTVFMgLSAxLAoJCSk7CgkJY29uc3QgdmlzaWJsZUluZGV4ID0gTWF0aC5taW4oaW5kZXgsIG1heFZpc2libGVJbmRleCk7CgkJY29uc3QgZGVmYXVsdENvbGxhcHNlZE9mZnNldCA9IGlzVG9wUG9zaXRpb24KCQkJPyBpbmRleCAqIEFOSU1BVElPTl9DT05GSUcuU1RBQ0tfT0ZGU0VUCgkJCTogLShpbmRleCAqIEFOSU1BVElPTl9DT05GSUcuU1RBQ0tfT0ZGU0VUKTsKCQljb25zdCByZXNvbHZlZENvbGxhcHNlZE9mZnNldCA9CgkJCXR5cGVvZiBjb2xsYXBzZWRPZmZzZXQgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShjb2xsYXBzZWRPZmZzZXQpCgkJCQk/IGNvbGxhcHNlZE9mZnNldAoJCQkJOiBkZWZhdWx0Q29sbGFwc2VkT2Zmc2V0OwoJCWNvbnN0IHJlc29sdmVkSGlkZGVuQ29sbGFwc2VkT2Zmc2V0ID0KCQkJdHlwZW9mIGhpZGRlbkNvbGxhcHNlZE9mZnNldCA9PT0gJ251bWJlcicgJiYKCQkJTnVtYmVyLmlzRmluaXRlKGhpZGRlbkNvbGxhcHNlZE9mZnNldCkKCQkJCT8gaGlkZGVuQ29sbGFwc2VkT2Zmc2V0CgkJCQk6IHJlc29sdmVkQ29sbGFwc2VkT2Zmc2V0OwoJCWNvbnN0IHNjYWxlID0gTWF0aC5tYXgoCgkJCUFOSU1BVElPTl9DT05GSUcuTUlOX1NDQUxFLAoJCQkxIC0gaW5kZXggKiBBTklNQVRJT05fQ09ORklHLlNDQUxFX0ZBQ1RPUiwKCQkpOwoJCWNvbnN0IHZpc2libGVTY2FsZSA9IE1hdGgubWF4KAoJCQlBTklNQVRJT05fQ09ORklHLk1JTl9TQ0FMRSwKCQkJMSAtIHZpc2libGVJbmRleCAqIEFOSU1BVElPTl9DT05GSUcuU0NBTEVfRkFDVE9SLAoJCSk7CgkJY29uc3QgekluZGV4ID0gQU5JTUFUSU9OX0NPTkZJRy5aX0lOREVYX0JBU0UgLSByZW5kZXJJbmRleDsKCgkJY29uc3QgdHJhbnNmb3JtU3R5bGUgPSB1c2VNZW1vKCgpID0+IHsKCQkJY29uc3QgYmFzZU9mZnNldFkgPSBzdGFja0hpZGRlbgoJCQkJPyByZXNvbHZlZEhpZGRlbkNvbGxhcHNlZE9mZnNldAoJCQkJOiByZXNvbHZlZENvbGxhcHNlZE9mZnNldDsKCQkJY29uc3QgcHJvbW90aW9uT2Zmc2V0ID0KCQkJCXR5cGVvZiBleHBhbmRlZEdhcCA9PT0gJ251bWJlcicKCQkJCQk/IGV4cGFuZGVkR2FwCgkJCQkJOiBBTklNQVRJT05fQ09ORklHLkVYUEFOREVEX0dBUDsKCQkJY29uc3QgZXhwYW5kZWRUcmFuc2xhdGVZID0gaXNUb3BQb3NpdGlvbgoJCQkJPyBleHBhbmRlZE9mZnNldAoJCQkJOiAtZXhwYW5kZWRPZmZzZXQ7CgkJCWNvbnN0IGhpZGRlbkV4cGFuZGVkVHJhbnNsYXRlWSA9IGV4cGFuZGVkVHJhbnNsYXRlWSAtIHByb21vdGlvbk9mZnNldDsKCgkJCWxldCB0cmFuc2xhdGVYID0gMDsKCQkJbGV0IHRyYW5zbGF0ZVkgPSBiYXNlT2Zmc2V0WTsKCQkJbGV0IHNjYWxlVmFsdWUgPSBzdGFja0hpZGRlbgoJCQkJPyB2aXNpYmxlSW5kZXggPT09IDAKCQkJCQk/IDEKCQkJCQk6IHZpc2libGVTY2FsZQoJCQkJOiBpc1N0YWNrTGVhZGVyCgkJCQkJPyAxCgkJCQkJOiBzY2FsZTsKCQkJbGV0IG9wYWNpdHlWYWx1ZSA9IHN0YWNrSGlkZGVuID8gMCA6IDE7CgoJCQlpZiAoc3RhY2tIaWRkZW4pIHsKCQkJCWlmIChpc0dyb3VwSG92ZXJlZCAmJiBhbmltYXRpb25TdGF0ZSAhPT0gJ2V4aXRpbmcnKSB7CgkJCQkJdHJhbnNsYXRlWCA9IDA7CgkJCQkJdHJhbnNsYXRlWSA9IGhpZGRlbkV4cGFuZGVkVHJhbnNsYXRlWTsKCQkJCQlzY2FsZVZhbHVlID0gMTsKCQkJCX0KCQkJfSBlbHNlIGlmIChpc0dyb3VwSG92ZXJlZCAmJiBhbmltYXRpb25TdGF0ZSAhPT0gJ2V4aXRpbmcnKSB7CgkJCQl0cmFuc2xhdGVYID0gMDsKCQkJCXRyYW5zbGF0ZVkgPSBleHBhbmRlZFRyYW5zbGF0ZVk7CgkJCQlzY2FsZVZhbHVlID0gMTsKCQkJCW9wYWNpdHlWYWx1ZSA9IDE7CgkJCX0gZWxzZSB7CgkJCQlzd2l0Y2ggKGFuaW1hdGlvblN0YXRlKSB7CgkJCQkJY2FzZSAnZW50ZXJpbmcnOgoJCQkJCQl0cmFuc2xhdGVYID0gY29uZmlnLmFuaW1hdGVJbi54OwoJCQkJCQl0cmFuc2xhdGVZID0gY29uZmlnLmFuaW1hdGVJbi55OwoJCQkJCQlzY2FsZVZhbHVlID0gMTsKCQkJCQkJb3BhY2l0eVZhbHVlID0gMDsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAnZW50ZXJlZCc6CgkJCQkJCXRyYW5zbGF0ZVggPSAwOwoJCQkJCQl0cmFuc2xhdGVZID0gYmFzZU9mZnNldFk7CgkJCQkJCXNjYWxlVmFsdWUgPSAxOwoJCQkJCQlvcGFjaXR5VmFsdWUgPSAxOwoJCQkJCQlicmVhazsKCQkJCQljYXNlICdleGl0aW5nJzogewoJCQkJCQlzY2FsZVZhbHVlID0gMTsKCQkJCQkJb3BhY2l0eVZhbHVlID0gMDsKCQkJCQkJaWYgKHN3aXBlRGlzbWlzc0RpcmVjdGlvbikgewoJCQkJCQkJc3dpdGNoIChzd2lwZURpc21pc3NEaXJlY3Rpb24pIHsKCQkJCQkJCQljYXNlICdsZWZ0JzoKCQkJCQkJCQkJdHJhbnNsYXRlWCA9IC1TV0lQRV9FWElUX0RJU1RBTkNFOwoJCQkJCQkJCQl0cmFuc2xhdGVZID0gMDsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAncmlnaHQnOgoJCQkJCQkJCQl0cmFuc2xhdGVYID0gU1dJUEVfRVhJVF9ESVNUQU5DRTsKCQkJCQkJCQkJdHJhbnNsYXRlWSA9IDA7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgJ3RvcCc6CgkJCQkJCQkJCXRyYW5zbGF0ZVggPSAwOwoJCQkJCQkJCQl0cmFuc2xhdGVZID0gLVNXSVBFX0VYSVRfRElTVEFOQ0U7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgJ2JvdHRvbSc6CgkJCQkJCQkJCXRyYW5zbGF0ZVggPSAwOwoJCQkJCQkJCQl0cmFuc2xhdGVZID0gU1dJUEVfRVhJVF9ESVNUQU5DRTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJZGVmYXVsdDoKCQkJCQkJCQkJdHJhbnNsYXRlWCA9IGNvbmZpZy5hbmltYXRlT3V0Lng7CgkJCQkJCQkJCXRyYW5zbGF0ZVkgPSBjb25maWcuYW5pbWF0ZU91dC55OwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXRyYW5zbGF0ZVggPSBjb25maWcuYW5pbWF0ZU91dC54OwoJCQkJCQkJdHJhbnNsYXRlWSA9IGNvbmZpZy5hbmltYXRlT3V0Lnk7CgkJCQkJCX0KCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJCWRlZmF1bHQ6CgkJCQkJCXRyYW5zbGF0ZVggPSAwOwoJCQkJCQl0cmFuc2xhdGVZID0gYmFzZU9mZnNldFk7CgkJCQkJCXNjYWxlVmFsdWUgPSBpc1N0YWNrTGVhZGVyID8gMSA6IHNjYWxlOwoJCQkJCQlvcGFjaXR5VmFsdWUgPSBzdGFja0hpZGRlbiA/IDAgOiAxOwoJCQkJCQlicmVhazsKCQkJCX0KCQkJfQoKCQkJY29uc3QgdHJhbnNmb3JtID0gYHRyYW5zbGF0ZShjYWxjKCR7dHJhbnNsYXRlWH1weCArIHZhcigtLXN3aXBlLXRyYW5zbGF0ZS14LCAwcHgpKSwgY2FsYygke3RyYW5zbGF0ZVl9cHggKyB2YXIoLS1zd2lwZS10cmFuc2xhdGUteSwgMHB4KSkpIHNjYWxlKCR7c2NhbGVWYWx1ZX0pYDsKCgkJCXJldHVybiB7CgkJCQl0cmFuc2Zvcm0sCgkJCQlvcGFjaXR5OiBvcGFjaXR5VmFsdWUsCgkJCX07CgkJfSwgWwoJCQlhbmltYXRpb25TdGF0ZSwKCQkJY29uZmlnLmFuaW1hdGVJbi54LAoJCQljb25maWcuYW5pbWF0ZUluLnksCgkJCWNvbmZpZy5hbmltYXRlT3V0LngsCgkJCWNvbmZpZy5hbmltYXRlT3V0LnksCgkJCWV4cGFuZGVkT2Zmc2V0LAoJCQlpc0dyb3VwSG92ZXJlZCwKCQkJaXNTdGFja0xlYWRlciwKCQkJaXNUb3BQb3NpdGlvbiwKCQkJdmlzaWJsZUluZGV4LAoJCQl2aXNpYmxlU2NhbGUsCgkJCXN0YWNrSGlkZGVuLAoJCQlyZXNvbHZlZENvbGxhcHNlZE9mZnNldCwKCQkJcmVzb2x2ZWRIaWRkZW5Db2xsYXBzZWRPZmZzZXQsCgkJCWV4cGFuZGVkR2FwLAoJCQlzY2FsZSwKCQkJc3dpcGVEaXNtaXNzRGlyZWN0aW9uLAoJCV0pOwoKCQljb25zdCB0cmFuc2l0aW9uRHVyYXRpb24gPSB1c2VNZW1vKCgpID0+IHsKCQkJc3dpdGNoIChhbmltYXRpb25TdGF0ZSkgewoJCQkJY2FzZSAnZW50ZXJpbmcnOgoJCQkJY2FzZSAnZW50ZXJlZCc6CgkJCQkJcmV0dXJuIGAke0FOSU1BVElPTl9DT05GSUcuRU5URVJfRFVSQVRJT059c2A7CgkJCQljYXNlICdleGl0aW5nJzoKCQkJCQlyZXR1cm4gYCR7QU5JTUFUSU9OX0NPTkZJRy5FWElUX0RVUkFUSU9OfXNgOwoJCQkJZGVmYXVsdDoKCQkJCQlyZXR1cm4gYCR7QU5JTUFUSU9OX0NPTkZJRy5TVEFDS19EVVJBVElPTn1zYDsKCQkJfQoJCX0sIFthbmltYXRpb25TdGF0ZV0pOwoKCQljb25zdCB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSB1c2VNZW1vKCgpID0+IHsKCQkJcmV0dXJuIGFuaW1hdGlvblN0YXRlID09PSAnZXhpdGluZycKCQkJCT8gQU5JTUFUSU9OX0NPTkZJRy5FQVNJTkdfRVhJVAoJCQkJOiBBTklNQVRJT05fQ09ORklHLkVBU0lOR19ERUZBVUxUOwoJCX0sIFthbmltYXRpb25TdGF0ZV0pOwoKCQljb25zdCBjYW5Td2lwZSA9IHN3aXBlRGlyZWN0aW9ucy5sZW5ndGggPiAwOwoJCWNvbnN0IHN3aXBlQ3Vyc29yQ2xhc3MgPSBjYW5Td2lwZQoJCQk/IGlzU3dpcGluZwoJCQkJPyAnY3Vyc29yLWdyYWJiaW5nJwoJCQkJOiAnY3Vyc29yLWdyYWInCgkJCTogdW5kZWZpbmVkOwoKCQljb25zdCBoYW5kbGVQb2ludGVyRG93biA9IHVzZUNhbGxiYWNrKAoJCQkoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHsKCQkJCWlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBldmVudC5idXR0b24gIT09IDApIHJldHVybjsKCQkJCWlmIChldmVudC5idXR0b24gPT09IDIpIHJldHVybjsKCQkJCWlmIChpc0V4aXRpbmcuY3VycmVudCkgcmV0dXJuOwoKCQkJCWNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDsKCQkJCWlmICh0YXJnZXQuY2xvc2VzdCgnYnV0dG9uLCBhLCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCWNsZWFyU3dpcGVSZWZzKCk7CgkJCQlwb2ludGVyU3RhcnRSZWYuY3VycmVudCA9IHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9OwoJCQkJZHJhZ1N0YXJ0VGltZVJlZi5jdXJyZW50ID0gRGF0ZS5ub3coKTsKCQkJCWNvbnN0IG5vZGUgPSB0b2FzdFJlZi5jdXJyZW50OwoJCQkJaWYgKG5vZGUpIHsKCQkJCQlub2RlLnN0eWxlLnNldFByb3BlcnR5KCctLXN3aXBlLXRyYW5zbGF0ZS14JywgJzBweCcpOwoJCQkJCW5vZGUuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtdHJhbnNsYXRlLXknLCAnMHB4Jyk7CgkJCQl9CgkJCQlzZXRTd2lwZURpc21pc3NEaXJlY3Rpb24obnVsbCk7CgkJCQlzZXRJc1N3aXBpbmcodHJ1ZSk7CgkJCQlldmVudC5jdXJyZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7CgkJCX0sCgkJCVtjbGVhclN3aXBlUmVmc10sCgkJKTsKCgkJY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSB1c2VDYWxsYmFjaygKCQkJKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7CgkJCQlpZiAoIXBvaW50ZXJTdGFydFJlZi5jdXJyZW50KSByZXR1cm47CgkJCQlpZiAoaXNFeGl0aW5nLmN1cnJlbnQpIHJldHVybjsKCgkJCQlpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJfQoKCQkJCWNvbnN0IHhEZWx0YSA9IGV2ZW50LmNsaWVudFggLSBwb2ludGVyU3RhcnRSZWYuY3VycmVudC54OwoJCQkJY29uc3QgeURlbHRhID0gZXZlbnQuY2xpZW50WSAtIHBvaW50ZXJTdGFydFJlZi5jdXJyZW50Lnk7CgoJCQkJbGV0IGF4aXMgPSBzd2lwZUF4aXNSZWYuY3VycmVudDsKCQkJCWlmICghYXhpcykgewoJCQkJCWlmIChNYXRoLmFicyh4RGVsdGEpID4gMSB8fCBNYXRoLmFicyh5RGVsdGEpID4gMSkgewoJCQkJCQlheGlzID0gTWF0aC5hYnMoeERlbHRhKSA+IE1hdGguYWJzKHlEZWx0YSkgPyAneCcgOiAneSc7CgkJCQkJCXN3aXBlQXhpc1JlZi5jdXJyZW50ID0gYXhpczsKCQkJCQl9IGVsc2UgewoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJfQoKCQkJCWNvbnN0IGRhbXBlbiA9IChkZWx0YTogbnVtYmVyKSA9PiB7CgkJCQkJY29uc3QgZmFjdG9yID0gTWF0aC5hYnMoZGVsdGEpIC8gMjA7CgkJCQkJcmV0dXJuIGRlbHRhICogKDEgLyAoMS41ICsgZmFjdG9yKSk7CgkJCQl9OwoKCQkJCWxldCBuZXh0WCA9IDA7CgkJCQlsZXQgbmV4dFkgPSAwOwoKCQkJCWlmIChheGlzID09PSAneCcpIHsKCQkJCQljb25zdCBhbGxvd0xlZnQgPSBzd2lwZURpcmVjdGlvbnMuaW5jbHVkZXMoJ2xlZnQnKTsKCQkJCQljb25zdCBhbGxvd1JpZ2h0ID0gc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCdyaWdodCcpOwoJCQkJCWlmICghYWxsb3dMZWZ0ICYmICFhbGxvd1JpZ2h0KSB7CgkJCQkJCXN3aXBlQXhpc1JlZi5jdXJyZW50ID0gJ3knOwoJCQkJCQlheGlzID0gJ3knOwoJCQkJCX0gZWxzZSBpZiAoKGFsbG93TGVmdCAmJiB4RGVsdGEgPCAwKSB8fCAoYWxsb3dSaWdodCAmJiB4RGVsdGEgPiAwKSkgewoJCQkJCQluZXh0WCA9IHhEZWx0YTsKCQkJCQl9IGVsc2UgewoJCQkJCQluZXh0WCA9IGRhbXBlbih4RGVsdGEpOwoJCQkJCX0KCQkJCX0KCgkJCQlpZiAoYXhpcyA9PT0gJ3knKSB7CgkJCQkJY29uc3QgYWxsb3dUb3AgPSBzd2lwZURpcmVjdGlvbnMuaW5jbHVkZXMoJ3RvcCcpOwoJCQkJCWNvbnN0IGFsbG93Qm90dG9tID0gc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCdib3R0b20nKTsKCQkJCQlpZiAoIWFsbG93VG9wICYmICFhbGxvd0JvdHRvbSkgewoJCQkJCQlzd2lwZUF4aXNSZWYuY3VycmVudCA9ICd4JzsKCQkJCQkJYXhpcyA9ICd4JzsKCQkJCQl9IGVsc2UgaWYgKChhbGxvd1RvcCAmJiB5RGVsdGEgPCAwKSB8fCAoYWxsb3dCb3R0b20gJiYgeURlbHRhID4gMCkpIHsKCQkJCQkJbmV4dFkgPSB5RGVsdGE7CgkJCQkJfSBlbHNlIHsKCQkJCQkJbmV4dFkgPSBkYW1wZW4oeURlbHRhKTsKCQkJCQl9CgkJCQl9CgoJCQkJbGFzdFN3aXBlUmVmLmN1cnJlbnQgPSB7IHg6IG5leHRYLCB5OiBuZXh0WSB9OwoJCQkJY29uc3Qgbm9kZSA9IHRvYXN0UmVmLmN1cnJlbnQ7CgkJCQlpZiAobm9kZSkgewoJCQkJCW5vZGUuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtdHJhbnNsYXRlLXgnLCBgJHtuZXh0WH1weGApOwoJCQkJCW5vZGUuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtdHJhbnNsYXRlLXknLCBgJHtuZXh0WX1weGApOwoJCQkJfQoJCQl9LAoJCQlbc3dpcGVEaXJlY3Rpb25zXSwKCQkpOwoKCQljb25zdCBoYW5kbGVQb2ludGVyVXAgPSB1c2VDYWxsYmFjaygKCQkJKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7CgkJCQlpZiAoZXZlbnQuY3VycmVudFRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpKSB7CgkJCQkJZXZlbnQuY3VycmVudFRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTsKCQkJCX0KCgkJCQlpZiAoIXBvaW50ZXJTdGFydFJlZi5jdXJyZW50KSB7CgkJCQkJc2V0U3dpcGVEaXNtaXNzRGlyZWN0aW9uKG51bGwpOwoJCQkJCXNldElzU3dpcGluZyhmYWxzZSk7CgkJCQkJY2xlYXJTd2lwZVJlZnMoKTsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJY29uc3QgZWxhcHNlZCA9IGRyYWdTdGFydFRpbWVSZWYuY3VycmVudAoJCQkJCT8gRGF0ZS5ub3coKSAtIGRyYWdTdGFydFRpbWVSZWYuY3VycmVudAoJCQkJCTogMDsKCgkJCQljb25zdCBheGlzID0gc3dpcGVBeGlzUmVmLmN1cnJlbnQ7CgkJCQljb25zdCB7IHgsIHkgfSA9IGxhc3RTd2lwZVJlZi5jdXJyZW50OwoJCQkJbGV0IGRpc21pc3NlZCA9IGZhbHNlOwoKCQkJCWlmIChheGlzKSB7CgkJCQkJY29uc3QgZGlzdGFuY2UgPSBheGlzID09PSAneCcgPyB4IDogeTsKCQkJCQljb25zdCB2ZWxvY2l0eSA9IGVsYXBzZWQgPiAwID8gTWF0aC5hYnMoZGlzdGFuY2UpIC8gZWxhcHNlZCA6IDA7CgkJCQkJY29uc3QgbWVldHNUaHJlc2hvbGQgPQoJCQkJCQlNYXRoLmFicyhkaXN0YW5jZSkgPj0gU1dJUEVfRElTTUlTU19USFJFU0hPTEQgfHwKCQkJCQkJdmVsb2NpdHkgPiBTV0lQRV9ESVNNSVNTX1ZFTE9DSVRZOwoKCQkJCQlpZiAobWVldHNUaHJlc2hvbGQgJiYgTWF0aC5hYnMoZGlzdGFuY2UpID4gMCkgewoJCQkJCQlsZXQgZGlyZWN0aW9uOiBTd2lwZURpcmVjdGlvbjsKCQkJCQkJaWYgKGF4aXMgPT09ICd4JykgewoJCQkJCQkJZGlyZWN0aW9uID0gZGlzdGFuY2UgPiAwID8gJ3JpZ2h0JyA6ICdsZWZ0JzsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWRpcmVjdGlvbiA9IGRpc3RhbmNlID4gMCA/ICdib3R0b20nIDogJ3RvcCc7CgkJCQkJCX0KCgkJCQkJCWlmIChzd2lwZURpcmVjdGlvbnMuaW5jbHVkZXMoZGlyZWN0aW9uKSkgewoJCQkJCQkJc2V0U3dpcGVEaXNtaXNzRGlyZWN0aW9uKGRpcmVjdGlvbik7CgkJCQkJCQlkaXNtaXNzZWQgPSB0cnVlOwoJCQkJCQkJaGFuZGxlQ2xvc2UoKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCgkJCQlpZiAoIWRpc21pc3NlZCkgewoJCQkJCXNldFN3aXBlRGlzbWlzc0RpcmVjdGlvbihudWxsKTsKCQkJCX0KCgkJCQlzZXRJc1N3aXBpbmcoZmFsc2UpOwoJCQkJY2xlYXJTd2lwZVJlZnMoKTsKCQkJfSwKCQkJW2NsZWFyU3dpcGVSZWZzLCBoYW5kbGVDbG9zZSwgc3dpcGVEaXJlY3Rpb25zXSwKCQkpOwoKCQljb25zdCBoYW5kbGVQb2ludGVyQ2FuY2VsID0gdXNlQ2FsbGJhY2soCgkJCShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4gewoJCQkJaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuaGFzUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKSkgewoJCQkJCWV2ZW50LmN1cnJlbnRUYXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7CgkJCQl9CgkJCQlzZXRTd2lwZURpc21pc3NEaXJlY3Rpb24obnVsbCk7CgkJCQlzZXRJc1N3aXBpbmcoZmFsc2UpOwoJCQkJY2xlYXJTd2lwZVJlZnMoKTsKCQkJfSwKCQkJW2NsZWFyU3dpcGVSZWZzXSwKCQkpOwoKCQlyZXR1cm4gKAoJCQk8ZGl2CgkJCQlyZWY9e3RvYXN0UmVmfQoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQl0b2FzdENvbnRhaW5lclZhcmlhbnRzKHsgcG9zaXRpb24sIHZhcmlhbnQgfSksCgkJCQkJY2xhc3NOYW1lLAoJCQkJCXN3aXBlQ3Vyc29yQ2xhc3MsCgkJCQkJc3RhY2tIaWRkZW4gJiYgJ3BvaW50ZXItZXZlbnRzLW5vbmUnLAoJCQkJKX0KCQkJCXN0eWxlPXt7CgkJCQkJdHJhbnNmb3JtT3JpZ2luOiBwb3NpdGlvbj8uc3RhcnRzV2l0aCgndG9wLScpCgkJCQkJCT8gJ2NlbnRlciB0b3AnCgkJCQkJCTogJ2NlbnRlciBib3R0b20nLAoJCQkJCXpJbmRleCwKCQkJCQl0cmFuc2l0aW9uOiBpc1N3aXBpbmcKCQkJCQkJPyBgdHJhbnNmb3JtIDBzIGxpbmVhciwgb3BhY2l0eSAke3RyYW5zaXRpb25EdXJhdGlvbn0gJHt0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb259YAoJCQkJCQk6IGB0cmFuc2Zvcm0gJHt0cmFuc2l0aW9uRHVyYXRpb259ICR7dHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9ufSwgb3BhY2l0eSAke3RyYW5zaXRpb25EdXJhdGlvbn0gJHt0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb259YCwKCQkJCQkuLi50cmFuc2Zvcm1TdHlsZSwKCQkJCX19CgkJCQlyb2xlPXtzdGFja0hpZGRlbiA/IHVuZGVmaW5lZCA6IGxpdmVSb2xlfQoJCQkJYXJpYS1saXZlPXtzdGFja0hpZGRlbiA/IHVuZGVmaW5lZCA6IGxpdmVQb2xpdGVuZXNzfQoJCQkJYXJpYS1hdG9taWM9e3N0YWNrSGlkZGVuID8gdW5kZWZpbmVkIDogJ3RydWUnfQoJCQkJYXJpYS1kZXNjcmliZWRieT17c3RhY2tIaWRkZW4gPyB1bmRlZmluZWQgOiBkZXNjcmlwdGlvbklkfQoJCQkJYXJpYS1oaWRkZW49e3N0YWNrSGlkZGVuID8gdHJ1ZSA6IHVuZGVmaW5lZH0KCQkJCXRhYkluZGV4PXstMX0KCQkJCW9uVHJhbnNpdGlvbkVuZD17aGFuZGxlVHJhbnNpdGlvbkVuZH0KCQkJCWRhdGEtdG9hc3QtaWQ9e2lkfQoJCQk+CgkJCQk8ZGl2CgkJCQkJcm9sZT0iYWxlcnQiCgkJCQkJY2xhc3NOYW1lPXtjbihzd2lwZUN1cnNvckNsYXNzKX0KCQkJCQlvblBvaW50ZXJEb3duPXtoYW5kbGVQb2ludGVyRG93bn0KCQkJCQlvblBvaW50ZXJNb3ZlPXtoYW5kbGVQb2ludGVyTW92ZX0KCQkJCQlvblBvaW50ZXJVcD17aGFuZGxlUG9pbnRlclVwfQoJCQkJCW9uUG9pbnRlckNhbmNlbD17aGFuZGxlUG9pbnRlckNhbmNlbH0KCQkJCQlvbk1vdXNlRW50ZXI9eygpID0+IHsKCQkJCQkJc2V0SXNJdGVtSG92ZXJlZCh0cnVlKTsKCQkJCQkJb25Hcm91cEhvdmVyRW50ZXI/LigpOwoJCQkJCX19CgkJCQkJb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRJc0l0ZW1Ib3ZlcmVkKGZhbHNlKX0KCQkJCQlvbkZvY3VzQ2FwdHVyZT17KCkgPT4gc2V0SXNJdGVtSG92ZXJlZCh0cnVlKX0KCQkJCQlvbkJsdXJDYXB0dXJlPXsoZSkgPT4gewoJCQkJCQljb25zdCBjdXJyZW50ID0gdG9hc3RSZWYuY3VycmVudDsKCQkJCQkJY29uc3QgbmV4dCA9IGUucmVsYXRlZFRhcmdldCBhcyBOb2RlIHwgbnVsbDsKCQkJCQkJaWYgKCFjdXJyZW50IHx8ICFuZXh0IHx8ICFjdXJyZW50LmNvbnRhaW5zKG5leHQpKSB7CgkJCQkJCQlzZXRJc0l0ZW1Ib3ZlcmVkKGZhbHNlKTsKCQkJCQkJfQoJCQkJCX19CgkJCQk+CgkJCQkJPGRpdiBjbGFzc05hbWU9e2NuKHRvYXN0Q29udGVudFZhcmlhbnRzKHsgdmFyaWFudCB9KSl9PgoJCQkJCQk8YnV0dG9uCgkJCQkJCQl0eXBlPSJidXR0b24iCgkJCQkJCQlvbkNsaWNrPXtoYW5kbGVDbG9zZX0KCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJJ2Fic29sdXRlIHRvcC0yIHJpZ2h0LTIgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1tZCBwLTEgdGV4dC1mb3JlZ3JvdW5kLzQ1IHRyYW5zaXRpb24tW2JveC1zaGFkb3csY29sb3JdIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGhvdmVyOnRleHQtZm9yZWdyb3VuZC83MCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQkJCQkpfQoJCQkJCQkJYXJpYS1sYWJlbD0iQ2xvc2UgdG9hc3QiCgkJCQkJCT4KCQkJCQkJCTxJY29ucy5YIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCQkJCTwvYnV0dG9uPgoKCQkJCQkJPGRpdiBjbGFzc05hbWU9InAtNCBwci04Ij4KCQkJCQkJCXt0aXRsZSAmJiAoCgkJCQkJCQkJPGRpdgoJCQkJCQkJCQlpZD17dGl0bGVJZH0KCQkJCQkJCQkJY2xhc3NOYW1lPSJtYi0xIHRleHQtc20gbGVhZGluZy1ub25lIGZvbnQtbWVkaXVtIHNlbGVjdC1ub25lIgoJCQkJCQkJCT4KCQkJCQkJCQkJe3RpdGxlfQoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJKX0KCQkJCQkJCXtkZXNjcmlwdGlvbiAmJiAoCgkJCQkJCQkJPGRpdgoJCQkJCQkJCQlpZD17ZGVzY3JpcHRpb25JZH0KCQkJCQkJCQkJY2xhc3NOYW1lPSJ0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNzAgc2VsZWN0LW5vbmUiCgkJCQkJCQkJPgoJCQkJCQkJCQl7ZGVzY3JpcHRpb259CgkJCQkJCQkJPC9kaXY+CgkJCQkJCQkpfQoJCQkJCQkJe2FjdGlvbiAmJiAoCgkJCQkJCQkJPGRpdiBjbGFzc05hbWU9Im10LTMiPgoJCQkJCQkJCQk8YnV0dG9uCgkJCQkJCQkJCQl0eXBlPSJidXR0b24iCgkJCQkJCQkJCQlvbkNsaWNrPXsoKSA9PiB7CgkJCQkJCQkJCQkJYWN0aW9uLm9uQ2xpY2soKTsKCQkJCQkJCQkJCQloYW5kbGVDbG9zZSgpOwoJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCWNsYXNzTmFtZT0icmVsYXRpdmUgaW5saW5lLWZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgcHgtMyBweS0xLjUgdGV4dC1zbSBmb250LW1lZGl1bSBiZy1saW5lYXItdG8tYiBmcm9tLWdyYWRpZW50LWZyb20gdG8tZ3JhZGllbnQtdG8gaG92ZXI6Y29udHJhc3QtOTAgc2hhZG93LVtpbnNldF8wXzFweF8wXzBfcmdiKDI1NV8yNTVfMjU1Ly4zMiksMHB4XzFweF8xcHhfLTAuNXB4X3JnYmEoOSw5LDExLDAuMDUpLDBweF8zcHhfM3B4Xy0xLjVweF9yZ2JhKDksOSwxMSwwLjA1KSwwcHhfNnB4XzZweF8tM3B4X3JnYmEoOSw5LDExLDAuMDUpXSBkYXJrOnNoYWRvdy1baW5zZXRfMF8xcHhfMF8wX3JnYigyNTVfMjU1XzI1NS8uMTIpLDBweF8xcHhfMXB4Xy0wLjVweF9yZ2JhKDksOSwxMSwwLjA1KSwwcHhfM3B4XzNweF8tMS41cHhfcmdiYSg5LDksMTEsMC4wNSksMHB4XzZweF82cHhfLTNweF9yZ2JhKDksOSwxMSwwLjA1KV0gdGV4dC1jYXJkLW11dGVkIGRhcms6dGV4dC1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsZmlsdGVyLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIgoJCQkJCQkJCQk+CgkJCQkJCQkJCQl7YWN0aW9uLmxhYmVsfQoJCQkJCQkJCQk8L2J1dHRvbj4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCSl9CgkJCQkJCTwvZGl2PgoJCQkJCTwvZGl2PgoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCSk7Cgl9LAoJKHByZXZQcm9wcywgbmV4dFByb3BzKSA9PiB7CgkJcmV0dXJuICgKCQkJcHJldlByb3BzLnRvYXN0LmlkID09PSBuZXh0UHJvcHMudG9hc3QuaWQgJiYKCQkJcHJldlByb3BzLnRvYXN0LmluZGV4ID09PSBuZXh0UHJvcHMudG9hc3QuaW5kZXggJiYKCQkJcHJldlByb3BzLnRvYXN0LnNob3VsZENsb3NlID09PSBuZXh0UHJvcHMudG9hc3Quc2hvdWxkQ2xvc2UgJiYKCQkJcHJldlByb3BzLnRvYXN0LnJlbmRlckluZGV4ID09PSBuZXh0UHJvcHMudG9hc3QucmVuZGVySW5kZXggJiYKCQkJcHJldlByb3BzLnRvYXN0LnRvdGFsID09PSBuZXh0UHJvcHMudG9hc3QudG90YWwgJiYKCQkJcHJldlByb3BzLmlzR3JvdXBIb3ZlcmVkID09PSBuZXh0UHJvcHMuaXNHcm91cEhvdmVyZWQgJiYKCQkJcHJldlByb3BzLmV4cGFuZGVkT2Zmc2V0ID09PSBuZXh0UHJvcHMuZXhwYW5kZWRPZmZzZXQgJiYKCQkJcHJldlByb3BzLmV4cGFuZGVkR2FwID09PSBuZXh0UHJvcHMuZXhwYW5kZWRHYXAgJiYKCQkJcHJldlByb3BzLmNvbGxhcHNlZE9mZnNldCA9PT0gbmV4dFByb3BzLmNvbGxhcHNlZE9mZnNldCAmJgoJCQlwcmV2UHJvcHMuaGlkZGVuQ29sbGFwc2VkT2Zmc2V0ID09PSBuZXh0UHJvcHMuaGlkZGVuQ29sbGFwc2VkT2Zmc2V0CgkJKTsKCX0sCik7CgpUb2FzdEl0ZW0uZGlzcGxheU5hbWUgPSAnVG9hc3RJdGVtJzsKCmNvbnN0IFRvYXN0TWFuYWdlcjogUmVhY3QuRkM8ewoJdG9hc3RzOiBUb2FzdERhdGFbXTsKCW9uUmVtb3ZlOiAoaWQ6IHN0cmluZykgPT4gdm9pZDsKCWV4cGFuZGVkR2FwPzogbnVtYmVyOwp9PiA9IFJlYWN0Lm1lbW8oCgkoeyB0b2FzdHMsIG9uUmVtb3ZlLCBleHBhbmRlZEdhcCA9IEFOSU1BVElPTl9DT05GSUcuRVhQQU5ERURfR0FQIH0pID0+IHsKCQljb25zdCBbaGVpZ2h0cywgc2V0SGVpZ2h0c10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+Pih7fSk7CgkJY29uc3QgW2hvdmVyZWQsIHNldEhvdmVyZWRdID0gdXNlU3RhdGU8UmVjb3JkPFRvYXN0UG9zaXRpb24sIGJvb2xlYW4+Pih7CgkJCSd0b3AtbGVmdCc6IGZhbHNlLAoJCQkndG9wLWNlbnRlcic6IGZhbHNlLAoJCQkndG9wLXJpZ2h0JzogZmFsc2UsCgkJCSdib3R0b20tbGVmdCc6IGZhbHNlLAoJCQknYm90dG9tLWNlbnRlcic6IGZhbHNlLAoJCQknYm90dG9tLXJpZ2h0JzogZmFsc2UsCgkJfSk7CgkJY29uc3QgcHJldmlvdXNTdGFja0luZGV4UmVmID0gdXNlUmVmPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTsKCQljb25zdCBwcmV2aW91c0NvbGxhcHNlZE9mZnNldHNSZWYgPSB1c2VSZWY8UmVjb3JkPHN0cmluZywgbnVtYmVyPj4oe30pOwoJCWNvbnN0IHByZXZpb3VzRXhwYW5kZWRPZmZzZXRzUmVmID0gdXNlUmVmPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTsKCgkJY29uc3QgdG9hc3RzQnlQb3NpdGlvbiA9IHVzZU1lbW8oKCkgPT4gewoJCQljb25zdCBncm91cGVkID0gdG9hc3RzLnJlZHVjZSgKCQkJCShhY2MsIHRvYXN0KSA9PiB7CgkJCQkJY29uc3QgcG9zID0gdG9hc3QucG9zaXRpb24gfHwgJ2JvdHRvbS1jZW50ZXInOwoJCQkJCWlmICghYWNjW3Bvc10pIGFjY1twb3NdID0gW107CgkJCQkJYWNjW3Bvc10ucHVzaCh0b2FzdCk7CgkJCQkJcmV0dXJuIGFjYzsKCQkJCX0sCgkJCQl7fSBhcyBSZWNvcmQ8VG9hc3RQb3NpdGlvbiwgVG9hc3REYXRhW10+LAoJCQkpOwoKCQkJY29uc3QgbmV4dFN0YWNrSW5kaWNlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9OwoKCQkJT2JqZWN0LmtleXMoZ3JvdXBlZCkuZm9yRWFjaCgocG9zaXRpb24pID0+IHsKCQkJCWNvbnN0IHBvc2l0aW9uS2V5ID0gcG9zaXRpb24gYXMgVG9hc3RQb3NpdGlvbjsKCQkJCWNvbnN0IGxpc3QgPSBncm91cGVkW3Bvc2l0aW9uS2V5XTsKCQkJCWNvbnN0IGFjdGl2ZVRvYXN0cyA9IGxpc3QuZmlsdGVyKAoJCQkJCSh0b2FzdCkgPT4gIXRvYXN0LmlzTGVhdmluZyAmJiAhdG9hc3Quc2hvdWxkQ2xvc2UsCgkJCQkpOwoJCQkJY29uc3QgYWN0aXZlSW5kZXhNYXAgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpOwoKCQkJCWFjdGl2ZVRvYXN0cy5mb3JFYWNoKCh0b2FzdCwgYWN0aXZlSW5kZXgpID0+IHsKCQkJCQlhY3RpdmVJbmRleE1hcC5zZXQodG9hc3QuaWQsIGFjdGl2ZUluZGV4KTsKCQkJCX0pOwoKCQkJCWdyb3VwZWRbcG9zaXRpb25LZXldID0gbGlzdC5tYXAoKHRvYXN0LCBvcmRlckluZGV4KSA9PiB7CgkJCQkJbGV0IHN0YWNrSW5kZXggPQoJCQkJCQlhY3RpdmVJbmRleE1hcC5nZXQodG9hc3QuaWQpID8/CgkJCQkJCXByZXZpb3VzU3RhY2tJbmRleFJlZi5jdXJyZW50W3RvYXN0LmlkXTsKCgkJCQkJaWYgKHN0YWNrSW5kZXggPT0gbnVsbCB8fCBOdW1iZXIuaXNOYU4oc3RhY2tJbmRleCkpIHsKCQkJCQkJc3RhY2tJbmRleCA9IG9yZGVySW5kZXg7CgkJCQkJfQoKCQkJCQluZXh0U3RhY2tJbmRpY2VzW3RvYXN0LmlkXSA9IHN0YWNrSW5kZXg7CgoJCQkJCXJldHVybiB7CgkJCQkJCS4uLnRvYXN0LAoJCQkJCQlpbmRleDogc3RhY2tJbmRleCwKCQkJCQkJcmVuZGVySW5kZXg6IG9yZGVySW5kZXgsCgkJCQkJCXRvdGFsOiBsaXN0Lmxlbmd0aCwKCQkJCQl9OwoJCQkJfSkgYXMgUG9zaXRpb25lZFRvYXN0W107CgkJCX0pOwoKCQkJcHJldmlvdXNTdGFja0luZGV4UmVmLmN1cnJlbnQgPSBuZXh0U3RhY2tJbmRpY2VzOwoKCQkJcmV0dXJuIGdyb3VwZWQgYXMgUmVjb3JkPFRvYXN0UG9zaXRpb24sIFBvc2l0aW9uZWRUb2FzdFtdPjsKCQl9LCBbdG9hc3RzXSk7CgoJCXVzZUVmZmVjdCgoKSA9PiB7CgkJCXNldEhvdmVyZWQoKHByZXYpID0+IHsKCQkJCWxldCBjaGFuZ2VkID0gZmFsc2U7CgkJCQljb25zdCBuZXh0ID0geyAuLi5wcmV2IH07CgkJCQljb25zdCBwb3NpdGlvbnMgPSBPYmplY3Qua2V5cyhwcmV2KSBhcyBUb2FzdFBvc2l0aW9uW107CgkJCQlmb3IgKGNvbnN0IHBvcyBvZiBwb3NpdGlvbnMpIHsKCQkJCQljb25zdCBoYXNUb2FzdCA9ICh0b2FzdHNCeVBvc2l0aW9uW3Bvc10/Lmxlbmd0aCA/PyAwKSA+IDA7CgkJCQkJaWYgKCFoYXNUb2FzdCAmJiBuZXh0W3Bvc10pIHsKCQkJCQkJbmV4dFtwb3NdID0gZmFsc2U7CgkJCQkJCWNoYW5nZWQgPSB0cnVlOwoJCQkJCX0KCQkJCX0KCQkJCXJldHVybiBjaGFuZ2VkID8gbmV4dCA6IHByZXY7CgkJCX0pOwoJCX0sIFt0b2FzdHNCeVBvc2l0aW9uXSk7CgoJCWNvbnN0IHBvc2l0aW9uRW50cmllcyA9IHVzZU1lbW8oCgkJCSgpID0+IE9iamVjdC5lbnRyaWVzKHRvYXN0c0J5UG9zaXRpb24pLAoJCQlbdG9hc3RzQnlQb3NpdGlvbl0sCgkJKTsKCgkJY29uc3QgY29sbGFwc2VkT2Zmc2V0RGF0YSA9IHVzZU1lbW8oKCkgPT4gewoJCQljb25zdCBieVBvc2l0aW9uOiBSZWNvcmQ8VG9hc3RQb3NpdGlvbiwgbnVtYmVyW10+ID0gewoJCQkJJ3RvcC1sZWZ0JzogW10sCgkJCQkndG9wLWNlbnRlcic6IFtdLAoJCQkJJ3RvcC1yaWdodCc6IFtdLAoJCQkJJ2JvdHRvbS1sZWZ0JzogW10sCgkJCQknYm90dG9tLWNlbnRlcic6IFtdLAoJCQkJJ2JvdHRvbS1yaWdodCc6IFtdLAoJCQl9OwoJCQljb25zdCBieUlkOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307CgoJCQlmb3IgKGNvbnN0IFtwb3MsIGdyb3VwXSBvZiBwb3NpdGlvbkVudHJpZXMgYXMgWwoJCQkJVG9hc3RQb3NpdGlvbiwKCQkJCVBvc2l0aW9uZWRUb2FzdFtdLAoJCQldW10pIHsKCQkJCWNvbnN0IGlzVG9wUG9zaXRpb24gPSBwb3Muc3RhcnRzV2l0aCgndG9wLScpOwoJCQkJY29uc3QgYWN0aXZlVG9hc3RzID0gZ3JvdXAuZmlsdGVyKCh0b2FzdCkgPT4gIXRvYXN0LnNob3VsZENsb3NlKTsKCQkJCWNvbnN0IG9mZnNldHNGb3JBY3RpdmU6IG51bWJlcltdID0gW107CgoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVUb2FzdHMubGVuZ3RoOyBpKyspIHsKCQkJCQlpZiAoaSA9PT0gMCkgewoJCQkJCQlvZmZzZXRzRm9yQWN0aXZlLnB1c2goMCk7CgkJCQkJCWNvbnRpbnVlOwoJCQkJCX0KCgkJCQkJY29uc3QgcHJldlRvYXN0ID0gYWN0aXZlVG9hc3RzW2kgLSAxXTsKCQkJCQljb25zdCBjdXJyZW50VG9hc3QgPSBhY3RpdmVUb2FzdHNbaV07CgkJCQkJY29uc3QgcHJldk9mZnNldCA9IG9mZnNldHNGb3JBY3RpdmVbaSAtIDFdID8/IDA7CgkJCQkJaWYgKCFwcmV2VG9hc3QgfHwgIWN1cnJlbnRUb2FzdCkgewoJCQkJCQlvZmZzZXRzRm9yQWN0aXZlLnB1c2gocHJldk9mZnNldCk7CgkJCQkJCWNvbnRpbnVlOwoJCQkJCX0KCQkJCQljb25zdCBwcmV2SGVpZ2h0ID0gaGVpZ2h0c1twcmV2VG9hc3QuaWRdOwoJCQkJCWNvbnN0IGN1cnJlbnRIZWlnaHQgPSBoZWlnaHRzW2N1cnJlbnRUb2FzdC5pZF07CgkJCQkJY29uc3QgZmFsbGJhY2tPZmZzZXQgPQoJCQkJCQlwcmV2T2Zmc2V0ICsKCQkJCQkJKGlzVG9wUG9zaXRpb24gPyAxIDogLTEpICogQU5JTUFUSU9OX0NPTkZJRy5TVEFDS19PRkZTRVQ7CgoJCQkJCWlmICgKCQkJCQkJcHJldkhlaWdodCA9PSBudWxsIHx8CgkJCQkJCWN1cnJlbnRIZWlnaHQgPT0gbnVsbCB8fAoJCQkJCQlOdW1iZXIuaXNOYU4ocHJldkhlaWdodCkgfHwKCQkJCQkJTnVtYmVyLmlzTmFOKGN1cnJlbnRIZWlnaHQpCgkJCQkJKSB7CgkJCQkJCW9mZnNldHNGb3JBY3RpdmUucHVzaChmYWxsYmFja09mZnNldCk7CgkJCQkJCWNvbnRpbnVlOwoJCQkJCX0KCgkJCQkJaWYgKGlzVG9wUG9zaXRpb24pIHsKCQkJCQkJb2Zmc2V0c0ZvckFjdGl2ZS5wdXNoKAoJCQkJCQkJcHJldk9mZnNldCArCgkJCQkJCQkJKHByZXZIZWlnaHQgLSBjdXJyZW50SGVpZ2h0ICsgQU5JTUFUSU9OX0NPTkZJRy5TVEFDS19PRkZTRVQpLAoJCQkJCQkpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCW9mZnNldHNGb3JBY3RpdmUucHVzaCgKCQkJCQkJCXByZXZPZmZzZXQgKwoJCQkJCQkJCShjdXJyZW50SGVpZ2h0IC0gcHJldkhlaWdodCAtIEFOSU1BVElPTl9DT05GSUcuU1RBQ0tfT0ZGU0VUKSwKCQkJCQkJKTsKCQkJCQl9CgkJCQl9CgoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVUb2FzdHMubGVuZ3RoOyBpKyspIHsKCQkJCQljb25zdCB0b2FzdCA9IGFjdGl2ZVRvYXN0c1tpXTsKCQkJCQlpZiAoIXRvYXN0KSBjb250aW51ZTsKCQkJCQlieUlkW3RvYXN0LmlkXSA9IG9mZnNldHNGb3JBY3RpdmVbaV0gPz8gMDsKCQkJCX0KCgkJCQlmb3IgKGNvbnN0IHRvYXN0IG9mIGdyb3VwKSB7CgkJCQkJaWYgKGJ5SWRbdG9hc3QuaWRdICE9IG51bGwpIGNvbnRpbnVlOwoKCQkJCQljb25zdCBwcmV2aW91c09mZnNldCA9IHByZXZpb3VzQ29sbGFwc2VkT2Zmc2V0c1JlZi5jdXJyZW50W3RvYXN0LmlkXTsKCQkJCQlpZiAodHlwZW9mIHByZXZpb3VzT2Zmc2V0ID09PSAnbnVtYmVyJykgewoJCQkJCQlieUlkW3RvYXN0LmlkXSA9IHByZXZpb3VzT2Zmc2V0OwoJCQkJCQljb250aW51ZTsKCQkJCQl9CgoJCQkJCWNvbnN0IGRlZmF1bHRPZmZzZXQgPSBpc1RvcFBvc2l0aW9uCgkJCQkJCT8gdG9hc3QuaW5kZXggKiBBTklNQVRJT05fQ09ORklHLlNUQUNLX09GRlNFVAoJCQkJCQk6IC0odG9hc3QuaW5kZXggKiBBTklNQVRJT05fQ09ORklHLlNUQUNLX09GRlNFVCk7CgkJCQkJYnlJZFt0b2FzdC5pZF0gPSBkZWZhdWx0T2Zmc2V0OwoJCQkJfQoKCQkJCWJ5UG9zaXRpb25bcG9zXSA9IGdyb3VwLm1hcCgodG9hc3QpID0+IGJ5SWRbdG9hc3QuaWRdID8/IDApOwoJCQl9CgoJCQlyZXR1cm4geyBieVBvc2l0aW9uLCBieUlkIH07CgkJfSwgW3Bvc2l0aW9uRW50cmllcywgaGVpZ2h0c10pOwoKCQljb25zdCBleHBhbmRlZE9mZnNldERhdGEgPSB1c2VNZW1vKCgpID0+IHsKCQkJY29uc3QgYnlQb3NpdGlvbjogUmVjb3JkPFRvYXN0UG9zaXRpb24sIG51bWJlcltdPiA9IHsKCQkJCSd0b3AtbGVmdCc6IFtdLAoJCQkJJ3RvcC1jZW50ZXInOiBbXSwKCQkJCSd0b3AtcmlnaHQnOiBbXSwKCQkJCSdib3R0b20tbGVmdCc6IFtdLAoJCQkJJ2JvdHRvbS1jZW50ZXInOiBbXSwKCQkJCSdib3R0b20tcmlnaHQnOiBbXSwKCQkJfTsKCQkJY29uc3QgYnlJZDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9OwoKCQkJZm9yIChjb25zdCBbcG9zLCBncm91cF0gb2YgcG9zaXRpb25FbnRyaWVzIGFzIFsKCQkJCVRvYXN0UG9zaXRpb24sCgkJCQlQb3NpdGlvbmVkVG9hc3RbXSwKCQkJXVtdKSB7CgkJCQljb25zdCBvZmZzZXRzOiBudW1iZXJbXSA9IFtdOwoJCQkJY29uc3QgYWN0aXZlVG9hc3RzID0gZ3JvdXAuZmlsdGVyKCh0b2FzdCkgPT4gIXRvYXN0LnNob3VsZENsb3NlKTsKCQkJCWxldCBhY2MgPSAwOwoKCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlVG9hc3RzLmxlbmd0aDsgaSsrKSB7CgkJCQkJaWYgKGkgPT09IDApIHsKCQkJCQkJb2Zmc2V0cy5wdXNoKDApOwoJCQkJCQljb250aW51ZTsKCQkJCQl9CgkJCQkJY29uc3QgcHJldlRvYXN0ID0gYWN0aXZlVG9hc3RzW2kgLSAxXTsKCQkJCQljb25zdCBwcmV2SGVpZ2h0ID0gcHJldlRvYXN0ID8gKGhlaWdodHNbcHJldlRvYXN0LmlkXSA/PyAwKSA6IDA7CgkJCQkJYWNjICs9IHByZXZIZWlnaHQgKyBleHBhbmRlZEdhcDsKCQkJCQlvZmZzZXRzLnB1c2goYWNjKTsKCQkJCX0KCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZVRvYXN0cy5sZW5ndGg7IGkrKykgewoJCQkJCWNvbnN0IHRvYXN0ID0gYWN0aXZlVG9hc3RzW2ldOwoJCQkJCWlmICghdG9hc3QpIGNvbnRpbnVlOwoJCQkJCWJ5SWRbdG9hc3QuaWRdID0gb2Zmc2V0c1tpXSA/PyAwOwoJCQkJfQoKCQkJCWZvciAoY29uc3QgdG9hc3Qgb2YgZ3JvdXApIHsKCQkJCQlpZiAoYnlJZFt0b2FzdC5pZF0gIT0gbnVsbCkgY29udGludWU7CgoJCQkJCWNvbnN0IHByZXZpb3VzT2Zmc2V0ID0gcHJldmlvdXNFeHBhbmRlZE9mZnNldHNSZWYuY3VycmVudFt0b2FzdC5pZF07CgkJCQkJaWYgKHR5cGVvZiBwcmV2aW91c09mZnNldCA9PT0gJ251bWJlcicpIHsKCQkJCQkJYnlJZFt0b2FzdC5pZF0gPSBwcmV2aW91c09mZnNldDsKCQkJCQkJY29udGludWU7CgkJCQkJfQoKCQkJCQlsZXQgZmFsbGJhY2sgPSAwOwoJCQkJCWZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGdyb3VwKSB7CgkJCQkJCWlmIChjYW5kaWRhdGUuaWQgPT09IHRvYXN0LmlkKSBicmVhazsKCQkJCQkJY29uc3QgaGVpZ2h0ID0gaGVpZ2h0c1tjYW5kaWRhdGUuaWRdID8/IDA7CgkJCQkJCWZhbGxiYWNrICs9IGhlaWdodCArIGV4cGFuZGVkR2FwOwoJCQkJCX0KCQkJCQlieUlkW3RvYXN0LmlkXSA9IGZhbGxiYWNrOwoJCQkJfQoKCQkJCWJ5UG9zaXRpb25bcG9zXSA9IGdyb3VwLm1hcCgodG9hc3QpID0+IGJ5SWRbdG9hc3QuaWRdID8/IDApOwoJCQl9CgoJCQlyZXR1cm4geyBieVBvc2l0aW9uLCBieUlkIH07CgkJfSwgW3Bvc2l0aW9uRW50cmllcywgaGVpZ2h0cywgZXhwYW5kZWRHYXBdKTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJcHJldmlvdXNDb2xsYXBzZWRPZmZzZXRzUmVmLmN1cnJlbnQgPSBjb2xsYXBzZWRPZmZzZXREYXRhLmJ5SWQ7CgkJfSwgW2NvbGxhcHNlZE9mZnNldERhdGFdKTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJcHJldmlvdXNFeHBhbmRlZE9mZnNldHNSZWYuY3VycmVudCA9IGV4cGFuZGVkT2Zmc2V0RGF0YS5ieUlkOwoJCX0sIFtleHBhbmRlZE9mZnNldERhdGFdKTsKCgkJY29uc3QgY29sbGFwc2VkT2Zmc2V0c0J5UG9zaXRpb24gPSBjb2xsYXBzZWRPZmZzZXREYXRhLmJ5UG9zaXRpb247CgkJY29uc3QgZXhwYW5kZWRPZmZzZXRzQnlQb3NpdGlvbiA9IGV4cGFuZGVkT2Zmc2V0RGF0YS5ieVBvc2l0aW9uOwoKCQl1c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAocG9zaXRpb25FbnRyaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKCQkJY29uc3QgaGFuZGxlciA9IChlOiBNb3VzZUV2ZW50KSA9PiB7CgkJCQljb25zdCB7IGNsaWVudFg6IHgsIGNsaWVudFk6IHkgfSA9IGU7CgkJCQljb25zdCBuZXh0OiBSZWNvcmQ8VG9hc3RQb3NpdGlvbiwgYm9vbGVhbj4gPSB7IC4uLmhvdmVyZWQgfSBhcyBSZWNvcmQ8CgkJCQkJVG9hc3RQb3NpdGlvbiwKCQkJCQlib29sZWFuCgkJCQk+OwoJCQkJZm9yIChjb25zdCBbcG9zLCBncm91cF0gb2YgcG9zaXRpb25FbnRyaWVzIGFzIFsKCQkJCQlUb2FzdFBvc2l0aW9uLAoJCQkJCVBvc2l0aW9uZWRUb2FzdFtdLAoJCQkJXVtdKSB7CgkJCQkJbGV0IHRvcCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTsKCQkJCQlsZXQgbGVmdCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTsKCQkJCQlsZXQgcmlnaHQgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7CgkJCQkJbGV0IGJvdHRvbSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTsKCQkJCQlsZXQgYW55ID0gZmFsc2U7CgkJCQkJZm9yIChjb25zdCB0IG9mIGdyb3VwKSB7CgkJCQkJCWlmICh0LmluZGV4ID49IEFOSU1BVElPTl9DT05GSUcuTUFYX1ZJU0lCTEVfVE9BU1RTKSBjb250aW51ZTsKCQkJCQkJY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKAoJCQkJCQkJYFtkYXRhLXRvYXN0LWlkPSIke3QuaWR9Il1gLAoJCQkJCQkpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDsKCQkJCQkJaWYgKCFlbCkgY29udGludWU7CgkJCQkJCWNvbnN0IHIgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJCQkJdG9wID0gTWF0aC5taW4odG9wLCByLnRvcCk7CgkJCQkJCWxlZnQgPSBNYXRoLm1pbihsZWZ0LCByLmxlZnQpOwoJCQkJCQlyaWdodCA9IE1hdGgubWF4KHJpZ2h0LCByLnJpZ2h0KTsKCQkJCQkJYm90dG9tID0gTWF0aC5tYXgoYm90dG9tLCByLmJvdHRvbSk7CgkJCQkJCWFueSA9IHRydWU7CgkJCQkJfQoKCQkJCQlpZiAoIWFueSkgewoJCQkJCQluZXh0W3Bvc10gPSBmYWxzZTsKCQkJCQkJY29udGludWU7CgkJCQkJfQoKCQkJCQljb25zdCBpbnNpZGUgPSB4ID49IGxlZnQgJiYgeCA8PSByaWdodCAmJiB5ID49IHRvcCAmJiB5IDw9IGJvdHRvbTsKCQkJCQluZXh0W3Bvc10gPSBpbnNpZGU7CgkJCQl9CgkJCQljb25zdCBjaGFuZ2VkID0gT2JqZWN0LmtleXMobmV4dCBhcyBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPikuc29tZSgKCQkJCQkoaykgPT4KCQkJCQkJKG5leHQgYXMgUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pW2tdICE9PQoJCQkJCQkoaG92ZXJlZCBhcyBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPilba10sCgkJCQkpOwoJCQkJaWYgKGNoYW5nZWQpIHNldEhvdmVyZWQobmV4dCk7CgkJCX07CgoJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVyKTsKCQkJcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZXIpOwoJCX0sIFtob3ZlcmVkLCBwb3NpdGlvbkVudHJpZXNdKTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJaWYgKHBvc2l0aW9uRW50cmllcy5sZW5ndGggPT09IDApIHJldHVybjsKCgkJCWNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4gewoJCQkJZm9yIChjb25zdCBbLCBncm91cF0gb2YgcG9zaXRpb25FbnRyaWVzKSB7CgkJCQkJY29uc3QgbGF0ZXN0ID0gZ3JvdXA/LlswXTsKCQkJCQlpZiAoIWxhdGVzdCkgY29udGludWU7CgoJCQkJCWNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoCgkJCQkJCWBbZGF0YS10b2FzdC1pZD0iJHtsYXRlc3QuaWR9Il1gLAoJCQkJCSkgYXMgSFRNTEVsZW1lbnQgfCBudWxsOwoJCQkJCWlmICghY29udGFpbmVyKSBjb250aW51ZTsKCgkJCQkJaWYgKGUua2V5ID09PSAnRXNjYXBlJykgewoJCQkJCQljb25zdCBhY3RpdmUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50IHwgbnVsbDsKCQkJCQkJaWYgKGFjdGl2ZSAmJiBjb250YWluZXIuY29udGFpbnMoYWN0aXZlKSkgewoJCQkJCQkJY29uc3QgY2xvc2VCdG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigKCQkJCQkJCQknW2FyaWEtbGFiZWw9IkNsb3NlIHRvYXN0Il0nLAoJCQkJCQkJKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7CgkJCQkJCQlpZiAoY2xvc2VCdG4pIHsKCQkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJY2xvc2VCdG4uY2xpY2soKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfTsKCgkJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTsKCQkJcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTsKCQl9LCBbcG9zaXRpb25FbnRyaWVzXSk7CgoJCWlmICh0b2FzdHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsKCgkJcmV0dXJuICgKCQkJPGRpdiBjbGFzc05hbWU9InBvaW50ZXItZXZlbnRzLW5vbmUgZml4ZWQgaW5zZXQtMCB6LTUwIj4KCQkJCXtwb3NpdGlvbkVudHJpZXMubWFwKChbcG9zaXRpb24sIHBvc2l0aW9uVG9hc3RzXSkgPT4gewoJCQkJCWNvbnN0IHBvcyA9IHBvc2l0aW9uIGFzIFRvYXN0UG9zaXRpb247CgkJCQkJY29uc3QgZXhwYW5kZWRPZmZzZXRzID0gZXhwYW5kZWRPZmZzZXRzQnlQb3NpdGlvbltwb3NdOwoJCQkJCWNvbnN0IGNvbGxhcHNlZE9mZnNldHMgPSBjb2xsYXBzZWRPZmZzZXRzQnlQb3NpdGlvbltwb3NdOwoJCQkJCWNvbnN0IGlzSG92ZXJlZCA9IGhvdmVyZWRbcG9zXTsKCQkJCQljb25zdCBhY3RpdmVUb2FzdHMgPSBwb3NpdGlvblRvYXN0cy5maWx0ZXIoCgkJCQkJCSh0b2FzdCkgPT4gIXRvYXN0LnNob3VsZENsb3NlLAoJCQkJCSk7CgkJCQkJY29uc3QgdmlzaWJsZVN0YWNrTGltaXQgPSBNYXRoLm1heCgKCQkJCQkJQU5JTUFUSU9OX0NPTkZJRy5NQVhfVklTSUJMRV9UT0FTVFMgLSAxLAoJCQkJCQkwLAoJCQkJCSk7CgkJCQkJY29uc3QgbWF4VmlzaWJsZVN0YWNrSW5kZXggPSBNYXRoLm1pbigKCQkJCQkJTWF0aC5tYXgoYWN0aXZlVG9hc3RzLmxlbmd0aCAtIDEsIDApLAoJCQkJCQl2aXNpYmxlU3RhY2tMaW1pdCwKCQkJCQkpOwoJCQkJCWNvbnN0IGxhc3RWaXNpYmxlVG9hc3RJZCA9IGFjdGl2ZVRvYXN0c1ttYXhWaXNpYmxlU3RhY2tJbmRleF0/LmlkOwoJCQkJCWNvbnN0IGxhc3RWaXNpYmxlUmVuZGVySW5kZXggPQoJCQkJCQlsYXN0VmlzaWJsZVRvYXN0SWQgIT0gbnVsbAoJCQkJCQkJPyBwb3NpdGlvblRvYXN0cy5maW5kSW5kZXgoCgkJCQkJCQkJCShjYW5kaWRhdGUpID0+IGNhbmRpZGF0ZS5pZCA9PT0gbGFzdFZpc2libGVUb2FzdElkLAoJCQkJCQkJCSkKCQkJCQkJCTogLTE7CgkJCQkJY29uc3Qgc2hhcmVkSGlkZGVuQ29sbGFwc2VkT2Zmc2V0ID0KCQkJCQkJbGFzdFZpc2libGVSZW5kZXJJbmRleCA+PSAwCgkJCQkJCQk/IGNvbGxhcHNlZE9mZnNldHM/LltsYXN0VmlzaWJsZVJlbmRlckluZGV4XQoJCQkJCQkJOiB1bmRlZmluZWQ7CgkJCQkJcmV0dXJuICgKCQkJCQkJPFJlYWN0LkZyYWdtZW50IGtleT17cG9zaXRpb259PgoJCQkJCQkJe3Bvc2l0aW9uVG9hc3RzLm1hcCgodG9hc3QsIGlkeCkgPT4gewoJCQkJCQkJCWNvbnN0IHRvYXN0SXNIaWRkZW4gPQoJCQkJCQkJCQl0b2FzdC5pbmRleCA+PSBBTklNQVRJT05fQ09ORklHLk1BWF9WSVNJQkxFX1RPQVNUUzsKCQkJCQkJCQljb25zdCBoaWRkZW5Db2xsYXBzZWRPZmZzZXQgPSB0b2FzdElzSGlkZGVuCgkJCQkJCQkJCT8gKHNoYXJlZEhpZGRlbkNvbGxhcHNlZE9mZnNldCA/PyBjb2xsYXBzZWRPZmZzZXRzPy5baWR4XSkKCQkJCQkJCQkJOiBjb2xsYXBzZWRPZmZzZXRzPy5baWR4XTsKCQkJCQkJCQljb25zdCBjb2xsYXBzZWRPZmZzZXRWYWx1ZSA9IGNvbGxhcHNlZE9mZnNldHM/LltpZHhdOwoJCQkJCQkJCWNvbnN0IGl0ZW1Qcm9wczogVG9hc3RJdGVtUHJvcHMgPSB7CgkJCQkJCQkJCXRvYXN0LAoJCQkJCQkJCQlvblJlbW92ZSwKCQkJCQkJCQkJaXNHcm91cEhvdmVyZWQ6IGlzSG92ZXJlZCwKCQkJCQkJCQkJZXhwYW5kZWRPZmZzZXQ6IGV4cGFuZGVkT2Zmc2V0cz8uW2lkeF0gPz8gMCwKCQkJCQkJCQkJZXhwYW5kZWRHYXAsCgkJCQkJCQkJCW9uSGVpZ2h0Q2hhbmdlOiAoaWQsIGgpID0+CgkJCQkJCQkJCQlzZXRIZWlnaHRzKChwcmV2KSA9PgoJCQkJCQkJCQkJCXByZXZbaWRdID09PSBoID8gcHJldiA6IHsgLi4ucHJldiwgW2lkXTogaCB9LAoJCQkJCQkJCQkJKSwKCQkJCQkJCQkJb25Hcm91cEhvdmVyRW50ZXI6ICgpID0+CgkJCQkJCQkJCQlzZXRIb3ZlcmVkKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbcG9zXTogdHJ1ZSB9KSksCgkJCQkJCQkJfTsKCQkJCQkJCQlpZiAoY29sbGFwc2VkT2Zmc2V0VmFsdWUgIT09IHVuZGVmaW5lZCkgewoJCQkJCQkJCQlpdGVtUHJvcHMuY29sbGFwc2VkT2Zmc2V0ID0gY29sbGFwc2VkT2Zmc2V0VmFsdWU7CgkJCQkJCQkJfQoJCQkJCQkJCWlmIChoaWRkZW5Db2xsYXBzZWRPZmZzZXQgIT09IHVuZGVmaW5lZCkgewoJCQkJCQkJCQlpdGVtUHJvcHMuaGlkZGVuQ29sbGFwc2VkT2Zmc2V0ID0gaGlkZGVuQ29sbGFwc2VkT2Zmc2V0OwoJCQkJCQkJCX0KCQkJCQkJCQlyZXR1cm4gPFRvYXN0SXRlbSBrZXk9e3RvYXN0LmlkfSB7Li4uaXRlbVByb3BzfSAvPjsKCQkJCQkJCX0pfQoJCQkJCQk8L1JlYWN0LkZyYWdtZW50PgoJCQkJCSk7CgkJCQl9KX0KCQkJPC9kaXY+CgkJKTsKCX0sCik7CgpUb2FzdE1hbmFnZXIuZGlzcGxheU5hbWUgPSAnVG9hc3RNYW5hZ2VyJzsKCmV4cG9ydCBjb25zdCBUb2FzdGVyOiBSZWFjdC5GQzx7IGV4cGFuZGVkR2FwPzogbnVtYmVyIH0+ID0gKHsKCWV4cGFuZGVkR2FwLAp9KSA9PiB7Cgljb25zdCBbdG9hc3RzLCBzZXRUb2FzdHNdID0gdXNlU3RhdGU8VG9hc3REYXRhW10+KFtdKTsKCWNvbnN0IFtpbnN0YW5jZUlkXSA9IHVzZVN0YXRlKCgpID0+CgkJdG9hc3Rlckluc3RhbmNlTWFuYWdlci5yZWdpc3Rlckluc3RhbmNlKCksCgkpOwoKCXVzZUVmZmVjdCgoKSA9PiB7CgkJY29uc3QgdW5zdWJzY3JpYmUgPSB0b2FzdFN0YXRlLnN1YnNjcmliZShzZXRUb2FzdHMpOwoJCXJldHVybiAoKSA9PiB7CgkJCXVuc3Vic2NyaWJlKCk7CgkJCXRvYXN0ZXJJbnN0YW5jZU1hbmFnZXIudW5yZWdpc3Rlckluc3RhbmNlKGluc3RhbmNlSWQpOwoJCX07Cgl9LCBbaW5zdGFuY2VJZF0pOwoKCWNvbnN0IGhhbmRsZVJlbW92ZSA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7CgkJdG9hc3RTdGF0ZS5yZW1vdmUoaWQpOwoJfSwgW10pOwoKCWlmICghdG9hc3Rlckluc3RhbmNlTWFuYWdlci5pc0FjdGl2ZUluc3RhbmNlKGluc3RhbmNlSWQpKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJY29uc3QgbWFuYWdlclByb3BzID0gZXhwYW5kZWRHYXAgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBleHBhbmRlZEdhcCB9OwoJcmV0dXJuICgKCQk8VG9hc3RNYW5hZ2VyIHRvYXN0cz17dG9hc3RzfSBvblJlbW92ZT17aGFuZGxlUmVtb3ZlfSB7Li4ubWFuYWdlclByb3BzfSAvPgoJKTsKfTs="
,
  "wheel-picker.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgUkVTSVNUQU5DRSA9IDAuMzsKY29uc3QgTUFYX1ZFTE9DSVRZID0gMzA7CmNvbnN0IGVhc2VPdXRDdWJpYyA9IChwOiBudW1iZXIpID0+IChwIC0gMSkgKiogMyArIDE7CmNvbnN0IGNsYW1wID0gKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4KCU1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsdWUsIG1heCkpOwoKdHlwZSBTaXplID0gJ3NtJyB8ICdtZCcgfCAnbGcnOwoKY29uc3Qgd2hlZWxQaWNrZXJTaXplQ29uZmlnOiBSZWNvcmQ8CglTaXplLAoJeyBpdGVtSGVpZ2h0OiBudW1iZXI7IHdpZHRoQ2xhc3M6IHN0cmluZyB9Cj4gPSB7CglzbTogeyBpdGVtSGVpZ2h0OiAyMCwgd2lkdGhDbGFzczogJ3ctMjgnIH0sCgltZDogeyBpdGVtSGVpZ2h0OiAyNCwgd2lkdGhDbGFzczogJ3ctMzInIH0sCglsZzogeyBpdGVtSGVpZ2h0OiAyOCwgd2lkdGhDbGFzczogJ3ctMzYnIH0sCn07Cgpjb25zdCB3aGVlbFBpY2tlclZhcmlhbnRzID0gY3ZhKAoJWwoJCSdub3QtcHJvc2UgcmVsYXRpdmUgaXNvbGF0ZSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHNoYWRvdy1zbScsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiB3aGVlbFBpY2tlclNpemVDb25maWcuc20ud2lkdGhDbGFzcywKCQkJCW1kOiB3aGVlbFBpY2tlclNpemVDb25maWcubWQud2lkdGhDbGFzcywKCQkJCWxnOiB3aGVlbFBpY2tlclNpemVDb25maWcubGcud2lkdGhDbGFzcywKCQkJfSwKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdwb2ludGVyLWV2ZW50cy1ub25lIGN1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogeyBzaXplOiAnbWQnLCBkaXNhYmxlZDogZmFsc2UgfSwKCX0sCik7Cgpjb25zdCB3aGVlbFBpY2tlclRyYWNrVGV4dCA9IGN2YSgKCSdmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtMyB0ZXh0LWNlbnRlciB0ZXh0LWZvcmVncm91bmQvNDUnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsgc206ICd0ZXh0LXhzJywgbWQ6ICd0ZXh0LXNtJywgbGc6ICd0ZXh0LWJhc2UnIH0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsgc2l6ZTogJ21kJyB9LAoJfSwKKTsKCmNvbnN0IHdoZWVsUGlja2VySGlnaGxpZ2h0VGV4dCA9IGN2YSgKCSdmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtMyB0ZXh0LWNlbnRlciBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsgc206ICd0ZXh0LXNtJywgbWQ6ICd0ZXh0LWJhc2UnLCBsZzogJ3RleHQtbGcnIH0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsgc2l6ZTogJ21kJyB9LAoJfSwKKTsKCmNvbnN0IHdoZWVsUGlja2VyRm9jdXNSaW5nQ2xhc3NlcyA9CgknZ3JvdXAtZm9jdXMvd2hlZWxwaWNrZXI6cm91bmRlZC1zbSBncm91cC1mb2N1cy93aGVlbHBpY2tlcjpyaW5nLTEgZ3JvdXAtZm9jdXMvd2hlZWxwaWNrZXI6cmluZy1yaW5nLzUwIGdyb3VwLWZvY3VzL3doZWVscGlja2VyOnJpbmctb2Zmc2V0LTEgZ3JvdXAtZm9jdXMvd2hlZWxwaWNrZXI6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZ3JvdXAtZm9jdXMtdmlzaWJsZS93aGVlbHBpY2tlcjpyb3VuZGVkLXNtIGdyb3VwLWZvY3VzLXZpc2libGUvd2hlZWxwaWNrZXI6Ym9yZGVyLWJvcmRlciBncm91cC1mb2N1cy12aXNpYmxlL3doZWVscGlja2VyOnJpbmctMSBncm91cC1mb2N1cy12aXNpYmxlL3doZWVscGlja2VyOnJpbmctcmluZy81MCBncm91cC1mb2N1cy12aXNpYmxlL3doZWVscGlja2VyOnJpbmctb2Zmc2V0LTEgZ3JvdXAtZm9jdXMtdmlzaWJsZS93aGVlbHBpY2tlcjpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCB0cmFuc2l0aW9uLXNoYWRvdyBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYyc7Cgpjb25zdCB3aGVlbFBpY2tlckhpZ2hsaWdodEJhbmQgPSBjdmEoCgljbigKCQknYWJzb2x1dGUgbGVmdC0xIHJpZ2h0LTEgdG9wLTEvMiBmbGV4IC10cmFuc2xhdGUteS0xLzIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWNhcmQtbXV0ZWQgcm91bmRlZC1zbSBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHBvaW50ZXItZXZlbnRzLW5vbmUnLAoJCXdoZWVsUGlja2VyRm9jdXNSaW5nQ2xhc3NlcywKCSksCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogeyBzbTogJ2gtNScsIG1kOiAnaC02JywgbGc6ICdoLTcnIH0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsgc2l6ZTogJ21kJyB9LAoJfSwKKTsKCmludGVyZmFjZSBXaGVlbFBpY2tlckdyb3VwQ29udGV4dFZhbHVlIHsKCXNpemU6IFNpemU7CglkaXNhYmxlZDogYm9vbGVhbjsKCWl0ZW1IZWlnaHQ6IG51bWJlcjsKfQoKY29uc3QgV2hlZWxQaWNrZXJHcm91cENvbnRleHQgPQoJUmVhY3QuY3JlYXRlQ29udGV4dDxXaGVlbFBpY2tlckdyb3VwQ29udGV4dFZhbHVlIHwgbnVsbD4obnVsbCk7CgpleHBvcnQgaW50ZXJmYWNlIFdoZWVsUGlja2VyR3JvdXBQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJc2l6ZT86IFNpemU7CglkaXNhYmxlZD86IGJvb2xlYW47Cgljb250ZW50Q2xhc3NOYW1lPzogc3RyaW5nOwoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmV4cG9ydCBjb25zdCBXaGVlbFBpY2tlckdyb3VwOiBSZWFjdC5GQzxXaGVlbFBpY2tlckdyb3VwUHJvcHM+ID0gKHsKCXNpemUgPSAnbWQnLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWNsYXNzTmFtZSwKCWNoaWxkcmVuLAoJY29udGVudENsYXNzTmFtZSwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGl0ZW1IZWlnaHQgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+CgkJCXdoZWVsUGlja2VyU2l6ZUNvbmZpZ1tzaXplXT8uaXRlbUhlaWdodCA/PwoJCQl3aGVlbFBpY2tlclNpemVDb25maWcubWQuaXRlbUhlaWdodCwKCQlbc2l6ZV0sCgkpOwoKCWNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW88V2hlZWxQaWNrZXJHcm91cENvbnRleHRWYWx1ZT4oCgkJKCkgPT4gKHsgc2l6ZSwgZGlzYWJsZWQsIGl0ZW1IZWlnaHQgfSksCgkJW3NpemUsIGRpc2FibGVkLCBpdGVtSGVpZ2h0XSwKCSk7CgoJcmV0dXJuICgKCQk8V2hlZWxQaWNrZXJHcm91cENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+CgkJCTxkaXYKCQkJCXsuLi5wcm9wc30KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ25vdC1wcm9zZSByZWxhdGl2ZSBpc29sYXRlIGZsZXggb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBzaGFkb3ctc20nLAoJCQkJCWRpc2FibGVkID8gJ3BvaW50ZXItZXZlbnRzLW5vbmUgY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTAnIDogJycsCgkJCQkJY2xhc3NOYW1lLAoJCQkJKX0KCQkJCWFyaWEtZGlzYWJsZWQ9e2Rpc2FibGVkIHx8IHVuZGVmaW5lZH0KCQkJPgoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT0icG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBsZWZ0LTEgcmlnaHQtMSB0b3AtMS8yIHotMTAgLXRyYW5zbGF0ZS15LTEvMiByb3VuZGVkLXNtIGJnLWNhcmQiCgkJCQkJc3R5bGU9e3sgaGVpZ2h0OiBpdGVtSGVpZ2h0IH19CgkJCQkJYXJpYS1oaWRkZW4KCQkJCS8+CgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbih3aGVlbFBpY2tlckhpZ2hsaWdodEJhbmQoeyBzaXplIH0pLCAnei0yMCcpfQoJCQkJCXN0eWxlPXt7IGhlaWdodDogaXRlbUhlaWdodCB9fQoJCQkJCWFyaWEtaGlkZGVuCgkJCQkvPgoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdyZWxhdGl2ZSB6LTMwIGZsZXggdy1mdWxsIGZsZXgtcm93IGdhcC0wJywKCQkJCQkJY29udGVudENsYXNzTmFtZSwKCQkJCQkpfQoJCQkJPgoJCQkJCXtjaGlsZHJlbn0KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQk8L1doZWVsUGlja2VyR3JvdXBDb250ZXh0LlByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgV2hlZWxQaWNrZXJQcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwgJ29uQ2hhbmdlJz4gewoJdmFsdWU/OiBzdHJpbmc7CglkZWZhdWx0VmFsdWU/OiBzdHJpbmc7CglvblZhbHVlQ2hhbmdlPzogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7CglkaXNhYmxlZD86IGJvb2xlYW47CglzaXplPzogU2l6ZTsKCXZpc2libGVDb3VudD86IG51bWJlcjsKCWluZmluaXRlPzogYm9vbGVhbjsKCSdhcmlhLWxhYmVsJz86IHN0cmluZzsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9Cgp0eXBlIE9wdGlvbk5vZGUgPSB7IHZhbHVlOiBzdHJpbmc7IG5vZGU6IFJlYWN0LlJlYWN0Tm9kZSB9OwoKZXhwb3J0IGNvbnN0IFdoZWVsUGlja2VyOiBSZWFjdC5GQzxXaGVlbFBpY2tlclByb3BzPiA9ICh7Cgl2YWx1ZSwKCWRlZmF1bHRWYWx1ZSwKCW9uVmFsdWVDaGFuZ2UsCglkaXNhYmxlZDogZGlzYWJsZWRQcm9wID0gZmFsc2UsCglzaXplOiBzaXplUHJvcCA9ICdtZCcsCgl2aXNpYmxlQ291bnQ6IGNvdW50UHJvcCA9IDIwLAoJaW5maW5pdGUgPSBmYWxzZSwKCWNsYXNzTmFtZSA9ICcnLAoJY2hpbGRyZW4sCgknYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGdyb3VwQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoV2hlZWxQaWNrZXJHcm91cENvbnRleHQpOwoJY29uc3QgZ3JvdXBlZCA9IEJvb2xlYW4oZ3JvdXBDb250ZXh0KTsKCWNvbnN0IHNpemUgPSBncm91cENvbnRleHQ/LnNpemUgPz8gc2l6ZVByb3A7Cgljb25zdCBkaXNhYmxlZCA9IEJvb2xlYW4oZGlzYWJsZWRQcm9wIHx8IGdyb3VwQ29udGV4dD8uZGlzYWJsZWQpOwoKCWNvbnN0IGl0ZW1IZWlnaHQgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+CgkJCXdoZWVsUGlja2VyU2l6ZUNvbmZpZ1tzaXplXT8uaXRlbUhlaWdodCA/PwoJCQl3aGVlbFBpY2tlclNpemVDb25maWcubWQuaXRlbUhlaWdodCwKCQlbc2l6ZV0sCgkpOwoKCWNvbnN0IG9wdGlvbnMgPSBSZWFjdC51c2VNZW1vPE9wdGlvbk5vZGVbXT4oKCkgPT4gewoJCWNvbnN0IGFjYzogT3B0aW9uTm9kZVtdID0gW107CgkJUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7CgkJCWlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQ8V2hlZWxQaWNrZXJJdGVtUHJvcHM+KGNoaWxkKSkgcmV0dXJuOwoJCQljb25zdCB2YWwgPSBjaGlsZC5wcm9wcy52YWx1ZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7CgkJCWlmICh2YWwgPT0gbnVsbCkgcmV0dXJuOwoJCQljb25zdCBub2RlID0gY2hpbGQucHJvcHMuY2hpbGRyZW4gPz8gdmFsOwoJCQlhY2MucHVzaCh7IHZhbHVlOiB2YWwsIG5vZGUgfSk7CgkJfSk7CgkJcmV0dXJuIGFjYzsKCX0sIFtjaGlsZHJlbl0pOwoKCWNvbnN0IGlzQ29udHJvbGxlZCA9IHZhbHVlICE9PSB1bmRlZmluZWQ7Cgljb25zdCBbaW50ZXJuYWxWYWx1ZSwgc2V0SW50ZXJuYWxWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmcgfCB1bmRlZmluZWQ+KAoJCWRlZmF1bHRWYWx1ZSA/PyBvcHRpb25zWzBdPy52YWx1ZSwKCSk7Cgljb25zdCBzZWxlY3RlZFZhbHVlID0gaXNDb250cm9sbGVkID8gdmFsdWUgOiBpbnRlcm5hbFZhbHVlOwoKCWNvbnN0IHVpZCA9IFJlYWN0LnVzZUlkKCk7Cgljb25zdCBpbnN0YW5jZVByZWZpeCA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gYHdwLSR7dWlkLnJlcGxhY2UoL1s6XS9nLCAnJyl9YCwKCQlbdWlkXSwKCSk7Cgljb25zdCBjb21wb3NpdGUgPSBBcmlha2l0LnVzZUNvbXBvc2l0ZVN0b3JlKHsKCQlvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywKCQl2aXJ0dWFsRm9jdXM6IHRydWUsCgkJZm9jdXNMb29wOiBpbmZpbml0ZSwKCX0pOwoJY29uc3QgW2lzRHJhZ2dpbmcsIHNldElzRHJhZ2dpbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwoKCWNvbnN0IHJhZGl1cyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IGl0ZW1BbmdsZSA9IDM2MCAvIGNvdW50UHJvcDsKCQlyZXR1cm4gaXRlbUhlaWdodCAvIE1hdGgudGFuKChpdGVtQW5nbGUgKiBNYXRoLlBJKSAvIDE4MCk7Cgl9LCBbY291bnRQcm9wLCBpdGVtSGVpZ2h0XSk7Cgljb25zdCBjb250YWluZXJIZWlnaHQgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+IE1hdGgucm91bmQocmFkaXVzICogMiArIGl0ZW1IZWlnaHQgKiAwLjI1KSwKCQlbcmFkaXVzLCBpdGVtSGVpZ2h0XSwKCSk7Cgljb25zdCBxdWFydGVyQ291bnQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCByYXcgPSBjb3VudFByb3AgPj4gMjsKCQlpZiAoIW9wdGlvbnMubGVuZ3RoKSByZXR1cm4gTWF0aC5tYXgoMSwgcmF3KTsKCQljb25zdCBzYWZlUmF3ID0gTWF0aC5tYXgoMSwgcmF3KTsKCQlyZXR1cm4gTWF0aC5taW4oc2FmZVJhdywgb3B0aW9ucy5sZW5ndGgpOwoJfSwgW2NvdW50UHJvcCwgb3B0aW9ucy5sZW5ndGhdKTsKCWNvbnN0IGl0ZW1BbmdsZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gMzYwIC8gY291bnRQcm9wLCBbY291bnRQcm9wXSk7Cgljb25zdCBoYWxmSXRlbUhlaWdodCA9IGl0ZW1IZWlnaHQgKiAwLjU7Cgljb25zdCBiYXNlRGVjZWxlcmF0aW9uID0gMyAqIDEwOwoJY29uc3Qgc25hcEJhY2tEZWNlbGVyYXRpb24gPSAxMDsKCgljb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwoJY29uc3Qgd2hlZWxJdGVtc1JlZiA9IFJlYWN0LnVzZVJlZjxIVE1MVUxpc3RFbGVtZW50PihudWxsKTsKCWNvbnN0IGhpZ2hsaWdodExpc3RSZWYgPSBSZWFjdC51c2VSZWY8SFRNTFVMaXN0RWxlbWVudD4obnVsbCk7Cgljb25zdCBoaWdobGlnaHRCYW5kUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCgljb25zdCBzY3JvbGxSZWYgPSBSZWFjdC51c2VSZWYoMCk7Cgljb25zdCBtb3ZlSWQgPSBSZWFjdC51c2VSZWYoMCk7Cgljb25zdCBkcmFnZ2luZ1JlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7Cgljb25zdCBoYXNBY3RpdmVHZXN0dXJlUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTsKCWNvbnN0IGxhc3RXaGVlbFRpbWVSZWYgPSBSZWFjdC51c2VSZWYoMCk7Cgljb25zdCB0b3VjaERhdGFSZWYgPSBSZWFjdC51c2VSZWY8ewoJCXN0YXJ0WTogbnVtYmVyOwoJCXlMaXN0OiBbbnVtYmVyLCBudW1iZXJdW107CgkJdG91Y2hTY3JvbGw/OiBudW1iZXI7CgkJaXNDbGljaz86IGJvb2xlYW47Cgl9Pih7IHN0YXJ0WTogMCwgeUxpc3Q6IFtdLCB0b3VjaFNjcm9sbDogMCwgaXNDbGljazogdHJ1ZSB9KTsKCWNvbnN0IGRyYWdDb250cm9sbGVyUmVmID0gUmVhY3QudXNlUmVmPEFib3J0Q29udHJvbGxlciB8IG51bGw+KG51bGwpOwoJY29uc3Qgc2VsZWN0ZWRWYWx1ZVJlZiA9IFJlYWN0LnVzZVJlZjxzdHJpbmcgfCB1bmRlZmluZWQ+KHNlbGVjdGVkVmFsdWUpOwoKCWNvbnN0IG5vcm1hbGl6ZVNjcm9sbCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzY3JvbGw6IG51bWJlcikgPT4KCQkJKChzY3JvbGwgJSBvcHRpb25zLmxlbmd0aCkgKyBvcHRpb25zLmxlbmd0aCkgJSBvcHRpb25zLmxlbmd0aCwKCQlbb3B0aW9ucy5sZW5ndGhdLAoJKTsKCgljb25zdCBzY3JvbGxUbyA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzY3JvbGw6IG51bWJlcikgPT4gewoJCQljb25zdCBub3JtYWxpemVkU2Nyb2xsID0gaW5maW5pdGUgPyBub3JtYWxpemVTY3JvbGwoc2Nyb2xsKSA6IHNjcm9sbDsKCgkJCWlmICh3aGVlbEl0ZW1zUmVmLmN1cnJlbnQpIHsKCQkJCWNvbnN0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVaKCR7LXJhZGl1c31weCkgcm90YXRlWCgke2l0ZW1BbmdsZSAqIG5vcm1hbGl6ZWRTY3JvbGx9ZGVnKWA7CgkJCQl3aGVlbEl0ZW1zUmVmLmN1cnJlbnQuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtOwoJCQkJd2hlZWxJdGVtc1JlZi5jdXJyZW50LmNoaWxkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4gewoJCQkJCWNvbnN0IGxpID0gbm9kZSBhcyBIVE1MTElFbGVtZW50OwoJCQkJCWNvbnN0IHJhd0luZGV4ID0gbGkuZGF0YXNldD8uWydpbmRleCddOwoJCQkJCWlmIChyYXdJbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgkJCQkJY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyhOdW1iZXIocmF3SW5kZXgpIC0gbm9ybWFsaXplZFNjcm9sbCk7CgkJCQkJY29uc3QgaGlkZUZvckRlcHRoID0gZGlzdGFuY2UgPiBxdWFydGVyQ291bnQ7CgkJCQkJbGkuc3R5bGUudmlzaWJpbGl0eSA9IGhpZGVGb3JEZXB0aCA/ICdoaWRkZW4nIDogJ3Zpc2libGUnOwoJCQkJfSk7CgkJCX0KCgkJCWlmIChoaWdobGlnaHRMaXN0UmVmLmN1cnJlbnQpIHsKCQkJCWNvbnN0IHRyYW5zZm9ybVZhbHVlID0gYHRyYW5zbGF0ZVkoJHstbm9ybWFsaXplZFNjcm9sbCAqIGl0ZW1IZWlnaHR9cHgpYDsKCQkJCWhpZ2hsaWdodExpc3RSZWYuY3VycmVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1WYWx1ZTsKCQkJfQoKCQkJcmV0dXJuIG5vcm1hbGl6ZWRTY3JvbGw7CgkJfSwKCQlbaW5maW5pdGUsIG5vcm1hbGl6ZVNjcm9sbCwgcmFkaXVzLCBpdGVtQW5nbGUsIHF1YXJ0ZXJDb3VudCwgaXRlbUhlaWdodF0sCgkpOwoKCWNvbnN0IGNhbmNlbEFuaW1hdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQljYW5jZWxBbmltYXRpb25GcmFtZShtb3ZlSWQuY3VycmVudCk7Cgl9LCBbXSk7CgoJY29uc3QgYW5pbWF0ZVNjcm9sbCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCSgKCQkJc3RhcnRTY3JvbGw6IG51bWJlciwKCQkJZW5kU2Nyb2xsOiBudW1iZXIsCgkJCWR1cmF0aW9uOiBudW1iZXIsCgkJCW9uQ29tcGxldGU/OiAoKSA9PiB2b2lkLAoJCSkgPT4gewoJCQlpZiAoZHVyYXRpb24gPD0gMCB8fCBzdGFydFNjcm9sbCA9PT0gZW5kU2Nyb2xsKSB7CgkJCQljYW5jZWxBbmltYXRpb24oKTsKCQkJCXNjcm9sbFJlZi5jdXJyZW50ID0gc2Nyb2xsVG8oZW5kU2Nyb2xsKTsKCQkJCW9uQ29tcGxldGU/LigpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCWNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOwoJCQljb25zdCB0b3RhbERpc3RhbmNlID0gZW5kU2Nyb2xsIC0gc3RhcnRTY3JvbGw7CgkJCWNvbnN0IHRpY2sgPSAoY3VycmVudFRpbWU6IG51bWJlcikgPT4gewoJCQkJY29uc3QgZWxhcHNlZCA9IChjdXJyZW50VGltZSAtIHN0YXJ0VGltZSkgLyAxMDAwOwoJCQkJaWYgKGVsYXBzZWQgPCBkdXJhdGlvbikgewoJCQkJCWNvbnN0IHByb2dyZXNzID0gZWFzZU91dEN1YmljKGVsYXBzZWQgLyBkdXJhdGlvbik7CgkJCQkJc2Nyb2xsUmVmLmN1cnJlbnQgPSBzY3JvbGxUbyhzdGFydFNjcm9sbCArIHByb2dyZXNzICogdG90YWxEaXN0YW5jZSk7CgkJCQkJbW92ZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7CgkJCQl9IGVsc2UgewoJCQkJCWNhbmNlbEFuaW1hdGlvbigpOwoJCQkJCXNjcm9sbFJlZi5jdXJyZW50ID0gc2Nyb2xsVG8oZW5kU2Nyb2xsKTsKCQkJCQlvbkNvbXBsZXRlPy4oKTsKCQkJCX0KCQkJfTsKCQkJcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spOwoJCX0sCgkJW3Njcm9sbFRvLCBjYW5jZWxBbmltYXRpb25dLAoJKTsKCgljb25zdCBzZXRTZWxlY3RlZFZhbHVlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKG5leHQ6IHN0cmluZykgPT4gewoJCQlpZiAoIWlzQ29udHJvbGxlZCkgc2V0SW50ZXJuYWxWYWx1ZShuZXh0KTsKCQkJb25WYWx1ZUNoYW5nZT8uKG5leHQpOwoJCX0sCgkJW2lzQ29udHJvbGxlZCwgb25WYWx1ZUNoYW5nZV0sCgkpOwoKCWNvbnN0IHNlbGVjdEJ5U2Nyb2xsID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHNjcm9sbDogbnVtYmVyKSA9PiB7CgkJCWNvbnN0IG5vcm1hbGl6ZWRGbG9hdCA9IGluZmluaXRlID8gbm9ybWFsaXplU2Nyb2xsKHNjcm9sbCkgOiBzY3JvbGw7CgkJCWNvbnN0IGJvdW5kZWRTY3JvbGwgPSBpbmZpbml0ZQoJCQkJPyBNYXRoLnJvdW5kKG5vcm1hbGl6ZWRGbG9hdCkKCQkJCTogY2xhbXAoCgkJCQkJCU1hdGgucm91bmQobm9ybWFsaXplZEZsb2F0KSwKCQkJCQkJMCwKCQkJCQkJTWF0aC5tYXgoMCwgb3B0aW9ucy5sZW5ndGggLSAxKSwKCQkJCQkpOwoJCQlzY3JvbGxSZWYuY3VycmVudCA9IHNjcm9sbFRvKGJvdW5kZWRTY3JvbGwpOwoJCQljb25zdCBzZWxlY3RlZCA9IG9wdGlvbnNbc2Nyb2xsUmVmLmN1cnJlbnRdOwoJCQlpZiAoc2VsZWN0ZWQpIHsKCQkJCXNlbGVjdGVkVmFsdWVSZWYuY3VycmVudCA9IHNlbGVjdGVkLnZhbHVlOwoJCQkJc2V0U2VsZWN0ZWRWYWx1ZShzZWxlY3RlZC52YWx1ZSk7CgkJCQljb25zdCBuZXh0QWN0aXZlSWQgPSBgJHtpbnN0YW5jZVByZWZpeH0tJHtzZWxlY3RlZC52YWx1ZX1gOwoJCQkJaWYgKGNvbXBvc2l0ZS5nZXRTdGF0ZSgpLmFjdGl2ZUlkICE9PSBuZXh0QWN0aXZlSWQpCgkJCQkJY29tcG9zaXRlLnNldEFjdGl2ZUlkKG5leHRBY3RpdmVJZCk7CgkJCX0KCQl9LAoJCVsKCQkJaW5maW5pdGUsCgkJCW5vcm1hbGl6ZVNjcm9sbCwKCQkJb3B0aW9ucywKCQkJc2Nyb2xsVG8sCgkJCXNldFNlbGVjdGVkVmFsdWUsCgkJCWNvbXBvc2l0ZSwKCQkJaW5zdGFuY2VQcmVmaXgsCgkJXSwKCSk7CgoJY29uc3Qgc2VsZWN0QnlWYWx1ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCSh2YWw6IHN0cmluZykgPT4gewoJCQljb25zdCBpbmRleCA9IG9wdGlvbnMuZmluZEluZGV4KChvKSA9PiBvLnZhbHVlID09PSB2YWwpOwoJCQlpZiAoaW5kZXggPT09IC0xKSByZXR1cm47CgkJCWNhbmNlbEFuaW1hdGlvbigpOwoJCQlzZWxlY3RCeVNjcm9sbChpbmRleCk7CgkJfSwKCQlbb3B0aW9ucywgY2FuY2VsQW5pbWF0aW9uLCBzZWxlY3RCeVNjcm9sbF0sCgkpOwoKCWNvbnN0IHNjcm9sbEJ5U3RlcCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzdGVwOiBudW1iZXIpID0+IHsKCQkJY29uc3Qgc3RhcnRTY3JvbGwgPSBzY3JvbGxSZWYuY3VycmVudDsKCQkJbGV0IGVuZFNjcm9sbCA9IHN0YXJ0U2Nyb2xsICsgc3RlcDsKCQkJZW5kU2Nyb2xsID0gaW5maW5pdGUKCQkJCT8gTWF0aC5yb3VuZChlbmRTY3JvbGwpCgkJCQk6IGNsYW1wKE1hdGgucm91bmQoZW5kU2Nyb2xsKSwgMCwgTWF0aC5tYXgoMCwgb3B0aW9ucy5sZW5ndGggLSAxKSk7CgkJCWNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoZW5kU2Nyb2xsIC0gc3RhcnRTY3JvbGwpOwoJCQlpZiAoZGlzdGFuY2UgPT09IDApIHJldHVybjsKCQkJY29uc3QgZHVyYXRpb24gPSBNYXRoLnNxcnQoZGlzdGFuY2UgLyA1KTsKCQkJY2FuY2VsQW5pbWF0aW9uKCk7CgkJCWFuaW1hdGVTY3JvbGwoc3RhcnRTY3JvbGwsIGVuZFNjcm9sbCwgZHVyYXRpb24sICgpID0+CgkJCQlzZWxlY3RCeVNjcm9sbChzY3JvbGxSZWYuY3VycmVudCksCgkJCSk7CgkJfSwKCQlbaW5maW5pdGUsIG9wdGlvbnMubGVuZ3RoLCBjYW5jZWxBbmltYXRpb24sIGFuaW1hdGVTY3JvbGwsIHNlbGVjdEJ5U2Nyb2xsXSwKCSk7CgoJY29uc3Qgd2hlZWxTZWdtZW50UG9zaXRpb25zID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJY29uc3QgZGVnVG9SYWQgPSBNYXRoLlBJIC8gMTgwOwoJCWNvbnN0IHNlZ21lbnRMZW5ndGhzOiBudW1iZXJbXSA9IFtdOwoJCWZvciAobGV0IGkgPSBxdWFydGVyQ291bnQgLSAxOyBpID49IC1xdWFydGVyQ291bnQgKyAxOyAtLWkpIHsKCQkJY29uc3QgYW5nbGUgPSBpICogaXRlbUFuZ2xlOwoJCQlzZWdtZW50TGVuZ3Rocy5wdXNoKGl0ZW1IZWlnaHQgKiBNYXRoLmNvcyhhbmdsZSAqIGRlZ1RvUmFkKSk7CgkJfQoJCWNvbnN0IHRvdGFsTGVuZ3RoID0gc2VnbWVudExlbmd0aHMucmVkdWNlKAoJCQkoYWNjLCBsZW4pID0+IGFjYyArIChsZW4gfHwgMCksCgkJCTAsCgkJKTsKCQljb25zdCBzdGFydE9mZnNldCA9IE1hdGgubWF4KDAsIChjb250YWluZXJIZWlnaHQgLSB0b3RhbExlbmd0aCkgLyAyKTsKCQlsZXQgcG9zaXRpb25BbG9uZ1doZWVsID0gc3RhcnRPZmZzZXQ7CgkJY29uc3QgcmFuZ2VzOiBbbnVtYmVyLCBudW1iZXJdW10gPSBbXTsKCQlmb3IgKGNvbnN0IGxlbmd0aCBvZiBzZWdtZW50TGVuZ3RocykgewoJCQljb25zdCBzdGFydCA9IHBvc2l0aW9uQWxvbmdXaGVlbDsKCQkJcG9zaXRpb25BbG9uZ1doZWVsICs9IGxlbmd0aCB8fCAwOwoJCQlyYW5nZXMucHVzaChbc3RhcnQsIHBvc2l0aW9uQWxvbmdXaGVlbF0pOwoJCX0KCQlpZiAoIXJhbmdlcy5sZW5ndGgpIHJldHVybiByYW5nZXM7CgkJY29uc3QgZmlyc3QgPSByYW5nZXNbMF07CgkJY29uc3QgbGFzdCA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV07CgkJaWYgKGZpcnN0KSByYW5nZXNbMF0gPSBbMCwgZmlyc3RbMV1dOwoJCWlmIChsYXN0KSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdID0gW2xhc3RbMF0sIGNvbnRhaW5lckhlaWdodF07CgkJcmV0dXJuIHJhbmdlczsKCX0sIFtpdGVtQW5nbGUsIGl0ZW1IZWlnaHQsIHF1YXJ0ZXJDb3VudCwgY29udGFpbmVySGVpZ2h0XSk7CgoJY29uc3QgdXBkYXRlU2Nyb2xsRHVyaW5nRHJhZyA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4gewoJCQl0cnkgewoJCQkJY29uc3QgY3VycmVudFkgPQoJCQkJCShlIGluc3RhbmNlb2YgTW91c2VFdmVudCA/IGUuY2xpZW50WSA6IGUudG91Y2hlcz8uWzBdPy5jbGllbnRZKSB8fCAwOwoJCQkJY29uc3QgdG91Y2hEYXRhID0gdG91Y2hEYXRhUmVmLmN1cnJlbnQ7CgkJCQlpZiAodG91Y2hEYXRhLmlzQ2xpY2spIHsKCQkJCQljb25zdCBkcmFnVGhyZXNob2xkID0gNTsKCQkJCQlpZiAoTWF0aC5hYnMoY3VycmVudFkgLSB0b3VjaERhdGEuc3RhcnRZKSA+IGRyYWdUaHJlc2hvbGQpCgkJCQkJCXRvdWNoRGF0YS5pc0NsaWNrID0gZmFsc2U7CgkJCQl9CgkJCQl0b3VjaERhdGEueUxpc3QucHVzaChbY3VycmVudFksIERhdGUubm93KCldKTsKCQkJCWlmICh0b3VjaERhdGEueUxpc3QubGVuZ3RoID4gNSkgdG91Y2hEYXRhLnlMaXN0LnNoaWZ0KCk7CgkJCQljb25zdCBkcmFnRGVsdGEgPSAodG91Y2hEYXRhLnN0YXJ0WSAtIGN1cnJlbnRZKSAvIGl0ZW1IZWlnaHQ7CgkJCQlsZXQgbmV4dFNjcm9sbCA9IHNjcm9sbFJlZi5jdXJyZW50ICsgZHJhZ0RlbHRhOwoJCQkJaWYgKGluZmluaXRlKSB7CgkJCQkJbmV4dFNjcm9sbCA9IG5vcm1hbGl6ZVNjcm9sbChuZXh0U2Nyb2xsKTsKCQkJCX0gZWxzZSB7CgkJCQkJY29uc3QgbWF4SW5kZXggPSBvcHRpb25zLmxlbmd0aDsKCQkJCQlpZiAobmV4dFNjcm9sbCA8IDApIG5leHRTY3JvbGwgKj0gUkVTSVNUQU5DRTsKCQkJCQllbHNlIGlmIChuZXh0U2Nyb2xsID4gbWF4SW5kZXgpCgkJCQkJCW5leHRTY3JvbGwgPSBtYXhJbmRleCArIChuZXh0U2Nyb2xsIC0gbWF4SW5kZXgpICogUkVTSVNUQU5DRTsKCQkJCX0KCQkJCXRvdWNoRGF0YS50b3VjaFNjcm9sbCA9IHNjcm9sbFRvKG5leHRTY3JvbGwpOwoJCQl9IGNhdGNoIHt9CgkJfSwKCQlbaXRlbUhlaWdodCwgaW5maW5pdGUsIG9wdGlvbnMubGVuZ3RoLCBub3JtYWxpemVTY3JvbGwsIHNjcm9sbFRvXSwKCSk7CgoJY29uc3QgaGFuZGxlRHJhZ01vdmVFdmVudCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHsKCQkJaWYgKAoJCQkJIWRyYWdnaW5nUmVmLmN1cnJlbnQgJiYKCQkJCSFjb250YWluZXJSZWYuY3VycmVudD8uY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpICYmCgkJCQlldmVudC50YXJnZXQgIT09IGNvbnRhaW5lclJlZi5jdXJyZW50CgkJCSkgewoJCQkJcmV0dXJuOwoJCQl9CgkJCWRyYWdnaW5nUmVmLmN1cnJlbnQgPSB0cnVlOwoJCQl1cGRhdGVTY3JvbGxEdXJpbmdEcmFnKGV2ZW50KTsKCQl9LAoJCVt1cGRhdGVTY3JvbGxEdXJpbmdEcmFnXSwKCSk7CgoJY29uc3QgaW5pdGlhdGVEcmFnR2VzdHVyZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHsKCQkJaWYgKGhhc0FjdGl2ZUdlc3R1cmVSZWYuY3VycmVudCkgcmV0dXJuOwoJCQljYW5jZWxBbmltYXRpb24oKTsKCQkJY29uc3QgdG91Y2hEYXRhID0gdG91Y2hEYXRhUmVmLmN1cnJlbnQ7CgkJCWNvbnN0IHN0YXJ0WSA9CgkJCQlldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQKCQkJCQk/IGV2ZW50LmNsaWVudFkKCQkJCQk6IGV2ZW50LnRvdWNoZXM/LlswXT8uY2xpZW50WSB8fCAwOwoJCQl0b3VjaERhdGEuc3RhcnRZID0gc3RhcnRZOwoJCQl0b3VjaERhdGEueUxpc3QgPSBbXTsKCQkJdG91Y2hEYXRhLmlzQ2xpY2sgPSB0cnVlOwoJCQl0b3VjaERhdGEudG91Y2hTY3JvbGwgPSBzY3JvbGxSZWYuY3VycmVudDsKCQkJaGFzQWN0aXZlR2VzdHVyZVJlZi5jdXJyZW50ID0gdHJ1ZTsKCQkJZHJhZ2dpbmdSZWYuY3VycmVudCA9IHRydWU7CgkJCXNldElzRHJhZ2dpbmcodHJ1ZSk7CgoJCQljb25zdCBwYXNzaXZlT3B0cyA9IHsgcGFzc2l2ZTogZmFsc2UgfSBhcyBjb25zdDsKCQkJY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTsKCQkJZHJhZ0NvbnRyb2xsZXJSZWYuY3VycmVudCA9IGNvbnRyb2xsZXI7CgkJCWNvbnN0IG9uTW91c2VNb3ZlID0gKGU6IE1vdXNlRXZlbnQpID0+IGhhbmRsZURyYWdNb3ZlRXZlbnQoZSk7CgkJCWNvbnN0IG9uVG91Y2hNb3ZlID0gKGU6IFRvdWNoRXZlbnQpID0+IGhhbmRsZURyYWdNb3ZlRXZlbnQoZSk7CgkJCWNvbnN0IG9uTW91c2VMZWF2ZSA9ICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKTsKCQkJY29uc3Qgb25Ub3VjaENhbmNlbCA9ICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKTsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIHBhc3NpdmVPcHRzKTsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIHBhc3NpdmVPcHRzKTsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTW91c2VMZWF2ZSwgcGFzc2l2ZU9wdHMpOwoJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIG9uVG91Y2hDYW5jZWwsIHBhc3NpdmVPcHRzKTsKCQkJY29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB7CgkJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CgkJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7CgkJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25Nb3VzZUxlYXZlKTsKCQkJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgb25Ub3VjaENhbmNlbCk7CgkJCQlkcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7CgkJCQloYXNBY3RpdmVHZXN0dXJlUmVmLmN1cnJlbnQgPSBmYWxzZTsKCQkJCXNldElzRHJhZ2dpbmcoZmFsc2UpOwoJCQl9KTsKCQl9LAoJCVtjYW5jZWxBbmltYXRpb24sIGhhbmRsZURyYWdNb3ZlRXZlbnRdLAoJKTsKCgljb25zdCBoYW5kbGVXaGVlbEl0ZW1DbGljayA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShjbGllbnRZOiBudW1iZXIpID0+IHsKCQkJY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJCWlmICghY29udGFpbmVyKSByZXR1cm47CgkJCWNvbnN0IHsgdG9wLCBoZWlnaHQgfSA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJY29uc3QgY2xpY2tPZmZzZXRZID0gY2xpZW50WSAtIHRvcDsKCQkJY29uc3QgY2xpY2tlZFNlZ21lbnRJbmRleCA9IHdoZWVsU2VnbWVudFBvc2l0aW9ucy5maW5kSW5kZXgoCgkJCQkoW3N0YXJ0LCBlbmRdKSA9PiBjbGlja09mZnNldFkgPj0gc3RhcnQgJiYgY2xpY2tPZmZzZXRZIDw9IGVuZCwKCQkJKTsKCQkJaWYgKGNsaWNrZWRTZWdtZW50SW5kZXggIT09IC0xKSB7CgkJCQljb25zdCBzdGVwc1RvU2Nyb2xsID0gKHF1YXJ0ZXJDb3VudCAtIGNsaWNrZWRTZWdtZW50SW5kZXggLSAxKSAqIC0xOwoJCQkJc2Nyb2xsQnlTdGVwKHN0ZXBzVG9TY3JvbGwpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCWNvbnN0IHJlbGF0aXZlT2Zmc2V0ID0gY2xpY2tPZmZzZXRZIC0gaGVpZ2h0IC8gMjsKCQkJY29uc3QgYXBwcm94aW1hdGVTdGVwcyA9IE1hdGgucm91bmQocmVsYXRpdmVPZmZzZXQgLyBpdGVtSGVpZ2h0KTsKCQkJaWYgKGFwcHJveGltYXRlU3RlcHMgIT09IDApIHNjcm9sbEJ5U3RlcChhcHByb3hpbWF0ZVN0ZXBzKTsKCQl9LAoJCVt3aGVlbFNlZ21lbnRQb3NpdGlvbnMsIHF1YXJ0ZXJDb3VudCwgc2Nyb2xsQnlTdGVwLCBpdGVtSGVpZ2h0XSwKCSk7CgoJY29uc3QgZGVjZWxlcmF0ZUFuZEFuaW1hdGVTY3JvbGwgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoaW5pdGlhbFZlbG9jaXR5OiBudW1iZXIpID0+IHsKCQkJY29uc3QgY3VycmVudFNjcm9sbCA9IHNjcm9sbFJlZi5jdXJyZW50OwoJCQlsZXQgdGFyZ2V0U2Nyb2xsID0gY3VycmVudFNjcm9sbDsKCQkJbGV0IGRlY2VsZXJhdGlvbiA9CgkJCQlpbml0aWFsVmVsb2NpdHkgPiAwID8gLWJhc2VEZWNlbGVyYXRpb24gOiBiYXNlRGVjZWxlcmF0aW9uOwoJCQlsZXQgZHVyYXRpb24gPSAwOwoKCQkJaWYgKGluZmluaXRlKSB7CgkJCQlkdXJhdGlvbiA9IE1hdGguYWJzKGluaXRpYWxWZWxvY2l0eSAvIGRlY2VsZXJhdGlvbik7CgkJCQljb25zdCBzY3JvbGxEaXN0YW5jZSA9CgkJCQkJaW5pdGlhbFZlbG9jaXR5ICogZHVyYXRpb24gKyAwLjUgKiBkZWNlbGVyYXRpb24gKiBkdXJhdGlvbiAqIGR1cmF0aW9uOwoJCQkJdGFyZ2V0U2Nyb2xsID0gTWF0aC5yb3VuZChjdXJyZW50U2Nyb2xsICsgc2Nyb2xsRGlzdGFuY2UpOwoJCQl9IGVsc2UgaWYgKGN1cnJlbnRTY3JvbGwgPCAwIHx8IGN1cnJlbnRTY3JvbGwgPiBvcHRpb25zLmxlbmd0aCAtIDEpIHsKCQkJCWNvbnN0IHRhcmdldCA9IGNsYW1wKGN1cnJlbnRTY3JvbGwsIDAsIE1hdGgubWF4KDAsIG9wdGlvbnMubGVuZ3RoIC0gMSkpOwoJCQkJY29uc3Qgc2Nyb2xsRGlzdGFuY2UgPSBjdXJyZW50U2Nyb2xsIC0gdGFyZ2V0OwoJCQkJZGVjZWxlcmF0aW9uID0gc25hcEJhY2tEZWNlbGVyYXRpb247CgkJCQlkdXJhdGlvbiA9IE1hdGguc3FydChNYXRoLmFicyhzY3JvbGxEaXN0YW5jZSAvIGRlY2VsZXJhdGlvbikpOwoJCQkJaW5pdGlhbFZlbG9jaXR5ID0gZGVjZWxlcmF0aW9uICogZHVyYXRpb247CgkJCQlpbml0aWFsVmVsb2NpdHkgPQoJCQkJCWN1cnJlbnRTY3JvbGwgPiAwID8gLWluaXRpYWxWZWxvY2l0eSA6IGluaXRpYWxWZWxvY2l0eTsKCQkJCXRhcmdldFNjcm9sbCA9IHRhcmdldDsKCQkJfSBlbHNlIHsKCQkJCWR1cmF0aW9uID0gTWF0aC5hYnMoaW5pdGlhbFZlbG9jaXR5IC8gZGVjZWxlcmF0aW9uKTsKCQkJCWNvbnN0IHNjcm9sbERpc3RhbmNlID0KCQkJCQlpbml0aWFsVmVsb2NpdHkgKiBkdXJhdGlvbiArIDAuNSAqIGRlY2VsZXJhdGlvbiAqIGR1cmF0aW9uICogZHVyYXRpb247CgkJCQl0YXJnZXRTY3JvbGwgPSBNYXRoLnJvdW5kKGN1cnJlbnRTY3JvbGwgKyBzY3JvbGxEaXN0YW5jZSk7CgkJCQl0YXJnZXRTY3JvbGwgPSBjbGFtcCh0YXJnZXRTY3JvbGwsIDAsIE1hdGgubWF4KDAsIG9wdGlvbnMubGVuZ3RoIC0gMSkpOwoJCQkJY29uc3QgYWRqdXN0ZWREaXN0YW5jZSA9IHRhcmdldFNjcm9sbCAtIGN1cnJlbnRTY3JvbGw7CgkJCQlkdXJhdGlvbiA9IE1hdGguc3FydChNYXRoLmFicyhhZGp1c3RlZERpc3RhbmNlIC8gZGVjZWxlcmF0aW9uKSk7CgkJCX0KCgkJCWFuaW1hdGVTY3JvbGwoY3VycmVudFNjcm9sbCwgdGFyZ2V0U2Nyb2xsLCBkdXJhdGlvbiwgKCkgPT4gewoJCQkJc2VsZWN0QnlTY3JvbGwoc2Nyb2xsUmVmLmN1cnJlbnQpOwoJCQl9KTsKCQl9LAoJCVtpbmZpbml0ZSwgb3B0aW9ucy5sZW5ndGgsIGFuaW1hdGVTY3JvbGwsIHNlbGVjdEJ5U2Nyb2xsXSwKCSk7CgoJY29uc3QgZmluYWxpemVEcmFnQW5kU3RhcnRJbmVydGlhU2Nyb2xsID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCXRyeSB7CgkJCWRyYWdDb250cm9sbGVyUmVmLmN1cnJlbnQ/LmFib3J0KCk7CgkJCWRyYWdDb250cm9sbGVyUmVmLmN1cnJlbnQgPSBudWxsOwoJCQljb25zdCB0b3VjaERhdGEgPSB0b3VjaERhdGFSZWYuY3VycmVudDsKCQkJaWYgKHRvdWNoRGF0YS5pc0NsaWNrKSB7CgkJCQloYW5kbGVXaGVlbEl0ZW1DbGljayh0b3VjaERhdGEuc3RhcnRZKTsKCQkJCXJldHVybjsKCQkJfQoJCQljb25zdCB5TGlzdCA9IHRvdWNoRGF0YS55TGlzdDsKCQkJbGV0IHZlbG9jaXR5ID0gMDsKCQkJaWYgKHlMaXN0Lmxlbmd0aCA+IDEpIHsKCQkJCWNvbnN0IGxlbiA9IHlMaXN0Lmxlbmd0aDsKCQkJCWNvbnN0IFtzdGFydFksIHN0YXJ0VGltZV0gPSB5TGlzdFtsZW4gLSAyXSA/PyBbMCwgMF07CgkJCQljb25zdCBbZW5kWSwgZW5kVGltZV0gPSB5TGlzdFtsZW4gLSAxXSA/PyBbMCwgMF07CgkJCQljb25zdCB0aW1lRGlmZiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7CgkJCQlpZiAodGltZURpZmYgPiAwKSB7CgkJCQkJY29uc3QgZGlzdGFuY2UgPSBzdGFydFkgLSBlbmRZOwoJCQkJCWNvbnN0IHZlbG9jaXR5UGVyU2Vjb25kID0gKChkaXN0YW5jZSAvIGl0ZW1IZWlnaHQpICogMTAwMCkgLyB0aW1lRGlmZjsKCQkJCQljb25zdCBkaXJlY3Rpb24gPSB2ZWxvY2l0eVBlclNlY29uZCA+IDAgPyAxIDogLTE7CgkJCQkJY29uc3QgYWJzVmVsb2NpdHkgPSBNYXRoLm1pbigKCQkJCQkJTWF0aC5hYnModmVsb2NpdHlQZXJTZWNvbmQpLAoJCQkJCQlNQVhfVkVMT0NJVFksCgkJCQkJKTsKCQkJCQl2ZWxvY2l0eSA9IGFic1ZlbG9jaXR5ICogZGlyZWN0aW9uOwoJCQkJfQoJCQl9CgkJCXNjcm9sbFJlZi5jdXJyZW50ID0gdG91Y2hEYXRhLnRvdWNoU2Nyb2xsID8/IHNjcm9sbFJlZi5jdXJyZW50OwoJCQlkZWNlbGVyYXRlQW5kQW5pbWF0ZVNjcm9sbCh2ZWxvY2l0eSk7CgkJfSBmaW5hbGx5IHsKCQkJZHJhZ2dpbmdSZWYuY3VycmVudCA9IGZhbHNlOwoJCQloYXNBY3RpdmVHZXN0dXJlUmVmLmN1cnJlbnQgPSBmYWxzZTsKCQkJc2V0SXNEcmFnZ2luZyhmYWxzZSk7CgkJfQoJfSwgW2l0ZW1IZWlnaHQsIGhhbmRsZVdoZWVsSXRlbUNsaWNrLCBkZWNlbGVyYXRlQW5kQW5pbWF0ZVNjcm9sbF0pOwoKCWNvbnN0IGhhbmRsZURyYWdTdGFydEV2ZW50ID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7CgkJCWNvbnN0IGlzRHJhZ2dpbmcgPSBkcmFnZ2luZ1JlZi5jdXJyZW50OwoJCQljb25zdCBpc1RhcmdldFZhbGlkID0KCQkJCSEhY29udGFpbmVyUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKGUudGFyZ2V0IGFzIE5vZGUpIHx8CgkJCQllLnRhcmdldCA9PT0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJCWlmICgoaXNEcmFnZ2luZyB8fCBpc1RhcmdldFZhbGlkKSAmJiBlLmNhbmNlbGFibGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQ/LigpOwoJCQkJaWYgKG9wdGlvbnMubGVuZ3RoKSBpbml0aWF0ZURyYWdHZXN0dXJlKGUpOwoJCQl9CgkJfSwKCQlbaW5pdGlhdGVEcmFnR2VzdHVyZSwgb3B0aW9ucy5sZW5ndGhdLAoJKTsKCgljb25zdCBzY3JvbGxCeVdoZWVsID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBXaGVlbEV2ZW50KSA9PiB7CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCWNvbnN0IG5vdyA9IERhdGUubm93KCk7CgkJCWlmIChub3cgLSBsYXN0V2hlZWxUaW1lUmVmLmN1cnJlbnQgPCAxMDApIHJldHVybjsKCQkJY29uc3QgZGlyZWN0aW9uID0gTWF0aC5zaWduKGV2ZW50LmRlbHRhWSk7CgkJCWlmICghZGlyZWN0aW9uKSByZXR1cm47CgkJCWxhc3RXaGVlbFRpbWVSZWYuY3VycmVudCA9IG5vdzsKCQkJc2Nyb2xsQnlTdGVwKGRpcmVjdGlvbik7CgkJfSwKCQlbc2Nyb2xsQnlTdGVwXSwKCSk7CgoJY29uc3QgaGFuZGxlV2hlZWxFdmVudCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogV2hlZWxFdmVudCkgPT4gewoJCQlpZiAoIW9wdGlvbnMubGVuZ3RoIHx8ICFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuOwoJCQljb25zdCBpc0RyYWdnaW5nID0gZHJhZ2dpbmdSZWYuY3VycmVudDsKCQkJY29uc3QgaXNUYXJnZXRWYWxpZCA9CgkJCQljb250YWluZXJSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkgfHwKCQkJCWV2ZW50LnRhcmdldCA9PT0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJCWlmICgoaXNEcmFnZ2luZyB8fCBpc1RhcmdldFZhbGlkKSAmJiBldmVudC5jYW5jZWxhYmxlKSB7CgkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJc2Nyb2xsQnlXaGVlbChldmVudCk7CgkJCX0KCQl9LAoJCVtzY3JvbGxCeVdoZWVsLCBvcHRpb25zLmxlbmd0aF0sCgkpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJaWYgKCFjb250YWluZXIpIHJldHVybjsKCQljb25zdCBvcHRzID0geyBwYXNzaXZlOiBmYWxzZSB9IGFzIGNvbnN0OwoJCWNvbnN0IG9uVG91Y2hFbmQgPSAoZTogRXZlbnQpID0+IHsKCQkJaWYgKCFoYXNBY3RpdmVHZXN0dXJlUmVmLmN1cnJlbnQpIHJldHVybjsKCQkJZS5jYW5jZWxhYmxlICYmIGUucHJldmVudERlZmF1bHQoKTsKCQkJZmluYWxpemVEcmFnQW5kU3RhcnRJbmVydGlhU2Nyb2xsKCk7CgkJfTsKCQljb25zdCBvbk1vdXNlVXAgPSAoZTogRXZlbnQpID0+IHsKCQkJaWYgKCFoYXNBY3RpdmVHZXN0dXJlUmVmLmN1cnJlbnQpIHJldHVybjsKCQkJZS5jYW5jZWxhYmxlICYmIGUucHJldmVudERlZmF1bHQoKTsKCQkJZmluYWxpemVEcmFnQW5kU3RhcnRJbmVydGlhU2Nyb2xsKCk7CgkJfTsKCQljb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigKCQkJJ3RvdWNoc3RhcnQnLAoJCQloYW5kbGVEcmFnU3RhcnRFdmVudCBhcyAoZTogRXZlbnQpID0+IHZvaWQsCgkJCW9wdHMsCgkJKTsKCQljb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBvcHRzKTsKCQljb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigKCQkJJ3doZWVsJywKCQkJaGFuZGxlV2hlZWxFdmVudCBhcyAoZTogRXZlbnQpID0+IHZvaWQsCgkJCW9wdHMsCgkJKTsKCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKAoJCQknbW91c2Vkb3duJywKCQkJaGFuZGxlRHJhZ1N0YXJ0RXZlbnQgYXMgKGU6IEV2ZW50KSA9PiB2b2lkLAoJCQlvcHRzLAoJCSk7CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgb3B0cyk7CgkJcmV0dXJuICgpID0+IHsKCQkJY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoCgkJCQkndG91Y2hzdGFydCcsCgkJCQloYW5kbGVEcmFnU3RhcnRFdmVudCBhcyAoZTogRXZlbnQpID0+IHZvaWQsCgkJCSk7CgkJCWNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKAoJCQkJJ3RvdWNoZW5kJywKCQkJCW9uVG91Y2hFbmQgYXMgKGU6IEV2ZW50KSA9PiB2b2lkLAoJCQkpOwoJCQljb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigKCQkJCSd3aGVlbCcsCgkJCQloYW5kbGVXaGVlbEV2ZW50IGFzIChlOiBFdmVudCkgPT4gdm9pZCwKCQkJKTsKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigKCQkJCSdtb3VzZWRvd24nLAoJCQkJaGFuZGxlRHJhZ1N0YXJ0RXZlbnQgYXMgKGU6IEV2ZW50KSA9PiB2b2lkLAoJCQkpOwoJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwIGFzIChlOiBFdmVudCkgPT4gdm9pZCk7CgkJfTsKCX0sIFsKCQloYW5kbGVEcmFnU3RhcnRFdmVudCwKCQlmaW5hbGl6ZURyYWdBbmRTdGFydEluZXJ0aWFTY3JvbGwsCgkJaGFuZGxlV2hlZWxFdmVudCwKCV0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFvcHRpb25zLmxlbmd0aCkgcmV0dXJuOwoJCWNvbnN0IHZhbCA9IHNlbGVjdGVkVmFsdWUgPz8gb3B0aW9uc1swXT8udmFsdWU7CgkJaWYgKHZhbCAhPSBudWxsKSBzZWxlY3RCeVZhbHVlKHZhbCk7Cgl9LCBbc2VsZWN0ZWRWYWx1ZSwgb3B0aW9ucywgc2VsZWN0QnlWYWx1ZV0pOwoKCWNvbnN0IHJlbmRlcldoZWVsSXRlbXMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCBpdGVtczogUmVhY3QuUmVhY3ROb2RlW10gPSBbXTsKCQljb25zdCByZW5kZXJJdGVtID0gKG9wdDogT3B0aW9uTm9kZSwgaWR4OiBudW1iZXIsIGFuZ2xlOiBudW1iZXIpID0+ICgKCQkJPGxpCgkJCQlrZXk9e2lkeH0KCQkJCWRhdGEtaW5kZXg9e2lkeH0KCQkJCWNsYXNzTmFtZT17d2hlZWxQaWNrZXJUcmFja1RleHQoeyBzaXplIH0pfQoJCQkJc3R5bGU9e3sKCQkJCQlwb3NpdGlvbjogJ2Fic29sdXRlJywKCQkJCQl0b3A6IC1oYWxmSXRlbUhlaWdodCwKCQkJCQlsZWZ0OiAwLAoJCQkJCXdpZHRoOiAnMTAwJScsCgkJCQkJaGVpZ2h0OiBpdGVtSGVpZ2h0LAoJCQkJCVdlYmtpdEZvbnRTbW9vdGhpbmc6ICdzdWJwaXhlbC1hbnRpYWxpYXNlZCcsCgkJCQkJd2lsbENoYW5nZTogJ3Zpc2liaWxpdHknLAoJCQkJCXRyYW5zZm9ybTogYHJvdGF0ZVgoJHthbmdsZX1kZWcpIHRyYW5zbGF0ZVooJHtyYWRpdXN9cHgpYCwKCQkJCQl2aXNpYmlsaXR5OiAnaGlkZGVuJywKCQkJCX19CgkJCQlhcmlhLWhpZGRlbgoJCQk+CgkJCQl7b3B0Lm5vZGV9CgkJCTwvbGk+CgkJKTsKCgkJZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7CgkJCWNvbnN0IG9wdGlvbiA9IG9wdGlvbnNbaV07CgkJCWlmICghb3B0aW9uKSBjb250aW51ZTsKCQkJaXRlbXMucHVzaChyZW5kZXJJdGVtKG9wdGlvbiwgaSwgLWl0ZW1BbmdsZSAqIGkpKTsKCQl9CgoJCWlmIChpbmZpbml0ZSkgewoJCQlmb3IgKGxldCBpID0gMDsgaSA8IHF1YXJ0ZXJDb3VudDsgaSsrKSB7CgkJCQljb25zdCBwcmVwZW5kSW5kZXggPSAtaSAtIDE7CgkJCQljb25zdCBhcHBlbmRJbmRleCA9IGkgKyBvcHRpb25zLmxlbmd0aDsKCQkJCWNvbnN0IHByZXBlbmRPcHRpb24gPSBvcHRpb25zW29wdGlvbnMubGVuZ3RoIC0gaSAtIDFdOwoJCQkJY29uc3QgYXBwZW5kT3B0aW9uID0gb3B0aW9uc1tpXTsKCQkJCWlmIChwcmVwZW5kT3B0aW9uKSB7CgkJCQkJaXRlbXMudW5zaGlmdCgKCQkJCQkJcmVuZGVySXRlbShwcmVwZW5kT3B0aW9uLCBwcmVwZW5kSW5kZXgsIGl0ZW1BbmdsZSAqIChpICsgMSkpLAoJCQkJCSk7CgkJCQl9CgkJCQlpZiAoYXBwZW5kT3B0aW9uKSB7CgkJCQkJaXRlbXMucHVzaCgKCQkJCQkJcmVuZGVySXRlbShhcHBlbmRPcHRpb24sIGFwcGVuZEluZGV4LCAtaXRlbUFuZ2xlICogYXBwZW5kSW5kZXgpLAoJCQkJCSk7CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIGl0ZW1zOwoJfSwgWwoJCW9wdGlvbnMsCgkJaXRlbUFuZ2xlLAoJCWl0ZW1IZWlnaHQsCgkJaGFsZkl0ZW1IZWlnaHQsCgkJcmFkaXVzLAoJCXNpemUsCgkJcXVhcnRlckNvdW50LAoJCWluZmluaXRlLAoJXSk7CgoJY29uc3QgcmVuZGVySGlnaGxpZ2h0SXRlbXMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCBpdGVtcyA9IG9wdGlvbnMubWFwKChvcHQpID0+ICgKCQkJPEFyaWFraXQuQ29tcG9zaXRlSXRlbQoJCQkJc3RvcmU9e2NvbXBvc2l0ZX0KCQkJCWtleT17b3B0LnZhbHVlfQoJCQkJaWQ9e2Ake2luc3RhbmNlUHJlZml4fS0ke29wdC52YWx1ZX1gfQoJCQkJY2xhc3NOYW1lPXt3aGVlbFBpY2tlckhpZ2hsaWdodFRleHQoeyBzaXplIH0pfQoJCQkJc3R5bGU9e3sgaGVpZ2h0OiBpdGVtSGVpZ2h0IH19CgkJCT4KCQkJCXtvcHQubm9kZX0KCQkJPC9Bcmlha2l0LkNvbXBvc2l0ZUl0ZW0+CgkJKSk7CgkJaWYgKGluZmluaXRlICYmIG9wdGlvbnMubGVuZ3RoKSB7CgkJCWl0ZW1zLnVuc2hpZnQoCgkJCQk8bGkKCQkJCQlrZXk9ImluZmluaXRlLXN0YXJ0IgoJCQkJCWNsYXNzTmFtZT17d2hlZWxQaWNrZXJIaWdobGlnaHRUZXh0KHsgc2l6ZSB9KX0KCQkJCQlzdHlsZT17eyBoZWlnaHQ6IGl0ZW1IZWlnaHQgfX0KCQkJCT4KCQkJCQl7b3B0aW9uc1tvcHRpb25zLmxlbmd0aCAtIDFdPy5ub2RlfQoJCQkJPC9saT4sCgkJCSk7CgkJCWl0ZW1zLnB1c2goCgkJCQk8bGkKCQkJCQlrZXk9ImluZmluaXRlLWVuZCIKCQkJCQljbGFzc05hbWU9e3doZWVsUGlja2VySGlnaGxpZ2h0VGV4dCh7IHNpemUgfSl9CgkJCQkJc3R5bGU9e3sgaGVpZ2h0OiBpdGVtSGVpZ2h0IH19CgkJCQk+CgkJCQkJe29wdGlvbnNbMF0/Lm5vZGV9CgkJCQk8L2xpPiwKCQkJKTsKCQl9CgkJcmV0dXJuIGl0ZW1zOwoJfSwgW29wdGlvbnMsIGluZmluaXRlLCBzaXplLCBpdGVtSGVpZ2h0LCBpbnN0YW5jZVByZWZpeCwgY29tcG9zaXRlXSk7CgoJY29uc3Qgcm9vdENsYXNzTmFtZSA9IGdyb3VwZWQKCQk/IGNuKAoJCQkJJ25vdC1wcm9zZSByZWxhdGl2ZSBpc29sYXRlIGZsZXgtbm9uZSBtaW4tdy0wIG92ZXJmbG93LWhpZGRlbiBiZy10cmFuc3BhcmVudCBzaGFkb3ctbm9uZScsCgkJCQl3aGVlbFBpY2tlclNpemVDb25maWdbc2l6ZV0/LndpZHRoQ2xhc3MsCgkJCQlkaXNhYmxlZCAmJiAncG9pbnRlci1ldmVudHMtbm9uZSBjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQljbGFzc05hbWUsCgkJCSkKCQk6IGNuKHdoZWVsUGlja2VyVmFyaWFudHMoeyBzaXplLCBkaXNhYmxlZCB9KSwgY2xhc3NOYW1lKTsKCgljb25zdCBhY3RpdmVJbmRleCA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gb3B0aW9ucy5maW5kSW5kZXgoKG8pID0+IG8udmFsdWUgPT09IHNlbGVjdGVkVmFsdWUpLAoJCVtvcHRpb25zLCBzZWxlY3RlZFZhbHVlXSwKCSk7Cgljb25zdCBhY3RpdmVJZCA9CgkJYWN0aXZlSW5kZXggPj0gMCAmJiBvcHRpb25zW2FjdGl2ZUluZGV4XQoJCQk/IGAke2luc3RhbmNlUHJlZml4fS0ke29wdGlvbnNbYWN0aXZlSW5kZXhdPy52YWx1ZX1gCgkJCTogdW5kZWZpbmVkOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFhY3RpdmVJZCkgcmV0dXJuOwoJCWlmIChjb21wb3NpdGUuZ2V0U3RhdGUoKS5hY3RpdmVJZCAhPT0gYWN0aXZlSWQpCgkJCWNvbXBvc2l0ZS5zZXRBY3RpdmVJZChhY3RpdmVJZCk7Cgl9LCBbYWN0aXZlSWQsIGNvbXBvc2l0ZV0pOwoKCWNvbnN0IGFyaWFraXRBY3RpdmVJZCA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShjb21wb3NpdGUsIChzKSA9PiBzLmFjdGl2ZUlkKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICghYXJpYWtpdEFjdGl2ZUlkKSByZXR1cm47CgkJY29uc3QgaWR4ID0gb3B0aW9ucy5maW5kSW5kZXgoCgkJCShvKSA9PiBgJHtpbnN0YW5jZVByZWZpeH0tJHtvLnZhbHVlfWAgPT09IGFyaWFraXRBY3RpdmVJZCwKCQkpOwoKCQlpZiAoaWR4IDwgMCkgcmV0dXJuOwoKCQljb25zdCBzdGFydCA9IHNjcm9sbFJlZi5jdXJyZW50OwoJCWxldCBlbmQgPSBpbmZpbml0ZSA/IGlkeCA6IGNsYW1wKGlkeCwgMCwgTWF0aC5tYXgoMCwgb3B0aW9ucy5sZW5ndGggLSAxKSk7CgoJCWlmIChpbmZpbml0ZSAmJiBvcHRpb25zLmxlbmd0aCkgewoJCQljb25zdCBsZW5ndGggPSBvcHRpb25zLmxlbmd0aDsKCQkJY29uc3QgZGlmZiA9IGVuZCAtIHN0YXJ0OwoJCQlpZiAoZGlmZiA+IGxlbmd0aCAvIDIpIGVuZCAtPSBsZW5ndGg7CgkJCWVsc2UgaWYgKGRpZmYgPCAtbGVuZ3RoIC8gMikgZW5kICs9IGxlbmd0aDsKCQl9CgoJCWlmIChzdGFydCA9PT0gZW5kKSB7CgkJCXNjcm9sbFJlZi5jdXJyZW50ID0gc2Nyb2xsVG8oZW5kKTsKCQkJc2VsZWN0QnlTY3JvbGwoc2Nyb2xsUmVmLmN1cnJlbnQpOwoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBkaXN0YW5jZSA9IE1hdGguYWJzKGVuZCAtIHN0YXJ0KTsKCQljb25zdCBkdXJhdGlvbiA9IE1hdGguc3FydChkaXN0YW5jZSAvIDUpOwoKCQljYW5jZWxBbmltYXRpb24oKTsKCQlhbmltYXRlU2Nyb2xsKHN0YXJ0LCBlbmQsIGR1cmF0aW9uLCAoKSA9PgoJCQlzZWxlY3RCeVNjcm9sbChzY3JvbGxSZWYuY3VycmVudCksCgkJKTsKCX0sIFsKCQlhcmlha2l0QWN0aXZlSWQsCgkJb3B0aW9ucywKCQlpbnN0YW5jZVByZWZpeCwKCQlpbmZpbml0ZSwKCQljYW5jZWxBbmltYXRpb24sCgkJYW5pbWF0ZVNjcm9sbCwKCQlzZWxlY3RCeVNjcm9sbCwKCQlzY3JvbGxUbywKCV0pOwoKCXJldHVybiAoCgkJPGRpdgoJCQl7Li4ucHJvcHN9CgkJCWNsYXNzTmFtZT17cm9vdENsYXNzTmFtZX0KCQkJYXJpYS1kaXNhYmxlZD17ZGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCT4KCQkJPEFyaWFraXQuQ29tcG9zaXRlCgkJCQlyZWY9e2NvbnRhaW5lclJlZn0KCQkJCXN0b3JlPXtjb21wb3NpdGV9CgkJCQlyb2xlPSJsaXN0Ym94IgoJCQkJYXJpYS1sYWJlbD17YXJpYUxhYmVsfQoJCQkJdGFiSW5kZXg9e2Rpc2FibGVkID8gLTEgOiAwfQoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQknZ3JvdXAvd2hlZWxwaWNrZXIgcmVsYXRpdmUgZmxleCBoLWZ1bGwgdy1mdWxsIHNlbGVjdC1ub25lIG91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQkJZGlzYWJsZWQKCQkJCQkJPyAnY3Vyc29yLW5vdC1hbGxvd2VkJwoJCQkJCQk6IGlzRHJhZ2dpbmcKCQkJCQkJCT8gJ2N1cnNvci1ncmFiYmluZycKCQkJCQkJCTogJ2N1cnNvci1ncmFiJywKCQkJCSl9CgkJCQlzdHlsZT17ewoJCQkJCWhlaWdodDogY29udGFpbmVySGVpZ2h0LAoJCQkJCXBlcnNwZWN0aXZlOiAnMjAwMHB4JywKCQkJCQl1c2VyU2VsZWN0OiAnbm9uZScsCgkJCQkJb3ZlcmZsb3c6ICdoaWRkZW4nLAoJCQkJCVdlYmtpdE1hc2tJbWFnZToKCQkJCQkJJ2xpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHRyYW5zcGFyZW50IDAlLCBibGFjayAyMCUsIGJsYWNrIDgwJSwgdHJhbnNwYXJlbnQgMTAwJSknLAoJCQkJCW1hc2tJbWFnZToKCQkJCQkJJ2xpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHRyYW5zcGFyZW50IDAlLCBibGFjayAyMCUsIGJsYWNrIDgwJSwgdHJhbnNwYXJlbnQgMTAwJSknLAoJCQkJfX0KCQkJPgoJCQkJPHVsCgkJCQkJcmVmPXt3aGVlbEl0ZW1zUmVmfQoJCQkJCXN0eWxlPXt7CgkJCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLAoJCQkJCQl0b3A6ICc1MCUnLAoJCQkJCQlsZWZ0OiAwLAoJCQkJCQlkaXNwbGF5OiAnYmxvY2snLAoJCQkJCQl3aWR0aDogJzEwMCUnLAoJCQkJCQloZWlnaHQ6IDAsCgkJCQkJCW1hcmdpbjogJzAgYXV0bycsCgkJCQkJCVdlYmtpdEZvbnRTbW9vdGhpbmc6ICdzdWJwaXhlbC1hbnRpYWxpYXNlZCcsCgkJCQkJCXdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLAoJCQkJCQliYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLAoJCQkJCQl0cmFuc2Zvcm1TdHlsZTogJ3ByZXNlcnZlLTNkJywKCQkJCQl9fQoJCQkJCWFyaWEtaGlkZGVuCgkJCQk+CgkJCQkJe3JlbmRlcldoZWVsSXRlbXN9CgkJCQk8L3VsPgoKCQkJCTxkaXYKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkncG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBsZWZ0LTAgdG9wLTEvMiB3LWZ1bGwgLXRyYW5zbGF0ZS15LTEvMiByb3VuZGVkLW5vbmUgYmctY2FyZCcsCgkJCQkJCWdyb3VwZWQgJiYgJ3JvdW5kZWQtbm9uZSBiZy10cmFuc3BhcmVudCcsCgkJCQkJKX0KCQkJCQlzdHlsZT17eyBoZWlnaHQ6IGl0ZW1IZWlnaHQsIGJvcmRlclJhZGl1czogZ3JvdXBlZCA/IDAgOiAnaW5oZXJpdCcgfX0KCQkJCQlhcmlhLWhpZGRlbgoJCQkJLz4KCgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJd2hlZWxQaWNrZXJIaWdobGlnaHRCYW5kKHsgc2l6ZSB9KSwKCQkJCQkJZ3JvdXBlZCAmJiAnbGVmdC0xIHJpZ2h0LTEgcm91bmRlZC1zbSB6LTQwJywKCQkJCQkpfQoJCQkJCXN0eWxlPXt7CgkJCQkJCW92ZXJmbG93OiAnY2xpcCcsCgkJCQkJCWhlaWdodDogaXRlbUhlaWdodCwKCQkJCQl9fQoJCQkJCXJlZj17aGlnaGxpZ2h0QmFuZFJlZn0KCQkJCT4KCQkJCQk8dWwKCQkJCQkJcmVmPXtoaWdobGlnaHRMaXN0UmVmfQoJCQkJCQljbGFzc05hbWU9Im0tMCB3LWZ1bGwgbGlzdC1ub25lIHAtMCIKCQkJCQkJc3R5bGU9e3sKCQkJCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLAoJCQkJCQkJd2lkdGg6ICcxMDAlJywKCQkJCQkJCXRvcDogaW5maW5pdGUgPyAtaXRlbUhlaWdodCAtIDEgOiAtMSwKCQkJCQkJCWxlZnQ6IDAsCgkJCQkJCQlwb2ludGVyRXZlbnRzOiAnbm9uZScsCgkJCQkJCQlvdmVyZmxvdzogJ3Zpc2libGUnLAoJCQkJCQkJc2Nyb2xsTWFyZ2luOiAnMHB4JywKCQkJCQkJfX0KCQkJCQk+CgkJCQkJCXtyZW5kZXJIaWdobGlnaHRJdGVtc30KCQkJCQk8L3VsPgoJCQkJPC9kaXY+CgkJCTwvQXJpYWtpdC5Db21wb3NpdGU+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGludGVyZmFjZSBXaGVlbFBpY2tlckl0ZW1Qcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwgJ3ZhbHVlJz4gewoJdmFsdWU6IHN0cmluZzsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgY29uc3QgV2hlZWxQaWNrZXJJdGVtOiBSZWFjdC5GQzxXaGVlbFBpY2tlckl0ZW1Qcm9wcz4gPSAoKSA9PiBudWxsOwoKZXhwb3J0IHR5cGUgeyBWYXJpYW50UHJvcHMgfTs="
,
  "pie-chart.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHR5cGUgeyBQaWVBcmNEYXR1bSB9IGZyb20gJ2QzLXNoYXBlJzsKaW1wb3J0IHsgYXJjLCBwaWUgfSBmcm9tICdkMy1zaGFwZSc7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgp0eXBlIENoYXJ0RGF0dW0gPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjsKCmNvbnN0IERFRkFVTFRfSEVJR0hUID0gMjgwOwpjb25zdCBERUZBVUxUX0NPTE9SUyA9IFsKCSd2YXIoLS1jb2xvci1jaGFydC0xKScsCgkndmFyKC0tY29sb3ItY2hhcnQtMiknLAoJJ3ZhcigtLWNvbG9yLWNoYXJ0LTMpJywKCSd2YXIoLS1jb2xvci1jaGFydC00KScsCgkndmFyKC0tY29sb3ItY2hhcnQtNSknLApdIGFzIGNvbnN0OwoKZXhwb3J0IHR5cGUgUGllQ2hhcnRTbGljZTxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPiA9IHsKCWlkOiBzdHJpbmc7CglkYXR1bTogVERhdGE7Cgl2YWx1ZTogbnVtYmVyOwoJbGFiZWw6IHN0cmluZzsKCWNvbG9yOiBzdHJpbmc7CglpbmRleDogbnVtYmVyOwoJcGVyY2VudGFnZTogbnVtYmVyOwp9OwoKaW50ZXJmYWNlIFBpZUNoYXJ0Q29udGV4dFZhbHVlPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bT4gewoJc2xpY2VzOiBQaWVDaGFydFNsaWNlPFREYXRhPltdOwoJdG90YWw6IG51bWJlcjsKCWZvcm1hdExhYmVsOiAoc2xpY2U6IFBpZUNoYXJ0U2xpY2U8VERhdGE+KSA9PiBSZWFjdC5SZWFjdE5vZGU7Cglmb3JtYXRWYWx1ZTogKHNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPikgPT4gUmVhY3QuUmVhY3ROb2RlOwoJdmFsdWVMYWJlbDogc3RyaW5nOwoJYWN0aXZlU2xpY2VJZDogc3RyaW5nIHwgbnVsbDsKCXNldEFjdGl2ZVNsaWNlSWQ6IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDsKfQoKY29uc3QgUGllQ2hhcnRDb250ZXh0ID0KCVJlYWN0LmNyZWF0ZUNvbnRleHQ8UGllQ2hhcnRDb250ZXh0VmFsdWU8Q2hhcnREYXR1bT4gfCBudWxsPihudWxsKTsKCmNvbnN0IFBJRV9DSEFSVF9BQ1RJT05TX01BUktFUiA9IFN5bWJvbCgnUGllQ2hhcnRBY3Rpb25zJyk7CmNvbnN0IFBJRV9DSEFSVF9USVRMRV9NQVJLRVIgPSBTeW1ib2woJ1BpZUNoYXJ0VGl0bGUnKTsKY29uc3QgUElFX0NIQVJUX0RFU0NSSVBUSU9OX01BUktFUiA9IFN5bWJvbCgnUGllQ2hhcnREZXNjcmlwdGlvbicpOwoKZXhwb3J0IGZ1bmN0aW9uIHVzZVBpZUNoYXJ0Q29udGV4dDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPigpIHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KAoJCVBpZUNoYXJ0Q29udGV4dCwKCSkgYXMgUGllQ2hhcnRDb250ZXh0VmFsdWU8VERhdGE+IHwgbnVsbDsKCglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoCgkJCSd1c2VQaWVDaGFydENvbnRleHQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIDxQaWVDaGFydD4gY29tcG9uZW50LicsCgkJKTsKCX0KCglyZXR1cm4gY29udGV4dDsKfQoKZnVuY3Rpb24gZ2V0TnVtZXJpY1ZhbHVlKGlucHV0OiB1bmtub3duKTogbnVtYmVyIHsKCWlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShpbnB1dCkpIHsKCQlyZXR1cm4gaW5wdXQ7Cgl9CglpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykgewoJCWNvbnN0IHBhcnNlZCA9IE51bWJlci5wYXJzZUZsb2F0KGlucHV0KTsKCQlpZiAoTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkpIHsKCQkJcmV0dXJuIHBhcnNlZDsKCQl9Cgl9CglyZXR1cm4gMDsKfQoKZnVuY3Rpb24gcmVzb2x2ZVJhZGl1cygKCXZhbHVlOiBudW1iZXIgfCBzdHJpbmcgfCB1bmRlZmluZWQsCgliYXNlOiBudW1iZXIsCglkZWZhdWx0VmFsdWU6IG51bWJlciwKKTogbnVtYmVyIHsKCWlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHsKCQlyZXR1cm4gTWF0aC5tYXgoMCwgdmFsdWUpOwoJfQoJaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHsKCQljb25zdCB0cmltbWVkID0gdmFsdWUudHJpbSgpOwoJCWlmICh0cmltbWVkLmVuZHNXaXRoKCclJykpIHsKCQkJY29uc3QgcGVyY2VudGFnZSA9IE51bWJlci5wYXJzZUZsb2F0KHRyaW1tZWQuc2xpY2UoMCwgLTEpKTsKCQkJaWYgKE51bWJlci5pc0Zpbml0ZShwZXJjZW50YWdlKSkgewoJCQkJcmV0dXJuIE1hdGgubWF4KDAsIChwZXJjZW50YWdlIC8gMTAwKSAqIGJhc2UpOwoJCQl9CgkJfQoJCWNvbnN0IG51bWVyaWMgPSBOdW1iZXIucGFyc2VGbG9hdCh0cmltbWVkKTsKCQlpZiAoTnVtYmVyLmlzRmluaXRlKG51bWVyaWMpKSB7CgkJCXJldHVybiBNYXRoLm1heCgwLCBudW1lcmljKTsKCQl9Cgl9CglyZXR1cm4gZGVmYXVsdFZhbHVlOwp9CgpmdW5jdGlvbiByZXNvbHZlU2xpY2VDb2xvcihwYWxldHRlOiByZWFkb25seSBzdHJpbmdbXSwgaW5kZXg6IG51bWJlcik6IHN0cmluZyB7CglpZiAocGFsZXR0ZS5sZW5ndGggPT09IDApIHsKCQljb25zdCBmYWxsYmFja0luZGV4ID0KCQkJREVGQVVMVF9DT0xPUlMubGVuZ3RoID4gMCA/IGluZGV4ICUgREVGQVVMVF9DT0xPUlMubGVuZ3RoIDogMDsKCQljb25zdCBjb2xvciA9IERFRkFVTFRfQ09MT1JTW2ZhbGxiYWNrSW5kZXhdOwoJCWlmIChjb2xvciA9PSBudWxsKSB7CgkJCXRocm93IG5ldyBFcnJvcigKCQkJCWBObyBmYWxsYmFjayBjb2xvciBmb3VuZCBmb3IgZmFsbGJhY2tJbmRleD0ke2ZhbGxiYWNrSW5kZXh9YCwKCQkJKTsKCQl9CgkJcmV0dXJuIGNvbG9yOwoJfQoJY29uc3QgcGFsZXR0ZUluZGV4ID0gcGFsZXR0ZS5sZW5ndGggPiAwID8gaW5kZXggJSBwYWxldHRlLmxlbmd0aCA6IDA7Cgljb25zdCBmYWxsYmFja0luZGV4ID0KCQlERUZBVUxUX0NPTE9SUy5sZW5ndGggPiAwID8gaW5kZXggJSBERUZBVUxUX0NPTE9SUy5sZW5ndGggOiAwOwoJY29uc3QgY29sb3IgPSBwYWxldHRlW3BhbGV0dGVJbmRleF0gPz8gREVGQVVMVF9DT0xPUlNbZmFsbGJhY2tJbmRleF07CglpZiAoY29sb3IgPT0gbnVsbCkgewoJCXRocm93IG5ldyBFcnJvcigKCQkJYE5vIGNvbG9yIGZvdW5kIGZvciBwYWxldHRlSW5kZXg9JHtwYWxldHRlSW5kZXh9LCBmYWxsYmFja0luZGV4PSR7ZmFsbGJhY2tJbmRleH1gLAoJCSk7Cgl9CglyZXR1cm4gY29sb3I7Cn0KCmZ1bmN0aW9uIHRvS2V5TGFiZWwoa2V5OiBzdHJpbmcpOiBzdHJpbmcgewoJY29uc3Qgd29yZHMgPSBrZXkKCQkucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgJyQxICQyJykKCQkucmVwbGFjZSgvW18tXSsvZywgJyAnKQoJCS5zcGxpdCgnICcpCgkJLm1hcCgocGFydCkgPT4gcGFydC50cmltKCkpCgkJLmZpbHRlcihCb29sZWFuKQoJCS5tYXAoKHBhcnQpID0+IHBhcnQuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHBhcnQuc2xpY2UoMSkpOwoJcmV0dXJuIHdvcmRzLmxlbmd0aCA/IHdvcmRzLmpvaW4oJyAnKSA6IGtleTsKfQoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydFByb3BzPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+CglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CglkYXRhOiBURGF0YVtdOwoJdmFsdWVLZXk6IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47CgluYW1lS2V5PzogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCWNvbG9ycz86IHJlYWRvbmx5IHN0cmluZ1tdOwoJc29ydFNsaWNlcz86IGJvb2xlYW4gfCAoKGE6IFREYXRhLCBiOiBURGF0YSkgPT4gbnVtYmVyKTsKCXZhbHVlRm9ybWF0dGVyPzogKAoJCXNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPiwKCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IHBlcmNlbnRhZ2U6IG51bWJlciB9LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7CglsYWJlbEZvcm1hdHRlcj86IChzbGljZTogUGllQ2hhcnRTbGljZTxURGF0YT4pID0+IFJlYWN0LlJlYWN0Tm9kZTsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpmdW5jdGlvbiBQaWVDaGFydFJvb3RJbm5lcjxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0+KAoJewoJCWRhdGEsCgkJdmFsdWVLZXksCgkJbmFtZUtleSwKCQljb2xvcnMgPSBERUZBVUxUX0NPTE9SUywKCQlzb3J0U2xpY2VzID0gZmFsc2UsCgkJdmFsdWVGb3JtYXR0ZXIsCgkJbGFiZWxGb3JtYXR0ZXIsCgkJY2xhc3NOYW1lLAoJCWNoaWxkcmVuLAoJCS4uLnJlc3QKCX06IFBpZUNoYXJ0UHJvcHM8VERhdGE+LAoJcmVmOiBSZWFjdC5Gb3J3YXJkZWRSZWY8SFRNTERpdkVsZW1lbnQ+LAopIHsKCWNvbnN0IFthY3RpdmVTbGljZUlkLCBzZXRBY3RpdmVTbGljZUlkXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpOwoKCWNvbnN0IHZhbHVlTGFiZWwgPSBSZWFjdC51c2VNZW1vKCgpID0+IHRvS2V5TGFiZWwodmFsdWVLZXkpLCBbdmFsdWVLZXldKTsKCgljb25zdCB7IHNsaWNlcywgdG90YWwgfSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IHBhbGV0dGUgPSBjb2xvcnMubGVuZ3RoID8gY29sb3JzIDogREVGQVVMVF9DT0xPUlM7CgoJCWNvbnN0IG1hcHBlZCA9IGRhdGEucmVkdWNlPFBpZUNoYXJ0U2xpY2U8VERhdGE+W10+KChhY2MsIGRhdHVtLCBpbmRleCkgPT4gewoJCQljb25zdCBudW1lcmljVmFsdWUgPSBNYXRoLm1heCgwLCBnZXROdW1lcmljVmFsdWUoZGF0dW1bdmFsdWVLZXldKSk7CgkJCWlmIChudW1lcmljVmFsdWUgPD0gMCkgcmV0dXJuIGFjYzsKCgkJCWNvbnN0IHJhd0xhYmVsID0KCQkJCW5hbWVLZXkgJiYgZGF0dW1bbmFtZUtleV0gIT0gbnVsbAoJCQkJCT8gU3RyaW5nKGRhdHVtW25hbWVLZXldKQoJCQkJCTogYFNsaWNlICR7aW5kZXggKyAxfWA7CgoJCQljb25zdCBjb2xvciA9IHJlc29sdmVTbGljZUNvbG9yKHBhbGV0dGUsIGluZGV4KTsKCgkJCWFjYy5wdXNoKHsKCQkJCWlkOiBgJHtyYXdMYWJlbH0tJHtpbmRleH1gLAoJCQkJZGF0dW0sCgkJCQl2YWx1ZTogbnVtZXJpY1ZhbHVlLAoJCQkJbGFiZWw6IHJhd0xhYmVsLAoJCQkJY29sb3IsCgkJCQlpbmRleCwKCQkJCXBlcmNlbnRhZ2U6IDAsCgkJCX0pOwoKCQkJcmV0dXJuIGFjYzsKCQl9LCBbXSk7CgoJCWNvbnN0IHNvcnRlZCA9ICgoKSA9PiB7CgkJCWlmICh0eXBlb2Ygc29ydFNsaWNlcyA9PT0gJ2Z1bmN0aW9uJykgewoJCQkJcmV0dXJuIFsuLi5tYXBwZWRdLnNvcnQoKGEsIGIpID0+IHNvcnRTbGljZXMoYS5kYXR1bSwgYi5kYXR1bSkpOwoJCQl9CgkJCWlmIChzb3J0U2xpY2VzKSB7CgkJCQlyZXR1cm4gWy4uLm1hcHBlZF0uc29ydCgoYSwgYikgPT4gYi52YWx1ZSAtIGEudmFsdWUpOwoJCQl9CgkJCXJldHVybiBtYXBwZWQ7CgkJfSkoKTsKCgkJY29uc3QgdG90YWxWYWx1ZSA9IHNvcnRlZC5yZWR1Y2UoKHN1bSwgc2xpY2UpID0+IHN1bSArIHNsaWNlLnZhbHVlLCAwKTsKCgkJY29uc3Qgd2l0aFBlcmNlbnRhZ2VzID0gc29ydGVkLm1hcDxQaWVDaGFydFNsaWNlPFREYXRhPj4oKHNsaWNlKSA9PiAoewoJCQkuLi5zbGljZSwKCQkJcGVyY2VudGFnZTogdG90YWxWYWx1ZSA+IDAgPyBzbGljZS52YWx1ZSAvIHRvdGFsVmFsdWUgOiAwLAoJCX0pKTsKCgkJcmV0dXJuIHsKCQkJc2xpY2VzOiB3aXRoUGVyY2VudGFnZXMsCgkJCXRvdGFsOiB0b3RhbFZhbHVlLAoJCX07Cgl9LCBbY29sb3JzLCBkYXRhLCBuYW1lS2V5LCBzb3J0U2xpY2VzLCB2YWx1ZUtleV0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFhY3RpdmVTbGljZUlkKSByZXR1cm47CgkJaWYgKCFzbGljZXMuc29tZSgoc2xpY2UpID0+IHNsaWNlLmlkID09PSBhY3RpdmVTbGljZUlkKSkgewoJCQlzZXRBY3RpdmVTbGljZUlkKG51bGwpOwoJCX0KCX0sIFthY3RpdmVTbGljZUlkLCBzbGljZXNdKTsKCgljb25zdCBmb3JtYXRMYWJlbCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzbGljZTogUGllQ2hhcnRTbGljZTxURGF0YT4pID0+IHsKCQkJaWYgKGxhYmVsRm9ybWF0dGVyKSByZXR1cm4gbGFiZWxGb3JtYXR0ZXIoc2xpY2UpOwoJCQlyZXR1cm4gc2xpY2UubGFiZWw7CgkJfSwKCQlbbGFiZWxGb3JtYXR0ZXJdLAoJKTsKCgljb25zdCBmb3JtYXRWYWx1ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzbGljZTogUGllQ2hhcnRTbGljZTxURGF0YT4pID0+IHsKCQkJaWYgKHZhbHVlRm9ybWF0dGVyKSB7CgkJCQlyZXR1cm4gdmFsdWVGb3JtYXR0ZXIoc2xpY2UsIHsKCQkJCQl0b3RhbCwKCQkJCQlwZXJjZW50YWdlOiBzbGljZS5wZXJjZW50YWdlLAoJCQkJfSk7CgkJCX0KCQkJcmV0dXJuIHNsaWNlLnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7CgkJfSwKCQlbdmFsdWVGb3JtYXR0ZXIsIHRvdGFsXSwKCSk7CgoJY29uc3QgY29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbzxQaWVDaGFydENvbnRleHRWYWx1ZTxURGF0YT4+KAoJCSgpID0+ICh7CgkJCXNsaWNlcywKCQkJdG90YWwsCgkJCWZvcm1hdExhYmVsLAoJCQlmb3JtYXRWYWx1ZSwKCQkJdmFsdWVMYWJlbCwKCQkJYWN0aXZlU2xpY2VJZCwKCQkJc2V0QWN0aXZlU2xpY2VJZCwKCQl9KSwKCQlbYWN0aXZlU2xpY2VJZCwgZm9ybWF0TGFiZWwsIGZvcm1hdFZhbHVlLCBzbGljZXMsIHRvdGFsLCB2YWx1ZUxhYmVsXSwKCSk7CgoJcmV0dXJuICgKCQk8UGllQ2hhcnRDb250ZXh0LlByb3ZpZGVyCgkJCXZhbHVlPXtjb250ZXh0VmFsdWUgYXMgUGllQ2hhcnRDb250ZXh0VmFsdWU8Q2hhcnREYXR1bT59CgkJPgoJCQk8ZGl2CgkJCQlyZWY9e3JlZn0KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ25vdC1wcm9zZSByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBzaGFkb3ctbWQgb3ZlcmZsb3ctaGlkZGVuJywKCQkJCQljbGFzc05hbWUsCgkJCQkpfQoJCQkJey4uLnJlc3R9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9kaXY+CgkJPC9QaWVDaGFydENvbnRleHQuUHJvdmlkZXI+CgkpOwp9Cgp0eXBlIFBpZUNoYXJ0Q29tcG9uZW50ID0gPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+KAoJcHJvcHM6IFBpZUNoYXJ0UHJvcHM8VERhdGE+ICYgeyByZWY/OiBSZWFjdC5SZWY8SFRNTERpdkVsZW1lbnQ+IH0sCikgPT4gUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbDsKCmNvbnN0IFBpZUNoYXJ0Um9vdCA9IFJlYWN0LmZvcndhcmRSZWYoUGllQ2hhcnRSb290SW5uZXIpIGFzIFBpZUNoYXJ0Q29tcG9uZW50OwoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydFRpdGxlUHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWFzPzogUmVhY3QuRWxlbWVudFR5cGU7Cn0KCnR5cGUgUGllQ2hhcnRUaXRsZUNvbXBvbmVudCA9IFJlYWN0LkZDPFBpZUNoYXJ0VGl0bGVQcm9wcz4gJiB7CglbUElFX0NIQVJUX1RJVExFX01BUktFUl06IHRydWU7Cn07CgpleHBvcnQgY29uc3QgUGllQ2hhcnRUaXRsZSA9ICgoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCWFzOiBDb21wb25lbnQgPSAnaDMnLAoJLi4ucHJvcHMKfTogUGllQ2hhcnRUaXRsZVByb3BzKSA9PiB7CglyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgKCQlDb21wb25lbnQsCgkJewoJCQljbGFzc05hbWU6IGNuKAoJCQkJJ25vdC1wcm9zZSB0ZXh0LWJhc2UgZm9udC1tZWRpdW0gbGVhZGluZy1ub25lIHRleHQtZm9yZWdyb3VuZCcsCgkJCQljbGFzc05hbWUsCgkJCSksCgkJCS4uLnByb3BzLAoJCX0sCgkJY2hpbGRyZW4sCgkpOwp9KSBhcyBQaWVDaGFydFRpdGxlQ29tcG9uZW50OwpQaWVDaGFydFRpdGxlLmRpc3BsYXlOYW1lID0gJ1BpZUNoYXJ0VGl0bGUnOwpQaWVDaGFydFRpdGxlW1BJRV9DSEFSVF9USVRMRV9NQVJLRVJdID0gdHJ1ZTsKCmV4cG9ydCBpbnRlcmZhY2UgUGllQ2hhcnREZXNjcmlwdGlvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgp0eXBlIFBpZUNoYXJ0RGVzY3JpcHRpb25Db21wb25lbnQgPSBSZWFjdC5GQzxQaWVDaGFydERlc2NyaXB0aW9uUHJvcHM+ICYgewoJW1BJRV9DSEFSVF9ERVNDUklQVElPTl9NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IFBpZUNoYXJ0RGVzY3JpcHRpb24gPSAoKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9OiBQaWVDaGFydERlc2NyaXB0aW9uUHJvcHMpID0+IHsKCXJldHVybiAoCgkJPHAKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgdGV4dC1zbSBsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvcD4KCSk7Cn0pIGFzIFBpZUNoYXJ0RGVzY3JpcHRpb25Db21wb25lbnQ7ClBpZUNoYXJ0RGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSAnUGllQ2hhcnREZXNjcmlwdGlvbic7ClBpZUNoYXJ0RGVzY3JpcHRpb25bUElFX0NIQVJUX0RFU0NSSVBUSU9OX01BUktFUl0gPSB0cnVlOwoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydEFjdGlvbnNQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKdHlwZSBQaWVDaGFydEFjdGlvbnNDb21wb25lbnQgPSBSZWFjdC5GQzxQaWVDaGFydEFjdGlvbnNQcm9wcz4gJiB7CglbUElFX0NIQVJUX0FDVElPTlNfTUFSS0VSXTogdHJ1ZTsKfTsKCmV4cG9ydCBjb25zdCBQaWVDaGFydEFjdGlvbnMgPSAoKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSA9ICcnLCAuLi5wcm9wcyB9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgc2VsZi1zdGFydCBzbTpzZWxmLWF1dG8nLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9KSBhcyBQaWVDaGFydEFjdGlvbnNDb21wb25lbnQ7ClBpZUNoYXJ0QWN0aW9ucy5kaXNwbGF5TmFtZSA9ICdQaWVDaGFydEFjdGlvbnMnOwpQaWVDaGFydEFjdGlvbnNbUElFX0NIQVJUX0FDVElPTlNfTUFSS0VSXSA9IHRydWU7CgpmdW5jdGlvbiBoYXNQaWVDaGFydE1hcmtlcigKCXRhcmdldDogdW5rbm93biwKCW1hcmtlcjogc3ltYm9sLAopOiB0YXJnZXQgaXMgeyBba2V5OiBzeW1ib2xdOiB1bmtub3duIH0gewoJaWYgKCF0YXJnZXQpIHJldHVybiBmYWxzZTsKCWlmICgKCQkodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JykgJiYKCQl0YXJnZXQgIT09IG51bGwgJiYKCQlSZWZsZWN0LmdldCh0YXJnZXQsIG1hcmtlcikKCSkgewoJCXJldHVybiB0cnVlOwoJfQoJaWYgKAoJCXR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnICYmCgkJdGFyZ2V0ICE9PSBudWxsICYmCgkJJ3R5cGUnIGluIHRhcmdldCAmJgoJCSh0YXJnZXQgYXMgeyB0eXBlPzogdW5rbm93biB9KS50eXBlCgkpIHsKCQlyZXR1cm4gaGFzUGllQ2hhcnRNYXJrZXIoKHRhcmdldCBhcyB7IHR5cGU/OiB1bmtub3duIH0pLnR5cGUsIG1hcmtlcik7Cgl9CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGNsb25lRWxlbWVudFdpdGhDbGFzc05hbWU8VFByb3BzIGV4dGVuZHMgeyBjbGFzc05hbWU/OiBzdHJpbmcgfT4oCgllbGVtZW50OiBSZWFjdC5SZWFjdEVsZW1lbnQ8VFByb3BzPiwKCWFkZGl0aW9uYWxDbGFzc05hbWU/OiBzdHJpbmcsCikgewoJaWYgKCFhZGRpdGlvbmFsQ2xhc3NOYW1lKSB7CgkJcmV0dXJuIGVsZW1lbnQ7Cgl9Cgljb25zdCBtZXJnZWRDbGFzc05hbWUgPSBjbihlbGVtZW50LnByb3BzLmNsYXNzTmFtZSwgYWRkaXRpb25hbENsYXNzTmFtZSk7CglyZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHsKCQljbGFzc05hbWU6IG1lcmdlZENsYXNzTmFtZSwKCX0gYXMgUGFydGlhbDxUUHJvcHM+ICYgUmVhY3QuQXR0cmlidXRlcyk7Cn0KCmZ1bmN0aW9uIGlzUGllQ2hhcnRBY3Rpb25zRWxlbWVudCgKCWNoaWxkOiBSZWFjdC5SZWFjdE5vZGUsCik6IGNoaWxkIGlzIFJlYWN0LlJlYWN0RWxlbWVudCB7CglpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuIGZhbHNlOwoJY29uc3QgeyB0eXBlIH0gPSBjaGlsZDsKCWlmICh0eXBlID09PSBQaWVDaGFydEFjdGlvbnMpIHJldHVybiB0cnVlOwoJaWYgKGhhc1BpZUNoYXJ0TWFya2VyKHR5cGUsIFBJRV9DSEFSVF9BQ1RJT05TX01BUktFUikpIHJldHVybiB0cnVlOwoJY29uc3QgZGlzcGxheU5hbWUgPQoJCXR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkKCQkJPyAodHlwZSBhcyB7IGRpc3BsYXlOYW1lPzogc3RyaW5nIH0pLmRpc3BsYXlOYW1lCgkJCTogdW5kZWZpbmVkOwoJcmV0dXJuIGRpc3BsYXlOYW1lID09PSBQaWVDaGFydEFjdGlvbnMuZGlzcGxheU5hbWU7Cn0KCmZ1bmN0aW9uIGlzUGllQ2hhcnRUaXRsZUVsZW1lbnQoCgljaGlsZDogUmVhY3QuUmVhY3ROb2RlLAopOiBjaGlsZCBpcyBSZWFjdC5SZWFjdEVsZW1lbnQ8UGllQ2hhcnRUaXRsZVByb3BzPiB7CglpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuIGZhbHNlOwoJY29uc3QgeyB0eXBlIH0gPSBjaGlsZDsKCWlmICh0eXBlID09PSBQaWVDaGFydFRpdGxlKSByZXR1cm4gdHJ1ZTsKCWlmIChoYXNQaWVDaGFydE1hcmtlcih0eXBlLCBQSUVfQ0hBUlRfVElUTEVfTUFSS0VSKSkgcmV0dXJuIHRydWU7Cgljb25zdCBkaXNwbGF5TmFtZSA9CgkJdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKQoJCQk/ICh0eXBlIGFzIHsgZGlzcGxheU5hbWU/OiBzdHJpbmcgfSkuZGlzcGxheU5hbWUKCQkJOiB1bmRlZmluZWQ7CglyZXR1cm4gZGlzcGxheU5hbWUgPT09IFBpZUNoYXJ0VGl0bGUuZGlzcGxheU5hbWU7Cn0KCmZ1bmN0aW9uIGlzUGllQ2hhcnREZXNjcmlwdGlvbkVsZW1lbnQoCgljaGlsZDogUmVhY3QuUmVhY3ROb2RlLAopOiBjaGlsZCBpcyBSZWFjdC5SZWFjdEVsZW1lbnQ8UGllQ2hhcnREZXNjcmlwdGlvblByb3BzPiB7CglpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuIGZhbHNlOwoJY29uc3QgeyB0eXBlIH0gPSBjaGlsZDsKCWlmICh0eXBlID09PSBQaWVDaGFydERlc2NyaXB0aW9uKSByZXR1cm4gdHJ1ZTsKCWlmIChoYXNQaWVDaGFydE1hcmtlcih0eXBlLCBQSUVfQ0hBUlRfREVTQ1JJUFRJT05fTUFSS0VSKSkgcmV0dXJuIHRydWU7Cgljb25zdCBkaXNwbGF5TmFtZSA9CgkJdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKQoJCQk/ICh0eXBlIGFzIHsgZGlzcGxheU5hbWU/OiBzdHJpbmcgfSkuZGlzcGxheU5hbWUKCQkJOiB1bmRlZmluZWQ7CglyZXR1cm4gZGlzcGxheU5hbWUgPT09IFBpZUNoYXJ0RGVzY3JpcHRpb24uZGlzcGxheU5hbWU7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgUGllQ2hhcnRIZWFkZXJQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY29udGVudENsYXNzTmFtZT86IHN0cmluZzsKCXRpdGxlQ2xhc3NOYW1lPzogc3RyaW5nOwoJZGVzY3JpcHRpb25DbGFzc05hbWU/OiBzdHJpbmc7CglhY3Rpb25zQ2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUGllQ2hhcnRIZWFkZXIgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglQaWVDaGFydEhlYWRlclByb3BzCj4oCgkoCgkJewoJCQljbGFzc05hbWUgPSAnJywKCQkJY2hpbGRyZW4sCgkJCWNvbnRlbnRDbGFzc05hbWUsCgkJCXRpdGxlQ2xhc3NOYW1lLAoJCQlkZXNjcmlwdGlvbkNsYXNzTmFtZSwKCQkJYWN0aW9uc0NsYXNzTmFtZSwKCQkJLi4ucHJvcHMKCQl9LAoJCXJlZiwKCSkgPT4gewoJCWNvbnN0IGNoaWxkcmVuQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKTsKCQljb25zdCBtYWluQ2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVtdID0gW107CgkJY29uc3QgYWN0aW9uQ2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVtdID0gW107CgoJCWNoaWxkcmVuQXJyYXkuZm9yRWFjaCgoY2hpbGQpID0+IHsKCQkJaWYgKGlzUGllQ2hhcnRBY3Rpb25zRWxlbWVudChjaGlsZCkpIHsKCQkJCWFjdGlvbkNoaWxkcmVuLnB1c2goY2hpbGQpOwoJCQl9IGVsc2UgaWYgKGNoaWxkICE9PSBudWxsKSB7CgkJCQltYWluQ2hpbGRyZW4ucHVzaChjaGlsZCk7CgkJCX0KCQl9KTsKCgkJY29uc3QgZW5oYW5jZWRNYWluQ2hpbGRyZW4gPSBtYWluQ2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gewoJCQlpZiAoaXNQaWVDaGFydFRpdGxlRWxlbWVudChjaGlsZCkpIHsKCQkJCXJldHVybiBjbG9uZUVsZW1lbnRXaXRoQ2xhc3NOYW1lKAoJCQkJCWNoaWxkIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx7IGNsYXNzTmFtZT86IHN0cmluZyB9PiwKCQkJCQl0aXRsZUNsYXNzTmFtZSwKCQkJCSk7CgkJCX0KCQkJaWYgKGlzUGllQ2hhcnREZXNjcmlwdGlvbkVsZW1lbnQoY2hpbGQpKSB7CgkJCQlyZXR1cm4gY2xvbmVFbGVtZW50V2l0aENsYXNzTmFtZSgKCQkJCQljaGlsZCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT4sCgkJCQkJZGVzY3JpcHRpb25DbGFzc05hbWUsCgkJCQkpOwoJCQl9CgkJCXJldHVybiBjaGlsZDsKCQl9KTsKCgkJY29uc3QgZW5oYW5jZWRBY3Rpb25DaGlsZHJlbiA9IGFjdGlvbkNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IHsKCQkJaWYgKGlzUGllQ2hhcnRBY3Rpb25zRWxlbWVudChjaGlsZCkpIHsKCQkJCXJldHVybiBjbG9uZUVsZW1lbnRXaXRoQ2xhc3NOYW1lKAoJCQkJCWNoaWxkIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx7IGNsYXNzTmFtZT86IHN0cmluZyB9PiwKCQkJCQlhY3Rpb25zQ2xhc3NOYW1lLAoJCQkJKTsKCQkJfQoJCQlyZXR1cm4gY2hpbGQ7CgkJfSk7CgoJCXJldHVybiAoCgkJCTxkaXYKCQkJCXJlZj17cmVmfQoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQknbm90LXByb3NlIGZsZXggZmxleC1jb2wgZ2FwLTMgcHgtNCBwdC00IHNtOmZsZXgtcm93IHNtOml0ZW1zLXN0YXJ0IHNtOmp1c3RpZnktYmV0d2VlbiBzbTpnYXAtNCcsCgkJCQkJY2xhc3NOYW1lLAoJCQkJKX0KCQkJCXsuLi5wcm9wc30KCQkJPgoJCQkJe2VuaGFuY2VkTWFpbkNoaWxkcmVuLmxlbmd0aCA/ICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ3NwYWNlLXktMSBzbTpmbGV4LTEnLCBjb250ZW50Q2xhc3NOYW1lKX0+CgkJCQkJCXtlbmhhbmNlZE1haW5DaGlsZHJlbn0KCQkJCQk8L2Rpdj4KCQkJCSkgOiBudWxsfQoJCQkJe2VuaGFuY2VkQWN0aW9uQ2hpbGRyZW4ubGVuZ3RoID8gZW5oYW5jZWRBY3Rpb25DaGlsZHJlbiA6IG51bGx9CgkJCTwvZGl2PgoJCSk7Cgl9LAopOwpQaWVDaGFydEhlYWRlci5kaXNwbGF5TmFtZSA9ICdQaWVDaGFydEhlYWRlcic7CgpleHBvcnQgaW50ZXJmYWNlIFBpZUNoYXJ0VG9vbHRpcEluZm88VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4gewoJc2xpY2U6IFBpZUNoYXJ0U2xpY2U8VERhdGE+OwoJdmFsdWU6IG51bWJlcjsKCXBlcmNlbnRhZ2U6IG51bWJlcjsKfQoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydEdyYXBoUHJvcHM8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4KCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWhlaWdodD86IG51bWJlciB8IHN0cmluZzsKCWlubmVyUmFkaXVzPzogbnVtYmVyIHwgc3RyaW5nOwoJb3V0ZXJSYWRpdXM/OiBudW1iZXIgfCBzdHJpbmc7CglwYWRBbmdsZT86IG51bWJlcjsKCWNvcm5lclJhZGl1cz86IG51bWJlcjsKCXN0YXJ0QW5nbGU/OiBudW1iZXI7CgllbmRBbmdsZT86IG51bWJlcjsKCXNob3dUb29sdGlwPzogYm9vbGVhbjsKCXRvb2x0aXBSZW5kZXI/OiAoaW5mbzogUGllQ2hhcnRUb29sdGlwSW5mbzxURGF0YT4pID0+IFJlYWN0LlJlYWN0Tm9kZTsKCWxvYWRpbmc/OiBib29sZWFuOwoJbG9hZGluZ1N0YXRlPzogUmVhY3QuUmVhY3ROb2RlOwoJZW1wdHlTdGF0ZT86IFJlYWN0LlJlYWN0Tm9kZTsKCWVycm9yPzogUmVhY3QuUmVhY3ROb2RlOwoJYXJpYUxhYmVsPzogc3RyaW5nOwoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmZ1bmN0aW9uIFBpZUNoYXJ0U3RhdGUoewoJbGFiZWwsCglkZXNjcmlwdGlvbiwKfTogewoJbGFiZWw6IHN0cmluZzsKCWRlc2NyaXB0aW9uPzogUmVhY3QuUmVhY3ROb2RlOwp9KSB7CglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1kYXNoZWQgYm9yZGVyLWJvcmRlci82MCBiZy1jYXJkLW11dGVkLzMwIHB4LTQgcHktMTAgdGV4dC1jZW50ZXIiPgoJCQk8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KCQkJCTxwIGNsYXNzTmFtZT0idGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPntsYWJlbH08L3A+CgkJCQl7ZGVzY3JpcHRpb24gPyAoCgkJCQkJPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC83MCI+e2Rlc2NyaXB0aW9ufTwvcD4KCQkJCSkgOiBudWxsfQoJCQk8L2Rpdj4KCQk8L2Rpdj4KCSk7Cn0KCmNvbnN0IFBpZUNoYXJ0R3JhcGhCYXNlID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxEaXZFbGVtZW50LAoJUGllQ2hhcnRHcmFwaFByb3BzPENoYXJ0RGF0dW0+Cj4oZnVuY3Rpb24gUGllQ2hhcnRHcmFwaElubmVyKAoJewoJCWhlaWdodCwKCQlpbm5lclJhZGl1cywKCQlvdXRlclJhZGl1cywKCQlwYWRBbmdsZSA9IDAsCgkJY29ybmVyUmFkaXVzID0gMCwKCQlzdGFydEFuZ2xlLAoJCWVuZEFuZ2xlLAoJCXNob3dUb29sdGlwID0gdHJ1ZSwKCQl0b29sdGlwUmVuZGVyLAoJCWxvYWRpbmcgPSBmYWxzZSwKCQlsb2FkaW5nU3RhdGUsCgkJZW1wdHlTdGF0ZSwKCQllcnJvciwKCQlhcmlhTGFiZWwsCgkJY2hpbGRyZW4sCgkJY2xhc3NOYW1lLAoJCXN0eWxlLAoJCS4uLnJlc3QKCX06IFBpZUNoYXJ0R3JhcGhQcm9wczxDaGFydERhdHVtPiwKCXJlZiwKKSB7Cgljb25zdCB7CgkJc2xpY2VzLAoJCWZvcm1hdExhYmVsLAoJCWZvcm1hdFZhbHVlLAoJCXZhbHVlTGFiZWwsCgkJYWN0aXZlU2xpY2VJZCwKCQlzZXRBY3RpdmVTbGljZUlkLAoJfSA9IHVzZVBpZUNoYXJ0Q29udGV4dCgpOwoKCWNvbnN0IGNoYXJ0QXJlYVJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoJY29uc3Qgc3ZnUmVmID0gUmVhY3QudXNlUmVmPFNWR1NWR0VsZW1lbnQgfCBudWxsPihudWxsKTsKCWNvbnN0IHBhdGhFbGVtZW50c1JlZiA9IFJlYWN0LnVzZVJlZjxNYXA8c3RyaW5nLCBTVkdQYXRoRWxlbWVudD4+KG5ldyBNYXAoKSk7Cgljb25zdCByZWdpc3RlclBhdGhFbGVtZW50ID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGlkOiBzdHJpbmcsIGVsZW1lbnQ6IFNWR1BhdGhFbGVtZW50IHwgbnVsbCkgPT4gewoJCQljb25zdCBtYXAgPSBwYXRoRWxlbWVudHNSZWYuY3VycmVudDsKCQkJaWYgKGVsZW1lbnQpIHsKCQkJCW1hcC5zZXQoaWQsIGVsZW1lbnQpOwoJCQl9IGVsc2UgewoJCQkJbWFwLmRlbGV0ZShpZCk7CgkJCX0KCQl9LAoJCVtdLAoJKTsKCWNvbnN0IHNldE91dGVyQ29udGFpbmVyUmVmID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKG5vZGU6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCkgPT4gewoJCQlpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykgewoJCQkJcmVmKG5vZGUpOwoJCQl9IGVsc2UgaWYgKHJlZikgewoJCQkJKHJlZiBhcyBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQgfCBudWxsPikuY3VycmVudCA9IG5vZGU7CgkJCX0KCQl9LAoJCVtyZWZdLAoJKTsKCgljb25zdCByZXNvbHZlZEhlaWdodCA9CgkJdHlwZW9mIGhlaWdodCA9PT0gJ251bWJlcicKCQkJPyBgJHtoZWlnaHR9cHhgCgkJCTogKGhlaWdodCA/PyBgJHtERUZBVUxUX0hFSUdIVH1weGApOwoKCWNvbnN0IHN2Z1RpdGxlSWQgPSBSZWFjdC51c2VJZCgpOwoJY29uc3QgdHJpbW1lZEFyaWFMYWJlbCA9IGFyaWFMYWJlbD8udHJpbSgpOwoJY29uc3Qgc3ZnVGl0bGUgPQoJCXRyaW1tZWRBcmlhTGFiZWwgJiYgdHJpbW1lZEFyaWFMYWJlbC5sZW5ndGggPiAwCgkJCT8gdHJpbW1lZEFyaWFMYWJlbAoJCQk6ICdQaWUgY2hhcnQgdmlzdWFsaXphdGlvbic7CgoJY29uc3Qgdmlld0JveFNpemUgPSAzMjA7Cgljb25zdCBtYXhSYWRpdXMgPSB2aWV3Qm94U2l6ZSAvIDIgLSA4OwoKCWNvbnN0IHJlc29sdmVkT3V0ZXJSYWRpdXMgPSBNYXRoLm1pbigKCQlyZXNvbHZlUmFkaXVzKG91dGVyUmFkaXVzLCBtYXhSYWRpdXMsIG1heFJhZGl1cyksCgkJbWF4UmFkaXVzLAoJKTsKCWNvbnN0IHJlc29sdmVkSW5uZXJSYWRpdXMgPSBNYXRoLm1pbigKCQlyZXNvbHZlUmFkaXVzKGlubmVyUmFkaXVzLCBtYXhSYWRpdXMsIDApLAoJCXJlc29sdmVkT3V0ZXJSYWRpdXMsCgkpOwoKCWNvbnN0IHNhbml0aXplZFBhZEFuZ2xlID0KCQl0eXBlb2YgcGFkQW5nbGUgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShwYWRBbmdsZSkKCQkJPyBNYXRoLm1heChwYWRBbmdsZSwgMCkKCQkJOiAwOwoJY29uc3QgcGFkQW5nbGVSYWQgPSAoc2FuaXRpemVkUGFkQW5nbGUgKiBNYXRoLlBJKSAvIDE4MDsKCWNvbnN0IHNhbml0aXplZENvcm5lclJhZGl1cyA9CgkJdHlwZW9mIGNvcm5lclJhZGl1cyA9PT0gJ251bWJlcicgJiYgTnVtYmVyLmlzRmluaXRlKGNvcm5lclJhZGl1cykKCQkJPyBNYXRoLm1heChjb3JuZXJSYWRpdXMsIDApCgkJCTogMDsKCWNvbnN0IHN0YXJ0QW5nbGVSYWQgPQoJCXN0YXJ0QW5nbGUgIT09IHVuZGVmaW5lZCA/IChzdGFydEFuZ2xlICogTWF0aC5QSSkgLyAxODAgOiB1bmRlZmluZWQ7Cgljb25zdCBlbmRBbmdsZVJhZCA9CgkJZW5kQW5nbGUgIT09IHVuZGVmaW5lZCA/IChlbmRBbmdsZSAqIE1hdGguUEkpIC8gMTgwIDogdW5kZWZpbmVkOwoKCWNvbnN0IGFyY0dlbmVyYXRvciA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4KCQkJYXJjPFBpZUFyY0RhdHVtPFBpZUNoYXJ0U2xpY2U+PigpCgkJCQkuaW5uZXJSYWRpdXMocmVzb2x2ZWRJbm5lclJhZGl1cykKCQkJCS5vdXRlclJhZGl1cyhyZXNvbHZlZE91dGVyUmFkaXVzKQoJCQkJLmNvcm5lclJhZGl1cyhzYW5pdGl6ZWRDb3JuZXJSYWRpdXMpLAoJCVtyZXNvbHZlZElubmVyUmFkaXVzLCByZXNvbHZlZE91dGVyUmFkaXVzLCBzYW5pdGl6ZWRDb3JuZXJSYWRpdXNdLAoJKTsKCgljb25zdCBhcmNzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJY29uc3QgZ2VuZXJhdG9yID0gcGllPFBpZUNoYXJ0U2xpY2U+KCkKCQkJLnZhbHVlKChzbGljZTogUGllQ2hhcnRTbGljZSkgPT4gc2xpY2UudmFsdWUpCgkJCS5zb3J0KG51bGwpCgkJCS5wYWRBbmdsZShwYWRBbmdsZVJhZCk7CgoJCWlmIChzdGFydEFuZ2xlUmFkICE9PSB1bmRlZmluZWQpIGdlbmVyYXRvci5zdGFydEFuZ2xlKHN0YXJ0QW5nbGVSYWQpOwoJCWlmIChlbmRBbmdsZVJhZCAhPT0gdW5kZWZpbmVkKSBnZW5lcmF0b3IuZW5kQW5nbGUoZW5kQW5nbGVSYWQpOwoKCQlyZXR1cm4gZ2VuZXJhdG9yKHNsaWNlcyk7Cgl9LCBbZW5kQW5nbGVSYWQsIHBhZEFuZ2xlUmFkLCBzbGljZXMsIHN0YXJ0QW5nbGVSYWRdKTsKCgljb25zdCBkZWZhdWx0VG9vbHRpcFJlbmRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShpbmZvOiBQaWVDaGFydFRvb2x0aXBJbmZvKSA9PiAoCgkJCTxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTEiPgoJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KCQkJCQk8c3BhbgoJCQkJCQljbGFzc05hbWU9ImlubGluZS1mbGV4IGgtMi41IHctMSBzaHJpbmstMCByb3VuZGVkLVsxcHhdIgoJCQkJCQlzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGluZm8uc2xpY2UuY29sb3IgfX0KCQkJCQkvPgoJCQkJCTxzcGFuIGNsYXNzTmFtZT0idGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCQl7Zm9ybWF0TGFiZWwoaW5mby5zbGljZSl9CgkJCQkJPC9zcGFuPgoJCQkJPC9kaXY+CgkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCTxzcGFuIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAiPgoJCQkJCQl7Zm9ybWF0VmFsdWUoaW5mby5zbGljZSl9IHt2YWx1ZUxhYmVsfQoJCQkJCTwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzc05hbWU9InRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzQ1Ij4KCQkJCQkJeyhpbmZvLnBlcmNlbnRhZ2UgKiAxMDApLnRvRml4ZWQoMSl9JQoJCQkJCTwvc3Bhbj4KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQkpLAoJCVtmb3JtYXRMYWJlbCwgZm9ybWF0VmFsdWUsIHZhbHVlTGFiZWxdLAoJKTsKCgljb25zdCB0b29sdGlwUmVuZGVyZXIgPSB0b29sdGlwUmVuZGVyID8/IGRlZmF1bHRUb29sdGlwUmVuZGVyOwoKCWNvbnN0IHRvb2x0aXBSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTsKCWNvbnN0IFt0b29sdGlwRGltZW5zaW9ucywgc2V0VG9vbHRpcERpbWVuc2lvbnNdID0gUmVhY3QudXNlU3RhdGU8ewoJCXdpZHRoOiBudW1iZXI7CgkJaGVpZ2h0OiBudW1iZXI7Cgl9Pih7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7Cgljb25zdCBbdG9vbHRpcCwgc2V0VG9vbHRpcF0gPSBSZWFjdC51c2VTdGF0ZTx7CgkJaW5mbzogUGllQ2hhcnRUb29sdGlwSW5mbzsKCQlzbGljZUlkOiBzdHJpbmc7CgkJeDogbnVtYmVyOwoJCXk6IG51bWJlcjsKCQlob3Jpem9udGFsOiAnbGVmdCcgfCAncmlnaHQnOwoJCXZlcnRpY2FsOiAndG9wJyB8ICdib3R0b20nOwoJCXZpc2libGU6IGJvb2xlYW47CgkJZW50ZXJpbmc6IGJvb2xlYW47Cgl9IHwgbnVsbD4obnVsbCk7CgoJY29uc3QgaGlkZVRvb2x0aXBUaW1lb3V0UmVmID0gUmVhY3QudXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpOwoKCWNvbnN0IGNhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCWlmIChoaWRlVG9vbHRpcFRpbWVvdXRSZWYuY3VycmVudCAhPT0gbnVsbCkgewoJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KGhpZGVUb29sdGlwVGltZW91dFJlZi5jdXJyZW50KTsKCQkJaGlkZVRvb2x0aXBUaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsOwoJCX0KCX0sIFtdKTsKCgljb25zdCBjbGVhclRvb2x0aXAgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUoKTsKCQlzZXRUb29sdGlwKChwcmV2aW91cykgPT4KCQkJcHJldmlvdXMgPyB7IC4uLnByZXZpb3VzLCB2aXNpYmxlOiBmYWxzZSwgZW50ZXJpbmc6IGZhbHNlIH0gOiBudWxsLAoJCSk7CgkJc2V0QWN0aXZlU2xpY2VJZChudWxsKTsKCX0sIFtjYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSwgc2V0QWN0aXZlU2xpY2VJZF0pOwoKCWNvbnN0IHNjaGVkdWxlVG9vbHRpcEhpZGUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZGVsYXkgPSAxNDApID0+IHsKCQkJY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUoKTsKCQkJaGlkZVRvb2x0aXBUaW1lb3V0UmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CgkJCQljbGVhclRvb2x0aXAoKTsKCQkJfSwgZGVsYXkpOwoJCX0sCgkJW2NhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlLCBjbGVhclRvb2x0aXBdLAoJKTsKCgljb25zdCBoYW5kbGVTdmdQb2ludGVyTGVhdmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxTVkdTVkdFbGVtZW50PikgPT4gewoJCQljb25zdCBkZWxheSA9CgkJCQlldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicKCQkJCQk/IDMyMAoJCQkJCTogMTQwOwoJCQlzY2hlZHVsZVRvb2x0aXBIaWRlKGRlbGF5KTsKCQl9LAoJCVtzY2hlZHVsZVRvb2x0aXBIaWRlXSwKCSk7CgoJY29uc3QgcmVuZGVyVG9vbHRpcCA9CgkJc2hvd1Rvb2x0aXAgJiYgdG9vbHRpcCA/IHRvb2x0aXBSZW5kZXJlcih0b29sdGlwLmluZm8pIDogbnVsbDsKCgljb25zdCBzaG93Q2hhcnQgPSAhbG9hZGluZyAmJiAhZXJyb3IgJiYgc2xpY2VzLmxlbmd0aCA+IDA7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIXNob3dDaGFydCkgewoJCQlzZXRUb29sdGlwKG51bGwpOwoJCX0KCX0sIFtzaG93Q2hhcnRdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICghdG9vbHRpcCB8fCB0b29sdGlwLnZpc2libGUgfHwgdG9vbHRpcC5lbnRlcmluZykgcmV0dXJuOwoJCWNvbnN0IHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsKCQkJc2V0VG9vbHRpcChudWxsKTsKCQl9LCAyMDApOwoJCXJldHVybiAoKSA9PiB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7Cgl9LCBbdG9vbHRpcF0pOwoKCVJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJaWYgKAoJCQkhdG9vbHRpcFJlZi5jdXJyZW50IHx8CgkJCSF0b29sdGlwIHx8CgkJCXR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gJ3VuZGVmaW5lZCcKCQkpIHsKCQkJcmV0dXJuOwoJCX0KCQljb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoW2VudHJ5XSkgPT4gewoJCQlpZiAoIWVudHJ5KSByZXR1cm47CgkJCWNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZW50cnkuY29udGVudFJlY3Q7CgkJCXNldFRvb2x0aXBEaW1lbnNpb25zKHsgd2lkdGgsIGhlaWdodCB9KTsKCQl9KTsKCQlvYnNlcnZlci5vYnNlcnZlKHRvb2x0aXBSZWYuY3VycmVudCk7CgkJcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCX0sIFt0b29sdGlwXSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQlpZiAoIXRvb2x0aXAgfHwgIXRvb2x0aXAuZW50ZXJpbmcpIHsKCQkJcmV0dXJuOwoJCX0KCQljb25zdCBmcmFtZUlkID0gd2luZG93Py5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewoJCQlzZXRUb29sdGlwKChwcmV2aW91cykgPT4KCQkJCXByZXZpb3VzPy5lbnRlcmluZwoJCQkJCT8geyAuLi5wcmV2aW91cywgdmlzaWJsZTogdHJ1ZSwgZW50ZXJpbmc6IGZhbHNlIH0KCQkJCQk6IHByZXZpb3VzLAoJCQkpOwoJCX0pOwoJCXJldHVybiAoKSA9PiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7Cgl9LCBbdG9vbHRpcF0pOwoKCVJlYWN0LnVzZUVmZmVjdCgKCQkoKSA9PiAoKSA9PiB7CgkJCWNhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlKCk7CgkJfSwKCQlbY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGVdLAoJKTsKCgljb25zdCBjYWxjdWxhdGVUb29sdGlwUG9zaXRpb24gPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoYXJjRGF0dW06IFBpZUFyY0RhdHVtPFBpZUNoYXJ0U2xpY2U+LCBlbGVtZW50PzogU1ZHUGF0aEVsZW1lbnQgfCBudWxsKSA9PiB7CgkJCWlmICghY2hhcnRBcmVhUmVmLmN1cnJlbnQpIHJldHVybiBudWxsOwoKCQkJY29uc3QgY29udGFpbmVyUmVjdCA9IGNoYXJ0QXJlYVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKCQkJY29uc3QgW2NlbnRyb2lkWCwgY2VudHJvaWRZXSA9IGFyY0dlbmVyYXRvci5jZW50cm9pZChhcmNEYXR1bSk7CgkJCWNvbnN0IGNlbnRlciA9IHZpZXdCb3hTaXplIC8gMjsKCgkJCWNvbnN0IGRpcmVjdGlvblggPSBjZW50cm9pZFg7CgkJCWNvbnN0IGRpcmVjdGlvblkgPSBjZW50cm9pZFk7CgkJCWNvbnN0IGRpcmVjdGlvbkxlbmd0aCA9IE1hdGguaHlwb3QoZGlyZWN0aW9uWCwgZGlyZWN0aW9uWSkgfHwgMTsKCQkJY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGRpcmVjdGlvblksIGRpcmVjdGlvblgpOwoKCQkJY29uc3QgdG9vbHRpcFBhZGRpbmcgPSAxMjsKCQkJY29uc3QgZXN0aW1hdGVkV2lkdGggPSB0b29sdGlwRGltZW5zaW9ucy53aWR0aCB8fCAyMjA7CgkJCWNvbnN0IGVzdGltYXRlZEhlaWdodCA9IHRvb2x0aXBEaW1lbnNpb25zLmhlaWdodCB8fCA5NjsKCgkJCWxldCBhbmNob3JQb2ludFg6IG51bWJlciB8IG51bGwgPSBudWxsOwoJCQlsZXQgYW5jaG9yUG9pbnRZOiBudW1iZXIgfCBudWxsID0gbnVsbDsKCgkJCWlmIChlbGVtZW50KSB7CgkJCQljb25zdCBlbGVtZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkJCQljb25zdCBsb2NhbExlZnQgPSBlbGVtZW50UmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0OwoJCQkJY29uc3QgbG9jYWxUb3AgPSBlbGVtZW50UmVjdC50b3AgLSBjb250YWluZXJSZWN0LnRvcDsKCQkJCWFuY2hvclBvaW50WCA9IGxvY2FsTGVmdCArIGVsZW1lbnRSZWN0LndpZHRoIC8gMjsKCQkJCWFuY2hvclBvaW50WSA9IGxvY2FsVG9wICsgZWxlbWVudFJlY3QuaGVpZ2h0IC8gMjsKCQkJfSBlbHNlIGlmIChzdmdSZWYuY3VycmVudCkgewoJCQkJY29uc3Qgc3ZnUmVjdCA9IHN2Z1JlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoJCQkJY29uc3Qgc2NhbGUgPSBNYXRoLm1pbigKCQkJCQlzdmdSZWN0LndpZHRoIC8gdmlld0JveFNpemUsCgkJCQkJc3ZnUmVjdC5oZWlnaHQgLyB2aWV3Qm94U2l6ZSwKCQkJCSk7CgkJCQlpZiAoIU51bWJlci5pc0Zpbml0ZShzY2FsZSkgfHwgc2NhbGUgPD0gMCkgewoJCQkJCXJldHVybiBudWxsOwoJCQkJfQoKCQkJCWNvbnN0IG9mZnNldFggPQoJCQkJCXN2Z1JlY3QubGVmdCAtCgkJCQkJY29udGFpbmVyUmVjdC5sZWZ0ICsKCQkJCQkoc3ZnUmVjdC53aWR0aCAtIHZpZXdCb3hTaXplICogc2NhbGUpIC8gMjsKCQkJCWNvbnN0IG9mZnNldFkgPQoJCQkJCXN2Z1JlY3QudG9wIC0KCQkJCQljb250YWluZXJSZWN0LnRvcCArCgkJCQkJKHN2Z1JlY3QuaGVpZ2h0IC0gdmlld0JveFNpemUgKiBzY2FsZSkgLyAyOwoKCQkJCWNvbnN0IHByZWZlcnJlZFJhZGl1cyA9CgkJCQkJcmVzb2x2ZWRJbm5lclJhZGl1cyArCgkJCQkJKHJlc29sdmVkT3V0ZXJSYWRpdXMgLSByZXNvbHZlZElubmVyUmFkaXVzKSAqIDAuNjsKCQkJCWNvbnN0IHNhZmVPdXRlclJhZGl1cyA9IE1hdGgubWF4KDAsIHJlc29sdmVkT3V0ZXJSYWRpdXMgLSAxMik7CgkJCQljb25zdCBzYWZlSW5uZXJSYWRpdXMgPSBNYXRoLm1pbigKCQkJCQlzYWZlT3V0ZXJSYWRpdXMsCgkJCQkJcmVzb2x2ZWRJbm5lclJhZGl1cyArIDEyLAoJCQkJKTsKCQkJCWNvbnN0IHRhcmdldFJhZGl1cyA9IE1hdGgubWluKAoJCQkJCXNhZmVPdXRlclJhZGl1cywKCQkJCQlNYXRoLm1heChzYWZlSW5uZXJSYWRpdXMsIHByZWZlcnJlZFJhZGl1cyksCgkJCQkpOwoKCQkJCWNvbnN0IG9mZnNldERpc3RhbmNlID0gMTg7CgkJCQljb25zdCB0YXJnZXRYID0KCQkJCQkoZGlyZWN0aW9uWCAvIGRpcmVjdGlvbkxlbmd0aCkgKiB0YXJnZXRSYWRpdXMgKwoJCQkJCU1hdGguY29zKGFuZ2xlKSAqIG9mZnNldERpc3RhbmNlOwoJCQkJY29uc3QgdGFyZ2V0WSA9CgkJCQkJKGRpcmVjdGlvblkgLyBkaXJlY3Rpb25MZW5ndGgpICogdGFyZ2V0UmFkaXVzICsKCQkJCQlNYXRoLnNpbihhbmdsZSkgKiBvZmZzZXREaXN0YW5jZTsKCgkJCQlhbmNob3JQb2ludFggPSBvZmZzZXRYICsgKHRhcmdldFggKyBjZW50ZXIpICogc2NhbGU7CgkJCQlhbmNob3JQb2ludFkgPSBvZmZzZXRZICsgKHRhcmdldFkgKyBjZW50ZXIpICogc2NhbGU7CgkJCX0KCgkJCWlmIChhbmNob3JQb2ludFggPT09IG51bGwgfHwgYW5jaG9yUG9pbnRZID09PSBudWxsKSB7CgkJCQlyZXR1cm4gbnVsbDsKCQkJfQoKCQkJY29uc3QgYW5jaG9yT2Zmc2V0ID0gMDsKCQkJY29uc3Qgb2Zmc2V0WCA9IE1hdGguY29zKGFuZ2xlKSAqIGFuY2hvck9mZnNldDsKCQkJY29uc3Qgb2Zmc2V0WSA9IE1hdGguc2luKGFuZ2xlKSAqIGFuY2hvck9mZnNldDsKCgkJCWNvbnN0IGNlbnRlcmVkWCA9IGFuY2hvclBvaW50WCArIG9mZnNldFg7CgkJCWNvbnN0IGNlbnRlcmVkWSA9IGFuY2hvclBvaW50WSArIG9mZnNldFk7CgoJCQljb25zdCBtaW5YID0gdG9vbHRpcFBhZGRpbmc7CgkJCWNvbnN0IG1heFggPSBjb250YWluZXJSZWN0LndpZHRoIC0gZXN0aW1hdGVkV2lkdGggLSB0b29sdGlwUGFkZGluZzsKCQkJY29uc3QgbWluWSA9IHRvb2x0aXBQYWRkaW5nOwoJCQljb25zdCBtYXhZID0gY29udGFpbmVyUmVjdC5oZWlnaHQgLSBlc3RpbWF0ZWRIZWlnaHQgLSB0b29sdGlwUGFkZGluZzsKCgkJCWxldCB4ID0gY2VudGVyZWRYIC0gZXN0aW1hdGVkV2lkdGggLyAyOwoJCQlsZXQgeSA9IGNlbnRlcmVkWSAtIGVzdGltYXRlZEhlaWdodCAvIDI7CgoJCQl4ID0gTWF0aC5taW4oTWF0aC5tYXgoeCwgbWluWCksIG1heFgpOwoJCQl5ID0gTWF0aC5taW4oTWF0aC5tYXgoeSwgbWluWSksIG1heFkpOwoKCQkJbGV0IGhvcml6b250YWw6ICdsZWZ0JyB8ICdyaWdodCcgPQoJCQkJTWF0aC5jb3MoYW5nbGUpID49IDAgPyAncmlnaHQnIDogJ2xlZnQnOwoJCQlsZXQgdmVydGljYWw6ICd0b3AnIHwgJ2JvdHRvbScgPSBNYXRoLnNpbihhbmdsZSkgPj0gMCA/ICdib3R0b20nIDogJ3RvcCc7CgoJCQlpZiAoeCA8PSBtaW5YICsgMSkgewoJCQkJaG9yaXpvbnRhbCA9ICdyaWdodCc7CgkJCX0gZWxzZSBpZiAoeCA+PSBtYXhYIC0gMSkgewoJCQkJaG9yaXpvbnRhbCA9ICdsZWZ0JzsKCQkJfQoKCQkJaWYgKHkgPD0gbWluWSArIDEpIHsKCQkJCXZlcnRpY2FsID0gJ2JvdHRvbSc7CgkJCX0gZWxzZSBpZiAoeSA+PSBtYXhZIC0gMSkgewoJCQkJdmVydGljYWwgPSAndG9wJzsKCQkJfQoKCQkJcmV0dXJuIHsgeCwgeSwgaG9yaXpvbnRhbCwgdmVydGljYWwgfTsKCQl9LAoJCVthcmNHZW5lcmF0b3IsIHJlc29sdmVkSW5uZXJSYWRpdXMsIHJlc29sdmVkT3V0ZXJSYWRpdXMsIHRvb2x0aXBEaW1lbnNpb25zXSwKCSk7CgoJY29uc3QgdXBkYXRlVG9vbHRpcEZvclNsaWNlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGFyY0RhdHVtOiBQaWVBcmNEYXR1bTxQaWVDaGFydFNsaWNlPiwgZWxlbWVudD86IFNWR1BhdGhFbGVtZW50IHwgbnVsbCkgPT4gewoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCQlzZXRBY3RpdmVTbGljZUlkKGFyY0RhdHVtLmRhdGEuaWQpOwoKCQkJaWYgKCFzaG93VG9vbHRpcCkgcmV0dXJuOwoKCQkJY29uc3QgdGFyZ2V0RWxlbWVudCA9CgkJCQllbGVtZW50ID8/IHBhdGhFbGVtZW50c1JlZi5jdXJyZW50LmdldChhcmNEYXR1bS5kYXRhLmlkKSA/PyBudWxsOwoKCQkJY29uc3QgcG9zaXRpb24gPSBjYWxjdWxhdGVUb29sdGlwUG9zaXRpb24oYXJjRGF0dW0sIHRhcmdldEVsZW1lbnQpOwoJCQlpZiAoIXBvc2l0aW9uKSByZXR1cm47CgoJCQlzZXRUb29sdGlwKChwcmV2aW91cykgPT4gewoJCQkJY29uc3Qgc2hvdWxkQW5pbWF0ZUluID0gIXByZXZpb3VzIHx8ICFwcmV2aW91cy52aXNpYmxlOwoKCQkJCWNvbnN0IG5leHQgPSB7CgkJCQkJaW5mbzogewoJCQkJCQlzbGljZTogYXJjRGF0dW0uZGF0YSwKCQkJCQkJdmFsdWU6IGFyY0RhdHVtLmRhdGEudmFsdWUsCgkJCQkJCXBlcmNlbnRhZ2U6IGFyY0RhdHVtLmRhdGEucGVyY2VudGFnZSwKCQkJCQl9LAoJCQkJCXNsaWNlSWQ6IGFyY0RhdHVtLmRhdGEuaWQsCgkJCQkJeDogcG9zaXRpb24ueCwKCQkJCQl5OiBwb3NpdGlvbi55LAoJCQkJCWhvcml6b250YWw6IHBvc2l0aW9uLmhvcml6b250YWwsCgkJCQkJdmVydGljYWw6IHBvc2l0aW9uLnZlcnRpY2FsLAoJCQkJCXZpc2libGU6ICFzaG91bGRBbmltYXRlSW4sCgkJCQkJZW50ZXJpbmc6IHNob3VsZEFuaW1hdGVJbiwKCQkJCX07CgoJCQkJaWYgKAoJCQkJCXByZXZpb3VzICYmCgkJCQkJcHJldmlvdXMuc2xpY2VJZCA9PT0gYXJjRGF0dW0uZGF0YS5pZCAmJgoJCQkJCU1hdGguYWJzKHByZXZpb3VzLnggLSBuZXh0LngpIDwgMC41ICYmCgkJCQkJTWF0aC5hYnMocHJldmlvdXMueSAtIG5leHQueSkgPCAwLjUgJiYKCQkJCQlwcmV2aW91cy5ob3Jpem9udGFsID09PSBuZXh0Lmhvcml6b250YWwgJiYKCQkJCQlwcmV2aW91cy52ZXJ0aWNhbCA9PT0gbmV4dC52ZXJ0aWNhbAoJCQkJKSB7CgkJCQkJaWYgKHNob3VsZEFuaW1hdGVJbikgewoJCQkJCQlyZXR1cm4gbmV4dDsKCQkJCQl9CgkJCQkJaWYgKCFwcmV2aW91cy52aXNpYmxlKSB7CgkJCQkJCXJldHVybiB7IC4uLnByZXZpb3VzLCB2aXNpYmxlOiB0cnVlLCBlbnRlcmluZzogZmFsc2UgfTsKCQkJCQl9CgkJCQkJcmV0dXJuIHByZXZpb3VzOwoJCQkJfQoKCQkJCXJldHVybiBuZXh0OwoJCQl9KTsKCQl9LAoJCVsKCQkJY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUsCgkJCWNhbGN1bGF0ZVRvb2x0aXBQb3NpdGlvbiwKCQkJc2V0QWN0aXZlU2xpY2VJZCwKCQkJc2hvd1Rvb2x0aXAsCgkJXSwKCSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIXRvb2x0aXAgfHwgIXRvb2x0aXAudmlzaWJsZSkgcmV0dXJuOwoKCQljb25zdCBhcmNEYXR1bSA9IGFyY3MuZmluZCgKCQkJKGNhbmRpZGF0ZSkgPT4gY2FuZGlkYXRlLmRhdGEuaWQgPT09IHRvb2x0aXAuc2xpY2VJZCwKCQkpOwoJCWlmICghYXJjRGF0dW0pIHJldHVybjsKCgkJY29uc3QgZWxlbWVudCA9IHBhdGhFbGVtZW50c1JlZi5jdXJyZW50LmdldChhcmNEYXR1bS5kYXRhLmlkKSA/PyBudWxsOwoKCQljb25zdCBwb3NpdGlvbiA9IGNhbGN1bGF0ZVRvb2x0aXBQb3NpdGlvbihhcmNEYXR1bSwgZWxlbWVudCk7CgkJaWYgKCFwb3NpdGlvbikgcmV0dXJuOwoKCQlpZiAoCgkJCU1hdGguYWJzKHRvb2x0aXAueCAtIHBvc2l0aW9uLngpIDwgMC41ICYmCgkJCU1hdGguYWJzKHRvb2x0aXAueSAtIHBvc2l0aW9uLnkpIDwgMC41ICYmCgkJCXRvb2x0aXAuaG9yaXpvbnRhbCA9PT0gcG9zaXRpb24uaG9yaXpvbnRhbCAmJgoJCQl0b29sdGlwLnZlcnRpY2FsID09PSBwb3NpdGlvbi52ZXJ0aWNhbAoJCSkgewoJCQlyZXR1cm47CgkJfQoKCQlzZXRUb29sdGlwKChwcmV2aW91cykgPT4KCQkJcHJldmlvdXMKCQkJCT8gewoJCQkJCQkuLi5wcmV2aW91cywKCQkJCQkJeDogcG9zaXRpb24ueCwKCQkJCQkJeTogcG9zaXRpb24ueSwKCQkJCQkJaG9yaXpvbnRhbDogcG9zaXRpb24uaG9yaXpvbnRhbCwKCQkJCQkJdmVydGljYWw6IHBvc2l0aW9uLnZlcnRpY2FsLAoJCQkJCX0KCQkJCTogcHJldmlvdXMsCgkJKTsKCX0sIFthcmNzLCBjYWxjdWxhdGVUb29sdGlwUG9zaXRpb24sIHRvb2x0aXBdKTsKCglsZXQgYm9keTogUmVhY3QuUmVhY3ROb2RlID0gbnVsbDsKCglpZiAoZXJyb3IpIHsKCQlib2R5ID0KCQkJdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJyA/ICgKCQkJCTxQaWVDaGFydFN0YXRlCgkJCQkJbGFiZWw9IlRoZXJlIHdhcyBhIHByb2JsZW0gcmVuZGVyaW5nIHRoZSBjaGFydC4iCgkJCQkJZGVzY3JpcHRpb249e2Vycm9yfQoJCQkJLz4KCQkJKSA6ICgKCQkJCWVycm9yCgkJCSk7Cgl9IGVsc2UgaWYgKGxvYWRpbmcpIHsKCQlib2R5ID0gbG9hZGluZ1N0YXRlID8/ICgKCQkJPFBpZUNoYXJ0U3RhdGUgbGFiZWw9IkxvYWRpbmcgY2hhcnQgZGF0YeKApiIgZGVzY3JpcHRpb249e3VuZGVmaW5lZH0gLz4KCQkpOwoJfSBlbHNlIGlmICghc2xpY2VzLmxlbmd0aCkgewoJCWJvZHkgPSBlbXB0eVN0YXRlID8/ICgKCQkJPFBpZUNoYXJ0U3RhdGUKCQkJCWxhYmVsPSJObyBkYXRhIHRvIGRpc3BsYXkgeWV0LiIKCQkJCWRlc2NyaXB0aW9uPSJQcm92aWRlIGEgZGF0YXNldCBvciBhZGp1c3QgeW91ciBmaWx0ZXJzLiIKCQkJLz4KCQkpOwoJfSBlbHNlIHsKCQlib2R5ID0gKAoJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L25vU3ZnV2l0aG91dFRpdGxlOiBoYW5kbGVkIHZpYSBhcmlhLWxhYmVsICovCgkJCTxzdmcKCQkJCXJlZj17c3ZnUmVmfQoJCQkJY2xhc3NOYW1lPSJoLWZ1bGwgdy1mdWxsIgoJCQkJdmlld0JveD17YDAgMCAke3ZpZXdCb3hTaXplfSAke3ZpZXdCb3hTaXplfWB9CgkJCQlhcmlhLWxhYmVsPXtzdmdUaXRsZX0KCQkJCXByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIG1lZXQiCgkJCQlzaGFwZVJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIgoJCQkJb25Qb2ludGVyTGVhdmU9e2hhbmRsZVN2Z1BvaW50ZXJMZWF2ZX0KCQkJCXsuLi4odHJpbW1lZEFyaWFMYWJlbAoJCQkJCT8geyByb2xlOiAnaW1nJywgJ2FyaWEtbGFiZWxsZWRieSc6IHN2Z1RpdGxlSWQgfQoJCQkJCTogeyByb2xlOiAnaW1nJywgJ2FyaWEtaGlkZGVuJzogdHJ1ZSB9KX0KCQkJPgoJCQkJPGcgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7dmlld0JveFNpemUgLyAyfSwgJHt2aWV3Qm94U2l6ZSAvIDJ9KWB9PgoJCQkJCXthcmNzLm1hcCgoYXJjRGF0dW0pID0+IHsKCQkJCQkJY29uc3QgcGF0aCA9IGFyY0dlbmVyYXRvcihhcmNEYXR1bSk7CgkJCQkJCWlmICghcGF0aCkgcmV0dXJuIG51bGw7CgoJCQkJCQljb25zdCBpc0FjdGl2ZSA9IGFjdGl2ZVNsaWNlSWQgPT09IGFyY0RhdHVtLmRhdGEuaWQ7CgkJCQkJCWNvbnN0IGlzRGltbWVkID0KCQkJCQkJCUJvb2xlYW4oYWN0aXZlU2xpY2VJZCkgJiYgYWN0aXZlU2xpY2VJZCAhPT0gYXJjRGF0dW0uZGF0YS5pZDsKCQkJCQkJY29uc3QgbGFiZWxOb2RlID0gZm9ybWF0TGFiZWwoYXJjRGF0dW0uZGF0YSk7CgkJCQkJCWNvbnN0IHZhbHVlTm9kZSA9IGZvcm1hdFZhbHVlKGFyY0RhdHVtLmRhdGEpOwoJCQkJCQljb25zdCBsYWJlbFRleHQgPQoJCQkJCQkJdHlwZW9mIGxhYmVsTm9kZSA9PT0gJ3N0cmluZycKCQkJCQkJCQk/IGxhYmVsTm9kZQoJCQkJCQkJCTogdHlwZW9mIGxhYmVsTm9kZSA9PT0gJ251bWJlcicKCQkJCQkJCQkJPyBsYWJlbE5vZGUudG9TdHJpbmcoKQoJCQkJCQkJCQk6IGFyY0RhdHVtLmRhdGEubGFiZWw7CgkJCQkJCWNvbnN0IHZhbHVlVGV4dCA9CgkJCQkJCQl0eXBlb2YgdmFsdWVOb2RlID09PSAnc3RyaW5nJwoJCQkJCQkJCT8gdmFsdWVOb2RlCgkJCQkJCQkJOiB0eXBlb2YgdmFsdWVOb2RlID09PSAnbnVtYmVyJwoJCQkJCQkJCQk/IHZhbHVlTm9kZS50b0xvY2FsZVN0cmluZygpCgkJCQkJCQkJCTogYXJjRGF0dW0uZGF0YS52YWx1ZS50b0xvY2FsZVN0cmluZygpOwoKCQkJCQkJcmV0dXJuICgKCQkJCQkJCS8vIGJpb21lLWlnbm9yZSBsaW50L2ExMXkvdXNlU2VtYW50aWNFbGVtZW50czogQSA8cGF0aD4gY2Fubm90IGJlIHJlcGxhY2VkIHdpdGggPGJ1dHRvbj4gaW5zaWRlIFNWRywgc28gd2UgcHJvdmlkZSBidXR0b24gc2VtYW50aWNzIHZpYSByb2xlLgoJCQkJCQkJPHBhdGgKCQkJCQkJCQlrZXk9e2FyY0RhdHVtLmRhdGEuaWR9CgkJCQkJCQkJcmVmPXsobm9kZSkgPT4gewoJCQkJCQkJCQlyZWdpc3RlclBhdGhFbGVtZW50KGFyY0RhdHVtLmRhdGEuaWQsIG5vZGUpOwoJCQkJCQkJCX19CgkJCQkJCQkJZD17cGF0aH0KCQkJCQkJCQlmaWxsPXthcmNEYXR1bS5kYXRhLmNvbG9yfQoJCQkJCQkJCXN0cm9rZT17YXJjRGF0dW0uZGF0YS5jb2xvcn0KCQkJCQkJCQlzdHJva2VXaWR0aD17MC4yNX0KCQkJCQkJCQl0YWJJbmRleD17MH0KCQkJCQkJCQlyb2xlPSJidXR0b24iCgkJCQkJCQkJYXJpYS1wcmVzc2VkPXtpc0FjdGl2ZX0KCQkJCQkJCQlhcmlhLWxhYmVsPXtgJHtsYWJlbFRleHR9OiAke3ZhbHVlVGV4dH0gKCR7KAoJCQkJCQkJCQlhcmNEYXR1bS5kYXRhLnBlcmNlbnRhZ2UgKiAxMDAKCQkJCQkJCQkpLnRvRml4ZWQoMSl9JSlgfQoJCQkJCQkJCWNsYXNzTmFtZT0ib3V0bGluZS1ub25lIHRyYW5zaXRpb24tW3RyYW5zZm9ybSxvcGFjaXR5XSBkdXJhdGlvbi02MDAgZWFzZS1zbW9vdGgiCgkJCQkJCQkJc3R5bGU9e3sKCQkJCQkJCQkJb3BhY2l0eTogaXNEaW1tZWQgPyAwLjUgOiAxLAoJCQkJCQkJCQlmaWx0ZXI6IGAKICAgICAgICAgICAgICAgICAgICAke2lzQWN0aXZlID8gJ2JyaWdodG5lc3MoMC44KSBzYXR1cmF0ZSgxLjUpJyA6ICdicmlnaHRuZXNzKDEpIHNhdHVyYXRlKDEpJ30KICAgICAgICAgICAgICAgICAgYCwKCQkJCQkJCQkJdHJhbnNmb3JtOiBpc0FjdGl2ZSA/ICdzY2FsZSgxLjAzKScgOiB1bmRlZmluZWQsCgkJCQkJCQkJCXdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0sIG9wYWNpdHksIGZpbHRlcicsCgkJCQkJCQkJCXRyYW5zaXRpb246CgkJCQkJCQkJCQkndHJhbnNmb3JtIDYwMG1zIHZhcigtLWVhc2Utc21vb3RoKSwgb3BhY2l0eSA2MDBtcyB2YXIoLS1lYXNlLXNtb290aCksIGZpbHRlciA2MDBtcyB2YXIoLS1lYXNlLXNtb290aCknLAoJCQkJCQkJCX19CgkJCQkJCQkJb25Qb2ludGVyRW50ZXI9eyhldmVudCkgPT4gewoJCQkJCQkJCQl1cGRhdGVUb29sdGlwRm9yU2xpY2UoYXJjRGF0dW0sIGV2ZW50LmN1cnJlbnRUYXJnZXQpOwoJCQkJCQkJCX19CgkJCQkJCQkJb25Qb2ludGVyTGVhdmU9eyhldmVudCkgPT4gewoJCQkJCQkJCQljb25zdCBkZWxheSA9CgkJCQkJCQkJCQlldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicKCQkJCQkJCQkJCQk/IDMyMAoJCQkJCQkJCQkJCTogMTQwOwoJCQkJCQkJCQlzY2hlZHVsZVRvb2x0aXBIaWRlKGRlbGF5KTsKCQkJCQkJCQl9fQoJCQkJCQkJCW9uQ2xpY2s9eyhldmVudCkgPT4gewoJCQkJCQkJCQl1cGRhdGVUb29sdGlwRm9yU2xpY2UoYXJjRGF0dW0sIGV2ZW50LmN1cnJlbnRUYXJnZXQpOwoJCQkJCQkJCX19CgkJCQkJCQkJb25Gb2N1cz17KGV2ZW50KSA9PiB7CgkJCQkJCQkJCXVwZGF0ZVRvb2x0aXBGb3JTbGljZShhcmNEYXR1bSwgZXZlbnQuY3VycmVudFRhcmdldCk7CgkJCQkJCQkJfX0KCQkJCQkJCQlvbkJsdXI9eyhldmVudCkgPT4gewoJCQkJCQkJCQljb25zdCBuZXh0Rm9jdXNUYXJnZXQgPQoJCQkJCQkJCQkJZXZlbnQucmVsYXRlZFRhcmdldCBpbnN0YW5jZW9mIE5vZGUKCQkJCQkJCQkJCQk/IGV2ZW50LnJlbGF0ZWRUYXJnZXQKCQkJCQkJCQkJCQk6IG51bGw7CgkJCQkJCQkJCWlmICgKCQkJCQkJCQkJCW5leHRGb2N1c1RhcmdldCAmJgoJCQkJCQkJCQkJc3ZnUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKG5leHRGb2N1c1RhcmdldCkKCQkJCQkJCQkJKSB7CgkJCQkJCQkJCQlyZXR1cm47CgkJCQkJCQkJCX0KCQkJCQkJCQkJY2xlYXJUb29sdGlwKCk7CgkJCQkJCQkJfX0KCQkJCQkJCQlvbktleURvd249eyhldmVudCkgPT4gewoJCQkJCQkJCQlpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7CgkJCQkJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJCQkJdXBkYXRlVG9vbHRpcEZvclNsaWNlKGFyY0RhdHVtLCBldmVudC5jdXJyZW50VGFyZ2V0KTsKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykgewoJCQkJCQkJCQkJY2xlYXJUb29sdGlwKCk7CgkJCQkJCQkJCX0KCQkJCQkJCQl9fQoJCQkJCQkJLz4KCQkJCQkJKTsKCQkJCQl9KX0KCQkJCTwvZz4KCQkJPC9zdmc+CgkJKTsKCX0KCglyZXR1cm4gKAoJCTxkaXYKCQkJcmVmPXtzZXRPdXRlckNvbnRhaW5lclJlZn0KCQkJY2xhc3NOYW1lPXtjbignbm90LXByb3NlIHJlbGF0aXZlIHctZnVsbCBwLTQnLCBjbGFzc05hbWUpfQoJCQlzdHlsZT17eyAuLi5zdHlsZSwgaGVpZ2h0OiByZXNvbHZlZEhlaWdodCB9fQoJCQl7Li4ucmVzdH0KCQk+CgkJCTxkaXYgcmVmPXtjaGFydEFyZWFSZWZ9IGNsYXNzTmFtZT0icmVsYXRpdmUgaC1mdWxsIHctZnVsbCI+CgkJCQl7Ym9keX0KCQkJCXtzaG93Q2hhcnQgJiYgY2hpbGRyZW4gPyAoCgkJCQkJPGRpdiBjbGFzc05hbWU9InBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciI+CgkJCQkJCXtjaGlsZHJlbn0KCQkJCQk8L2Rpdj4KCQkJCSkgOiBudWxsfQoJCQkJe3Nob3dUb29sdGlwICYmIHRvb2x0aXAgJiYgcmVuZGVyVG9vbHRpcCA/ICgKCQkJCQk8ZGl2CgkJCQkJCXJlZj17dG9vbHRpcFJlZn0KCQkJCQkJZGF0YS12aXNpYmxlPXt0b29sdGlwLnZpc2libGUgPyAnJyA6IHVuZGVmaW5lZH0KCQkJCQkJY2xhc3NOYW1lPSJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGxlZnQtMCB0b3AtMCB6LTUwIG1pbi13LTMyIG1heC13LXhzIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZC1tdXRlZCBwLTIgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQgc2hhZG93LW1kIgoJCQkJCQlzdHlsZT17ewoJCQkJCQkJdHJhbnNmb3JtT3JpZ2luOiBgJHt0b29sdGlwLmhvcml6b250YWx9ICR7dG9vbHRpcC52ZXJ0aWNhbH1gLAoJCQkJCQkJdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHt0b29sdGlwLnh9cHgsICR7dG9vbHRpcC55fXB4LCAwKSBzY2FsZSgkewoJCQkJCQkJCXRvb2x0aXAudmlzaWJsZSA/IDEgOiAwLjk1CgkJCQkJCQl9KWAsCgkJCQkJCQlvcGFjaXR5OiB0b29sdGlwLnZpc2libGUgPyAxIDogMCwKCQkJCQkJCXRyYW5zaXRpb246CgkJCQkJCQkJJ3RyYW5zZm9ybSA0NTBtcyB2YXIoLS1lYXNlLXNtb290aCksIG9wYWNpdHkgMzAwbXMgdmFyKC0tZWFzZS1zbW9vdGgpJywKCQkJCQkJCXdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0sIG9wYWNpdHknLAoJCQkJCQl9fQoJCQkJCT4KCQkJCQkJe3JlbmRlclRvb2x0aXB9CgkJCQkJPC9kaXY+CgkJCQkpIDogbnVsbH0KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9KTsKUGllQ2hhcnRHcmFwaEJhc2UuZGlzcGxheU5hbWUgPSAnUGllQ2hhcnRHcmFwaCc7Cgp0eXBlIFBpZUNoYXJ0R3JhcGhDb21wb25lbnQgPSA8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4oCglwcm9wczogUGllQ2hhcnRHcmFwaFByb3BzPFREYXRhPiAmIHsgcmVmPzogUmVhY3QuUmVmPEhUTUxEaXZFbGVtZW50PiB9LAopID0+IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGw7CgpleHBvcnQgY29uc3QgUGllQ2hhcnRHcmFwaCA9IFBpZUNoYXJ0R3JhcGhCYXNlIGFzIFBpZUNoYXJ0R3JhcGhDb21wb25lbnQ7CgpleHBvcnQgdHlwZSBQaWVDaGFydExlZ2VuZFByb3BzID0gUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+OwoKZXhwb3J0IGNvbnN0IFBpZUNoYXJ0TGVnZW5kID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxEaXZFbGVtZW50LAoJUGllQ2hhcnRMZWdlbmRQcm9wcwo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7Cgljb25zdCB7IHNsaWNlcywgZm9ybWF0TGFiZWwgfSA9IHVzZVBpZUNoYXJ0Q29udGV4dCgpOwoKCWlmICghc2xpY2VzLmxlbmd0aCkgewoJCXJldHVybiBudWxsOwoJfQoKCXJldHVybiAoCgkJPGRpdgoJCQlyZWY9e3JlZn0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcGItNCBwdC0yIHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe3NsaWNlcy5tYXAoKHNsaWNlKSA9PiAoCgkJCQk8ZGl2IGtleT17c2xpY2UuaWR9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCTxzcGFuCgkJCQkJCWNsYXNzTmFtZT0iaW5saW5lLWZsZXggaC0yLjUgdy0xIHNocmluay0wIHJvdW5kZWQtWzFweF0iCgkJCQkJCXN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogc2xpY2UuY29sb3IgfX0KCQkJCQkvPgoJCQkJCTxzcGFuIGNsYXNzTmFtZT0idGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCQl7Zm9ybWF0TGFiZWwoc2xpY2UpfQoJCQkJCTwvc3Bhbj4KCQkJCTwvZGl2PgoJCQkpKX0KCQk8L2Rpdj4KCSk7Cn0pOwpQaWVDaGFydExlZ2VuZC5kaXNwbGF5TmFtZSA9ICdQaWVDaGFydExlZ2VuZCc7CgpleHBvcnQgaW50ZXJmYWNlIFBpZUNoYXJ0RGF0YVRhYmxlUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBQaWVDaGFydERhdGFUYWJsZSA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCVBpZUNoYXJ0RGF0YVRhYmxlUHJvcHMKPigoeyBjbGFzc05hbWUgPSAnJywgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gewoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17cmVmfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBiZy1jYXJkLW11dGVkLzMwIHNwYWNlLXktMiBib3JkZXItdCBib3JkZXItYm9yZGVyLzYwIHAtNCB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn0pOwpQaWVDaGFydERhdGFUYWJsZS5kaXNwbGF5TmFtZSA9ICdQaWVDaGFydERhdGFUYWJsZSc7CgpleHBvcnQgaW50ZXJmYWNlIFBpZUNoYXJ0RGF0YVRhYmxlQ29udGVudFByb3BzPAoJVERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bSwKPiB7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglyb3dDbGFzc05hbWU/OiBzdHJpbmc7CglsYWJlbENsYXNzTmFtZT86IHN0cmluZzsKCXZhbHVlQ2xhc3NOYW1lPzogc3RyaW5nOwoJcGVyY2VudGFnZUNsYXNzTmFtZT86IHN0cmluZzsKCXNob3dQZXJjZW50YWdlcz86IGJvb2xlYW47CglzaG93VG90YWxSb3c/OiBib29sZWFuOwoJdG90YWxMYWJlbD86IFJlYWN0LlJlYWN0Tm9kZTsKCXRvdGFsRm9ybWF0dGVyPzogKHRvdGFsOiBudW1iZXIpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXBlcmNlbnRhZ2VGb3JtYXR0ZXI/OiAoCgkJcGVyY2VudGFnZTogbnVtYmVyLAoJCXNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPiwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgZnVuY3Rpb24gUGllQ2hhcnREYXRhVGFibGVDb250ZW50PAoJVERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bSwKPih7CgljbGFzc05hbWUgPSAnJywKCXJvd0NsYXNzTmFtZSwKCWxhYmVsQ2xhc3NOYW1lLAoJdmFsdWVDbGFzc05hbWUsCglwZXJjZW50YWdlQ2xhc3NOYW1lLAoJc2hvd1BlcmNlbnRhZ2VzID0gdHJ1ZSwKCXNob3dUb3RhbFJvdyA9IHRydWUsCgl0b3RhbExhYmVsID0gJ1RvdGFsJywKCXRvdGFsRm9ybWF0dGVyLAoJcGVyY2VudGFnZUZvcm1hdHRlciwKfTogUGllQ2hhcnREYXRhVGFibGVDb250ZW50UHJvcHM8VERhdGE+KSB7Cgljb25zdCB7IHNsaWNlcywgdG90YWwsIGZvcm1hdExhYmVsLCBmb3JtYXRWYWx1ZSB9ID0KCQl1c2VQaWVDaGFydENvbnRleHQ8VERhdGE+KCk7CgoJaWYgKCFzbGljZXMubGVuZ3RoKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJY29uc3QgYmFzZVJvd0NsYXNzID0gc2hvd1BlcmNlbnRhZ2VzCgkJPyAnZ3JpZCBncmlkLWNvbHMtW21pbm1heCgwLDFmcilfYXV0b19hdXRvXSBpdGVtcy1jZW50ZXIgZ2FwLTMnCgkJOiAnZ3JpZCBncmlkLWNvbHMtW21pbm1heCgwLDFmcilfYXV0b10gaXRlbXMtY2VudGVyIGdhcC0zJzsKCgljb25zdCB0b3RhbFJvd0Jhc2VDbGFzcyA9IHNob3dQZXJjZW50YWdlcwoJCT8gJ2dyaWQgZ3JpZC1jb2xzLVttaW5tYXgoMCwxZnIpX2F1dG9fYXV0b10gaXRlbXMtY2VudGVyIGdhcC0zIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgcHQtMyB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcKCQk6ICdncmlkIGdyaWQtY29scy1bbWlubWF4KDAsMWZyKV9hdXRvXSBpdGVtcy1jZW50ZXIgZ2FwLTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBwdC0zIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJzsKCgljb25zdCByZW5kZXJQZXJjZW50YWdlID0gKHNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPikgPT4gewoJCWlmICghc2hvd1BlcmNlbnRhZ2VzKSByZXR1cm4gbnVsbDsKCgkJY29uc3QgY29udGVudCA9CgkJCXBlcmNlbnRhZ2VGb3JtYXR0ZXI/LihzbGljZS5wZXJjZW50YWdlLCBzbGljZSkgPz8KCQkJYCR7KHNsaWNlLnBlcmNlbnRhZ2UgKiAxMDApLnRvRml4ZWQoMSl9JWA7CgoJCXJldHVybiAoCgkJCTxzcGFuCgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSd0ZXh0LXJpZ2h0IHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQlwZXJjZW50YWdlQ2xhc3NOYW1lLAoJCQkJKX0KCQkJPgoJCQkJe2NvbnRlbnR9CgkJCTwvc3Bhbj4KCQkpOwoJfTsKCgljb25zdCByZXNvbHZlZFRvdGFsID0gdG90YWxGb3JtYXR0ZXI/Lih0b3RhbCkgPz8gdG90YWwudG9Mb2NhbGVTdHJpbmcoKTsKCglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPXtjbignc3BhY2UteS0yJywgY2xhc3NOYW1lKX0+CgkJCXtzbGljZXMubWFwKChzbGljZSkgPT4gKAoJCQkJPGRpdiBrZXk9e3NsaWNlLmlkfSBjbGFzc05hbWU9e2NuKGJhc2VSb3dDbGFzcywgcm93Q2xhc3NOYW1lKX0+CgkJCQkJPGRpdgoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQkJCQlsYWJlbENsYXNzTmFtZSwKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCTxzcGFuCgkJCQkJCQljbGFzc05hbWU9ImlubGluZS1mbGV4IGgtMi41IHctMSBzaHJpbmstMCByb3VuZGVkLVsxcHhdIgoJCQkJCQkJc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBzbGljZS5jb2xvciB9fQoJCQkJCQkvPgoJCQkJCQk8c3BhbiBjbGFzc05hbWU9InRydW5jYXRlIHRleHQtc20gZm9udC1tZWRpdW0iPgoJCQkJCQkJe2Zvcm1hdExhYmVsKHNsaWNlKX0KCQkJCQkJPC9zcGFuPgoJCQkJCTwvZGl2PgoJCQkJCTxzcGFuCgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkndGV4dC1yaWdodCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQkJCQl2YWx1ZUNsYXNzTmFtZSwKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCXtmb3JtYXRWYWx1ZShzbGljZSl9CgkJCQkJPC9zcGFuPgoJCQkJCXtyZW5kZXJQZXJjZW50YWdlKHNsaWNlKX0KCQkJCTwvZGl2PgoJCQkpKX0KCQkJe3Nob3dUb3RhbFJvdyA/ICgKCQkJCTxkaXYgY2xhc3NOYW1lPXtjbih0b3RhbFJvd0Jhc2VDbGFzcywgcm93Q2xhc3NOYW1lKX0+CgkJCQkJPHNwYW4+e3RvdGFsTGFiZWx9PC9zcGFuPgoJCQkJCTxzcGFuIGNsYXNzTmFtZT17Y24oJ3RleHQtcmlnaHQnLCB2YWx1ZUNsYXNzTmFtZSl9PgoJCQkJCQl7cmVzb2x2ZWRUb3RhbH0KCQkJCQk8L3NwYW4+CgkJCQkJe3Nob3dQZXJjZW50YWdlcyA/ICgKCQkJCQkJPHNwYW4KCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJJ3RleHQtcmlnaHQgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LWZvcmVncm91bmQvNTUnLAoJCQkJCQkJCXBlcmNlbnRhZ2VDbGFzc05hbWUsCgkJCQkJCQkpfQoJCQkJCQk+CgkJCQkJCQkxMDAlCgkJCQkJCTwvc3Bhbj4KCQkJCQkpIDogbnVsbH0KCQkJCTwvZGl2PgoJCQkpIDogbnVsbH0KCQk8L2Rpdj4KCSk7Cn0KCmV4cG9ydCBjb25zdCBQaWVDaGFydCA9IFBpZUNoYXJ0Um9vdDs="
,
  "checkbox.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9pY29ucyc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgY2hlY2tib3hWYXJpYW50cyA9IGN2YSgKCVsKCQkncmVsYXRpdmUgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ib3JkZXInLAoJCSdjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljJywKCQknaGFzLVs6Zm9jdXMtdmlzaWJsZV06cmluZy0xIGhhcy1bOmZvY3VzLXZpc2libGVdOnJpbmctb2Zmc2V0LTEgaGFzLVs6Zm9jdXMtdmlzaWJsZV06b3V0bGluZS1ub25lJywKCQknaGFzLVs6Zm9jdXMtdmlzaWJsZV06cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAnLAoJCSdub3QtcHJvc2Ugc2hhZG93LXNtJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdoLTQgdy00JywKCQkJCW1kOiAnaC01IHctNScsCgkJCQlsZzogJ2gtNiB3LTYnLAoJCQl9LAoJCQljaGVja2VkOiB7CgkJCQl0cnVlOiAnJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQljb21wb3VuZFZhcmlhbnRzOiBbCgkJCXsKCQkJCWNoZWNrZWQ6IHRydWUsCgkJCQljbGFzczogJ2JnLWZvcmVncm91bmQgaGFzLVs6Zm9jdXMtdmlzaWJsZV06cmluZy1yaW5nLzUwJywKCQkJfSwKCQkJewoJCQkJY2hlY2tlZDogZmFsc2UsCgkJCQljbGFzczogJ2JnLWNhcmQgaGFzLVs6Zm9jdXMtdmlzaWJsZV06cmluZy1yaW5nLzUwJywKCQkJfSwKCQldLAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCQljaGVja2VkOiBmYWxzZSwKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgaWNvblZhcmlhbnRzID0gY3ZhKAoJWyd0ZXh0LWNhcmQgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljJ10sCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdoLTMgdy0zJywKCQkJCW1kOiAnaC00IHctNCcsCgkJCQlsZzogJ2gtNC41IHctNC41JywKCQkJfSwKCQkJY2hlY2tlZDogewoJCQkJdHJ1ZTogJ29wYWNpdHktMTAwJywKCQkJCWZhbHNlOiAnb3BhY2l0eS0wJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCQljaGVja2VkOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2tib3hQcm9wcwoJZXh0ZW5kcyBPbWl0PAoJCQlSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LAoJCQknc2l6ZScgfCAnZGlzYWJsZWQnCgkJPiwKCQlPbWl0PFZhcmlhbnRQcm9wczx0eXBlb2YgY2hlY2tib3hWYXJpYW50cz4sICdjaGVja2VkJz4gewoJY2hlY2tlZD86IGJvb2xlYW47CglvbkNoZWNrZWRDaGFuZ2U/OiAoY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZDsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWlkPzogc3RyaW5nOwoJZGVmYXVsdENoZWNrZWQ/OiBib29sZWFuOwp9CgpleHBvcnQgY29uc3QgQ2hlY2tib3g6IFJlYWN0LkZDPENoZWNrYm94UHJvcHM+ID0gKHsKCWNoZWNrZWQsCglvbkNoZWNrZWRDaGFuZ2UsCglkZWZhdWx0Q2hlY2tlZCwKCXNpemUgPSAnbWQnLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWNsYXNzTmFtZSA9ICcnLAoJaWQsCgkuLi5wcm9wcwp9KSA9PiB7CglsZXQgcHJvcHNGb3JTdG9yZTogUGFyYW1ldGVyczx0eXBlb2YgQXJpYWtpdC51c2VDaGVja2JveFN0b3JlPGJvb2xlYW4+PlswXTsKCWlmICh0eXBlb2YgY2hlY2tlZCAhPT0gJ3VuZGVmaW5lZCcpIHsKCQlpZiAob25DaGVja2VkQ2hhbmdlKSB7CgkJCXByb3BzRm9yU3RvcmUgPSB7CgkJCQl2YWx1ZTogY2hlY2tlZCwKCQkJCXNldFZhbHVlOiAodmFsdWUpID0+IHsKCQkJCQljb25zdCBib29sID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggPiAwIDogQm9vbGVhbih2YWx1ZSk7CgkJCQkJb25DaGVja2VkQ2hhbmdlKGJvb2wpOwoJCQkJfSwKCQkJfTsKCQl9IGVsc2UgewoJCQlwcm9wc0ZvclN0b3JlID0geyB2YWx1ZTogY2hlY2tlZCB9OwoJCX0KCX0gZWxzZSB7CgkJcHJvcHNGb3JTdG9yZSA9IHsgZGVmYXVsdFZhbHVlOiBCb29sZWFuKGRlZmF1bHRDaGVja2VkKSB9OwoJfQoJY29uc3Qgc3RvcmUgPSBBcmlha2l0LnVzZUNoZWNrYm94U3RvcmU8Ym9vbGVhbj4ocHJvcHNGb3JTdG9yZSk7CgoJY29uc3QgaXNDaGVja2VkID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAndmFsdWUnKTsKCWNvbnN0IHsgbmFtZSwgYXV0b0ZvY3VzLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzOwoJY29uc3QgY2hlY2tib3hQcm9wcyA9IHsKCQkuLi5yZXN0UHJvcHMsCgkJLi4uKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/IHt9IDogeyBuYW1lIH0pLAoJCS4uLih0eXBlb2YgYXV0b0ZvY3VzID09PSAndW5kZWZpbmVkJyA/IHt9IDogeyBhdXRvRm9jdXMgfSksCgl9OwoKCXJldHVybiAoCgkJPGxhYmVsCgkJCWNsYXNzTmFtZT17Y24oCgkJCQljaGVja2JveFZhcmlhbnRzKHsgc2l6ZSwgY2hlY2tlZDogaXNDaGVja2VkLCBkaXNhYmxlZCB9KSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJaHRtbEZvcj17aWR9CgkJPgoJCQk8QXJpYWtpdC5DaGVja2JveAoJCQkJc3RvcmU9e3N0b3JlfQoJCQkJY2xhc3NOYW1lPSJzci1vbmx5IgoJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJaWQ9e2lkfQoJCQkJey4uLmNoZWNrYm94UHJvcHN9CgkJCS8+CgkJCTxJY29ucy5DaGVjawoJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQljbGFzc05hbWU9e2ljb25WYXJpYW50cyh7IHNpemUsIGNoZWNrZWQ6IGlzQ2hlY2tlZCB9KX0KCQkJLz4KCQk8L2xhYmVsPgoJKTsKfTs="
,
  "dropdown-menu.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgZHJvcGRvd25NZW51Q29udGVudFZhcmlhbnRzID0gY3ZhKAoJYG5vdC1wcm9zZSB6LTUwIG9yaWdpbi10b3AgLXRyYW5zbGF0ZS15LTIgc2NhbGUtOTUgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIG9wYWNpdHktMCBzaGFkb3ctbWQgdHJhbnNpdGlvbi1bc2NhbGUsdHJhbnNsYXRlLG9wYWNpdHldIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTpvcGFjaXR5LTBgLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnbWluLXctWzhyZW1dIHAtMScsCgkJCQltZDogJ21pbi13LVsxMHJlbV0gcC0xJywKCQkJCWxnOiAnbWluLXctWzEycmVtXSBwLTInLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBkcm9wZG93blN1Yk1lbnVDb250ZW50VmFyaWFudHMgPSBjdmEoCglgbm90LXByb3NlIHotNTAgb3JpZ2luLXRvcC1sZWZ0IC10cmFuc2xhdGUteS0yIHNjYWxlLTk1IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBvcGFjaXR5LTAgc2hhZG93LW1kIHRyYW5zaXRpb24tW3NjYWxlLHRyYW5zbGF0ZSxvcGFjaXR5XSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggZGF0YS1lbnRlcjp0cmFuc2xhdGUteS0wIGRhdGEtZW50ZXI6c2NhbGUtMTAwIGRhdGEtZW50ZXI6b3BhY2l0eS0xMDAgZGF0YS1sZWF2ZTotdHJhbnNsYXRlLXktMiBkYXRhLWxlYXZlOnNjYWxlLTk1IGRhdGEtbGVhdmU6b3BhY2l0eS0wIGVhc2UtYmFzaWNgLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnbWluLXctWzdyZW1dIHAtMScsCgkJCQltZDogJ21pbi13LVs4cmVtXSBwLTEnLAoJCQkJbGc6ICdtaW4tdy1bMTByZW1dIHAtMicsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IGRyb3Bkb3duTWVudUl0ZW1WYXJpYW50cyA9IGN2YSgKCWByZWxhdGl2ZSBncm91cCBmbGV4IHctZnVsbCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIgcm91bmRlZC1zbSBweC0yIHB5LTEuNSB0ZXh0LXNtIFsmX3N2Z106c2hyaW5rLTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNCBnYXAtMiB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yXSBvdXRsaW5lLW5vbmUgc2VsZWN0LW5vbmUgdGV4dC1mb3JlZ3JvdW5kLzcwIGhvdmVyOmJnLWNhcmQtbXV0ZWQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6YmctY2FyZC1tdXRlZCBmb2N1cy12aXNpYmxlOnRleHQtZm9yZWdyb3VuZCBhcmlhLWRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgYXJpYS1kaXNhYmxlZDpvcGFjaXR5LTUwYCwKCXsKCQl2YXJpYW50czogewoJCQlpbnNldDogewoJCQkJdHJ1ZTogJ3BsLTgnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCQlkZXN0cnVjdGl2ZTogewoJCQkJdHJ1ZTogJ3RleHQtZGVzdHJ1Y3RpdmUvOTAgaG92ZXI6YmctZGVzdHJ1Y3RpdmUvMTAgaG92ZXI6dGV4dC1kZXN0cnVjdGl2ZScsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJaW5zZXQ6IGZhbHNlLAoJCQlkZXN0cnVjdGl2ZTogZmFsc2UsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIERyb3Bkb3duTWVudVByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBEcm9wZG93bk1lbnU6IFJlYWN0LkZDPERyb3Bkb3duTWVudVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSwKfSkgPT4gewoJY29uc3QgbWVudSA9IEFyaWFraXQudXNlTWVudVN0b3JlKHsgYW5pbWF0ZWQ6IHRydWUgfSk7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51UHJvdmlkZXIgc3RvcmU9e21lbnV9PgoJCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ25vdC1wcm9zZScsIGNsYXNzTmFtZSl9PntjaGlsZHJlbn08L2Rpdj4KCQk8L0FyaWFraXQuTWVudVByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25NZW51VHJpZ2dlclByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47Cn0KCmV4cG9ydCBjb25zdCBEcm9wZG93bk1lbnVUcmlnZ2VyOiBSZWFjdC5GQzxEcm9wZG93bk1lbnVUcmlnZ2VyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJZGlzYWJsZWQsCn0pID0+IHsKCWNvbnN0IG1lbnUgPSBBcmlha2l0LnVzZU1lbnVDb250ZXh0KCk7CglpZiAoIW1lbnUpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ0Ryb3Bkb3duTWVudVRyaWdnZXIgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIERyb3Bkb3duTWVudS4nKTsKCX0KCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnVCdXR0b24KCQkJc3RvcmU9e21lbnV9CgkJCWRpc2FibGVkPXtCb29sZWFuKGRpc2FibGVkKX0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdhcHBlYXJhbmNlLW5vbmUgYmctdHJhbnNwYXJlbnQgcC0wIHRleHQtbGVmdCcsCgkJCQljbGFzc05hbWUsCgkJCQlkaXNhYmxlZCAmJiAnb3BhY2l0eS01MCcsCgkJCSl9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0Lk1lbnVCdXR0b24+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERyb3Bkb3duTWVudUNvbnRlbnQ6IFJlYWN0LkZDPAoJewoJCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCXNhbWVXaWR0aD86IGJvb2xlYW47Cgl9ICYgVmFyaWFudFByb3BzPHR5cGVvZiBkcm9wZG93bk1lbnVDb250ZW50VmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzYW1lV2lkdGggPSBmYWxzZSwgc2l6ZSB9KSA9PiAoCgk8QXJpYWtpdC5NZW51CgkJcG9ydGFsCgkJZ3V0dGVyPXs0fQoJCXNhbWVXaWR0aD17c2FtZVdpZHRofQoJCWNsYXNzTmFtZT17Y24oZHJvcGRvd25NZW51Q29udGVudFZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBnYXAtMSI+e2NoaWxkcmVufTwvZGl2PgoJPC9Bcmlha2l0Lk1lbnU+Cik7CgpleHBvcnQgY29uc3QgRHJvcGRvd25NZW51SXRlbTogUmVhY3QuRkM8Cgl7CgkJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCQljbGFzc05hbWU/OiBzdHJpbmc7CgkJZGlzYWJsZWQ/OiBib29sZWFuOwoJCWluc2V0PzogYm9vbGVhbjsKCQlkZXN0cnVjdGl2ZT86IGJvb2xlYW47CgkJb25DbGljaz86ICgpID0+IHZvaWQ7Cgl9ICYgVmFyaWFudFByb3BzPHR5cGVvZiBkcm9wZG93bk1lbnVJdGVtVmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBkaXNhYmxlZCwgaW5zZXQsIGRlc3RydWN0aXZlLCBvbkNsaWNrIH0pID0+ICgKCTxBcmlha2l0Lk1lbnVJdGVtCgkJZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfQoJCW9uQ2xpY2s9e29uQ2xpY2t9CgkJY2xhc3NOYW1lPXtjbihkcm9wZG93bk1lbnVJdGVtVmFyaWFudHMoeyBpbnNldCwgZGVzdHJ1Y3RpdmUgfSksIGNsYXNzTmFtZSl9Cgk+CgkJe2NoaWxkcmVufQoJPC9Bcmlha2l0Lk1lbnVJdGVtPgopOwoKZXhwb3J0IGNvbnN0IERyb3Bkb3duTWVudVNlcGFyYXRvcjogUmVhY3QuRkM8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT4gPSAoewoJY2xhc3NOYW1lLAp9KSA9PiAoCgk8QXJpYWtpdC5NZW51U2VwYXJhdG9yCgkJY2xhc3NOYW1lPXtjbignLW14LTEgbXktMSBoLXB4IGJnLWJvcmRlciBvcGFjaXR5LTYwJywgY2xhc3NOYW1lKX0KCS8+Cik7CgpleHBvcnQgY29uc3QgRHJvcGRvd25NZW51U3ViOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoewoJY2hpbGRyZW4sCn0pID0+IHsKCWNvbnN0IHN1Yk1lbnUgPSBBcmlha2l0LnVzZU1lbnVTdG9yZSh7IGFuaW1hdGVkOiB0cnVlIH0pOwoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51UHJvdmlkZXIgc3RvcmU9e3N1Yk1lbnV9PntjaGlsZHJlbn08L0FyaWFraXQuTWVudVByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBEcm9wZG93bk1lbnVTdWJUcmlnZ2VyOiBSZWFjdC5GQzwKCXsKCQljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJCWNsYXNzTmFtZT86IHN0cmluZzsKCQlkaXNhYmxlZD86IGJvb2xlYW47CgkJaW5zZXQ/OiBib29sZWFuOwoJCWRlc3RydWN0aXZlPzogYm9vbGVhbjsKCX0gJiBWYXJpYW50UHJvcHM8dHlwZW9mIGRyb3Bkb3duTWVudUl0ZW1WYXJpYW50cz4KPiA9ICh7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGRpc2FibGVkLCBpbnNldCwgZGVzdHJ1Y3RpdmUgfSkgPT4gKAoJPEFyaWFraXQuTWVudUJ1dHRvbgoJCWRpc2FibGVkPXtCb29sZWFuKGRpc2FibGVkKX0KCQljbGFzc05hbWU9e2NuKGRyb3Bkb3duTWVudUl0ZW1WYXJpYW50cyh7IGluc2V0LCBkZXN0cnVjdGl2ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQl7Y2hpbGRyZW59CgkJPEFyaWFraXQuTWVudUJ1dHRvbkFycm93IGNsYXNzTmFtZT0ibWwtYXV0byB0ZXh0LWZvcmVncm91bmQvNzAgZ3JvdXAtaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tW2NvbG9yXSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYyIgLz4KCTwvQXJpYWtpdC5NZW51QnV0dG9uPgopOwoKZXhwb3J0IGNvbnN0IERyb3Bkb3duTWVudVN1YkNvbnRlbnQ6IFJlYWN0LkZDPAoJewoJCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJfSAmIFZhcmlhbnRQcm9wczx0eXBlb2YgZHJvcGRvd25TdWJNZW51Q29udGVudFZhcmlhbnRzPgo+ID0gKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgc2l6ZSB9KSA9PiAoCgk8QXJpYWtpdC5NZW51CgkJcG9ydGFsCgkJY2xhc3NOYW1lPXtjbihkcm9wZG93blN1Yk1lbnVDb250ZW50VmFyaWFudHMoeyBzaXplIH0pLCBjbGFzc05hbWUpfQoJPgoJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGdhcC0xIj57Y2hpbGRyZW59PC9kaXY+Cgk8L0FyaWFraXQuTWVudT4KKTs="
,
  "slider.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBzbGlkZXJWYXJpYW50cyA9IGN2YSgKCSdub3QtcHJvc2UgcmVsYXRpdmUgY3Vyc29yLXBvaW50ZXIgdG91Y2gtbm9uZSByb3VuZGVkLWZ1bGwgc2VsZWN0LW5vbmUgdHJhbnNpdGlvbi1zaGFkb3cgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAnLAoJewoJCXZhcmlhbnRzOiB7CgkJCW9yaWVudGF0aW9uOiB7CgkJCQlob3Jpem9udGFsOiAndy1mdWxsJywKCQkJCXZlcnRpY2FsOiAnaC1mdWxsJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJCX0sCgl9LAopOwoKY29uc3QgdHJhY2tWYXJpYW50cyA9IGN2YSgKCSdyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItYm9yZGVyLzYwIGJnLWNhcmQtbXV0ZWQgc2hhZG93LWlubmVyJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogJ2gtMSB3LWZ1bGwnLAoJCQkJbWQ6ICdoLTIgdy1mdWxsJywKCQkJCWxnOiAnaC0zIHctZnVsbCcsCgkJCX0sCgkJCW9yaWVudGF0aW9uOiB7CgkJCQlob3Jpem9udGFsOiAnJywKCQkJCXZlcnRpY2FsOiAnJywKCQkJfSwKCQl9LAoJCWNvbXBvdW5kVmFyaWFudHM6IFsKCQkJewoJCQkJc2l6ZTogJ3NtJywKCQkJCW9yaWVudGF0aW9uOiAndmVydGljYWwnLAoJCQkJY2xhc3M6ICdoLWZ1bGwgdy0xJywKCQkJfSwKCQkJewoJCQkJc2l6ZTogJ21kJywKCQkJCW9yaWVudGF0aW9uOiAndmVydGljYWwnLAoJCQkJY2xhc3M6ICdoLWZ1bGwgdy0yJywKCQkJfSwKCQkJewoJCQkJc2l6ZTogJ2xnJywKCQkJCW9yaWVudGF0aW9uOiAndmVydGljYWwnLAoJCQkJY2xhc3M6ICdoLWZ1bGwgdy0zJywKCQkJfSwKCQldLAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJCX0sCgl9LAopOwoKY29uc3QgZmlsbFZhcmlhbnRzID0gY3ZhKCdhYnNvbHV0ZSByb3VuZGVkLWZ1bGwnLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJ2JnLWZvcmVncm91bmQvMzAnLAoJCQlzZWNvbmRhcnk6ICdiZy1mb3JlZ3JvdW5kLzE1JywKCQl9LAoJCXNpemU6IHsKCQkJc206ICdoLTEnLAoJCQltZDogJ2gtMicsCgkJCWxnOiAnaC0zJywKCQl9LAoJCW9yaWVudGF0aW9uOiB7CgkJCWhvcml6b250YWw6ICd0b3AtMCBsZWZ0LTAnLAoJCQl2ZXJ0aWNhbDogJ2JvdHRvbS0wIGxlZnQtMCcsCgkJfSwKCX0sCgljb21wb3VuZFZhcmlhbnRzOiBbCgkJewoJCQlzaXplOiAnc20nLAoJCQlvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywKCQkJY2xhc3M6ICd3LTEnLAoJCX0sCgkJewoJCQlzaXplOiAnbWQnLAoJCQlvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywKCQkJY2xhc3M6ICd3LTInLAoJCX0sCgkJewoJCQlzaXplOiAnbGcnLAoJCQlvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywKCQkJY2xhc3M6ICd3LTMnLAoJCX0sCgldLAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCXNpemU6ICdtZCcsCgkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCX0sCn0pOwoKY29uc3QgdGh1bWJWYXJpYW50cyA9IGN2YSgKCSdhYnNvbHV0ZSBvcmlnaW4tY2VudGVyIHJvdW5kZWQtZnVsbCBzaGFkb3ctbWQgaG92ZXI6c2hhZG93LXNtJywKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAnYm9yZGVyLWJvcmRlci82MCBib3JkZXIgYmctZm9yZWdyb3VuZCcsCgkJCQlzZWNvbmRhcnk6ICdib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkJywKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICdoLTQgdy00JywKCQkJCW1kOiAnaC01IHctNScsCgkJCQlsZzogJ2gtNiB3LTYnLAoJCQl9LAoJCQlvcmllbnRhdGlvbjogewoJCQkJaG9yaXpvbnRhbDogJ3RvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMicsCgkJCQl2ZXJ0aWNhbDogJ2xlZnQtMS8yIC10cmFuc2xhdGUteC0xLzInLAoJCQl9LAoJCQlkaXNhYmxlZDogewoJCQkJdHJ1ZTogJ2N1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWZhbHNlOiAnY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJCQlkaXNhYmxlZDogZmFsc2UsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIFNsaWRlclByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LCAnb25DaGFuZ2UnPiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHNsaWRlclZhcmlhbnRzPiB7Cgl2YWx1ZT86IG51bWJlcjsKCWRlZmF1bHRWYWx1ZT86IG51bWJlcjsKCW1pbj86IG51bWJlcjsKCW1heD86IG51bWJlcjsKCXN0ZXA/OiBudW1iZXI7CglkaXNhYmxlZD86IGJvb2xlYW47CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJdmFyaWFudD86ICdkZWZhdWx0JyB8ICdzZWNvbmRhcnknOwoJc2hvd1ZhbHVlPzogYm9vbGVhbjsKCWZvcm1hdFZhbHVlPzogKHZhbHVlOiBudW1iZXIpID0+IHN0cmluZzsKCWdldFZhbHVlVGV4dD86ICh2YWx1ZTogbnVtYmVyKSA9PiBzdHJpbmc7CglvbkNoYW5nZT86ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkOwoJb25WYWx1ZUNvbW1pdD86ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJdHJhY2tDbGFzc05hbWU/OiBzdHJpbmc7Cgl0aHVtYkNsYXNzTmFtZT86IHN0cmluZzsKCSdhcmlhLWxhYmVsJz86IHN0cmluZzsKCSdhcmlhLWxhYmVsbGVkYnknPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgU2xpZGVyOiBSZWFjdC5GQzxTbGlkZXJQcm9wcz4gPSAoewoJdmFsdWU6IGNvbnRyb2xsZWRWYWx1ZSwKCWRlZmF1bHRWYWx1ZSA9IDAsCgltaW4gPSAwLAoJbWF4ID0gMTAwLAoJc3RlcCA9IDEsCglkaXNhYmxlZCA9IGZhbHNlLAoJc2l6ZSA9ICdtZCcsCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJb3JpZW50YXRpb24gPSAnaG9yaXpvbnRhbCcsCglzaG93VmFsdWUgPSBmYWxzZSwKCWZvcm1hdFZhbHVlID0gKHZhbHVlKSA9PiB2YWx1ZS50b1N0cmluZygpLAoJZ2V0VmFsdWVUZXh0LAoJb25DaGFuZ2UsCglvblZhbHVlQ29tbWl0LAoJY2xhc3NOYW1lID0gJycsCgl0cmFja0NsYXNzTmFtZSA9ICcnLAoJdGh1bWJDbGFzc05hbWUgPSAnJywKCSdhcmlhLWxhYmVsJzogYXJpYUxhYmVsLAoJJ2FyaWEtbGFiZWxsZWRieSc6IGFyaWFMYWJlbGxlZEJ5LAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgW2ludGVybmFsVmFsdWUsIHNldEludGVybmFsVmFsdWVdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlKTsKCWNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKCWNvbnN0IHNsaWRlclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7Cgljb25zdCB0aHVtYlJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7CgoJY29uc3QgaXNDb250cm9sbGVkID0gY29udHJvbGxlZFZhbHVlICE9PSB1bmRlZmluZWQ7Cgljb25zdCBjdXJyZW50VmFsdWUgPSBpc0NvbnRyb2xsZWQgPyBjb250cm9sbGVkVmFsdWUgOiBpbnRlcm5hbFZhbHVlOwoKCWNvbnN0IGNsYW1wVmFsdWUgPSB1c2VDYWxsYmFjaygKCQkodmFsOiBudW1iZXIpID0+IHsKCQkJcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWwpKTsKCQl9LAoJCVttaW4sIG1heF0sCgkpOwoKCWNvbnN0IHJvdW5kVG9TdGVwID0gdXNlQ2FsbGJhY2soCgkJKHZhbDogbnVtYmVyKSA9PiB7CgkJCXJldHVybiBNYXRoLnJvdW5kKHZhbCAvIHN0ZXApICogc3RlcDsKCQl9LAoJCVtzdGVwXSwKCSk7CgoJY29uc3QgZ2V0UGVyY2VudGFnZSA9IHVzZUNhbGxiYWNrKAoJCSh2YWw6IG51bWJlcikgPT4gewoJCQlyZXR1cm4gKCh2YWwgLSBtaW4pIC8gKG1heCAtIG1pbikpICogMTAwOwoJCX0sCgkJW21pbiwgbWF4XSwKCSk7CgoJY29uc3QgZ2V0VmFsdWVGcm9tUGVyY2VudGFnZSA9IHVzZUNhbGxiYWNrKAoJCShwZXJjZW50YWdlOiBudW1iZXIpID0+IHsKCQkJY29uc3QgdmFsID0gKHBlcmNlbnRhZ2UgLyAxMDApICogKG1heCAtIG1pbikgKyBtaW47CgkJCXJldHVybiByb3VuZFRvU3RlcChjbGFtcFZhbHVlKHZhbCkpOwoJCX0sCgkJW21pbiwgbWF4LCByb3VuZFRvU3RlcCwgY2xhbXBWYWx1ZV0sCgkpOwoKCWNvbnN0IGdldFBvc2l0aW9uRnJvbUV2ZW50ID0gdXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4gewoJCQlpZiAoIXNsaWRlclJlZi5jdXJyZW50KSByZXR1cm4gMDsKCgkJCWNvbnN0IHJlY3QgPSBzbGlkZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJY29uc3QgZmlyc3RUb3VjaCA9CgkJCQkndG91Y2hlcycgaW4gZXZlbnQgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGggPiAwCgkJCQkJPyBldmVudC50b3VjaGVzWzBdCgkJCQkJOiBudWxsOwoJCQljb25zdCBjbGllbnRYID0KCQkJCWZpcnN0VG91Y2g/LmNsaWVudFggPz8gKCdjbGllbnRYJyBpbiBldmVudCA/IGV2ZW50LmNsaWVudFggOiAwKTsKCQkJY29uc3QgY2xpZW50WSA9CgkJCQlmaXJzdFRvdWNoPy5jbGllbnRZID8/ICgnY2xpZW50WScgaW4gZXZlbnQgPyBldmVudC5jbGllbnRZIDogMCk7CgoJCQlpZiAob3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykgewoJCQkJcmV0dXJuICgoY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoKSAqIDEwMDsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiAoKHJlY3QuYm90dG9tIC0gY2xpZW50WSkgLyByZWN0LmhlaWdodCkgKiAxMDA7CgkJCX0KCQl9LAoJCVtvcmllbnRhdGlvbl0sCgkpOwoKCWNvbnN0IGhhbmRsZVZhbHVlQ2hhbmdlID0gdXNlQ2FsbGJhY2soCgkJKG5ld1ZhbHVlOiBudW1iZXIpID0+IHsKCQkJY29uc3QgY2xhbXBlZFZhbHVlID0gY2xhbXBWYWx1ZShuZXdWYWx1ZSk7CgoJCQlpZiAoIWlzQ29udHJvbGxlZCkgewoJCQkJc2V0SW50ZXJuYWxWYWx1ZShjbGFtcGVkVmFsdWUpOwoJCQl9CgoJCQlvbkNoYW5nZT8uKGNsYW1wZWRWYWx1ZSk7CgkJfSwKCQlbaXNDb250cm9sbGVkLCBvbkNoYW5nZSwgY2xhbXBWYWx1ZV0sCgkpOwoKCWNvbnN0IGhhbmRsZU1vdXNlRG93biA9IHVzZUNhbGxiYWNrKAoJCShldmVudDogUmVhY3QuTW91c2VFdmVudCkgPT4gewoJCQlpZiAoZGlzYWJsZWQpIHJldHVybjsKCgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCXNldElzRHJhZ2dpbmcodHJ1ZSk7CgoJCQlzbGlkZXJSZWYuY3VycmVudD8uZm9jdXMoKTsKCgkJCWNvbnN0IHBlcmNlbnRhZ2UgPSBnZXRQb3NpdGlvbkZyb21FdmVudChldmVudC5uYXRpdmVFdmVudCk7CgkJCWNvbnN0IG5ld1ZhbHVlID0gZ2V0VmFsdWVGcm9tUGVyY2VudGFnZShwZXJjZW50YWdlKTsKCQkJaGFuZGxlVmFsdWVDaGFuZ2UobmV3VmFsdWUpOwoJCX0sCgkJW2Rpc2FibGVkLCBnZXRQb3NpdGlvbkZyb21FdmVudCwgZ2V0VmFsdWVGcm9tUGVyY2VudGFnZSwgaGFuZGxlVmFsdWVDaGFuZ2VdLAoJKTsKCgljb25zdCBoYW5kbGVUb3VjaFN0YXJ0ID0gdXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBSZWFjdC5Ub3VjaEV2ZW50KSA9PiB7CgkJCWlmIChkaXNhYmxlZCkgcmV0dXJuOwoKCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJc2V0SXNEcmFnZ2luZyh0cnVlKTsKCgkJCXNsaWRlclJlZi5jdXJyZW50Py5mb2N1cygpOwoKCQkJY29uc3QgcGVyY2VudGFnZSA9IGdldFBvc2l0aW9uRnJvbUV2ZW50KGV2ZW50Lm5hdGl2ZUV2ZW50KTsKCQkJY29uc3QgbmV3VmFsdWUgPSBnZXRWYWx1ZUZyb21QZXJjZW50YWdlKHBlcmNlbnRhZ2UpOwoJCQloYW5kbGVWYWx1ZUNoYW5nZShuZXdWYWx1ZSk7CgkJfSwKCQlbZGlzYWJsZWQsIGdldFBvc2l0aW9uRnJvbUV2ZW50LCBnZXRWYWx1ZUZyb21QZXJjZW50YWdlLCBoYW5kbGVWYWx1ZUNoYW5nZV0sCgkpOwoKCWNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IHVzZUNhbGxiYWNrKAoJCShldmVudDogTW91c2VFdmVudCkgPT4gewoJCQlpZiAoIWlzRHJhZ2dpbmcgfHwgZGlzYWJsZWQpIHJldHVybjsKCgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCWNvbnN0IHBlcmNlbnRhZ2UgPSBnZXRQb3NpdGlvbkZyb21FdmVudChldmVudCk7CgkJCWNvbnN0IG5ld1ZhbHVlID0gZ2V0VmFsdWVGcm9tUGVyY2VudGFnZShwZXJjZW50YWdlKTsKCQkJaGFuZGxlVmFsdWVDaGFuZ2UobmV3VmFsdWUpOwoJCX0sCgkJWwoJCQlpc0RyYWdnaW5nLAoJCQlkaXNhYmxlZCwKCQkJZ2V0UG9zaXRpb25Gcm9tRXZlbnQsCgkJCWdldFZhbHVlRnJvbVBlcmNlbnRhZ2UsCgkJCWhhbmRsZVZhbHVlQ2hhbmdlLAoJCV0sCgkpOwoKCWNvbnN0IGhhbmRsZVRvdWNoTW92ZSA9IHVzZUNhbGxiYWNrKAoJCShldmVudDogVG91Y2hFdmVudCkgPT4gewoJCQlpZiAoIWlzRHJhZ2dpbmcgfHwgZGlzYWJsZWQpIHJldHVybjsKCgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCWNvbnN0IHBlcmNlbnRhZ2UgPSBnZXRQb3NpdGlvbkZyb21FdmVudChldmVudCk7CgkJCWNvbnN0IG5ld1ZhbHVlID0gZ2V0VmFsdWVGcm9tUGVyY2VudGFnZShwZXJjZW50YWdlKTsKCQkJaGFuZGxlVmFsdWVDaGFuZ2UobmV3VmFsdWUpOwoJCX0sCgkJWwoJCQlpc0RyYWdnaW5nLAoJCQlkaXNhYmxlZCwKCQkJZ2V0UG9zaXRpb25Gcm9tRXZlbnQsCgkJCWdldFZhbHVlRnJvbVBlcmNlbnRhZ2UsCgkJCWhhbmRsZVZhbHVlQ2hhbmdlLAoJCV0sCgkpOwoKCWNvbnN0IGhhbmRsZU1vdXNlVXAgPSB1c2VDYWxsYmFjaygoKSA9PiB7CgkJaWYgKCFpc0RyYWdnaW5nKSByZXR1cm47CgoJCXNldElzRHJhZ2dpbmcoZmFsc2UpOwoJCW9uVmFsdWVDb21taXQ/LihjdXJyZW50VmFsdWUpOwoJfSwgW2lzRHJhZ2dpbmcsIG9uVmFsdWVDb21taXQsIGN1cnJlbnRWYWx1ZV0pOwoKCWNvbnN0IGhhbmRsZVRvdWNoRW5kID0gdXNlQ2FsbGJhY2soKCkgPT4gewoJCWlmICghaXNEcmFnZ2luZykgcmV0dXJuOwoKCQlzZXRJc0RyYWdnaW5nKGZhbHNlKTsKCQlvblZhbHVlQ29tbWl0Py4oY3VycmVudFZhbHVlKTsKCX0sIFtpc0RyYWdnaW5nLCBvblZhbHVlQ29tbWl0LCBjdXJyZW50VmFsdWVdKTsKCgljb25zdCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7CgkJCWlmIChkaXNhYmxlZCkgcmV0dXJuOwoKCQkJbGV0IG5ld1ZhbHVlID0gY3VycmVudFZhbHVlOwoKCQkJc3dpdGNoIChldmVudC5rZXkpIHsKCQkJCWNhc2UgJ0Fycm93TGVmdCc6CgkJCQljYXNlICdBcnJvd0Rvd24nOgoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJbmV3VmFsdWUgPSBjdXJyZW50VmFsdWUgLSBzdGVwOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAnQXJyb3dSaWdodCc6CgkJCQljYXNlICdBcnJvd1VwJzoKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCW5ld1ZhbHVlID0gY3VycmVudFZhbHVlICsgc3RlcDsKCQkJCQlicmVhazsKCQkJCWNhc2UgJ0hvbWUnOgoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJbmV3VmFsdWUgPSBtaW47CgkJCQkJYnJlYWs7CgkJCQljYXNlICdFbmQnOgoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJbmV3VmFsdWUgPSBtYXg7CgkJCQkJYnJlYWs7CgkJCQljYXNlICdQYWdlRG93bic6CgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQluZXdWYWx1ZSA9IGN1cnJlbnRWYWx1ZSAtIHN0ZXAgKiAxMDsKCQkJCQlicmVhazsKCQkJCWNhc2UgJ1BhZ2VVcCc6CgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQluZXdWYWx1ZSA9IGN1cnJlbnRWYWx1ZSArIHN0ZXAgKiAxMDsKCQkJCQlicmVhazsKCQkJCWRlZmF1bHQ6CgkJCQkJcmV0dXJuOwoJCQl9CgoJCQloYW5kbGVWYWx1ZUNoYW5nZShjbGFtcFZhbHVlKG5ld1ZhbHVlKSk7CgkJfSwKCQlbZGlzYWJsZWQsIGN1cnJlbnRWYWx1ZSwgc3RlcCwgbWluLCBtYXgsIGhhbmRsZVZhbHVlQ2hhbmdlLCBjbGFtcFZhbHVlXSwKCSk7CgoJdXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjsKCgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTsKCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaE1vdmUpOwoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTsKCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kKTsKCgkJcmV0dXJuICgpID0+IHsKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTsKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlVG91Y2hNb3ZlKTsKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApOwoJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kKTsKCQl9OwoJfSwgWwoJCWlzRHJhZ2dpbmcsCgkJaGFuZGxlTW91c2VNb3ZlLAoJCWhhbmRsZVRvdWNoTW92ZSwKCQloYW5kbGVNb3VzZVVwLAoJCWhhbmRsZVRvdWNoRW5kLAoJXSk7CgoJY29uc3QgY3VycmVudE9yaWVudGF0aW9uID0gb3JpZW50YXRpb24gfHwgJ2hvcml6b250YWwnOwoJY29uc3QgY3VycmVudFNpemUgPSBzaXplIHx8ICdtZCc7Cgljb25zdCBjdXJyZW50VmFyaWFudCA9IHZhcmlhbnQgfHwgJ2RlZmF1bHQnOwoKCWNvbnN0IHBlcmNlbnRhZ2UgPSBnZXRQZXJjZW50YWdlKGN1cnJlbnRWYWx1ZSk7CgoJY29uc3QgZmlsbFN0eWxlID0KCQljdXJyZW50T3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJwoJCQk/IHsgd2lkdGg6IGAke3BlcmNlbnRhZ2V9JWAgfQoJCQk6IHsgaGVpZ2h0OiBgJHtwZXJjZW50YWdlfSVgIH07CgoJY29uc3QgdGh1bWJTdHlsZSA9CgkJY3VycmVudE9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcKCQkJPyB7IGxlZnQ6IGAke3BlcmNlbnRhZ2V9JWAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknIH0KCQkJOiB7IGJvdHRvbTogYCR7cGVyY2VudGFnZX0lYCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSg1MCUpJyB9OwoKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJc2xpZGVyVmFyaWFudHMoeyBvcmllbnRhdGlvbjogY3VycmVudE9yaWVudGF0aW9uIH0pLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7c2hvd1ZhbHVlICYmICgKCQkJCTxkaXYKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQknbWItMiB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQkJCWN1cnJlbnRPcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICdtci0yIG1iLTAnIDogJycsCgkJCQkJKX0KCQkJCT4KCQkJCQl7Zm9ybWF0VmFsdWUoY3VycmVudFZhbHVlKX0KCQkJCTwvZGl2PgoJCQkpfQoKCQkJPGRpdgoJCQkJcmVmPXtzbGlkZXJSZWZ9CgkJCQlyb2xlPSJzbGlkZXIiCgkJCQl0YWJJbmRleD17ZGlzYWJsZWQgPyAtMSA6IDB9CgkJCQlhcmlhLXZhbHVlbWluPXttaW59CgkJCQlhcmlhLXZhbHVlbWF4PXttYXh9CgkJCQlhcmlhLXZhbHVlbm93PXtjdXJyZW50VmFsdWV9CgkJCQlhcmlhLXZhbHVldGV4dD17CgkJCQkJZ2V0VmFsdWVUZXh0CgkJCQkJCT8gZ2V0VmFsdWVUZXh0KGN1cnJlbnRWYWx1ZSkKCQkJCQkJOiBmb3JtYXRWYWx1ZT8uKGN1cnJlbnRWYWx1ZSkKCQkJCX0KCQkJCWFyaWEtb3JpZW50YXRpb249e2N1cnJlbnRPcmllbnRhdGlvbn0KCQkJCWFyaWEtbGFiZWw9e2FyaWFMYWJlbH0KCQkJCWFyaWEtbGFiZWxsZWRieT17YXJpYUxhYmVsbGVkQnl9CgkJCQlhcmlhLWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCWNsYXNzTmFtZT17Y24oc2xpZGVyVmFyaWFudHMoeyBvcmllbnRhdGlvbjogY3VycmVudE9yaWVudGF0aW9uIH0pKX0KCQkJCW9uTW91c2VEb3duPXtoYW5kbGVNb3VzZURvd259CgkJCQlvblRvdWNoU3RhcnQ9e2hhbmRsZVRvdWNoU3RhcnR9CgkJCQlvbktleURvd249e2hhbmRsZUtleURvd259CgkJCQlvbkJsdXI9eygpID0+IG9uVmFsdWVDb21taXQ/LihjdXJyZW50VmFsdWUpfQoJCQk+CgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJdHJhY2tWYXJpYW50cyh7CgkJCQkJCQlzaXplOiBjdXJyZW50U2l6ZSwKCQkJCQkJCW9yaWVudGF0aW9uOiBjdXJyZW50T3JpZW50YXRpb24sCgkJCQkJCX0pLAoJCQkJCQl0cmFja0NsYXNzTmFtZSwKCQkJCQkpfQoJCQkJPgoJCQkJCTxkaXYKCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCWZpbGxWYXJpYW50cyh7CgkJCQkJCQkJdmFyaWFudDogY3VycmVudFZhcmlhbnQsCgkJCQkJCQkJc2l6ZTogY3VycmVudFNpemUsCgkJCQkJCQkJb3JpZW50YXRpb246IGN1cnJlbnRPcmllbnRhdGlvbiwKCQkJCQkJCX0pLAoJCQkJCQkpfQoJCQkJCQlzdHlsZT17ZmlsbFN0eWxlfQoJCQkJCS8+CgkJCQk8L2Rpdj4KCgkJCQk8ZGl2CgkJCQkJcmVmPXt0aHVtYlJlZn0KCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQl0aHVtYlZhcmlhbnRzKHsKCQkJCQkJCXZhcmlhbnQ6IGN1cnJlbnRWYXJpYW50LAoJCQkJCQkJc2l6ZTogY3VycmVudFNpemUsCgkJCQkJCQlvcmllbnRhdGlvbjogY3VycmVudE9yaWVudGF0aW9uLAoJCQkJCQkJZGlzYWJsZWQ6IGRpc2FibGVkLAoJCQkJCQl9KSwKCQkJCQkJaXNEcmFnZ2luZyAmJiAncmluZy0yIHJpbmctcmluZy8xMCcsCgkJCQkJCXRodW1iQ2xhc3NOYW1lLAoJCQkJCSl9CgkJCQkJc3R5bGU9e3RodW1iU3R5bGV9CgkJCQkvPgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCSk7Cn07"
,
  "spinner.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBzcGlubmVyVmFyaWFudHMgPSBjdmEoCglbJ2lubGluZS1ibG9jayBub3QtcHJvc2UgYW5pbWF0ZS1zcGluIHRleHQtY3VycmVudCddLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6ICd0ZXh0LWZvcmVncm91bmQvNzAnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ3NpemUtNCcsCgkJCQltZDogJ3NpemUtNicsCgkJCQlsZzogJ3NpemUtOCcsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBTcGlubmVyUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2Ygc3Bpbm5lclZhcmlhbnRzPiB7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBTcGlubmVyOiBSZWFjdC5GQzxTcGlubmVyUHJvcHM+ID0gKHsKCXNpemUgPSAnbWQnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L3VzZVNlbWFudGljRWxlbWVudHM6IHNwaW5uZXIgaW50ZW50aW9uYWxseSB1c2VzIGEgZGl2IHdpdGggcm9sZT0ic3RhdHVzIiBmb3IgYWNjZXNzaWJpbGl0eSAqLwoJCTxkaXYKCQkJcm9sZT0ic3RhdHVzIgoJCQlhcmlhLWxpdmU9InBvbGl0ZSIKCQkJYXJpYS1idXN5PSJ0cnVlIgoJCQljbGFzc05hbWU9e2NuKHNwaW5uZXJWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCTxzdmcKCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJdmlld0JveD0iMCAwIDI0IDI0IgoJCQkJZmlsbD0ibm9uZSIKCQkJCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKCQkJCWNsYXNzTmFtZT0idy1mdWxsIGgtZnVsbCIKCQkJPgoJCQkJPHBhdGgKCQkJCQlmaWxsUnVsZT0iZXZlbm9kZCIKCQkJCQljbGlwUnVsZT0iZXZlbm9kZCIKCQkJCQlkPSJNMTIgMEMxMy4wMjY1IDAgMTQuMDIyNyAwLjEyOTYwNyAxNC45NzM2IDAuMzcyMDdMMTkgOVYyLjI1NTg2QzIyLjAyNzEgNC40MzQzMyAyNCA3Ljk4NTc0IDI0IDEyQzI0IDE4LjYyNzQgMTguNjI3NCAyNCAxMiAyNEMxMC45NzMxIDI0IDkuOTc2NzEgMjMuODY5NiA5LjAyNTM5IDIzLjYyN0w1IDE1VjIxLjc0MzJDMS45NzMxMyAxOS41NjQ3IDAgMTYuMDE0MSAwIDEyQzAgNS4zNzI1OCA1LjM3MjU4IDAgMTIgMFpNMTIgNUM4LjEzNDAxIDUgNSA4LjEzNDAxIDUgMTJDNSAxNS44NjYgOC4xMzQwMSAxOSAxMiAxOUMxNS44NjYgMTkgMTkgMTUuODY2IDE5IDEyQzE5IDguMTM0MDEgMTUuODY2IDUgMTIgNVoiCgkJCQkJZmlsbD0iY3VycmVudENvbG9yIgoJCQkJLz4KCQkJPC9zdmc+CgkJCTxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+TG9hZGluZy4uLjwvc3Bhbj4KCQk8L2Rpdj4KCSk7Cn07"
,
  "combobox.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7CglzdGFydFRyYW5zaXRpb24sCgl1c2VDYWxsYmFjaywKCXVzZUVmZmVjdCwKCXVzZUlkLAoJdXNlTWVtbywKCXVzZVN0YXRlLAp9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2FwcC9jb21wb25lbnRzL3VpL2ljb25zJzsKaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IGNvbWJvYm94VmFyaWFudHMgPSBjdmEoCglgbm90LXByb3NlIHJlbGF0aXZlIGlubGluZS1mbGV4IHctZml0IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gYmctY2FyZCB0ZXh0LWZvcmVncm91bmQgcm91bmRlZC1tZCBib3JkZXIgc2hhZG93LXNtIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvd10gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMgaG92ZXI6YmctY2FyZC1tdXRlZCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MGAsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogYGJvcmRlci1ib3JkZXIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTBgLAoJCQkJZXJyb3I6IGBib3JkZXItZGVzdHJ1Y3RpdmUvNDAgZm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzUwIGRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzUwYCwKCQkJCXN1Y2Nlc3M6IGBib3JkZXItc3VjY2Vzcy80MCBmb2N1cy12aXNpYmxlOnJpbmctc3VjY2Vzcy81MCBkYXJrOmZvY3VzLXZpc2libGU6cmluZy1zdWNjZXNzLzUwYCwKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICdoLTggcHgtMi41IHB5LTEuNSBweC0zIHRleHQtc20nLAoJCQkJbWQ6ICdoLTkgcHgtMyBweS0yIHRleHQtc20nLAoJCQkJbGc6ICdoLTEwIHB4LTQgcHktMiB0ZXh0LWJhc2UnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgQ29tYm9ib3hPcHRpb24gewoJdmFsdWU6IHN0cmluZzsKCWxhYmVsOiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQ29tYm9ib3hQcm9wcyBleHRlbmRzIFZhcmlhbnRQcm9wczx0eXBlb2YgY29tYm9ib3hWYXJpYW50cz4gewoJb3B0aW9uczogQ29tYm9ib3hPcHRpb25bXTsKCXZhbHVlPzogc3RyaW5nOwoJZGVmYXVsdFZhbHVlPzogc3RyaW5nOwoJb25WYWx1ZUNoYW5nZT86ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkOwoJcG9ydGFsPzogYm9vbGVhbjsKCXBsYWNlaG9sZGVyPzogc3RyaW5nOwoJc2VhcmNoUGxhY2Vob2xkZXI/OiBzdHJpbmc7CgllbXB0eU1lc3NhZ2U/OiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cglwb3BvdmVyQ2xhc3NOYW1lPzogc3RyaW5nOwoJY2xlYXJhYmxlPzogYm9vbGVhbjsKfQoKZXhwb3J0IGNvbnN0IENvbWJvYm94OiBSZWFjdC5GQzxDb21ib2JveFByb3BzPiA9ICh7CglvcHRpb25zLAoJdmFsdWU6IGNvbnRyb2xsZWRWYWx1ZSwKCWRlZmF1bHRWYWx1ZSwKCW9uVmFsdWVDaGFuZ2UsCglwb3J0YWwgPSB0cnVlLAoJcGxhY2Vob2xkZXIgPSAnU2VsZWN0IG9wdGlvbi4uLicsCglzZWFyY2hQbGFjZWhvbGRlciA9ICdTZWFyY2guLi4nLAoJZW1wdHlNZXNzYWdlID0gJ05vIG9wdGlvbnMgZm91bmQnLAoJZGlzYWJsZWQgPSBmYWxzZSwKCXNpemUgPSAnbWQnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCWNsYXNzTmFtZSA9ICcnLAoJcG9wb3ZlckNsYXNzTmFtZSA9ICcnLAoJY2xlYXJhYmxlID0gdHJ1ZSwKfSkgPT4gewoJY29uc3QgYmFzZUlkID0gdXNlSWQoKTsKCWNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IHVzZVN0YXRlKGRlZmF1bHRWYWx1ZSA/PyAnJyk7Cgljb25zdCBbc2VhcmNoVmFsdWUsIHNldFNlYXJjaFZhbHVlXSA9IHVzZVN0YXRlKCcnKTsKCgljb25zdCBjb21ib2JveFN0b3JlID0gQXJpYWtpdC51c2VDb21ib2JveFN0b3JlKHsKCQlyZXNldFZhbHVlT25IaWRlOiB0cnVlLAoJfSk7CgoJY29uc3Qgc2VsZWN0U3RvcmUgPSBBcmlha2l0LnVzZVNlbGVjdFN0b3JlKHsKCQl2YWx1ZTogY29udHJvbGxlZFZhbHVlID8/IGludGVybmFsVmFsdWUsCgkJLi4uKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8geyBkZWZhdWx0VmFsdWUgfSA6IHt9KSwKCQlhbmltYXRlZDogdHJ1ZSwKCQljb21ib2JveDogY29tYm9ib3hTdG9yZSwKCQlzZXRWYWx1ZTogKHZhbHVlKSA9PiB7CgkJCWNvbnN0IG5leHRWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IFN0cmluZyh2YWx1ZSk7CgkJCWlmIChjb250cm9sbGVkVmFsdWUgPT09IHVuZGVmaW5lZCkgewoJCQkJc2V0SW50ZXJuYWxWYWx1ZShuZXh0VmFsdWUpOwoJCQl9CgkJCWlmIChvblZhbHVlQ2hhbmdlKSB7CgkJCQlvblZhbHVlQ2hhbmdlKG5leHRWYWx1ZSk7CgkJCX0KCQl9LAoJfSk7CgoJY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzZWxlY3RTdG9yZSwgKHN0YXRlKSA9PiB7CgkJY29uc3QgdmFsdWUgPSBzdGF0ZS52YWx1ZTsKCQlpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKCQkJcmV0dXJuIFN0cmluZyh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSA/PyAnJyk7CgkJfQoJCXJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBTdHJpbmcodmFsdWUpOwoJfSk7CgoJY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB1c2VNZW1vKAoJCSgpID0+IG9wdGlvbnMuZmluZCgob3B0aW9uKSA9PiBvcHRpb24udmFsdWUgPT09IHNlbGVjdGVkVmFsdWUpLAoJCVtvcHRpb25zLCBzZWxlY3RlZFZhbHVlXSwKCSk7CgoJY29uc3QgbWF0Y2hlcyA9IHVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IHF1ZXJ5ID0gc2VhcmNoVmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7CgkJaWYgKCFxdWVyeSkgcmV0dXJuIG9wdGlvbnM7CgkJcmV0dXJuIG9wdGlvbnMuZmlsdGVyKChvcHRpb24pID0+CgkJCW9wdGlvbi5sYWJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSwKCQkpOwoJfSwgW29wdGlvbnMsIHNlYXJjaFZhbHVlXSk7CgoJY29uc3QgbGlzdElkID0gYCR7YmFzZUlkfS1saXN0Ym94YDsKCWNvbnN0IGlzT3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzZWxlY3RTdG9yZSwgKHN0YXRlKSA9PiBzdGF0ZS5vcGVuKTsKCgl1c2VFZmZlY3QoKCkgPT4gewoJCWlmICghaXNPcGVuKSB7CgkJCWNvbWJvYm94U3RvcmUuc2V0VmFsdWUoJycpOwoJCQlzdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U2VhcmNoVmFsdWUoJycpKTsKCQl9Cgl9LCBbY29tYm9ib3hTdG9yZSwgaXNPcGVuXSk7CgoJY29uc3QgaGFuZGxlQ2xlYXIgPSB1c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0LlN5bnRoZXRpY0V2ZW50KSA9PiB7CgkJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQlzZWxlY3RTdG9yZS5zZXRWYWx1ZSgnJyk7CgkJCWNvbWJvYm94U3RvcmUuc2V0VmFsdWUoJycpOwoJCQlzdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U2VhcmNoVmFsdWUoJycpKTsKCQl9LAoJCVtjb21ib2JveFN0b3JlLCBzZWxlY3RTdG9yZV0sCgkpOwoKCXJldHVybiAoCgkJPEFyaWFraXQuQ29tYm9ib3hQcm92aWRlciBzdG9yZT17Y29tYm9ib3hTdG9yZX0gcmVzZXRWYWx1ZU9uSGlkZT4KCQkJPEFyaWFraXQuU2VsZWN0UHJvdmlkZXIgc3RvcmU9e3NlbGVjdFN0b3JlfT4KCQkJCTxkaXYgY2xhc3NOYW1lPSJub3QtcHJvc2UgcmVsYXRpdmUiPgoJCQkJCTxBcmlha2l0LlNlbGVjdAoJCQkJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQljb21ib2JveFZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwKCQkJCQkJCWRpc2FibGVkICYmICdjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQkJCQljbGFzc05hbWUsCgkJCQkJCSl9CgkJCQkJPgoJCQkJCQk8c3BhbgoJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQknZmxleC0xIHRydW5jYXRlIHRleHQtbGVmdCcsCgkJCQkJCQkJc2VsZWN0ZWRPcHRpb24gPyAnJyA6ICd0ZXh0LWZvcmVncm91bmQvNDUnLAoJCQkJCQkJKX0KCQkJCQkJPgoJCQkJCQkJe3NlbGVjdGVkT3B0aW9uID8gc2VsZWN0ZWRPcHRpb24ubGFiZWwgOiBwbGFjZWhvbGRlcn0KCQkJCQkJPC9zcGFuPgoJCQkJCQk8ZGl2IGNsYXNzTmFtZT0ibWwtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSI+CgkJCQkJCQl7Y2xlYXJhYmxlICYmIHNlbGVjdGVkT3B0aW9uICYmICFkaXNhYmxlZCAmJiAoCgkJCQkJCQkJPHNwYW4KCQkJCQkJCQkJb25Nb3VzZURvd249e2hhbmRsZUNsZWFyfQoJCQkJCQkJCQlvbkNsaWNrPXtoYW5kbGVDbGVhcn0KCQkJCQkJCQkJb25LZXlEb3duPXsoZSkgPT4gewoJCQkJCQkJCQkJaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHsKCQkJCQkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJCQkJaGFuZGxlQ2xlYXIoZSk7CgkJCQkJCQkJCQl9CgkJCQkJCQkJCX19CgkJCQkJCQkJCXJvbGU9ImJ1dHRvbiIKCQkJCQkJCQkJdGFiSW5kZXg9ezB9CgkJCQkJCQkJCWNsYXNzTmFtZT0iY3Vyc29yLXBvaW50ZXIgcm91bmRlZCBwLTAuNSB0ZXh0LWZvcmVncm91bmQvNzAgdHJhbnNpdGlvbi1bYm94LXNoYWRvdyxjb2xvcl0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIgoJCQkJCQkJCT4KCQkJCQkJCQkJPEljb25zLlggYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC0zIHctMyIgLz4KCQkJCQkJCQkJPEFyaWFraXQuVmlzdWFsbHlIaWRkZW4+CgkJCQkJCQkJCQlDbGVhciBTZWxlY3Rpb24KCQkJCQkJCQkJPC9Bcmlha2l0LlZpc3VhbGx5SGlkZGVuPgoJCQkJCQkJCTwvc3Bhbj4KCQkJCQkJCSl9CgkJCQkJCQk8SWNvbnMuQ2FyZXRTb3J0CgkJCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCQkJY2xhc3NOYW1lPSJoLTQuNSB3LTQuNSB0ZXh0LWZvcmVncm91bmQvNzAiCgkJCQkJCQkvPgoJCQkJCQk8L2Rpdj4KCQkJCQk8L0FyaWFraXQuU2VsZWN0PgoKCQkJCQk8QXJpYWtpdC5TZWxlY3RQb3BvdmVyCgkJCQkJCXBvcnRhbD17cG9ydGFsfQoJCQkJCQlzYW1lV2lkdGgKCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCSdhYnNvbHV0ZSB6LTk5OSBteS0xIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgc2hhZG93LW1kJywKCQkJCQkJCSdvcmlnaW4tdG9wIC10cmFuc2xhdGUteS0yIHNjYWxlLTk1IG9wYWNpdHktMCB0cmFuc2l0aW9uLVtzY2FsZSx0cmFuc2xhdGUsb3BhY2l0eV0gZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoIGRhdGEtZW50ZXI6dHJhbnNsYXRlLXktMCBkYXRhLWVudGVyOnNjYWxlLTEwMCBkYXRhLWVudGVyOm9wYWNpdHktMTAwIGRhdGEtbGVhdmU6LXRyYW5zbGF0ZS15LTIgZGF0YS1sZWF2ZTpzY2FsZS05NSBkYXRhLWxlYXZlOm9wYWNpdHktMCcsCgkJCQkJCQlwb3BvdmVyQ2xhc3NOYW1lLAoJCQkJCQkpfQoJCQkJCT4KCQkJCQkJPGRpdiBjbGFzc05hbWU9ImJvcmRlci1iIGJvcmRlci1ib3JkZXIvNjAgcC0xIGZsZXgganVzdGlmeS1zdGFydCBpdGVtcy1jZW50ZXIiPgoJCQkJCQkJPEljb25zLlNlYXJjaAoJCQkJCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJCQkJCWNsYXNzTmFtZT0ic2l6ZS02IHRleHQtZm9yZWdyb3VuZC8zNSBtbC0yIgoJCQkJCQkJLz4KCQkJCQkJCTxBcmlha2l0LkNvbWJvYm94CgkJCQkJCQkJYXV0b1NlbGVjdAoJCQkJCQkJCXBsYWNlaG9sZGVyPXtzZWFyY2hQbGFjZWhvbGRlcn0KCQkJCQkJCQlhcmlhLWNvbnRyb2xzPXtsaXN0SWR9CgkJCQkJCQkJb25DaGFuZ2U9eyhldmVudCkgPT4KCQkJCQkJCQkJc3RhcnRUcmFuc2l0aW9uKCgpID0+CgkJCQkJCQkJCQlzZXRTZWFyY2hWYWx1ZShldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKSwKCQkJCQkJCQkJKQoJCQkJCQkJCX0KCQkJCQkJCQljbGFzc05hbWU9InctZnVsbCBib3JkZXItMCBiZy10cmFuc3BhcmVudCBwbC0xLjUgcHItMiBweS0xLjUgdGV4dC1zbSBwbGFjZWhvbGRlcjp0ZXh0LWZvcmVncm91bmQvNDUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUiCgkJCQkJCQkvPgoJCQkJCQk8L2Rpdj4KCgkJCQkJCTxTY3JvbGxBcmVhCgkJCQkJCQl0eXBlPSJzY3JvbGwiCgkJCQkJCQljbGFzc05hbWU9InotNTAgZmxleCBmbGV4LWNvbCBoLWZ1bGwgdy1mdWxsIG1heC1oLTQyIgoJCQkJCQk+CgkJCQkJCQk8QXJpYWtpdC5Db21ib2JveExpc3QKCQkJCQkJCQlpZD17bGlzdElkfQoJCQkJCQkJCWNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBnYXAtMSBweS0xIgoJCQkJCQkJPgoJCQkJCQkJCTxkaXYgYXJpYS1saXZlPSJwb2xpdGUiIGNsYXNzTmFtZT0ic3Itb25seSI+CgkJCQkJCQkJCXttYXRjaGVzLmxlbmd0aH0gcmVzdWx0e21hdGNoZXMubGVuZ3RoID09PSAxID8gJycgOiAncyd9CgkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJe21hdGNoZXMubGVuZ3RoID09PSAwID8gKAoJCQkJCQkJCQk8b3V0cHV0CgkJCQkJCQkJCQlhcmlhLWxpdmU9InBvbGl0ZSIKCQkJCQkJCQkJCWNsYXNzTmFtZT0ibXgtMSBweC0yIHB5LTEuNSB0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC83MCIKCQkJCQkJCQkJPgoJCQkJCQkJCQkJe2VtcHR5TWVzc2FnZX0KCQkJCQkJCQkJPC9vdXRwdXQ+CgkJCQkJCQkJKSA6ICgKCQkJCQkJCQkJbWF0Y2hlcy5tYXAoKG9wdGlvbikgPT4gewoJCQkJCQkJCQkJY29uc3QgaXNTZWxlY3RlZCA9IG9wdGlvbi52YWx1ZSA9PT0gc2VsZWN0ZWRWYWx1ZTsKCQkJCQkJCQkJCWNvbnN0IGl0ZW1EaXNhYmxlZCA9IG9wdGlvbi5kaXNhYmxlZCA9PT0gdHJ1ZTsKCQkJCQkJCQkJCXJldHVybiAoCgkJCQkJCQkJCQkJPEFyaWFraXQuU2VsZWN0SXRlbQoJCQkJCQkJCQkJCQlrZXk9e29wdGlvbi52YWx1ZX0KCQkJCQkJCQkJCQkJdmFsdWU9e29wdGlvbi52YWx1ZX0KCQkJCQkJCQkJCQkJey4uLihpdGVtRGlzYWJsZWQgPyB7IGRpc2FibGVkOiB0cnVlIH0gOiB7fSl9CgkJCQkJCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJCQkJCQkncmVsYXRpdmUgbXgtMSBmbGV4IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC1zbSBweC0yIHB5LTEuNSB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC83MCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yXSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYyBzZWxlY3Qtbm9uZSBvdXRsaW5lLW5vbmUnLAoJCQkJCQkJCQkJCQkJJ2RhdGEtYWN0aXZlLWl0ZW06YmctY2FyZC1tdXRlZCBkYXRhLWFjdGl2ZS1pdGVtOnRleHQtZm9yZWdyb3VuZCcsCgkJCQkJCQkJCQkJCQknYXJpYS1zZWxlY3RlZDpiZy1jYXJkLW11dGVkIGFyaWEtc2VsZWN0ZWQ6Zm9udC1tZWRpdW0gYXJpYS1zZWxlY3RlZDp0ZXh0LWZvcmVncm91bmQnLAoJCQkJCQkJCQkJCQkJIlsmX3N2Z106c2hyaW5rLTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNCBnYXAtMiIsCgkJCQkJCQkJCQkJCQlvcHRpb24uZGlzYWJsZWQgJiYKCQkJCQkJCQkJCQkJCQkncG9pbnRlci1ldmVudHMtbm9uZSBjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQkJCQkJCQkJCSl9CgkJCQkJCQkJCQkJCXJlbmRlcj17CgkJCQkJCQkJCQkJCQk8QXJpYWtpdC5Db21ib2JveEl0ZW0KCQkJCQkJCQkJCQkJCQl2YWx1ZT17b3B0aW9uLmxhYmVsfQoJCQkJCQkJCQkJCQkJCWZvY3VzT25Ib3ZlcgoJCQkJCQkJCQkJCQkJCXNldFZhbHVlT25DbGljawoJCQkJCQkJCQkJCQkJLz4KCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJmbGV4LTEiPntvcHRpb24ubGFiZWx9PC9zcGFuPgoJCQkJCQkJCQkJCQl7aXNTZWxlY3RlZCAmJiAoCgkJCQkJCQkJCQkJCQk8SWNvbnMuQ2hlY2sKCQkJCQkJCQkJCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQkJCQkJCQkJCQljbGFzc05hbWU9ImgtNCB3LTQgdGV4dC1mb3JlZ3JvdW5kLzcwIgoJCQkJCQkJCQkJCQkJLz4KCQkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCQk8L0FyaWFraXQuU2VsZWN0SXRlbT4KCQkJCQkJCQkJCSk7CgkJCQkJCQkJCX0pCgkJCQkJCQkJKX0KCQkJCQkJCTwvQXJpYWtpdC5Db21ib2JveExpc3Q+CgkJCQkJCTwvU2Nyb2xsQXJlYT4KCQkJCQk8L0FyaWFraXQuU2VsZWN0UG9wb3Zlcj4KCQkJCTwvZGl2PgoJCQk8L0FyaWFraXQuU2VsZWN0UHJvdmlkZXI+CgkJPC9Bcmlha2l0LkNvbWJvYm94UHJvdmlkZXI+CgkpOwp9Ow=="
,
  "toggle-group.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgdG9nZ2xlR3JvdXBWYXJpYW50cyA9IGN2YSgKCVsKCQkndy1maXQgbm90LXByb3NlIGlubGluZS1mbGV4IHJvdW5kZWQtbWQgYm9yZGVyIHNoYWRvdy1zbSBzZWxlY3Qtbm9uZScsCgkJJ3RleHQtc20gZm9udC1tZWRpdW0nLAoJCSdkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAnYmctY2FyZCB0ZXh0LWZvcmVncm91bmQgYm9yZGVyLWJvcmRlciAnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ3RleHQteHMnLAoJCQkJbWQ6ICd0ZXh0LXNtJywKCQkJCWxnOiAndGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCB0b2dnbGVHcm91cEl0ZW1WYXJpYW50cyA9IGN2YSgKCVsKCQknZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvd10gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMgY3Vyc29yLXBvaW50ZXInLAoJCSJbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IHNocmluay0wIFsmX3N2Z106c2hyaW5rLTAiLAoJCSdob3ZlcjpiZy1jYXJkLW11dGVkJywKCQknZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyb3VuZGVkLW1kJywKCQknZmlyc3Q6cm91bmRlZC1sLW1kIGxhc3Q6cm91bmRlZC1yLW1kJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdoLTggcHgtMyBweS0xLjUgcHgtMyBnYXAtMS41IGhhcy1bPnN2Z106cHgtMi41JywKCQkJCW1kOiAnaC05IHB4LTQgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTMnLAoJCQkJbGc6ICdoLTEwIHB4LTYgZ2FwLTIgaGFzLVs+c3ZnXTpweC00JywKCQkJfSwKCQkJYWN0aXZlOiB7CgkJCQl0cnVlOiAnYmctY2FyZC1tdXRlZCcsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgVG9nZ2xlR3JvdXBQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiB0b2dnbGVHcm91cFZhcmlhbnRzPiB7Cgl2YWx1ZT86IHN0cmluZ1tdOwoJZGVmYXVsdFZhbHVlPzogc3RyaW5nW107CglvblZhbHVlQ2hhbmdlPzogKHZhbHVlOiBzdHJpbmdbXSkgPT4gdm9pZDsKCXNpbmdsZT86IGJvb2xlYW47CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgaW50ZXJmYWNlIFRvZ2dsZUdyb3VwSXRlbVByb3BzCglleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PiB7Cgl2YWx1ZTogc3RyaW5nOwoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmludGVyZmFjZSBUb2dnbGVHcm91cENvbnRleHRWYWx1ZSB7CglzdG9yZTogQXJpYWtpdC5Db21wb3NpdGVTdG9yZTsKCXZhbHVlczogc3RyaW5nW107CglvblNlbGVjdDogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7CglzaW5nbGU6IGJvb2xlYW47CglzaXplOiBOb25OdWxsYWJsZTxWYXJpYW50UHJvcHM8dHlwZW9mIHRvZ2dsZUdyb3VwVmFyaWFudHM+WydzaXplJ10+Owp9Cgpjb25zdCBUb2dnbGVHcm91cENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFRvZ2dsZUdyb3VwQ29udGV4dFZhbHVlIHwgbnVsbD4oCgludWxsLAopOwoKZXhwb3J0IGNvbnN0IFRvZ2dsZUdyb3VwID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgVG9nZ2xlR3JvdXBQcm9wcz4oCgkoCgkJewoJCQl2YWx1ZSwKCQkJZGVmYXVsdFZhbHVlID0gW10sCgkJCW9uVmFsdWVDaGFuZ2UsCgkJCXNpbmdsZSA9IGZhbHNlLAoJCQljaGlsZHJlbiwKCQkJY2xhc3NOYW1lLAoJCQl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJCQlzaXplID0gJ21kJywKCQkJLi4ucHJvcHMKCQl9LAoJCXJlZiwKCSkgPT4gewoJCWNvbnN0IHN0b3JlID0gQXJpYWtpdC51c2VDb21wb3NpdGVTdG9yZSgpOwoJCWNvbnN0IGlzQ29udHJvbGxlZCA9IHZhbHVlICE9PSB1bmRlZmluZWQ7CgkJY29uc3QgW2ludGVybmFsVmFsdWUsIHNldEludGVybmFsVmFsdWVdID0KCQkJUmVhY3QudXNlU3RhdGU8c3RyaW5nW10+KGRlZmF1bHRWYWx1ZSk7CgoJCWNvbnN0IGN1cnJlbnRWYWx1ZSA9IGlzQ29udHJvbGxlZCA/ICh2YWx1ZSA/PyBbXSkgOiBpbnRlcm5hbFZhbHVlOwoKCQljb25zdCBoYW5kbGVTZWxlY3QgPSAodmFsOiBzdHJpbmcpID0+IHsKCQkJbGV0IG5ld1ZhbHVlOiBzdHJpbmdbXTsKCgkJCWlmIChzaW5nbGUpIHsKCQkJCW5ld1ZhbHVlID0gY3VycmVudFZhbHVlLmluY2x1ZGVzKHZhbCkgPyBbXSA6IFt2YWxdOwoJCQl9IGVsc2UgewoJCQkJbmV3VmFsdWUgPSBjdXJyZW50VmFsdWUuaW5jbHVkZXModmFsKQoJCQkJCT8gY3VycmVudFZhbHVlLmZpbHRlcigodikgPT4gdiAhPT0gdmFsKQoJCQkJCTogWy4uLmN1cnJlbnRWYWx1ZSwgdmFsXTsKCQkJfQoKCQkJaWYgKCFpc0NvbnRyb2xsZWQpIHNldEludGVybmFsVmFsdWUobmV3VmFsdWUpOwoJCQlvblZhbHVlQ2hhbmdlPy4obmV3VmFsdWUpOwoJCX07CgoJCWNvbnN0IHsgYXV0b0ZvY3VzLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzOwoJCXJldHVybiAoCgkJCTxUb2dnbGVHcm91cENvbnRleHQuUHJvdmlkZXIKCQkJCXZhbHVlPXt7CgkJCQkJc3RvcmUsCgkJCQkJdmFsdWVzOiBjdXJyZW50VmFsdWUsCgkJCQkJb25TZWxlY3Q6IGhhbmRsZVNlbGVjdCwKCQkJCQlzaW5nbGUsCgkJCQkJc2l6ZTogc2l6ZSBhcyBOb25OdWxsYWJsZTx0eXBlb2Ygc2l6ZT4sCgkJCQl9fQoJCQk+CgkJCQk8QXJpYWtpdC5Db21wb3NpdGUKCQkJCQlyZWY9e3JlZn0KCQkJCQlzdG9yZT17c3RvcmV9CgkJCQkJcm9sZT17c2luZ2xlID8gJ3JhZGlvZ3JvdXAnIDogJ2dyb3VwJ30KCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQl0b2dnbGVHcm91cFZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwKCQkJCQkJJ2ZsZXggZGl2aWRlLXggZGl2aWRlLWJvcmRlcicsCgkJCQkJCWNsYXNzTmFtZSwKCQkJCQkpfQoJCQkJCXsuLi4oYXV0b0ZvY3VzID09PSB1bmRlZmluZWQgPyB7fSA6IHsgYXV0b0ZvY3VzIH0pfQoJCQkJCXsuLi5yZXN0UHJvcHN9CgkJCQk+CgkJCQkJe2NoaWxkcmVufQoJCQkJPC9Bcmlha2l0LkNvbXBvc2l0ZT4KCQkJPC9Ub2dnbGVHcm91cENvbnRleHQuUHJvdmlkZXI+CgkJKTsKCX0sCik7ClRvZ2dsZUdyb3VwLmRpc3BsYXlOYW1lID0gJ1RvZ2dsZUdyb3VwJzsKCmV4cG9ydCBjb25zdCBUb2dnbGVHcm91cEl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTEJ1dHRvbkVsZW1lbnQsCglUb2dnbGVHcm91cEl0ZW1Qcm9wcwo+KCh7IHZhbHVlLCBjaGlsZHJlbiwgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCWNvbnN0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoVG9nZ2xlR3JvdXBDb250ZXh0KTsKCWlmICghY3R4KQoJCXRocm93IG5ldyBFcnJvcignVG9nZ2xlR3JvdXBJdGVtIG11c3QgYmUgdXNlZCB3aXRoaW4gYSA8VG9nZ2xlR3JvdXA+LicpOwoKCWNvbnN0IGlzU2VsZWN0ZWQgPSBjdHgudmFsdWVzLmluY2x1ZGVzKHZhbHVlKTsKCWNvbnN0IHsgZGlzYWJsZWQsIGF1dG9Gb2N1cywgaWQsIC4uLnJlc3QgfSA9IHByb3BzOwoJY29uc3QgaXNEaXNhYmxlZCA9IEJvb2xlYW4oZGlzYWJsZWQpOwoJY29uc3QgaXRlbUlkID0gaWQgPz8gdmFsdWU7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Db21wb3NpdGVJdGVtCgkJCWlkPXtpdGVtSWR9CgkJCXJlbmRlcj17PGJ1dHRvbiB0eXBlPSJidXR0b24iIHJlZj17cmVmfSBkaXNhYmxlZD17aXNEaXNhYmxlZH0gLz59CgkJCXJvbGU9e2N0eC5zaW5nbGUgPyAncmFkaW8nIDogJ2NoZWNrYm94J30KCQkJYXJpYS1jaGVja2VkPXtpc1NlbGVjdGVkfQoJCQlkYXRhLXN0YXRlPXtpc1NlbGVjdGVkID8gJ29uJyA6ICdvZmYnfQoJCQlvbkNsaWNrPXsoKSA9PiBjdHgub25TZWxlY3QodmFsdWUpfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJdG9nZ2xlR3JvdXBJdGVtVmFyaWFudHMoewoJCQkJCXNpemU6IGN0eC5zaXplLAoJCQkJCWFjdGl2ZTogaXNTZWxlY3RlZCwKCQkJCX0pLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQlkaXNhYmxlZD17aXNEaXNhYmxlZH0KCQkJey4uLihhdXRvRm9jdXMgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBhdXRvRm9jdXMgfSl9CgkJCXsuLi5yZXN0fQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5Db21wb3NpdGVJdGVtPgoJKTsKfSk7ClRvZ2dsZUdyb3VwSXRlbS5kaXNwbGF5TmFtZSA9ICdUb2dnbGVHcm91cEl0ZW0nOw=="
,
  "context-menu.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgY29udGV4dE1lbnVDb250ZW50VmFyaWFudHMgPSBjdmEoCglgbm90LXByb3NlIHotNTAgb3JpZ2luLXRvcCAtdHJhbnNsYXRlLXktMiBzY2FsZS05NSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIG9wYWNpdHktMCBzaGFkb3ctbWQgdHJhbnNpdGlvbi1bc2NhbGUsdHJhbnNsYXRlLG9wYWNpdHldIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTpvcGFjaXR5LTBgLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnbWluLXctWzhyZW1dIHAtMScsCgkJCQltZDogJ21pbi13LVsxMHJlbV0gcC0xJywKCQkJCWxnOiAnbWluLXctWzEycmVtXSBwLTInLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBjb250ZXh0U3ViTWVudUNvbnRlbnRWYXJpYW50cyA9IGN2YSgKCWBub3QtcHJvc2Ugei01MCBvcmlnaW4tdG9wLWxlZnQgLXRyYW5zbGF0ZS15LTIgc2NhbGUtOTUgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIG9wYWNpdHktMCBzaGFkb3ctbWQgdHJhbnNpdGlvbi1bc2NhbGUsdHJhbnNsYXRlLG9wYWNpdHldIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTpvcGFjaXR5LTAgZWFzZS1iYXNpY2AsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdtaW4tdy1bN3JlbV0gcC0xJywKCQkJCW1kOiAnbWluLXctWzhyZW1dIHAtMScsCgkJCQlsZzogJ21pbi13LVsxMHJlbV0gcC0yJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgY29udGV4dE1lbnVJdGVtVmFyaWFudHMgPSBjdmEoCglgcmVsYXRpdmUgZ3JvdXAgZmxleCB3LWZ1bGwgY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIHJvdW5kZWQtc20gcHgtMiBweS0xLjUgdGV4dC1zbSBbJl9zdmddOnNocmluay0wIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgZ2FwLTIgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixjb2xvcl0gb3V0bGluZS1ub25lIHNlbGVjdC1ub25lIHRleHQtZm9yZWdyb3VuZC83MCBob3ZlcjpiZy1jYXJkLW11dGVkIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBmb2N1cy12aXNpYmxlOmJnLWNhcmQtbXV0ZWQgZm9jdXMtdmlzaWJsZTp0ZXh0LWZvcmVncm91bmQgYXJpYS1kaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGFyaWEtZGlzYWJsZWQ6b3BhY2l0eS01MGAsCgl7CgkJdmFyaWFudHM6IHsKCQkJaW5zZXQ6IHsKCQkJCXRydWU6ICdwbC04JywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQkJZGVzdHJ1Y3RpdmU6IHsKCQkJCXRydWU6ICd0ZXh0LWRlc3RydWN0aXZlLzkwIGhvdmVyOmJnLWRlc3RydWN0aXZlLzEwIGhvdmVyOnRleHQtZGVzdHJ1Y3RpdmUnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCWluc2V0OiBmYWxzZSwKCQkJZGVzdHJ1Y3RpdmU6IGZhbHNlLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBDb250ZXh0TWVudVByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBDb250ZXh0TWVudTogUmVhY3QuRkM8Q29udGV4dE1lbnVQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUsCn0pID0+IHsKCWNvbnN0IG1lbnUgPSBBcmlha2l0LnVzZU1lbnVTdG9yZSh7IGFuaW1hdGVkOiB0cnVlIH0pOwoKCXJldHVybiAoCgkJPEFyaWFraXQuTWVudVByb3ZpZGVyIHN0b3JlPXttZW51fT4KCQkJPGRpdiBjbGFzc05hbWU9e2NuKCdub3QtcHJvc2UnLCBjbGFzc05hbWUpfT57Y2hpbGRyZW59PC9kaXY+CgkJPC9Bcmlha2l0Lk1lbnVQcm92aWRlcj4KCSk7Cn07CgpleHBvcnQgaW50ZXJmYWNlIENvbnRleHRNZW51VHJpZ2dlclByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47Cn0KCmV4cG9ydCBjb25zdCBDb250ZXh0TWVudVRyaWdnZXI6IFJlYWN0LkZDPENvbnRleHRNZW51VHJpZ2dlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSwKCWRpc2FibGVkLAp9KSA9PiB7Cgljb25zdCBtZW51ID0gQXJpYWtpdC51c2VNZW51Q29udGV4dCgpOwoKCXJldHVybiAoCgkJPGJ1dHRvbgoJCQl0eXBlPSJidXR0b24iCgkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJb25Db250ZXh0TWVudT17KGUpID0+IHsKCQkJCWlmICghZGlzYWJsZWQpIHsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJbWVudT8uc2V0QW5jaG9yRWxlbWVudChlLmN1cnJlbnRUYXJnZXQpOwoJCQkJCW1lbnU/LnNob3coKTsKCQkJCX0KCQkJfX0KCQkJb25LZXlEb3duPXsoZSkgPT4gewoJCQkJaWYgKGRpc2FibGVkKSByZXR1cm47CgkJCQljb25zdCBpc0NvbnRleHRLZXkgPSBlLmtleSA9PT0gJ0NvbnRleHRNZW51JzsKCQkJCWNvbnN0IGlzU2hpZnRGMTAgPSBlLmtleSA9PT0gJ0YxMCcgJiYgZS5zaGlmdEtleTsKCQkJCWlmIChpc0NvbnRleHRLZXkgfHwgaXNTaGlmdEYxMCkgewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQltZW51Py5zZXRBbmNob3JFbGVtZW50KGUuY3VycmVudFRhcmdldCk7CgkJCQkJbWVudT8uc2hvdygpOwoJCQkJfQoJCQl9fQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2FwcGVhcmFuY2Utbm9uZSBiZy10cmFuc3BhcmVudCBwLTAgdGV4dC1sZWZ0JywKCQkJCWNsYXNzTmFtZSwKCQkJCWRpc2FibGVkICYmICdvcGFjaXR5LTUwJywKCQkJKX0KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2J1dHRvbj4KCSk7Cn07CgpleHBvcnQgY29uc3QgQ29udGV4dE1lbnVDb250ZW50OiBSZWFjdC5GQzwKCXsKCQljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJCWNsYXNzTmFtZT86IHN0cmluZzsKCQlzYW1lV2lkdGg/OiBib29sZWFuOwoJfSAmIFZhcmlhbnRQcm9wczx0eXBlb2YgY29udGV4dE1lbnVDb250ZW50VmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzYW1lV2lkdGggPSBmYWxzZSwgc2l6ZSB9KSA9PiAoCgk8QXJpYWtpdC5NZW51CgkJcG9ydGFsCgkJZ3V0dGVyPXs0fQoJCXNhbWVXaWR0aD17c2FtZVdpZHRofQoJCWNsYXNzTmFtZT17Y24oY29udGV4dE1lbnVDb250ZW50VmFyaWFudHMoeyBzaXplIH0pLCBjbGFzc05hbWUpfQoJPgoJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGdhcC0xIj57Y2hpbGRyZW59PC9kaXY+Cgk8L0FyaWFraXQuTWVudT4KKTsKCmV4cG9ydCBjb25zdCBDb250ZXh0TWVudUl0ZW06IFJlYWN0LkZDPAoJewoJCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCWRpc2FibGVkPzogYm9vbGVhbjsKCQlpbnNldD86IGJvb2xlYW47CgkJZGVzdHJ1Y3RpdmU/OiBib29sZWFuOwoJCW9uQ2xpY2s/OiAoKSA9PiB2b2lkOwoJfSAmIFZhcmlhbnRQcm9wczx0eXBlb2YgY29udGV4dE1lbnVJdGVtVmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBkaXNhYmxlZCwgaW5zZXQsIGRlc3RydWN0aXZlLCBvbkNsaWNrIH0pID0+ICgKCTxBcmlha2l0Lk1lbnVJdGVtCgkJZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfQoJCW9uQ2xpY2s9e29uQ2xpY2t9CgkJY2xhc3NOYW1lPXtjbihjb250ZXh0TWVudUl0ZW1WYXJpYW50cyh7IGluc2V0LCBkZXN0cnVjdGl2ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQl7Y2hpbGRyZW59Cgk8L0FyaWFraXQuTWVudUl0ZW0+Cik7CgpleHBvcnQgY29uc3QgQ29udGV4dE1lbnVTZXBhcmF0b3I6IFJlYWN0LkZDPHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+ID0gKHsKCWNsYXNzTmFtZSwKfSkgPT4gKAoJPEFyaWFraXQuTWVudVNlcGFyYXRvcgoJCWNsYXNzTmFtZT17Y24oJy1teC0xIG15LTEgaC1weCBiZy1ib3JkZXIgb3BhY2l0eS02MCcsIGNsYXNzTmFtZSl9CgkvPgopOwoKZXhwb3J0IGNvbnN0IENvbnRleHRNZW51U3ViOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoewoJY2hpbGRyZW4sCn0pID0+IHsKCWNvbnN0IHN1Yk1lbnUgPSBBcmlha2l0LnVzZU1lbnVTdG9yZSh7IGFuaW1hdGVkOiB0cnVlIH0pOwoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51UHJvdmlkZXIgc3RvcmU9e3N1Yk1lbnV9PntjaGlsZHJlbn08L0FyaWFraXQuTWVudVByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDb250ZXh0TWVudVN1YlRyaWdnZXI6IFJlYWN0LkZDPAoJewoJCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCWRpc2FibGVkPzogYm9vbGVhbjsKCQlpbnNldD86IGJvb2xlYW47CgkJZGVzdHJ1Y3RpdmU/OiBib29sZWFuOwoJfSAmIFZhcmlhbnRQcm9wczx0eXBlb2YgY29udGV4dE1lbnVJdGVtVmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBkaXNhYmxlZCwgaW5zZXQsIGRlc3RydWN0aXZlIH0pID0+ICgKCTxBcmlha2l0Lk1lbnVCdXR0b24KCQlkaXNhYmxlZD17Qm9vbGVhbihkaXNhYmxlZCl9CgkJY2xhc3NOYW1lPXtjbihjb250ZXh0TWVudUl0ZW1WYXJpYW50cyh7IGluc2V0LCBkZXN0cnVjdGl2ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQl7Y2hpbGRyZW59CgkJPEFyaWFraXQuTWVudUJ1dHRvbkFycm93IGNsYXNzTmFtZT0ibWwtYXV0byB0ZXh0LWZvcmVncm91bmQvNzAgZ3JvdXAtaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tW2NvbG9yXSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYyIgLz4KCTwvQXJpYWtpdC5NZW51QnV0dG9uPgopOwoKZXhwb3J0IGNvbnN0IENvbnRleHRNZW51U3ViQ29udGVudDogUmVhY3QuRkM8Cgl7CgkJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCQljbGFzc05hbWU/OiBzdHJpbmc7Cgl9ICYgVmFyaWFudFByb3BzPHR5cGVvZiBjb250ZXh0U3ViTWVudUNvbnRlbnRWYXJpYW50cz4KPiA9ICh7IGNoaWxkcmVuLCBjbGFzc05hbWUsIHNpemUgfSkgPT4gKAoJPEFyaWFraXQuTWVudQoJCXBvcnRhbAoJCWNsYXNzTmFtZT17Y24oY29udGV4dFN1Yk1lbnVDb250ZW50VmFyaWFudHMoeyBzaXplIH0pLCBjbGFzc05hbWUpfQoJPgoJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGdhcC0xIj57Y2hpbGRyZW59PC9kaXY+Cgk8L0FyaWFraXQuTWVudT4KKTs="
,
  "toggle.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgdG9nZ2xlVmFyaWFudHMgPSBjdmEoCglbCgkJJ25vdC1wcm9zZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgcm91bmRlZC1tZCBzaGFkb3ctc20nLAoJCSJbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IHNocmluay0wIFsmX3N2Z106c2hyaW5rLTAiLAoJCSdib3JkZXIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljJywKCQknZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCSdkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgY3Vyc29yLXBvaW50ZXInLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OgoJCQkJCSdiZy1jYXJkIGhvdmVyOmJnLWNhcmQtbXV0ZWQgZGF0YS1bc3RhdGU9b25dOmJnLWNhcmQtbXV0ZWQgYm9yZGVyLWJvcmRlciB0ZXh0LWZvcmVncm91bmQnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ2gtOCBweC0zIHB5LTEuNSBweC0zIGdhcC0xLjUgaGFzLVs+c3ZnXTpweC0yLjUgdGV4dC1zbScsCgkJCQltZDogJ2gtOSBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIHRleHQtc20nLAoJCQkJbGc6ICdoLTEwIHB4LTYgZ2FwLTIgaGFzLVs+c3ZnXTpweC00IHRleHQtYmFzZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBUb2dnbGVQcm9wcwoJZXh0ZW5kcyBPbWl0PAoJCQlSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFyaWFraXQuQ2hlY2tib3g+LAoJCQknY2hlY2tlZCcgfCAnZGVmYXVsdENoZWNrZWQnIHwgJ29uQ2hhbmdlJyB8ICdzaXplJwoJCT4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiB0b2dnbGVWYXJpYW50cz4gewoJcHJlc3NlZD86IGJvb2xlYW47CglkZWZhdWx0UHJlc3NlZD86IGJvb2xlYW47CglvblByZXNzZWRDaGFuZ2U/OiAocHJlc3NlZDogYm9vbGVhbikgPT4gdm9pZDsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgY29uc3QgVG9nZ2xlID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgVG9nZ2xlUHJvcHM+KAoJKAoJCXsKCQkJdmFyaWFudCA9ICdkZWZhdWx0JywKCQkJc2l6ZSA9ICdtZCcsCgkJCWNsYXNzTmFtZSwKCQkJcHJlc3NlZCwKCQkJZGVmYXVsdFByZXNzZWQgPSBmYWxzZSwKCQkJb25QcmVzc2VkQ2hhbmdlLAoJCQlkaXNhYmxlZCwKCQkJY2hpbGRyZW4sCgkJCS4uLnByb3BzCgkJfSwKCQlyZWYsCgkpID0+IHsKCQljb25zdCBjaGVja2JveCA9IEFyaWFraXQudXNlQ2hlY2tib3hTdG9yZSh7CgkJCXZhbHVlOiBwcmVzc2VkID8/IGRlZmF1bHRQcmVzc2VkLAoJCQlzZXRWYWx1ZTogKHZhbHVlKSA9PiBvblByZXNzZWRDaGFuZ2U/LighIXZhbHVlKSwKCQl9KTsKCgkJY29uc3QgW2ludGVybmFsUHJlc3NlZCwgc2V0SW50ZXJuYWxQcmVzc2VkXSA9CgkJCVJlYWN0LnVzZVN0YXRlKGRlZmF1bHRQcmVzc2VkKTsKCQljb25zdCBpc0NvbnRyb2xsZWQgPSBwcmVzc2VkICE9PSB1bmRlZmluZWQ7CgkJY29uc3QgaXNQcmVzc2VkID0gaXNDb250cm9sbGVkID8gcHJlc3NlZCA6IGludGVybmFsUHJlc3NlZDsKCgkJY29uc3QgaGFuZGxlQ2hhbmdlID0gKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHsKCQkJaWYgKCFpc0NvbnRyb2xsZWQpIHNldEludGVybmFsUHJlc3NlZChjaGVja2VkKTsKCQkJb25QcmVzc2VkQ2hhbmdlPy4oY2hlY2tlZCk7CgkJfTsKCgkJY29uc3QgaXNEaXNhYmxlZCA9IEJvb2xlYW4oZGlzYWJsZWQpOwoKCQlyZXR1cm4gKAoJCQk8QXJpYWtpdC5DaGVja2JveAoJCQkJc3RvcmU9e2NoZWNrYm94fQoJCQkJcmVuZGVyPXs8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgcmVmPXtyZWZ9IGRpc2FibGVkPXtpc0Rpc2FibGVkfSAvPn0KCQkJCWNoZWNrZWQ9e2lzUHJlc3NlZH0KCQkJCW9uQ2hhbmdlPXsoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PgoJCQkJCWhhbmRsZUNoYW5nZShldmVudC5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpCgkJCQl9CgkJCQlkYXRhLXN0YXRlPXtpc1ByZXNzZWQgPyAnb24nIDogJ29mZid9CgkJCQljbGFzc05hbWU9e2NuKHRvZ2dsZVZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJCWRpc2FibGVkPXtpc0Rpc2FibGVkfQoJCQkJey4uLnByb3BzfQoJCQk+CgkJCQl7Y2hpbGRyZW59CgkJCTwvQXJpYWtpdC5DaGVja2JveD4KCQkpOwoJfSwKKTsKClRvZ2dsZS5kaXNwbGF5TmFtZSA9ICdUb2dnbGUnOwoKZXhwb3J0IHsgdG9nZ2xlVmFyaWFudHMgfTs="
,
  "dialog.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvaWNvbnMnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IGRpYWxvZ0NvbnRlbnRWYXJpYW50cyA9IGN2YSgKCWBub3QtcHJvc2UgcmVsYXRpdmUgbWF4LWgtWzcwdmhdIG92ZXJmbG93LXktYXV0byByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgc2hhZG93LTJ4bGAsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICd3LVs1MHZ3XSBtZDptYXgtdy1zbScsCgkJCQltZDogJ3ctWzY1dnddIG1kOm1heC13LW1kJywKCQkJCWxnOiAndy1bODB2d10gbWQ6bWF4LXctbGcnLAoJCQkJeGw6ICd3LVs5NXZ3XSBtZDptYXgtdy14bCcsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nUHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCW9wZW4/OiBib29sZWFuOwoJb25PcGVuQ2hhbmdlPzogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQ7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nVHJpZ2dlclByb3BzCglleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJYXNDaGlsZD86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nU3VyZmFjZVByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGRpYWxvZ0NvbnRlbnRWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXNob3dDbG9zZT86IGJvb2xlYW47Cglwb3J0YWw/OiBib29sZWFuOwp9CgpleHBvcnQgaW50ZXJmYWNlIERpYWxvZ0hlYWRlclByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIERpYWxvZ1RpdGxlUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTEhlYWRpbmdFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJYXM/OiBSZWFjdC5FbGVtZW50VHlwZTsKfQoKZXhwb3J0IGludGVyZmFjZSBEaWFsb2dEZXNjcmlwdGlvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIERpYWxvZ0Zvb3RlclByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIERpYWxvZ0FjdGlvbnNQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBEaWFsb2dDbG9zZVByb3BzCglleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PiB7CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWFzQ2hpbGQ/OiBib29sZWFuOwp9CgppbnRlcmZhY2UgRGlhbG9nQ29udGV4dFR5cGUgewoJc3RvcmU6IEFyaWFraXQuRGlhbG9nU3RvcmU7Cn0KCmNvbnN0IERpYWxvZ0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PERpYWxvZ0NvbnRleHRUeXBlIHwgdW5kZWZpbmVkPigKCXVuZGVmaW5lZCwKKTsKCmNvbnN0IHVzZURpYWxvZyA9ICgpID0+IHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KERpYWxvZ0NvbnRleHQpOwoJaWYgKCFjb250ZXh0KSB7CgkJdGhyb3cgbmV3IEVycm9yKCdEaWFsb2cgY29tcG9uZW50cyBtdXN0IGJlIHVzZWQgd2l0aGluIGEgRGlhbG9nJyk7Cgl9CglyZXR1cm4gY29udGV4dDsKfTsKCmV4cG9ydCBjb25zdCBEaWFsb2c6IFJlYWN0LkZDPERpYWxvZ1Byb3BzPiA9ICh7CgljaGlsZHJlbiwKCW9wZW46IGNvbnRyb2xsZWRPcGVuLAoJb25PcGVuQ2hhbmdlLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlRGlhbG9nU3RvcmUoCgkJY29udHJvbGxlZE9wZW4gIT09IHVuZGVmaW5lZAoJCQk/IG9uT3BlbkNoYW5nZQoJCQkJPyB7IG9wZW46IGNvbnRyb2xsZWRPcGVuLCBzZXRPcGVuOiBvbk9wZW5DaGFuZ2UgfQoJCQkJOiB7IG9wZW46IGNvbnRyb2xsZWRPcGVuIH0KCQkJOiB1bmRlZmluZWQsCgkpOwoKCXJldHVybiAoCgkJPERpYWxvZ0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgc3RvcmUgfX0+CgkJCXtjaGlsZHJlbn0KCQk8L0RpYWxvZ0NvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ1RyaWdnZXI6IFJlYWN0LkZDPERpYWxvZ1RyaWdnZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCWFzQ2hpbGQgPSBmYWxzZSwKCW9uQ2xpY2ssCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IHN0b3JlIH0gPSB1c2VEaWFsb2coKTsKCWNvbnN0IGlzT3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ29wZW4nKTsKCgljb25zdCBoYW5kbGVDbGljayA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4gewoJCXN0b3JlLnNob3coKTsKCQlvbkNsaWNrPy4oZSk7Cgl9OwoKCWlmIChhc0NoaWxkICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkgewoJCXJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoCgkJCWNoaWxkcmVuIGFzIFJlYWN0LlJlYWN0RWxlbWVudDwKCQkJCVJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PgoJCQk+LAoJCQl7CgkJCQlvbkNsaWNrOiBoYW5kbGVDbGljaywKCQkJCSdhcmlhLWhhc3BvcHVwJzogJ2RpYWxvZycsCgkJCQknYXJpYS1leHBhbmRlZCc6IGlzT3BlbiwKCQkJCS4uLihjaGlsZHJlbi5wcm9wcyB8fCB7fSksCgkJCX0sCgkJKTsKCX0KCglyZXR1cm4gKAoJCTxidXR0b24KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2Ugbm90LXByb3NlIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJb25DbGljaz17aGFuZGxlQ2xpY2t9CgkJCWFyaWEtaGFzcG9wdXA9ImRpYWxvZyIKCQkJYXJpYS1leHBhbmRlZD17aXNPcGVufQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9idXR0b24+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ1N1cmZhY2U6IFJlYWN0LkZDPERpYWxvZ1N1cmZhY2VQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCXNpemUgPSAnbWQnLAoJc2hvd0Nsb3NlID0gdHJ1ZSwKCXBvcnRhbCA9IHRydWUsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IGF1dG9Gb2N1cywgLi4ucmVzdFByb3BzIH0gPSBwcm9wczsKCWNvbnN0IGRpYWxvZ1Byb3BzID0KCQl0eXBlb2YgYXV0b0ZvY3VzID09PSAndW5kZWZpbmVkJyA/IHJlc3RQcm9wcyA6IHsgLi4ucmVzdFByb3BzLCBhdXRvRm9jdXMgfTsKCWNvbnN0IHsgc3RvcmUgfSA9IHVzZURpYWxvZygpOwoJY29uc3Qgb3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ29wZW4nKTsKCWNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IFJlYWN0LnVzZVN0YXRlKG9wZW4pOwoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAob3BlbikgewoJCQlzZXRNb3VudGVkKHRydWUpOwoJCQlyZXR1cm47CgkJfQoJCWNvbnN0IHQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBzZXRNb3VudGVkKGZhbHNlKSwgMjAwKTsKCQlyZXR1cm4gKCkgPT4gd2luZG93LmNsZWFyVGltZW91dCh0KTsKCX0sIFtvcGVuXSk7CgoJaWYgKCFtb3VudGVkKSByZXR1cm4gbnVsbDsKCglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZwoJCQlzdG9yZT17c3RvcmV9CgkJCXBvcnRhbD17cG9ydGFsfQoJCQliYWNrZHJvcD17CgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ2ZpeGVkIGluc2V0LTAgei00MCBiZy1vdmVybGF5LzUwIGJhY2tkcm9wLWJsdXItc20nLAoJCQkJCQknb3BhY2l0eS0wIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGgnLAoJCQkJCQknZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOm9wYWNpdHktMCcsCgkJCQkJKX0KCQkJCS8+CgkJCX0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCWRpYWxvZ0NvbnRlbnRWYXJpYW50cyh7IHNpemUgfSksCgkJCQknZml4ZWQgdG9wLTEvMiBsZWZ0LTEvMiB6LTUwIC10cmFuc2xhdGUteC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0cmFuc2Zvcm0nLAoJCQkJJ3NjYWxlLTEwNSBvcGFjaXR5LTAgYmx1ci1zbSB0cmFuc2l0aW9uLVtzY2FsZSxvcGFjaXR5LGJsdXJdIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCcsCgkJCQknZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWVudGVyOmJsdXItbm9uZScsCgkJCQknZGF0YS1sZWF2ZTpzY2FsZS0xMDUgZGF0YS1sZWF2ZTpvcGFjaXR5LTAgZGF0YS1sZWF2ZTpibHVyLXNtJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLmRpYWxvZ1Byb3BzfQoJCT4KCQkJe3Nob3dDbG9zZSAmJiAoCgkJCQk8RGlhbG9nQ2xvc2UgY2xhc3NOYW1lPSJhYnNvbHV0ZSB0b3AtMiByaWdodC0yIHotMTAiPgoJCQkJCTxJY29ucy5YIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCQkJPEFyaWFraXQuVmlzdWFsbHlIaWRkZW4+Q2xvc2U8L0FyaWFraXQuVmlzdWFsbHlIaWRkZW4+CgkJCQk8L0RpYWxvZ0Nsb3NlPgoJCQkpfQoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkRpYWxvZz4KCSk7Cn07CgpleHBvcnQgaW50ZXJmYWNlIERpYWxvZ0NvbnRlbnRQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IERpYWxvZ0NvbnRlbnQ6IFJlYWN0LkZDPERpYWxvZ0NvbnRlbnRQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBwLTQgdGV4dC1zbSBsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBEaWFsb2dIZWFkZXI6IFJlYWN0LkZDPERpYWxvZ0hlYWRlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ25vdC1wcm9zZSBweC00IHB0LTQnLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9PgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ1RpdGxlOiBSZWFjdC5GQzxEaWFsb2dUaXRsZVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXM6IENvbXBvbmVudCA9ICdoMicsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZ0hlYWRpbmcKCQkJcmVuZGVyPXsoaGVhZGluZ1Byb3BzKSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgaGVhZGluZ1Byb3BzKX0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgdGV4dC1iYXNlIGxlYWRpbmctbm9uZSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkRpYWxvZ0hlYWRpbmc+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ0Rlc2NyaXB0aW9uOiBSZWFjdC5GQzxEaWFsb2dEZXNjcmlwdGlvblByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8QXJpYWtpdC5EaWFsb2dEZXNjcmlwdGlvbgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBtdC0xIHRleHQtc20gbGVhZGluZy1zbnVnIHRleHQtZm9yZWdyb3VuZC80NScsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuRGlhbG9nRGVzY3JpcHRpb24+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ0Zvb3RlcjogUmVhY3QuRkM8RGlhbG9nRm9vdGVyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgcm91bmRlZC1iLWxnIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgYmctY2FyZC1tdXRlZC8zMCBwLTQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ0FjdGlvbnM6IFJlYWN0LkZDPERpYWxvZ0FjdGlvbnNQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKCdub3QtcHJvc2UgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ0Nsb3NlOiBSZWFjdC5GQzxEaWFsb2dDbG9zZVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXNDaGlsZCA9IGZhbHNlLAoJZGlzYWJsZWQsCglhdXRvRm9jdXMsCglvbkNsaWNrLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgeyBzdG9yZSB9ID0gdXNlRGlhbG9nKCk7CgoJaWYgKGFzQ2hpbGQgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7CgkJY29uc3QgY2hpbGQgPSBjaGlsZHJlbiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8CgkJCVJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PgoJCT47CgkJY29uc3QgaGFuZGxlQ2xpY2s6IFJlYWN0Lk1vdXNlRXZlbnRIYW5kbGVyPEhUTUxCdXR0b25FbGVtZW50PiA9IChlKSA9PiB7CgkJCXN0b3JlLmhpZGUoKTsKCQkJY2hpbGQucHJvcHM/Lm9uQ2xpY2s/LihlKTsKCQkJb25DbGljaz8uKGUpOwoJCX07CgkJcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgewoJCQlvbkNsaWNrOiBoYW5kbGVDbGljaywKCQkJLi4uKGRpc2FibGVkICE9PSB1bmRlZmluZWQgPyB7IGRpc2FibGVkIH0gOiB7fSksCgkJCS4uLihhdXRvRm9jdXMgIT09IHVuZGVmaW5lZCA/IHsgYXV0b0ZvY3VzIH0gOiB7fSksCgkJCS4uLnByb3BzLAoJCQkuLi4oY2hpbGQucHJvcHMgfHwge30pLAoJCX0pOwoJfQoKCXJldHVybiAoCgkJPEFyaWFraXQuRGlhbG9nRGlzbWlzcwoJCQlzdG9yZT17c3RvcmV9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknbm90LXByb3NlIG5vdC1wcm9zZSBpbmxpbmUtZmxleCBoLTYgdy02IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXNtIHRleHQtZm9yZWdyb3VuZC80NSB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3csb3BhY2l0eV0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMgaG92ZXI6YmctY2FyZC1tdXRlZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQvNzAgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl0eXBlPSJidXR0b24iCgkJCWRpc2FibGVkPXtCb29sZWFuKGRpc2FibGVkKX0KCQkJYXV0b0ZvY3VzPXtCb29sZWFuKGF1dG9Gb2N1cyl9CgkJCW9uQ2xpY2s9e29uQ2xpY2t9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuRGlhbG9nRGlzbWlzcz4KCSk7Cn07"
,
  "popover.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IHBvcG92ZXJUcmlnZ2VyVmFyaWFudHMgPSBjdmEoCgkibm90LXByb3NlIG5vdC1wcm9zZSBpbmxpbmUtZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBib3JkZXIgc2hhZG93LXNtIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgc2hyaW5rLTAgWyZfc3ZnXTpzaHJpbmstMCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIiwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAnYmctY2FyZCBob3ZlcjpiZy1jYXJkLW11dGVkIGJvcmRlci1ib3JkZXIgdGV4dC1mb3JlZ3JvdW5kJywKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICdoLTggcHgtMyBweS0xLjUgcHgtMyBnYXAtMS41IGhhcy1bPnN2Z106cHgtMi41IHRleHQtc20nLAoJCQkJbWQ6ICdoLTkgcHgtNCBweS0yIGdhcC0yIGhhcy1bPnN2Z106cHgtMyB0ZXh0LXNtJywKCQkJCWxnOiAnaC0xMCBweC02IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC00IHRleHQtYmFzZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgcG9wb3ZlckNvbnRlbnRWYXJpYW50cyA9IGN2YSgKCSdub3QtcHJvc2UgcmVsYXRpdmUgdy1maXQgcm91bmRlZC1sZyBib3JkZXIgc2hhZG93LW1kIHRyYW5zaXRpb24tc2hhZG93IGZvY3VzLXZpc2libGU6cmluZy1ub25lIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiBgYmctY2FyZC1tdXRlZCBib3JkZXItYm9yZGVyIHRleHQtZm9yZWdyb3VuZGAsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAncHgtMyBweS0yIHRleHQtc20nLAoJCQkJbWQ6ICdweC00IHB5LTMgdGV4dC1zbScsCgkJCQlsZzogJ3B4LTYgcHktNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IHBvcG92ZXJNb3Rpb24gPQoJJ2R1cmF0aW9uLTMwMCBlYXNlLXNtb290aCB0cmFuc2l0aW9uLVt0cmFuc2xhdGUsb3BhY2l0eSxzY2FsZV0gb3BhY2l0eS0wIHNjYWxlLTk1IC10cmFuc2xhdGUteS0yIGRhdGEtZW50ZXI6b3BhY2l0eS0xMDAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjp0cmFuc2xhdGUteS0wIGRhdGEtbGVhdmU6b3BhY2l0eS0wIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTotdHJhbnNsYXRlLXktMic7Cgp0eXBlIFBvcG92ZXJQbGFjZW1lbnQgPQoJfCAndG9wJwoJfCAndG9wLXN0YXJ0JwoJfCAndG9wLWVuZCcKCXwgJ2JvdHRvbScKCXwgJ2JvdHRvbS1zdGFydCcKCXwgJ2JvdHRvbS1lbmQnCgl8ICdsZWZ0JwoJfCAnbGVmdC1zdGFydCcKCXwgJ2xlZnQtZW5kJwoJfCAncmlnaHQnCgl8ICdyaWdodC1zdGFydCcKCXwgJ3JpZ2h0LWVuZCc7CgpleHBvcnQgaW50ZXJmYWNlIFBvcG92ZXJQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJb3Blbj86IGJvb2xlYW47CglwbGFjZW1lbnQ/OiBQb3BvdmVyUGxhY2VtZW50OwoJZGVmYXVsdE9wZW4/OiBib29sZWFuOwoJb25PcGVuQ2hhbmdlPzogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQ7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgUG9wb3ZlclRyaWdnZXJQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIHBvcG92ZXJUcmlnZ2VyVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cglhc0NoaWxkPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBQb3BvdmVyQ29udGVudFByb3BzCglleHRlbmRzIFZhcmlhbnRQcm9wczx0eXBlb2YgcG9wb3ZlckNvbnRlbnRWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXBvcnRhbD86IGJvb2xlYW47CglmaXhlZD86IGJvb2xlYW47CglndXR0ZXI/OiBudW1iZXI7CglzaG93QXJyb3c/OiBib29sZWFuOwp9CgpleHBvcnQgdHlwZSBQb3BvdmVySGVhZGluZ1Byb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPAoJdHlwZW9mIEFyaWFraXQuUG9wb3ZlckhlYWRpbmcKPjsKCmV4cG9ydCB0eXBlIFBvcG92ZXJEZXNjcmlwdGlvblByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPAoJdHlwZW9mIEFyaWFraXQuUG9wb3ZlckRlc2NyaXB0aW9uCj47Cgp0eXBlIFBvcG92ZXJIZWFkaW5nRWxlbWVudCA9IFJlYWN0LkNvbXBvbmVudFJlZjx0eXBlb2YgQXJpYWtpdC5Qb3BvdmVySGVhZGluZz47CnR5cGUgUG9wb3ZlckRlc2NyaXB0aW9uRWxlbWVudCA9IFJlYWN0LkNvbXBvbmVudFJlZjwKCXR5cGVvZiBBcmlha2l0LlBvcG92ZXJEZXNjcmlwdGlvbgo+OwoKY29uc3QgUG9wb3ZlclN0b3JlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8QXJpYWtpdC5Qb3BvdmVyU3RvcmUgfCBudWxsPigKCW51bGwsCik7CgpleHBvcnQgY29uc3QgUG9wb3ZlcjogUmVhY3QuRkM8UG9wb3ZlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCW9wZW4sCglkZWZhdWx0T3BlbiA9IGZhbHNlLAoJb25PcGVuQ2hhbmdlLAoJcGxhY2VtZW50LAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlUG9wb3ZlclN0b3JlKHsKCQkuLi4ocGxhY2VtZW50ID8geyBwbGFjZW1lbnQgfSA6IHt9KSwKCQkuLi4ob3BlbiAhPT0gdW5kZWZpbmVkCgkJCT8gb25PcGVuQ2hhbmdlCgkJCQk/IHsgb3Blbiwgc2V0T3Blbjogb25PcGVuQ2hhbmdlIH0KCQkJCTogeyBvcGVuIH0KCQkJOiB7IGRlZmF1bHRPcGVuIH0pLAoJfSk7CgoJcmV0dXJuICgKCQk8UG9wb3ZlclN0b3JlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17c3RvcmV9PgoJCQk8QXJpYWtpdC5Qb3BvdmVyUHJvdmlkZXIgc3RvcmU9e3N0b3JlfT4KCQkJCTxkaXYgY2xhc3NOYW1lPSJub3QtcHJvc2UgcmVsYXRpdmUiPntjaGlsZHJlbn08L2Rpdj4KCQkJPC9Bcmlha2l0LlBvcG92ZXJQcm92aWRlcj4KCQk8L1BvcG92ZXJTdG9yZUNvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFBvcG92ZXJUcmlnZ2VyOiBSZWFjdC5GQzxQb3BvdmVyVHJpZ2dlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWFzQ2hpbGQgPSBmYWxzZSwKCWNsYXNzTmFtZSA9ICcnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IFJlYWN0LnVzZUNvbnRleHQoUG9wb3ZlclN0b3JlQ29udGV4dCk7CglpZiAoIXN0b3JlKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXJUcmlnZ2VyIG11c3QgYmUgdXNlZCB3aXRoaW4gPFBvcG92ZXI+Jyk7CgoJaWYgKGFzQ2hpbGQgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7CgkJY29uc3QgY2hpbGQgPSBjaGlsZHJlbiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT47CgkJY29uc3QgbWVyZ2VkID0gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCB7CgkJCWNsYXNzTmFtZTogY24oCgkJCQljaGlsZC5wcm9wcy5jbGFzc05hbWUsCgkJCQlwb3BvdmVyVHJpZ2dlclZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwKCQkJCSdmb250LW1lZGl1bScsCgkJCQljbGFzc05hbWUsCgkJCSksCgkJfSk7CgoJCXJldHVybiA8QXJpYWtpdC5Qb3BvdmVyRGlzY2xvc3VyZSByZW5kZXI9e21lcmdlZH0gLz47Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Qb3BvdmVyRGlzY2xvc3VyZQoJCQljbGFzc05hbWU9e2NuKAoJCQkJcG9wb3ZlclRyaWdnZXJWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksCgkJCQknZm9udC1tZWRpdW0nLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5Qb3BvdmVyRGlzY2xvc3VyZT4KCSk7Cn07CgpleHBvcnQgY29uc3QgUG9wb3ZlckNvbnRlbnQ6IFJlYWN0LkZDPFBvcG92ZXJDb250ZW50UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJc2l6ZSA9ICdtZCcsCglwb3J0YWwgPSB0cnVlLAoJZml4ZWQgPSBmYWxzZSwKCWd1dHRlciA9IDAsCglzaG93QXJyb3cgPSB0cnVlLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IFJlYWN0LnVzZUNvbnRleHQoUG9wb3ZlclN0b3JlQ29udGV4dCk7CglpZiAoIXN0b3JlKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXJDb250ZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gPFBvcG92ZXI+Jyk7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Qb3BvdmVyCgkJCXBvcnRhbD17cG9ydGFsfQoJCQlmaXhlZD17Zml4ZWR9CgkJCWd1dHRlcj17Z3V0dGVyfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJcG9wb3ZlckNvbnRlbnRWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksCgkJCQlwb3BvdmVyTW90aW9uLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCT4KCQkJe3Nob3dBcnJvdyA/IDxBcmlha2l0LlBvcG92ZXJBcnJvdyAvPiA6IG51bGx9CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuUG9wb3Zlcj4KCSk7Cn07CgpleHBvcnQgY29uc3QgUG9wb3ZlckhlYWRpbmcgPSBSZWFjdC5mb3J3YXJkUmVmPAoJUG9wb3ZlckhlYWRpbmdFbGVtZW50LAoJUG9wb3ZlckhlYWRpbmdQcm9wcwo+KCh7IGNsYXNzTmFtZSA9ICcnLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKCTxBcmlha2l0LlBvcG92ZXJIZWFkaW5nCgkJcmVmPXtyZWZ9CgkJY2xhc3NOYW1lPXtjbigKCQkJJ25vdC1wcm9zZSB0ZXh0LXNtIGxlYWRpbmctbm9uZSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQnLAoJCQljbGFzc05hbWUsCgkJKX0KCQl7Li4ucHJvcHN9CgkvPgopKTsKClBvcG92ZXJIZWFkaW5nLmRpc3BsYXlOYW1lID0gJ1BvcG92ZXJIZWFkaW5nJzsKCmV4cG9ydCBjb25zdCBQb3BvdmVyRGVzY3JpcHRpb24gPSBSZWFjdC5mb3J3YXJkUmVmPAoJUG9wb3ZlckRlc2NyaXB0aW9uRWxlbWVudCwKCVBvcG92ZXJEZXNjcmlwdGlvblByb3BzCj4oKHsgY2xhc3NOYW1lID0gJycsIC4uLnByb3BzIH0sIHJlZikgPT4gKAoJPEFyaWFraXQuUG9wb3ZlckRlc2NyaXB0aW9uCgkJcmVmPXtyZWZ9CgkJY2xhc3NOYW1lPXtjbigKCQkJJ25vdC1wcm9zZSB0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNzAnLAoJCQljbGFzc05hbWUsCgkJKX0KCQl7Li4ucHJvcHN9CgkvPgopKTsKClBvcG92ZXJEZXNjcmlwdGlvbi5kaXNwbGF5TmFtZSA9ICdQb3BvdmVyRGVzY3JpcHRpb24nOw=="
,
  "textarea.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCB0ZXh0YXJlYVZhcmlhbnRzID0gY3ZhKAoJWwoJCSdmbGV4IHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciB0cmFuc2l0aW9uLXNoYWRvdyBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYycsCgkJJ2JnLWNhcmQgdGV4dC1mb3JlZ3JvdW5kJywKCQknZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQknZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCcsCgkJJ2Rpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwJywKCQkncGxhY2Vob2xkZXI6dGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQknbm90LXByb3NlIHNoYWRvdy1zbScsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6IFsnYm9yZGVyLWJvcmRlcicsICdmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCddLAoJCQkJZXJyb3I6IFsKCQkJCQknYm9yZGVyLWRlc3RydWN0aXZlLzQwJywKCQkJCQknZm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzUwIGRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzUwJywKCQkJCV0sCgkJCQlzdWNjZXNzOiBbCgkJCQkJJ2JvcmRlci1zdWNjZXNzLzQwJywKCQkJCQknZm9jdXMtdmlzaWJsZTpyaW5nLXN1Y2Nlc3MvNTAgZGFyazpmb2N1cy12aXNpYmxlOnJpbmctc3VjY2Vzcy81MCcsCgkJCQldLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ3B4LTIuNSBweS0xLjUgdGV4dC1zbScsCgkJCQltZDogJ3B4LTMgcHktMiB0ZXh0LXNtJywKCQkJCWxnOiAncHgtMy41IHB5LTIuNSB0ZXh0LWJhc2UnLAoJCQl9LAoJCQlyZXNpemU6IHsKCQkJCW5vbmU6ICdyZXNpemUtbm9uZScsCgkJCQl2ZXJ0aWNhbDogJ3Jlc2l6ZS15JywKCQkJCWhvcml6b250YWw6ICdyZXNpemUteCcsCgkJCQlib3RoOiAncmVzaXplJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJCXJlc2l6ZTogJ3ZlcnRpY2FsJywKCQl9LAoJfSwKKTsKCmNvbnN0IG1lc3NhZ2VWYXJpYW50cyA9IGN2YSgnbXQtMS41IHRleHQtc20nLCB7Cgl2YXJpYW50czogewoJCXR5cGU6IHsKCQkJZXJyb3I6ICd0ZXh0LWRlc3RydWN0aXZlLzkwJywKCQkJc3VjY2VzczogJ3RleHQtc3VjY2Vzcy85MCcsCgkJCWhlbHBlcjogJ3RleHQtZm9yZWdyb3VuZC80NScsCgkJfSwKCX0sCn0pOwoKZXhwb3J0IGludGVyZmFjZSBUZXh0YXJlYVByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuVGV4dGFyZWFIVE1MQXR0cmlidXRlczxIVE1MVGV4dEFyZWFFbGVtZW50PiwgJ3NpemUnPiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHRleHRhcmVhVmFyaWFudHM+IHsKCWxhYmVsPzogc3RyaW5nOwoJaGVscGVyVGV4dD86IHN0cmluZzsKCWVycm9yTWVzc2FnZT86IHN0cmluZzsKCXN1Y2Nlc3NNZXNzYWdlPzogc3RyaW5nOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJY29udGFpbmVyQ2xhc3NOYW1lPzogc3RyaW5nOwp9CgpsZXQgdGV4dGFyZWFJZENvdW50ZXIgPSAwOwpjb25zdCBnZW5lcmF0ZVRleHRhcmVhSWQgPSAoKSA9PiBgdGV4dGFyZWEtJHsrK3RleHRhcmVhSWRDb3VudGVyfWA7CgpleHBvcnQgY29uc3QgVGV4dGFyZWE6IFJlYWN0LkZDPFRleHRhcmVhUHJvcHM+ID0gKHsKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKCXJlc2l6ZSA9ICd2ZXJ0aWNhbCcsCglsYWJlbCwKCWhlbHBlclRleHQsCgllcnJvck1lc3NhZ2UsCglzdWNjZXNzTWVzc2FnZSwKCWNsYXNzTmFtZSA9ICcnLAoJY29udGFpbmVyQ2xhc3NOYW1lID0gJycsCglkaXNhYmxlZCwKCXJvd3MgPSA0LAoJaWQsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBkaXNwbGF5RXJyb3JNZXNzYWdlID0gdmFyaWFudCA9PT0gJ2Vycm9yJyAmJiBlcnJvck1lc3NhZ2U7Cgljb25zdCBkaXNwbGF5U3VjY2Vzc01lc3NhZ2UgPSB2YXJpYW50ID09PSAnc3VjY2VzcycgJiYgc3VjY2Vzc01lc3NhZ2U7Cgljb25zdCB0ZXh0YXJlYUlkID0gaWQgPz8gZ2VuZXJhdGVUZXh0YXJlYUlkKCk7CgoJY29uc3QgaGVscGVySWQgPSBoZWxwZXJUZXh0ID8gYCR7dGV4dGFyZWFJZH0taGVscGVyYCA6IHVuZGVmaW5lZDsKCWNvbnN0IGVycm9ySWQgPSBkaXNwbGF5RXJyb3JNZXNzYWdlID8gYCR7dGV4dGFyZWFJZH0tZXJyb3JgIDogdW5kZWZpbmVkOwoJY29uc3Qgc3VjY2Vzc0lkID0gZGlzcGxheVN1Y2Nlc3NNZXNzYWdlID8gYCR7dGV4dGFyZWFJZH0tc3VjY2Vzc2AgOiB1bmRlZmluZWQ7Cgljb25zdCBkZXNjcmliZWRCeSA9CgkJW2hlbHBlcklkLCBlcnJvcklkLCBzdWNjZXNzSWRdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJykgfHwgdW5kZWZpbmVkOwoKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NuKCdub3QtcHJvc2UnLCBjb250YWluZXJDbGFzc05hbWUpfT4KCQkJe2xhYmVsICYmICgKCQkJCTxsYWJlbAoJCQkJCWh0bWxGb3I9e3RleHRhcmVhSWR9CgkJCQkJY2xhc3NOYW1lPSJtYi0xLjUgYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAiCgkJCQk+CgkJCQkJe2xhYmVsfQoJCQkJPC9sYWJlbD4KCQkJKX0KCgkJCTx0ZXh0YXJlYQoJCQkJY2xhc3NOYW1lPXtjbih0ZXh0YXJlYVZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgcmVzaXplIH0pLCBjbGFzc05hbWUpfQoJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJcm93cz17cm93c30KCQkJCWlkPXt0ZXh0YXJlYUlkfQoJCQkJYXJpYS1kZXNjcmliZWRieT17ZGVzY3JpYmVkQnl9CgkJCQlhcmlhLWludmFsaWQ9e3ZhcmlhbnQgPT09ICdlcnJvcicgPyB0cnVlIDogdW5kZWZpbmVkfQoJCQkJey4uLnByb3BzfQoJCQkvPgoKCQkJe2Rpc3BsYXlFcnJvck1lc3NhZ2UgJiYgKAoJCQkJPHAKCQkJCQlpZD17ZXJyb3JJZH0KCQkJCQljbGFzc05hbWU9e21lc3NhZ2VWYXJpYW50cyh7IHR5cGU6ICdlcnJvcicgfSl9CgkJCQkJYXJpYS1saXZlPSJwb2xpdGUiCgkJCQk+CgkJCQkJe2Vycm9yTWVzc2FnZX0KCQkJCTwvcD4KCQkJKX0KCgkJCXtkaXNwbGF5U3VjY2Vzc01lc3NhZ2UgJiYgKAoJCQkJPHAKCQkJCQlpZD17c3VjY2Vzc0lkfQoJCQkJCWNsYXNzTmFtZT17bWVzc2FnZVZhcmlhbnRzKHsgdHlwZTogJ3N1Y2Nlc3MnIH0pfQoJCQkJCWFyaWEtbGl2ZT0icG9saXRlIgoJCQkJPgoJCQkJCXtzdWNjZXNzTWVzc2FnZX0KCQkJCTwvcD4KCQkJKX0KCgkJCXtoZWxwZXJUZXh0ICYmICFkaXNwbGF5RXJyb3JNZXNzYWdlICYmICFkaXNwbGF5U3VjY2Vzc01lc3NhZ2UgJiYgKAoJCQkJPHAgaWQ9e2hlbHBlcklkfSBjbGFzc05hbWU9e21lc3NhZ2VWYXJpYW50cyh7IHR5cGU6ICdoZWxwZXInIH0pfT4KCQkJCQl7aGVscGVyVGV4dH0KCQkJCTwvcD4KCQkJKX0KCQk8L2Rpdj4KCSk7Cn07"
,
  "button.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmV4cG9ydCBjb25zdCBidXR0b25WYXJpYW50cyA9IGN2YSgKCSJub3QtcHJvc2UgcmVsYXRpdmUgaW5saW5lLWZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgZm9udC1tZWRpdW0gWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNCBzaHJpbmstMCBbJl9zdmddOnNocmluay0wIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsZmlsdGVyLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwIiwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OgoJCQkJCSdiZy1saW5lYXItdG8tYiBmcm9tLWdyYWRpZW50LWZyb20gdG8tZ3JhZGllbnQtdG8gaG92ZXI6Y29udHJhc3QtOTAgc2hhZG93LVtpbnNldF8wXzFweF8wXzBfcmdiKDI1NV8yNTVfMjU1Ly4zMiksMHB4XzFweF8xcHhfLTAuNXB4X3JnYmEoOSw5LDExLDAuMDUpLDBweF8zcHhfM3B4Xy0xLjVweF9yZ2JhKDksOSwxMSwwLjA1KSwwcHhfNnB4XzZweF8tM3B4X3JnYmEoOSw5LDExLDAuMDUpXSBkYXJrOnNoYWRvdy1baW5zZXRfMF8xcHhfMF8wX3JnYigyNTVfMjU1XzI1NS8uMTIpLDBweF8xcHhfMXB4Xy0wLjVweF9yZ2JhKDksOSwxMSwwLjA1KSwwcHhfM3B4XzNweF8tMS41cHhfcmdiYSg5LDksMTEsMC4wNSksMHB4XzZweF82cHhfLTNweF9yZ2JhKDksOSwxMSwwLjA1KV0gdGV4dC1jYXJkIGRhcms6dGV4dC1mb3JlZ3JvdW5kJywKCQkJCXNlY29uZGFyeToKCQkJCQknYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCB0ZXh0LWZvcmVncm91bmQgc2hhZG93LXNtIGhvdmVyOmJnLWNhcmQtbXV0ZWQgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAnLAoJCQkJZ2hvc3Q6ICd0ZXh0LWZvcmVncm91bmQgaG92ZXI6YmctY2FyZC1tdXRlZCBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCcsCgkJCQlpY29uOiAndGV4dC1mb3JlZ3JvdW5kIGhvdmVyOmJnLWNhcmQtbXV0ZWQgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ2gtOCBweC0zIHB5LTEuNSBweC0zIGdhcC0xLjUgaGFzLVs+c3ZnXTpweC0yLjUgdGV4dC1zbScsCgkJCQltZDogJ2gtOSBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIHRleHQtc20nLAoJCQkJbGc6ICdoLTEwIHB4LTYgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTQgdGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWNvbXBvdW5kVmFyaWFudHM6IFsKCQkJewoJCQkJdmFyaWFudDogJ2ljb24nLAoJCQkJc2l6ZTogJ3NtJywKCQkJCWNsYXNzOiAnc2l6ZS04IHAtMCB0ZXh0LXNtJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2ljb24nLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAnc2l6ZS05IHAtMCB0ZXh0LXNtJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2ljb24nLAoJCQkJc2l6ZTogJ2xnJywKCQkJCWNsYXNzOiAnc2l6ZS0xMCBwLTAgdGV4dC1iYXNlJywKCQkJfSwKCQldLAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIEJ1dHRvblByb3BzCglleHRlbmRzIE9taXQ8QXJpYWtpdC5CdXR0b25Qcm9wcywgJ2NsYXNzTmFtZScgfCAnY2hpbGRyZW4nIHwgJ3JlbmRlcic+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgYnV0dG9uVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhc0NoaWxkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGNvbnN0IEJ1dHRvbjogUmVhY3QuRkM8QnV0dG9uUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAoJY2xhc3NOYW1lID0gJycsCgl0eXBlLAoJYXNDaGlsZCA9IGZhbHNlLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgYnV0dG9uVHlwZSA9IHR5cGUgPz8gKGFzQ2hpbGQgPyB1bmRlZmluZWQgOiAnYnV0dG9uJyk7Cgljb25zdCBjbGFzc2VzID0gY24oCgkJYnV0dG9uVmFyaWFudHMoewoJCQl2YXJpYW50LAoJCQlzaXplLAoJCX0pLAoJCWNsYXNzTmFtZSwKCSk7CgoJaWYgKGFzQ2hpbGQgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7CgkJY29uc3QgY2hpbGQgPSBjaGlsZHJlbiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT47CgkJY29uc3QgbWVyZ2VkQ2hpbGQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHsKCQkJY2xhc3NOYW1lOiBjbihjaGlsZC5wcm9wcy5jbGFzc05hbWUsIGNsYXNzZXMpLAoJCX0pOwoKCQlyZXR1cm4gPEFyaWFraXQuQnV0dG9uIHJlbmRlcj17bWVyZ2VkQ2hpbGR9IHR5cGU9e2J1dHRvblR5cGV9IHsuLi5wcm9wc30gLz47Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5CdXR0b24gY2xhc3NOYW1lPXtjbGFzc2VzfSB0eXBlPXtidXR0b25UeXBlfSB7Li4ucHJvcHN9PgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkJ1dHRvbj4KCSk7Cn07"
,
  "scroll-area.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgp0eXBlIFNjcm9sbEFyZWFUeXBlID0gJ2hvdmVyJyB8ICdzY3JvbGwnIHwgJ2Fsd2F5cyc7CnR5cGUgU2Nyb2xsQXhpcyA9ICd2ZXJ0aWNhbCcgfCAnaG9yaXpvbnRhbCc7CnR5cGUgU2Nyb2xsRGlyZWN0aW9uID0gU2Nyb2xsQXhpcyB8ICdib3RoJzsKCmludGVyZmFjZSBTY3JvbGxNZXRyaWNzIHsKCXNpemU6IG51bWJlcjsKCXByb2dyZXNzOiBudW1iZXI7CglzY3JvbGxhYmxlOiBib29sZWFuOwp9CgppbnRlcmZhY2UgU2Nyb2xsQXJlYUNvbnRleHRWYWx1ZSB7CglzY3JvbGxBcmVhUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQgfCBudWxsPjsKCXZpZXdwb3J0UmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQgfCBudWxsPjsKCXR5cGU6IFNjcm9sbEFyZWFUeXBlOwoJc2Nyb2xsSGlkZURlbGF5OiBudW1iZXI7CglzY3JvbGxiYXJUaHVtYkNsYXNzTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkOwp9Cgpjb25zdCBTY3JvbGxBcmVhQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8U2Nyb2xsQXJlYUNvbnRleHRWYWx1ZSB8IG51bGw+KAoJbnVsbCwKKTsKCmNvbnN0IHNjcm9sbEFyZWFCYXNlQ2xhc3MgPQoJJ2dyb3VwL3Njcm9sbC1hcmVhIG5vdC1wcm9zZSByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4nOwoKY29uc3Qgc2Nyb2xsVmlld3BvcnRCYXNlQ2xhc3MgPQoJJ3JlbGF0aXZlIHNpemUtZnVsbCBvdmVyZmxvdy1hdXRvIFtzY3JvbGxiYXItd2lkdGg6bm9uZV0gWy1tcy1vdmVyZmxvdy1zdHlsZTpub25lXSBbJjo6LXdlYmtpdC1zY3JvbGxiYXJdOmhpZGRlbic7Cgpjb25zdCBzY3JvbGxCYXJWYXJpYW50cyA9IGN2YSgKCSdwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIHotMjAgc2VsZWN0LW5vbmUgcm91bmRlZC1mdWxsIGJnLXRyYW5zcGFyZW50IG9wYWNpdHktMCB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMgb3ZlcmZsb3ctaGlkZGVuJywKCXsKCQl2YXJpYW50czogewoJCQlvcmllbnRhdGlvbjogewoJCQkJdmVydGljYWw6ICdyaWdodC0xIHRvcC0xIGJvdHRvbS0xJywKCQkJCWhvcml6b250YWw6ICdsZWZ0LTEgcmlnaHQtMSBib3R0b20tMScsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnJywKCQkJCW1kOiAnJywKCQkJCWxnOiAnJywKCQkJfSwKCQl9LAoJCWNvbXBvdW5kVmFyaWFudHM6IFsKCQkJeyBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywgc2l6ZTogJ3NtJywgY2xhc3M6ICd3LTEnIH0sCgkJCXsgb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsIHNpemU6ICdtZCcsIGNsYXNzOiAndy0xLjUnIH0sCgkJCXsgb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsIHNpemU6ICdsZycsIGNsYXNzOiAndy0yJyB9LAoJCQl7IG9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsIHNpemU6ICdzbScsIGNsYXNzOiAnaC0xJyB9LAoJCQl7IG9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsIHNpemU6ICdtZCcsIGNsYXNzOiAnaC0xLjUnIH0sCgkJCXsgb3JpZW50YXRpb246ICdob3Jpem9udGFsJywgc2l6ZTogJ2xnJywgY2xhc3M6ICdoLTInIH0sCgkJXSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBNSU5fVEhVTUJfUkFUSU8gPSAwLjA4Owpjb25zdCBDT1JORVJfR0FQID0gODsKCmZ1bmN0aW9uIHVzZVNjcm9sbEFyZWFDb250ZXh0KGNvbXBvbmVudDogc3RyaW5nKSB7Cgljb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChTY3JvbGxBcmVhQ29udGV4dCk7CglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoYCR7Y29tcG9uZW50fSBtdXN0IGJlIHVzZWQgd2l0aGluIDxTY3JvbGxBcmVhPmApOwoJfQoJcmV0dXJuIGNvbnRleHQ7Cn0KCmZ1bmN0aW9uIGNhbGN1bGF0ZUF4aXNNZXRyaWNzKAoJdG90YWw6IG51bWJlciwKCXZpZXdwb3J0OiBudW1iZXIsCglvZmZzZXQ6IG51bWJlciwKKTogU2Nyb2xsTWV0cmljcyB7CglpZiAodG90YWwgPD0gdmlld3BvcnQgfHwgdG90YWwgPT09IDApIHsKCQlyZXR1cm4geyBzaXplOiAxLCBwcm9ncmVzczogMCwgc2Nyb2xsYWJsZTogZmFsc2UgfTsKCX0KCgljb25zdCBzaXplID0gTWF0aC5taW4oTWF0aC5tYXgodmlld3BvcnQgLyB0b3RhbCwgMCksIDEpOwoJY29uc3QgbWF4U2Nyb2xsID0gdG90YWwgLSB2aWV3cG9ydDsKCWNvbnN0IHByb2dyZXNzID0gbWF4U2Nyb2xsID4gMCA/IE1hdGgubWluKE1hdGgubWF4KG9mZnNldCAvIG1heFNjcm9sbCwgMCksIDEpIDogMDsKCglyZXR1cm4gewoJCXNpemUsCgkJcHJvZ3Jlc3MsCgkJc2Nyb2xsYWJsZTogdHJ1ZSwKCX07Cn0KCmZ1bmN0aW9uIGNvbXBvc2VSZWZzPFQ+KAoJLi4ucmVmczogQXJyYXk8UmVhY3QuUmVmPFQ+IHwgdW5kZWZpbmVkPgopOiBSZWFjdC5SZWZDYWxsYmFjazxUPiB7CglyZXR1cm4gKG5vZGUpID0+IHsKCQlmb3IgKGNvbnN0IHJlZiBvZiByZWZzKSB7CgkJCWlmICghcmVmKSBjb250aW51ZTsKCQkJaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHsKCQkJCXJlZihub2RlKTsKCQkJfSBlbHNlIHsKCQkJCShyZWYgYXMgUmVhY3QuUmVmT2JqZWN0PFQgfCBudWxsPikuY3VycmVudCA9IG5vZGU7CgkJCX0KCQl9Cgl9Owp9CgpleHBvcnQgaW50ZXJmYWNlIFNjcm9sbEFyZWFQcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwgJ2NoaWxkcmVuJz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCXR5cGU/OiBTY3JvbGxBcmVhVHlwZTsKCWRpcmVjdGlvbj86IFNjcm9sbERpcmVjdGlvbjsKCW9uVmlld3BvcnRTY3JvbGw/OiBSZWFjdC5VSUV2ZW50SGFuZGxlcjxIVE1MRGl2RWxlbWVudD47CglzY3JvbGxiYXJTaXplPzogVmFyaWFudFByb3BzPHR5cGVvZiBzY3JvbGxCYXJWYXJpYW50cz5bJ3NpemUnXTsKCWhvcml6b250YWxTY3JvbGxiYXJTaXplPzogVmFyaWFudFByb3BzPHR5cGVvZiBzY3JvbGxCYXJWYXJpYW50cz5bJ3NpemUnXTsKCXNjcm9sbGJhclRodW1iQ2xhc3NOYW1lPzogc3RyaW5nOwoJc2Nyb2xsSGlkZURlbGF5PzogbnVtYmVyOwp9CgpleHBvcnQgY29uc3QgU2Nyb2xsQXJlYSA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIFNjcm9sbEFyZWFQcm9wcz4oCgkoCgkJewoJCQljaGlsZHJlbiwKCQkJY2xhc3NOYW1lLAoJCQl0eXBlID0gJ2hvdmVyJywKCQkJZGlyZWN0aW9uID0gJ3ZlcnRpY2FsJywKCQkJb25WaWV3cG9ydFNjcm9sbCwKCQkJc2Nyb2xsYmFyU2l6ZSA9ICdtZCcsCgkJCWhvcml6b250YWxTY3JvbGxiYXJTaXplLAoJCQlzY3JvbGxiYXJUaHVtYkNsYXNzTmFtZSwKCQkJc2Nyb2xsSGlkZURlbGF5ID0gNjAwLAoJCQkuLi5wcm9wcwoJCX0sCgkJcmVmLAoJKSA9PiB7CgkJY29uc3Qgc2Nyb2xsQXJlYVJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoJCWNvbnN0IHZpZXdwb3J0UmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7CgoJCWNvbnN0IGNvbXBvc2VkUmVmID0gUmVhY3QudXNlTWVtbygKCQkJKCkgPT4gY29tcG9zZVJlZnMocmVmLCBzY3JvbGxBcmVhUmVmKSwKCQkJW3JlZl0sCgkJKTsKCgkJY29uc3QgY29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbzxTY3JvbGxBcmVhQ29udGV4dFZhbHVlPigKCQkJKCkgPT4gKHsKCQkJCXNjcm9sbEFyZWFSZWYsCgkJCQl2aWV3cG9ydFJlZiwKCQkJCXR5cGUsCgkJCQlzY3JvbGxIaWRlRGVsYXksCgkJCQlzY3JvbGxiYXJUaHVtYkNsYXNzTmFtZSwKCQkJfSksCgkJCVt0eXBlLCBzY3JvbGxIaWRlRGVsYXksIHNjcm9sbGJhclRodW1iQ2xhc3NOYW1lXSwKCQkpOwoKCQljb25zdCBzaG93VmVydGljYWxTY3JvbGxCYXIgPQoJCQlkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgfHwgZGlyZWN0aW9uID09PSAnYm90aCc7CgkJY29uc3Qgc2hvd0hvcml6b250YWxTY3JvbGxCYXIgPQoJCQlkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBkaXJlY3Rpb24gPT09ICdib3RoJzsKCQljb25zdCByZXNvbHZlZEhvcml6b250YWxTaXplID0gaG9yaXpvbnRhbFNjcm9sbGJhclNpemUgPz8gc2Nyb2xsYmFyU2l6ZTsKCgkJcmV0dXJuICgKCQkJPFNjcm9sbEFyZWFDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWV9PgoJCQkJPGRpdgoJCQkJCXJlZj17Y29tcG9zZWRSZWZ9CgkJCQkJY2xhc3NOYW1lPXtjbihzY3JvbGxBcmVhQmFzZUNsYXNzLCBjbGFzc05hbWUpfQoJCQkJCXsuLi5wcm9wc30KCQkJCT4KCQkJCQk8U2Nyb2xsVmlld3BvcnQgb25TY3JvbGw9e29uVmlld3BvcnRTY3JvbGx9PgoJCQkJCQl7Y2hpbGRyZW59CgkJCQkJPC9TY3JvbGxWaWV3cG9ydD4KCQkJCQl7c2hvd1ZlcnRpY2FsU2Nyb2xsQmFyICYmICgKCQkJCQkJPFNjcm9sbEJhciBvcmllbnRhdGlvbj0idmVydGljYWwiIHNpemU9e3Njcm9sbGJhclNpemV9IC8+CgkJCQkJKX0KCQkJCQl7c2hvd0hvcml6b250YWxTY3JvbGxCYXIgJiYgKAoJCQkJCQk8U2Nyb2xsQmFyIG9yaWVudGF0aW9uPSJob3Jpem9udGFsIiBzaXplPXtyZXNvbHZlZEhvcml6b250YWxTaXplfSAvPgoJCQkJCSl9CgkJCQk8L2Rpdj4KCQkJPC9TY3JvbGxBcmVhQ29udGV4dC5Qcm92aWRlcj4KCQkpOwoJfSwKKTsKU2Nyb2xsQXJlYS5kaXNwbGF5TmFtZSA9ICdTY3JvbGxBcmVhJzsKCmludGVyZmFjZSBTY3JvbGxWaWV3cG9ydFByb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHt9Cgpjb25zdCBTY3JvbGxWaWV3cG9ydCA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIFNjcm9sbFZpZXdwb3J0UHJvcHM+KAoJKHsgY2xhc3NOYW1lLCBvblNjcm9sbCwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gewoJCWNvbnN0IHsgdmlld3BvcnRSZWYgfSA9IHVzZVNjcm9sbEFyZWFDb250ZXh0KCdTY3JvbGxWaWV3cG9ydCcpOwoKCQljb25zdCBjb21wb3NlZFJlZiA9IFJlYWN0LnVzZU1lbW8oCgkJCSgpID0+IGNvbXBvc2VSZWZzKHJlZiwgdmlld3BvcnRSZWYpLAoJCQlbcmVmLCB2aWV3cG9ydFJlZl0sCgkJKTsKCgkJcmV0dXJuICgKCQkJPGRpdgoJCQkJcmVmPXtjb21wb3NlZFJlZn0KCQkJCW9uU2Nyb2xsPXtvblNjcm9sbH0KCQkJCWNsYXNzTmFtZT17Y24oc2Nyb2xsVmlld3BvcnRCYXNlQ2xhc3MsIGNsYXNzTmFtZSl9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9kaXY+CgkJKTsKCX0sCik7ClNjcm9sbFZpZXdwb3J0LmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXdwb3J0JzsKCmV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsQmFyUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2Ygc2Nyb2xsQmFyVmFyaWFudHM+IHsKCW9yaWVudGF0aW9uPzogU2Nyb2xsQXhpczsKfQoKY29uc3QgU2Nyb2xsQmFyID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgU2Nyb2xsQmFyUHJvcHM+KAoJKAoJCXsgY2xhc3NOYW1lLCBvcmllbnRhdGlvbiA9ICd2ZXJ0aWNhbCcsIHNpemUgPSAnbWQnLCBzdHlsZSwgLi4ucHJvcHMgfSwKCQlyZWYsCgkpID0+IHsKCQljb25zdCB7CgkJCXZpZXdwb3J0UmVmLAoJCQlzY3JvbGxBcmVhUmVmLAoJCQl0eXBlLAoJCQlzY3JvbGxIaWRlRGVsYXksCgkJCXNjcm9sbGJhclRodW1iQ2xhc3NOYW1lLAoJCX0gPSB1c2VTY3JvbGxBcmVhQ29udGV4dCgnU2Nyb2xsQmFyJyk7CgoJCWNvbnN0IHNjcm9sbGJhclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoJCWNvbnN0IHRodW1iUmVmID0gUmVhY3QudXNlUmVmPEhUTUxTcGFuRWxlbWVudCB8IG51bGw+KG51bGwpOwoJCWNvbnN0IGlzU2Nyb2xsYWJsZVJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7CgoJCWNvbnN0IGNvbXBvc2VkUmVmID0gUmVhY3QudXNlTWVtbygKCQkJKCkgPT4gY29tcG9zZVJlZnMocmVmLCBzY3JvbGxiYXJSZWYpLAoJCQlbcmVmXSwKCQkpOwoKCQljb25zdCB1cGRhdGVUaHVtYlBvc2l0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCQljb25zdCB2aWV3cG9ydCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQ7CgkJCWNvbnN0IHRodW1iID0gdGh1bWJSZWYuY3VycmVudDsKCQkJY29uc3Qgc2Nyb2xsYmFyID0gc2Nyb2xsYmFyUmVmLmN1cnJlbnQ7CgkJCWlmICghdmlld3BvcnQgfHwgIXRodW1iIHx8ICFzY3JvbGxiYXIpIHJldHVybjsKCgkJCWNvbnN0IG1ldHJpY3MgPSBjYWxjdWxhdGVBeGlzTWV0cmljcygKCQkJCW9yaWVudGF0aW9uID09PSAndmVydGljYWwnCgkJCQkJPyB2aWV3cG9ydC5zY3JvbGxIZWlnaHQKCQkJCQk6IHZpZXdwb3J0LnNjcm9sbFdpZHRoLAoJCQkJb3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcKCQkJCQk/IHZpZXdwb3J0LmNsaWVudEhlaWdodAoJCQkJCTogdmlld3BvcnQuY2xpZW50V2lkdGgsCgkJCQlvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/IHZpZXdwb3J0LnNjcm9sbFRvcCA6IHZpZXdwb3J0LnNjcm9sbExlZnQsCgkJCSk7CgoJCQljb25zdCB3YXNTY3JvbGxhYmxlID0gaXNTY3JvbGxhYmxlUmVmLmN1cnJlbnQ7CgkJCWlzU2Nyb2xsYWJsZVJlZi5jdXJyZW50ID0gbWV0cmljcy5zY3JvbGxhYmxlOwoKCQkJaWYgKG1ldHJpY3Muc2Nyb2xsYWJsZSAmJiAhd2FzU2Nyb2xsYWJsZSkgewoJCQkJc2Nyb2xsYmFyLnN0eWxlLmRpc3BsYXkgPSAnJzsKCQkJfSBlbHNlIGlmICghbWV0cmljcy5zY3JvbGxhYmxlICYmIHdhc1Njcm9sbGFibGUpIHsKCQkJCXNjcm9sbGJhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoJCQl9CgoJCQlpZiAobWV0cmljcy5zY3JvbGxhYmxlKSB7CgkJCQljb25zdCB0aHVtYkZyYWN0aW9uID0gTWF0aC5tYXgobWV0cmljcy5zaXplLCBNSU5fVEhVTUJfUkFUSU8pOwoJCQkJY29uc3QgdGh1bWJTaXplUGVyY2VudCA9IHRodW1iRnJhY3Rpb24gKiAxMDA7CgkJCQljb25zdCBtYXhPZmZzZXQgPSBNYXRoLm1heCgwLCAxMDAgLSB0aHVtYlNpemVQZXJjZW50KTsKCQkJCWNvbnN0IG9mZnNldFBlcmNlbnQgPSBtZXRyaWNzLnByb2dyZXNzICogbWF4T2Zmc2V0OwoKCQkJCWlmIChvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykgewoJCQkJCXRodW1iLnN0eWxlLmhlaWdodCA9IGAke3RodW1iU2l6ZVBlcmNlbnR9JWA7CgkJCQkJdGh1bWIuc3R5bGUudG9wID0gYCR7b2Zmc2V0UGVyY2VudH0lYDsKCQkJCX0gZWxzZSB7CgkJCQkJdGh1bWIuc3R5bGUud2lkdGggPSBgJHt0aHVtYlNpemVQZXJjZW50fSVgOwoJCQkJCXRodW1iLnN0eWxlLmxlZnQgPSBgJHtvZmZzZXRQZXJjZW50fSVgOwoJCQkJfQoJCQl9CgkJfSwgW29yaWVudGF0aW9uLCB2aWV3cG9ydFJlZl0pOwoKCQlSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCQljb25zdCBzY3JvbGxiYXIgPSBzY3JvbGxiYXJSZWYuY3VycmVudDsKCQkJaWYgKCFzY3JvbGxiYXIpIHJldHVybjsKCgkJCWlmICh0eXBlID09PSAnYWx3YXlzJykgewoJCQkJc2Nyb2xsYmFyLnN0eWxlLm9wYWNpdHkgPSAnMSc7CgkJCX0KCQl9LCBbdHlwZV0pOwoKCQlSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAodHlwZSAhPT0gJ2hvdmVyJykgcmV0dXJuOwoKCQkJY29uc3Qgc2Nyb2xsQXJlYSA9IHNjcm9sbEFyZWFSZWYuY3VycmVudDsKCQkJY29uc3Qgc2Nyb2xsYmFyID0gc2Nyb2xsYmFyUmVmLmN1cnJlbnQ7CgkJCWlmICghc2Nyb2xsQXJlYSB8fCAhc2Nyb2xsYmFyKSByZXR1cm47CgoJCQlsZXQgaGlkZVRpbWVyOiBudW1iZXIgfCB1bmRlZmluZWQ7CgoJCQljb25zdCBzaG93ID0gKCkgPT4gewoJCQkJaWYgKGhpZGVUaW1lciAhPT0gdW5kZWZpbmVkKSB7CgkJCQkJd2luZG93LmNsZWFyVGltZW91dChoaWRlVGltZXIpOwoJCQkJfQoJCQkJc2Nyb2xsYmFyLnN0eWxlLm9wYWNpdHkgPSAnMSc7CgkJCX07CgoJCQljb25zdCBoaWRlID0gKCkgPT4gewoJCQkJaGlkZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewoJCQkJCXNjcm9sbGJhci5zdHlsZS5vcGFjaXR5ID0gJzAnOwoJCQkJfSwgc2Nyb2xsSGlkZURlbGF5KTsKCQkJfTsKCgkJCXNjcm9sbEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgc2hvdyk7CgkJCXNjcm9sbEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgaGlkZSk7CgoJCQlyZXR1cm4gKCkgPT4gewoJCQkJaWYgKGhpZGVUaW1lciAhPT0gdW5kZWZpbmVkKSB7CgkJCQkJd2luZG93LmNsZWFyVGltZW91dChoaWRlVGltZXIpOwoJCQkJfQoJCQkJc2Nyb2xsQXJlYS5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCBzaG93KTsKCQkJCXNjcm9sbEFyZWEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgaGlkZSk7CgkJCX07CgkJfSwgW3R5cGUsIHNjcm9sbEhpZGVEZWxheSwgc2Nyb2xsQXJlYVJlZl0pOwoKCQlSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAodHlwZSAhPT0gJ3Njcm9sbCcpIHJldHVybjsKCgkJCWNvbnN0IHZpZXdwb3J0ID0gdmlld3BvcnRSZWYuY3VycmVudDsKCQkJY29uc3Qgc2Nyb2xsYmFyID0gc2Nyb2xsYmFyUmVmLmN1cnJlbnQ7CgkJCWlmICghdmlld3BvcnQgfHwgIXNjcm9sbGJhcikgcmV0dXJuOwoKCQkJbGV0IGhpZGVUaW1lcjogbnVtYmVyIHwgdW5kZWZpbmVkOwoKCQkJY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4gewoJCQkJc2Nyb2xsYmFyLnN0eWxlLm9wYWNpdHkgPSAnMSc7CgoJCQkJaWYgKGhpZGVUaW1lciAhPT0gdW5kZWZpbmVkKSB7CgkJCQkJd2luZG93LmNsZWFyVGltZW91dChoaWRlVGltZXIpOwoJCQkJfQoKCQkJCWhpZGVUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsKCQkJCQlzY3JvbGxiYXIuc3R5bGUub3BhY2l0eSA9ICcwJzsKCQkJCX0sIHNjcm9sbEhpZGVEZWxheSk7CgoJCQkJcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZVRodW1iUG9zaXRpb24pOwoJCQl9OwoKCQkJdmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsLCB7IHBhc3NpdmU6IHRydWUgfSk7CgoJCQlyZXR1cm4gKCkgPT4gewoJCQkJaWYgKGhpZGVUaW1lciAhPT0gdW5kZWZpbmVkKSB7CgkJCQkJd2luZG93LmNsZWFyVGltZW91dChoaWRlVGltZXIpOwoJCQkJfQoJCQkJdmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTsKCQkJfTsKCQl9LCBbdHlwZSwgc2Nyb2xsSGlkZURlbGF5LCB2aWV3cG9ydFJlZiwgdXBkYXRlVGh1bWJQb3NpdGlvbl0pOwoKCQlSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCQljb25zdCB2aWV3cG9ydCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQ7CgkJCWlmICghdmlld3BvcnQpIHJldHVybjsKCgkJCXVwZGF0ZVRodW1iUG9zaXRpb24oKTsKCgkJCWNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHsKCQkJCXJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVUaHVtYlBvc2l0aW9uKTsKCQkJfTsKCgkJCXZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCwgeyBwYXNzaXZlOiB0cnVlIH0pOwoKCQkJY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gewoJCQkJcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZVRodW1iUG9zaXRpb24pOwoJCQl9KTsKCQkJcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh2aWV3cG9ydCk7CgoJCQlyZXR1cm4gKCkgPT4gewoJCQkJdmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTsKCQkJCXJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCQkJfTsKCQl9LCBbdmlld3BvcnRSZWYsIHVwZGF0ZVRodW1iUG9zaXRpb25dKTsKCgkJY29uc3Qgdmlld3BvcnQgPSB2aWV3cG9ydFJlZi5jdXJyZW50OwoJCWNvbnN0IGhhc0JvdGggPQoJCQl2aWV3cG9ydCAmJgoJCQl2aWV3cG9ydC5zY3JvbGxIZWlnaHQgPiB2aWV3cG9ydC5jbGllbnRIZWlnaHQgJiYKCQkJdmlld3BvcnQuc2Nyb2xsV2lkdGggPiB2aWV3cG9ydC5jbGllbnRXaWR0aDsKCgkJY29uc3QgdHJhY2tTdHlsZSA9CgkJCWhhc0JvdGggJiYgb3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcKCQkJCT8geyBib3R0b206IGBjYWxjKDAuMjVyZW0gKyAke0NPUk5FUl9HQVB9cHgpYCB9CgkJCQk6IGhhc0JvdGggJiYgb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJwoJCQkJCT8geyByaWdodDogYGNhbGMoMC4yNXJlbSArICR7Q09STkVSX0dBUH1weClgIH0KCQkJCQk6IHVuZGVmaW5lZDsKCgkJcmV0dXJuICgKCQkJPGRpdgoJCQkJcmVmPXtjb21wb3NlZFJlZn0KCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJZGF0YS1vcmllbnRhdGlvbj17b3JpZW50YXRpb259CgkJCQljbGFzc05hbWU9e2NuKHNjcm9sbEJhclZhcmlhbnRzKHsgb3JpZW50YXRpb24sIHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCQlzdHlsZT17ewoJCQkJCWRpc3BsYXk6ICdub25lJywKCQkJCQkuLi4odHJhY2tTdHlsZSA/IHRyYWNrU3R5bGUgOiB7fSksCgkJCQkJLi4uc3R5bGUsCgkJCQl9fQoJCQkJey4uLnByb3BzfQoJCQk+CgkJCQk8c3BhbgoJCQkJCXJlZj17dGh1bWJSZWZ9CgkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ3BvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgYmxvY2sgcm91bmRlZC1mdWxsJywKCQkJCQkJc2Nyb2xsYmFyVGh1bWJDbGFzc05hbWUgPz8gJ2JnLWZvcmVncm91bmQvNDUnLAoJCQkJCQlvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ2gtZnVsbCB0b3AtMCcgOiAndy1mdWxsIGxlZnQtMCcsCgkJCQkJKX0KCQkJCS8+CgkJCTwvZGl2PgoJCSk7Cgl9LAopOwpTY3JvbGxCYXIuZGlzcGxheU5hbWUgPSAnU2Nyb2xsQmFyJzs="
,
  "table.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7Cgl0eXBlIENvbHVtbkRlZiwKCXR5cGUgQ29sdW1uTWV0YSwKCWZsZXhSZW5kZXIsCglnZXRDb3JlUm93TW9kZWwsCglnZXRTb3J0ZWRSb3dNb2RlbCwKCXR5cGUgUm93LAoJdHlwZSBSb3dTZWxlY3Rpb25TdGF0ZSwKCXR5cGUgU29ydGluZ1N0YXRlLAoJdHlwZSBUYWJsZU9wdGlvbnMsCgl1c2VSZWFjdFRhYmxlLAp9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC10YWJsZSc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9jaGVja2JveCc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9pY29ucyc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKZGVjbGFyZSBtb2R1bGUgJ0B0YW5zdGFjay9yZWFjdC10YWJsZScgewoJLy8gQWxsb3cgY29uc3VtZXJzIHRvIGNvbmZpZ3VyZSBwcmVzZW50YXRpb24gZGV0YWlscyBvbiBjb2x1bW4gZGVmaW5pdGlvbnMuCglpbnRlcmZhY2UgQ29sdW1uTWV0YTxURGF0YSwgVFZhbHVlPiB7CgkJYWxpZ24/OiAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCc7CgkJd2lkdGg/OiBudW1iZXIgfCBzdHJpbmc7CgkJbWluV2lkdGg/OiBudW1iZXIgfCBzdHJpbmc7CgkJbWF4V2lkdGg/OiBudW1iZXIgfCBzdHJpbmc7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCWhlYWRlckNsYXNzTmFtZT86IHN0cmluZzsKCQloZWFkZXJUb29sdGlwPzogc3RyaW5nOwoJCS8qKgoJCSAqIFBoYW50b20gYnJhbmQgdG8gcmVmZXJlbmNlIGdlbmVyaWNzIGFuZCBzYXRpc2Z5IHR5cGUgY2hlY2tlcnMuCgkJICogTm90IGZvciBwdWJsaWMgdXNlLgoJCSAqLwoJCXJlYWRvbmx5IF9fbWV0YUdlbmVyaWNzQnJhbmRfXz86IHsKCQkJcmVhZG9ubHkgZGF0YT86IFREYXRhOwoJCQlyZWFkb25seSB2YWx1ZT86IFRWYWx1ZTsKCQl9OwoJfQp9Cgpjb25zdCB0YWJsZVZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkJywKCQkncm91bmRlZC1sZyBzaGFkb3ctbWQnLAoJCSdub3QtcHJvc2UnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQlkZW5zaXR5OiB7CgkJCQljb21mb3J0YWJsZTogJ3RleHQtc20nLAoJCQkJY29tcGFjdDogJ3RleHQteHMnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCWRlbnNpdHk6ICdjb21mb3J0YWJsZScsCgkJfSwKCX0sCik7Cgpjb25zdCBoZWFkZXJDZWxsVmFyaWFudHMgPSBjdmEoCglbCgkJJ2ZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtbGcgcC00IHRleHQteHMgZm9udC1tZWRpdW0gdHJhY2tpbmctd2lkZSB1cHBlcmNhc2UnLAoJCSd0ZXh0LWZvcmVncm91bmQvNzAnLAoJCSd0cmFuc2l0aW9uLVtib3gtc2hhZG93LGNvbG9yXSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYycsCgkJJ2ZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJJ25vdC1wcm9zZSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJYWxpZ246IHsKCQkJCWxlZnQ6ICdqdXN0aWZ5LXN0YXJ0IHRleHQtbGVmdCcsCgkJCQljZW50ZXI6ICdqdXN0aWZ5LWNlbnRlciB0ZXh0LWNlbnRlcicsCgkJCQlyaWdodDogJ2p1c3RpZnktZW5kIHRleHQtcmlnaHQnLAoJCQl9LAoJCQlzb3J0YWJsZTogewoJCQkJdHJ1ZTogJ2N1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtZm9yZWdyb3VuZCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCXNvcnRlZDogewoJCQkJYXNjOiAndGV4dC1mb3JlZ3JvdW5kJywKCQkJCWRlc2M6ICd0ZXh0LWZvcmVncm91bmQnLAoJCQkJbm9uZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJYWxpZ246ICdsZWZ0JywKCQkJc29ydGFibGU6IGZhbHNlLAoJCQlzb3J0ZWQ6ICdub25lJywKCQl9LAoJfSwKKTsKCmNvbnN0IGNlbGxWYXJpYW50cyA9IGN2YShbJ3B4LTQgcHktMyB0ZXh0LWZvcmVncm91bmQnLCAnd2hpdGVzcGFjZS1ub3dyYXAnXSwgewoJdmFyaWFudHM6IHsKCQlhbGlnbjogewoJCQlsZWZ0OiAndGV4dC1sZWZ0JywKCQkJY2VudGVyOiAndGV4dC1jZW50ZXInLAoJCQlyaWdodDogJ3RleHQtcmlnaHQnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJYWxpZ246ICdsZWZ0JywKCX0sCn0pOwoKY29uc3Qgcm93VmFyaWFudHMgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIGdyaWQgaXRlbXMtY2VudGVyJywKCQkndHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixib3gtc2hhZG93XSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYycsCgkJJ2JvcmRlci1iIGJvcmRlci1ib3JkZXIvNjAgbGFzdDpib3JkZXItMCcsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNlbGVjdGVkOiB7CgkJCQl0cnVlOiAnYmctY2FyZC1tdXRlZCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWFjdGl2ZTogewoJCQkJdHJ1ZTogJ3otMTAgZm9jdXMtdmlzaWJsZTp6LTEwIGZvY3VzLXZpc2libGU6cm91bmRlZC1sZyBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2VsZWN0ZWQ6IGZhbHNlLAoJCQlhY3RpdmU6IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgY29tcG9zaXRlT3B0aW9ucyA9IHsKCW9yaWVudGF0aW9uOiAndmVydGljYWwnIGFzIGNvbnN0LAoJZm9jdXNMb29wOiBmYWxzZSwKfTsKCmZ1bmN0aW9uIHJlc29sdmVVcGRhdGVyPFQ+KHVwZGF0ZXI6IFQgfCAoKG9sZDogVCkgPT4gVCksIHByZXZpb3VzOiBUKTogVCB7CglyZXR1cm4gdHlwZW9mIHVwZGF0ZXIgPT09ICdmdW5jdGlvbicKCQk/ICh1cGRhdGVyIGFzIChvbGQ6IFQpID0+IFQpKHByZXZpb3VzKQoJCTogdXBkYXRlcjsKfQoKZXhwb3J0IGludGVyZmFjZSBUYWJsZVByb3BzPFREYXRhPgoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiB0YWJsZVZhcmlhbnRzPiB7Cgljb2x1bW5zOiBDb2x1bW5EZWY8VERhdGEsIHVua25vd24+W107CglkYXRhOiBURGF0YVtdOwoJZW5hYmxlU29ydGluZz86IGJvb2xlYW47CgllbmFibGVSb3dTZWxlY3Rpb24/OiBib29sZWFuOwoJYWN0aXZlUm93SWQ/OiBzdHJpbmc7CglvbkFjdGl2ZVJvd0NoYW5nZT86IChyb3dJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkOwoJb25Sb3dDbGljaz86IChyb3c6IFJvdzxURGF0YT4pID0+IHZvaWQ7Cglpbml0aWFsU29ydGluZz86IFNvcnRpbmdTdGF0ZTsKCXNvcnRpbmdTdGF0ZT86IFNvcnRpbmdTdGF0ZTsKCW9uU29ydGluZ0NoYW5nZT86IChzb3J0aW5nOiBTb3J0aW5nU3RhdGUpID0+IHZvaWQ7Cglyb3dTZWxlY3Rpb25TdGF0ZT86IFJvd1NlbGVjdGlvblN0YXRlOwoJb25Sb3dTZWxlY3Rpb25DaGFuZ2U/OiAoc3RhdGU6IFJvd1NlbGVjdGlvblN0YXRlKSA9PiB2b2lkOwoJb25TZWxlY3RlZFJvd3NDaGFuZ2U/OiAocm93czogUm93PFREYXRhPltdKSA9PiB2b2lkOwoJZW1wdHlTdGF0ZT86IFJlYWN0LlJlYWN0Tm9kZTsKCWdldFJvd0lkPzogKG9yaWdpbmFsUm93OiBURGF0YSwgaW5kZXg6IG51bWJlciwgcGFyZW50PzogUm93PFREYXRhPikgPT4gc3RyaW5nOwp9CgpleHBvcnQgZnVuY3Rpb24gVGFibGU8VERhdGE+KHsKCWNvbHVtbnMsCglkYXRhLAoJZW5hYmxlU29ydGluZyA9IHRydWUsCgllbmFibGVSb3dTZWxlY3Rpb24gPSBmYWxzZSwKCWRlbnNpdHksCgljbGFzc05hbWUgPSAnJywKCW9uUm93Q2xpY2ssCglpbml0aWFsU29ydGluZyA9IFtdLAoJc29ydGluZ1N0YXRlLAoJb25Tb3J0aW5nQ2hhbmdlLAoJcm93U2VsZWN0aW9uU3RhdGUsCglvblJvd1NlbGVjdGlvbkNoYW5nZSwKCW9uU2VsZWN0ZWRSb3dzQ2hhbmdlLAoJZW1wdHlTdGF0ZSwKCWFjdGl2ZVJvd0lkLAoJb25BY3RpdmVSb3dDaGFuZ2UsCglnZXRSb3dJZCwKCS4uLnByb3BzCn06IFRhYmxlUHJvcHM8VERhdGE+KSB7Cgljb25zdCBpc1NvcnRpbmdDb250cm9sbGVkID0gc29ydGluZ1N0YXRlICE9PSB1bmRlZmluZWQ7Cgljb25zdCBbaW50ZXJuYWxTb3J0aW5nLCBzZXRJbnRlcm5hbFNvcnRpbmddID0KCQlSZWFjdC51c2VTdGF0ZTxTb3J0aW5nU3RhdGU+KGluaXRpYWxTb3J0aW5nKTsKCWNvbnN0IHNvcnRpbmcgPSBpc1NvcnRpbmdDb250cm9sbGVkID8gc29ydGluZ1N0YXRlIDogaW50ZXJuYWxTb3J0aW5nOwoKCWNvbnN0IGlzUm93U2VsZWN0aW9uQ29udHJvbGxlZCA9IHJvd1NlbGVjdGlvblN0YXRlICE9PSB1bmRlZmluZWQ7Cgljb25zdCBbaW50ZXJuYWxSb3dTZWxlY3Rpb24sIHNldEludGVybmFsUm93U2VsZWN0aW9uXSA9CgkJUmVhY3QudXNlU3RhdGU8Um93U2VsZWN0aW9uU3RhdGU+KHt9KTsKCWNvbnN0IHJvd1NlbGVjdGlvbiA9IGlzUm93U2VsZWN0aW9uQ29udHJvbGxlZAoJCT8gcm93U2VsZWN0aW9uU3RhdGUKCQk6IGludGVybmFsUm93U2VsZWN0aW9uOwoKCWNvbnN0IGF1Z21lbnRlZENvbHVtbnMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQlpZiAoIWVuYWJsZVJvd1NlbGVjdGlvbikgewoJCQlyZXR1cm4gY29sdW1uczsKCQl9CgoJCWNvbnN0IHNlbGVjdGlvbkNvbHVtbjogQ29sdW1uRGVmPFREYXRhLCB1bmtub3duPiA9IHsKCQkJaWQ6ICdfX3NlbGVjdGlvbl9fJywKCQkJZW5hYmxlU29ydGluZzogZmFsc2UsCgkJCWVuYWJsZUhpZGluZzogZmFsc2UsCgkJCWhlYWRlcjogKHsgdGFibGUgfSkgPT4gewoJCQkJcmV0dXJuICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBqdXN0aWZ5LWNlbnRlciBwLTEiPgoJCQkJCQk8Q2hlY2tib3gKCQkJCQkJCWFyaWEtbGFiZWw9IlNlbGVjdCBhbGwgcm93cyIKCQkJCQkJCXNpemU9InNtIgoJCQkJCQkJY2hlY2tlZD17dGFibGUuZ2V0SXNBbGxSb3dzU2VsZWN0ZWQoKX0KCQkJCQkJCW9uQ2hlY2tlZENoYW5nZT17KHZhbHVlKSA9PgoJCQkJCQkJCXRhYmxlLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZChCb29sZWFuKHZhbHVlKSkKCQkJCQkJCX0KCQkJCQkJLz4KCQkJCQk8L2Rpdj4KCQkJCSk7CgkJCX0sCgkJCWNlbGw6ICh7IHJvdyB9KSA9PiB7CgkJCQlyZXR1cm4gKAoJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktY2VudGVyIHAtMSI+CgkJCQkJCTxDaGVja2JveAoJCQkJCQkJYXJpYS1sYWJlbD0iU2VsZWN0IHJvdyIKCQkJCQkJCXNpemU9InNtIgoJCQkJCQkJZGlzYWJsZWQ9eyFyb3cuZ2V0Q2FuU2VsZWN0KCl9CgkJCQkJCQljaGVja2VkPXtyb3cuZ2V0SXNTZWxlY3RlZCgpfQoJCQkJCQkJb25DaGVja2VkQ2hhbmdlPXsodmFsdWUpID0+IHJvdy50b2dnbGVTZWxlY3RlZChCb29sZWFuKHZhbHVlKSl9CgkJCQkJCS8+CgkJCQkJPC9kaXY+CgkJCQkpOwoJCQl9LAoJCQltZXRhOiB7CgkJCQlhbGlnbjogJ2NlbnRlcicsCgkJCQl3aWR0aDogJzQ4cHgnLAoJCQkJaGVhZGVyQ2xhc3NOYW1lOiAncHgtMicsCgkJCQljbGFzc05hbWU6ICdweC0yJywKCQkJfSwKCQl9OwoKCQlyZXR1cm4gW3NlbGVjdGlvbkNvbHVtbiwgLi4uY29sdW1uc107Cgl9LCBbY29sdW1ucywgZW5hYmxlUm93U2VsZWN0aW9uXSk7CgoJY29uc3QgdGFibGVPcHRpb25zOiBUYWJsZU9wdGlvbnM8VERhdGE+ID0gewoJCWNvbHVtbnM6IGF1Z21lbnRlZENvbHVtbnMsCgkJZGF0YSwKCQlzdGF0ZTogewoJCQlzb3J0aW5nLAoJCQlyb3dTZWxlY3Rpb24sCgkJfSwKCQllbmFibGVTb3J0aW5nLAoJCWVuYWJsZVJvd1NlbGVjdGlvbiwKCQlvblNvcnRpbmdDaGFuZ2U6ICh1cGRhdGVyKSA9PiB7CgkJCWNvbnN0IG5leHQgPSByZXNvbHZlVXBkYXRlcih1cGRhdGVyLCBzb3J0aW5nKTsKCQkJaWYgKCFpc1NvcnRpbmdDb250cm9sbGVkKSB7CgkJCQlzZXRJbnRlcm5hbFNvcnRpbmcobmV4dCk7CgkJCX0KCQkJb25Tb3J0aW5nQ2hhbmdlPy4obmV4dCk7CgkJfSwKCQlvblJvd1NlbGVjdGlvbkNoYW5nZTogKHVwZGF0ZXIpID0+IHsKCQkJY29uc3QgbmV4dCA9IHJlc29sdmVVcGRhdGVyKHVwZGF0ZXIsIHJvd1NlbGVjdGlvbik7CgkJCWlmICghaXNSb3dTZWxlY3Rpb25Db250cm9sbGVkKSB7CgkJCQlzZXRJbnRlcm5hbFJvd1NlbGVjdGlvbihuZXh0KTsKCQkJfQoJCQlvblJvd1NlbGVjdGlvbkNoYW5nZT8uKG5leHQpOwoJCX0sCgkJZ2V0Q29yZVJvd01vZGVsOiBnZXRDb3JlUm93TW9kZWwoKSwKCX07CgoJaWYgKGdldFJvd0lkKSB7CgkJdGFibGVPcHRpb25zLmdldFJvd0lkID0gZ2V0Um93SWQ7Cgl9CgoJaWYgKGVuYWJsZVNvcnRpbmcpIHsKCQl0YWJsZU9wdGlvbnMuZ2V0U29ydGVkUm93TW9kZWwgPSBnZXRTb3J0ZWRSb3dNb2RlbCgpOwoJfQoKCWNvbnN0IHRhYmxlID0gdXNlUmVhY3RUYWJsZSh0YWJsZU9wdGlvbnMpOwoKCS8qIGJpb21lLWlnbm9yZSBsaW50L2NvcnJlY3RuZXNzL3VzZUV4aGF1c3RpdmVEZXBlbmRlbmNpZXM6IHJvdyBzZWxlY3Rpb24gY2FsbGJhY2sgbXVzdCBydW4gd2hlbiBzZWxlY3Rpb24gY2hhbmdlcyAqLwoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIW9uU2VsZWN0ZWRSb3dzQ2hhbmdlKSByZXR1cm47CgkJY29uc3Qgc2VsZWN0ZWRSb3dzID0gdGFibGUKCQkJLmdldFNlbGVjdGVkUm93TW9kZWwoKQoJCQkucm93cy5tYXAoKHRhYmxlUm93KSA9PiB0YWJsZVJvdyk7CgkJb25TZWxlY3RlZFJvd3NDaGFuZ2Uoc2VsZWN0ZWRSb3dzKTsKCX0sIFt0YWJsZSwgb25TZWxlY3RlZFJvd3NDaGFuZ2UsIHJvd1NlbGVjdGlvbl0pOwoKCWNvbnN0IGNvbXBvc2l0ZSA9IEFyaWFraXQudXNlQ29tcG9zaXRlU3RvcmUoewoJCS4uLmNvbXBvc2l0ZU9wdGlvbnMsCgkJZGVmYXVsdEFjdGl2ZUlkOiBudWxsLAoJfSk7Cgljb25zdCBhY3RpdmVDb21wb3NpdGVJZCA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShjb21wb3NpdGUsICdhY3RpdmVJZCcpOwoJY29uc3QgdGFibGVSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwoKCWNvbnN0IHZpc2libGVDb2x1bW5zID0gdGFibGUuZ2V0VmlzaWJsZUxlYWZDb2x1bW5zKCk7Cgljb25zdCBncmlkVGVtcGxhdGVDb2x1bW5zID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJcmV0dXJuIHZpc2libGVDb2x1bW5zCgkJCS5tYXAoKGNvbHVtbikgPT4gewoJCQkJY29uc3QgbWV0YSA9IGNvbHVtbi5jb2x1bW5EZWYubWV0YSBhcwoJCQkJCXwgQ29sdW1uTWV0YTxURGF0YSwgdW5rbm93bj4KCQkJCQl8IHVuZGVmaW5lZDsKCQkJCWNvbnN0IHdpZHRoID0gbWV0YT8ud2lkdGg7CgkJCQlpZiAodHlwZW9mIHdpZHRoID09PSAnbnVtYmVyJykgewoJCQkJCXJldHVybiBgbWlubWF4KCR7d2lkdGh9cHgsICR7d2lkdGh9cHgpYDsKCQkJCX0KCQkJCWlmICh0eXBlb2Ygd2lkdGggPT09ICdzdHJpbmcnKSB7CgkJCQkJcmV0dXJuIHdpZHRoOwoJCQkJfQoJCQkJcmV0dXJuICdtaW5tYXgoMCwgMWZyKSc7CgkJCX0pCgkJCS5qb2luKCcgJyk7Cgl9LCBbdmlzaWJsZUNvbHVtbnNdKTsKCgljb25zdCByb3dzID0gdGFibGUuZ2V0Um93TW9kZWwoKS5yb3dzOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKGFjdGl2ZVJvd0lkICE9PSB1bmRlZmluZWQpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29tcG9zaXRlLnNldEFjdGl2ZUlkKG51bGwpOwoJfSwgW2FjdGl2ZVJvd0lkLCBjb21wb3NpdGVdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmIChyb3dzLmxlbmd0aCA9PT0gMCkgewoJCQlyZXR1cm47CgkJfQoKCQljb25zdCByZXNvbHZlQ29tcG9zaXRlSWQgPSAocm93SWQ6IHN0cmluZykgPT4gYHJvdy0ke3Jvd0lkfWA7CgoJCWlmIChhY3RpdmVSb3dJZCAhPT0gdW5kZWZpbmVkKSB7CgkJCWNvbnN0IGNvbnRyb2xsZWRJZCA9IHJlc29sdmVDb21wb3NpdGVJZChhY3RpdmVSb3dJZCk7CgkJCWlmIChhY3RpdmVDb21wb3NpdGVJZCAhPT0gY29udHJvbGxlZElkKSB7CgkJCQljb21wb3NpdGUuc2V0QWN0aXZlSWQoY29udHJvbGxlZElkKTsKCQkJfQoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBmYWxsYmFja0lkID0gcm93c1swXT8uaWQ7CgkJaWYgKCFmYWxsYmFja0lkKSB7CgkJCXJldHVybjsKCQl9CgoJCWlmICghYWN0aXZlQ29tcG9zaXRlSWQpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgaXNBY3RpdmVSb3dQcmVzZW50ID0gcm93cy5zb21lKAoJCQkocm93KSA9PiByZXNvbHZlQ29tcG9zaXRlSWQocm93LmlkKSA9PT0gYWN0aXZlQ29tcG9zaXRlSWQsCgkJKTsKCQlpZiAoIWlzQWN0aXZlUm93UHJlc2VudCkgewoJCQljb21wb3NpdGUuc2V0QWN0aXZlSWQocmVzb2x2ZUNvbXBvc2l0ZUlkKGZhbGxiYWNrSWQpKTsKCQl9Cgl9LCBbYWN0aXZlUm93SWQsIHJvd3MsIGNvbXBvc2l0ZSwgYWN0aXZlQ29tcG9zaXRlSWRdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICghb25BY3RpdmVSb3dDaGFuZ2UpIHJldHVybjsKCQljb25zdCByZXNvbHZlZElkID0gYWN0aXZlQ29tcG9zaXRlSWQ/LnJlcGxhY2UoL15yb3ctLywgJycpOwoJCW9uQWN0aXZlUm93Q2hhbmdlKHJlc29sdmVkSWQpOwoJfSwgW2FjdGl2ZUNvbXBvc2l0ZUlkLCBvbkFjdGl2ZVJvd0NoYW5nZV0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKGFjdGl2ZVJvd0lkICE9PSB1bmRlZmluZWQpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgaGFuZGxlUG9pbnRlckRvd24gPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4gewoJCQljb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgTm9kZSB8IG51bGw7CgkJCWlmICghdGFyZ2V0KSByZXR1cm47CgkJCWlmICghdGFibGVSZWYuY3VycmVudD8uY29udGFpbnModGFyZ2V0KSkgewoJCQkJY29tcG9zaXRlLnNldEFjdGl2ZUlkKG51bGwpOwoJCQl9CgkJfTsKCgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBoYW5kbGVQb2ludGVyRG93bik7CgkJcmV0dXJuICgpID0+IHsKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBoYW5kbGVQb2ludGVyRG93bik7CgkJfTsKCX0sIFthY3RpdmVSb3dJZCwgY29tcG9zaXRlXSk7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17dGFibGVSZWZ9CgkJCWNsYXNzTmFtZT17Y24odGFibGVWYXJpYW50cyh7IGRlbnNpdHkgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXt0YWJsZS5nZXRIZWFkZXJHcm91cHMoKS5tYXAoKGhlYWRlckdyb3VwKSA9PiAoCgkJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L3VzZVNlbWFudGljRWxlbWVudHM6IFVzaW5nIGRpdi1iYXNlZCBncmlkIHN0cnVjdHVyZSBmb3IgcmVzcG9uc2l2ZSBsYXlvdXQgKi8KCQkJCTxkaXYKCQkJCQlrZXk9e2hlYWRlckdyb3VwLmlkfQoJCQkJCXJvbGU9InJvdyIKCQkJCQljbGFzc05hbWU9ImdyaWQgYm9yZGVyLWIgYm9yZGVyLWJvcmRlci82MCBiZy1jYXJkLW11dGVkLzUwIGRhcms6YmctY2FyZC1tdXRlZC8zMCIKCQkJCQlzdHlsZT17eyBncmlkVGVtcGxhdGVDb2x1bW5zIH19CgkJCQkJdGFiSW5kZXg9ey0xfQoJCQkJPgoJCQkJCXtoZWFkZXJHcm91cC5oZWFkZXJzLm1hcCgoaGVhZGVyKSA9PiB7CgkJCQkJCWlmIChoZWFkZXIuaXNQbGFjZWhvbGRlcikgewoJCQkJCQkJcmV0dXJuIDxkaXYga2V5PXtoZWFkZXIuaWR9IC8+OwoJCQkJCQl9CgoJCQkJCQljb25zdCBjb2x1bW4gPSBoZWFkZXIuY29sdW1uOwoJCQkJCQljb25zdCBtZXRhID0gY29sdW1uLmNvbHVtbkRlZi5tZXRhIGFzCgkJCQkJCQl8IENvbHVtbk1ldGE8VERhdGEsIHVua25vd24+CgkJCQkJCQl8IHVuZGVmaW5lZDsKCQkJCQkJY29uc3QgYWxpZ24gPSBtZXRhPy5hbGlnbiA/PyAnbGVmdCc7CgkJCQkJCWNvbnN0IGhlYWRlckNsYXNzTmFtZSA9IG1ldGE/LmhlYWRlckNsYXNzTmFtZTsKCQkJCQkJY29uc3Qgc29ydFN0YXRlUmF3ID0gY29sdW1uLmdldElzU29ydGVkKCk7CgkJCQkJCWNvbnN0IHNvcnRTdGF0ZVZhcmlhbnQ6ICdhc2MnIHwgJ2Rlc2MnIHwgJ25vbmUnID0KCQkJCQkJCXNvcnRTdGF0ZVJhdyA9PT0gJ2FzYycgfHwgc29ydFN0YXRlUmF3ID09PSAnZGVzYycKCQkJCQkJCQk/IHNvcnRTdGF0ZVJhdwoJCQkJCQkJCTogJ25vbmUnOwoJCQkJCQljb25zdCBjYW5Tb3J0ID0gZW5hYmxlU29ydGluZyAmJiBjb2x1bW4uZ2V0Q2FuU29ydCgpOwoKCQkJCQkJaWYgKCFjYW5Tb3J0KSB7CgkJCQkJCQlyZXR1cm4gKAoJCQkJCQkJCS8qIGJpb21lLWlnbm9yZSBsaW50L2ExMXkvdXNlU2VtYW50aWNFbGVtZW50czogVXNpbmcgZGl2IGZvciBmbGV4aWJsZSBjb2x1bW4gaGVhZGVyIGxheW91dCAqLwoJCQkJCQkJCTxkaXYKCQkJCQkJCQkJa2V5PXtoZWFkZXIuaWR9CgkJCQkJCQkJCXJvbGU9ImNvbHVtbmhlYWRlciIKCQkJCQkJCQkJdGl0bGU9e21ldGE/LmhlYWRlclRvb2x0aXB9CgkJCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJCQloZWFkZXJDZWxsVmFyaWFudHMoewoJCQkJCQkJCQkJCWFsaWduLAoJCQkJCQkJCQkJCXNvcnRhYmxlOiBmYWxzZSwKCQkJCQkJCQkJCQlzb3J0ZWQ6ICdub25lJywKCQkJCQkJCQkJCX0pLAoJCQkJCQkJCQkJaGVhZGVyQ2xhc3NOYW1lLAoJCQkJCQkJCQkpfQoJCQkJCQkJCQl0YWJJbmRleD17LTF9CgkJCQkJCQkJPgoJCQkJCQkJCQk8c3BhbiBjbGFzc05hbWU9InRydW5jYXRlIHRleHQteHMgZm9udC1tZWRpdW0iPgoJCQkJCQkJCQkJe2ZsZXhSZW5kZXIoCgkJCQkJCQkJCQkJaGVhZGVyLmNvbHVtbi5jb2x1bW5EZWYuaGVhZGVyLAoJCQkJCQkJCQkJCWhlYWRlci5nZXRDb250ZXh0KCksCgkJCQkJCQkJCQkpfQoJCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJPC9kaXY+CgkJCQkJCQkpOwoJCQkJCQl9CgoJCQkJCQlyZXR1cm4gKAoJCQkJCQkJLyogYmlvbWUtaWdub3JlIGxpbnQvYTExeS91c2VTZW1hbnRpY0VsZW1lbnRzOiBTb3J0aW5nIHRvZ2dsZSBuZWVkcyBidXR0b24gc2VtYW50aWNzICovCgkJCQkJCQk8YnV0dG9uCgkJCQkJCQkJa2V5PXtoZWFkZXIuaWR9CgkJCQkJCQkJdHlwZT0iYnV0dG9uIgoJCQkJCQkJCXJvbGU9ImNvbHVtbmhlYWRlciIKCQkJCQkJCQl0aXRsZT17bWV0YT8uaGVhZGVyVG9vbHRpcH0KCQkJCQkJCQlvbkNsaWNrPXtjb2x1bW4uZ2V0VG9nZ2xlU29ydGluZ0hhbmRsZXIoKX0KCQkJCQkJCQlhcmlhLXNvcnQ9ewoJCQkJCQkJCQlzb3J0U3RhdGVSYXcgPT09ICdhc2MnCgkJCQkJCQkJCQk/ICdhc2NlbmRpbmcnCgkJCQkJCQkJCQk6IHNvcnRTdGF0ZVJhdyA9PT0gJ2Rlc2MnCgkJCQkJCQkJCQkJPyAnZGVzY2VuZGluZycKCQkJCQkJCQkJCQk6ICdub25lJwoJCQkJCQkJCX0KCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQloZWFkZXJDZWxsVmFyaWFudHMoewoJCQkJCQkJCQkJYWxpZ24sCgkJCQkJCQkJCQlzb3J0YWJsZTogdHJ1ZSwKCQkJCQkJCQkJCXNvcnRlZDogc29ydFN0YXRlVmFyaWFudCwKCQkJCQkJCQkJfSksCgkJCQkJCQkJCWhlYWRlckNsYXNzTmFtZSwKCQkJCQkJCQkpfQoJCQkJCQkJPgoJCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0idHJ1bmNhdGUgdGV4dC14cyBmb250LW1lZGl1bSI+CgkJCQkJCQkJCXtmbGV4UmVuZGVyKAoJCQkJCQkJCQkJaGVhZGVyLmNvbHVtbi5jb2x1bW5EZWYuaGVhZGVyLAoJCQkJCQkJCQkJaGVhZGVyLmdldENvbnRleHQoKSwKCQkJCQkJCQkJKX0KCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJtbC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KCQkJCQkJCQkJPEljb25zLkNhcmV0U29ydAoJCQkJCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCQkJCQljbGFzc05hbWU9ImgtMy41IHctMy41IHRleHQtZm9yZWdyb3VuZC83MCIKCQkJCQkJCQkJLz4KCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQk8L2J1dHRvbj4KCQkJCQkJKTsKCQkJCQl9KX0KCQkJCTwvZGl2PgoJCQkpKX0KCgkJCTxBcmlha2l0LkNvbXBvc2l0ZQoJCQkJc3RvcmU9e2NvbXBvc2l0ZX0KCQkJCXJvbGU9ImdyaWQiCgkJCQlhcmlhLXJvd2NvdW50PXtyb3dzLmxlbmd0aH0KCQkJCWFyaWEtY29sY291bnQ9e3Zpc2libGVDb2x1bW5zLmxlbmd0aH0KCQkJCWNsYXNzTmFtZT0icm91bmRlZC1sZyBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSIKCQkJPgoJCQkJe3Jvd3MubGVuZ3RoID09PSAwICYmICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT0icHgtNiBweS0xMCB0ZXh0LWNlbnRlciB0ZXh0LWZvcmVncm91bmQvNzAiPgoJCQkJCQl7ZW1wdHlTdGF0ZSA/PyAnTm8gZGF0YSBhdmFpbGFibGUnfQoJCQkJCTwvZGl2PgoJCQkJKX0KCgkJCQl7cm93cy5tYXAoKHJvdykgPT4gewoJCQkJCWNvbnN0IHJvd01ldGFJZCA9IGByb3ctJHtyb3cuaWR9YDsKCQkJCQljb25zdCBpc0FjdGl2ZSA9IGFjdGl2ZUNvbXBvc2l0ZUlkID09PSByb3dNZXRhSWQ7CgkJCQkJcmV0dXJuICgKCQkJCQkJPEFyaWFraXQuQ29tcG9zaXRlSXRlbQoJCQkJCQkJa2V5PXtyb3cuaWR9CgkJCQkJCQlpZD17cm93TWV0YUlkfQoJCQkJCQkJcm9sZT0icm93IgoJCQkJCQkJZm9jdXNhYmxlCgkJCQkJCQlkYXRhLXJvdy1pZD17cm93LmlkfQoJCQkJCQkJYXJpYS1zZWxlY3RlZD17cm93LmdldElzU2VsZWN0ZWQoKSB8fCB1bmRlZmluZWR9CgkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCXJvd1ZhcmlhbnRzKHsKCQkJCQkJCQkJc2VsZWN0ZWQ6IHJvdy5nZXRJc1NlbGVjdGVkKCksCgkJCQkJCQkJCWFjdGl2ZTogaXNBY3RpdmUsCgkJCQkJCQkJfSksCgkJCQkJCQkpfQoJCQkJCQkJb25DbGljaz17KCkgPT4gb25Sb3dDbGljaz8uKHJvdyl9CgkJCQkJCQlvbktleURvd249eyhldmVudCkgPT4gewoJCQkJCQkJCWlmICghb25Sb3dDbGljaykgcmV0dXJuOwoJCQkJCQkJCWlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHsKCQkJCQkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQkJCQkJb25Sb3dDbGljayhyb3cpOwoJCQkJCQkJCX0KCQkJCQkJCX19CgkJCQkJCQlyZW5kZXI9eyhpdGVtUHJvcHMpID0+ICgKCQkJCQkJCQk8ZGl2CgkJCQkJCQkJCXsuLi5pdGVtUHJvcHN9CgkJCQkJCQkJCXN0eWxlPXt7IC4uLml0ZW1Qcm9wcy5zdHlsZSwgZ3JpZFRlbXBsYXRlQ29sdW1ucyB9fQoJCQkJCQkJCT4KCQkJCQkJCQkJe3Jvdy5nZXRWaXNpYmxlQ2VsbHMoKS5tYXAoKGNlbGwpID0+IHsKCQkJCQkJCQkJCWNvbnN0IG1ldGEgPSBjZWxsLmNvbHVtbi5jb2x1bW5EZWYubWV0YSBhcwoJCQkJCQkJCQkJCXwgQ29sdW1uTWV0YTxURGF0YSwgdW5rbm93bj4KCQkJCQkJCQkJCQl8IHVuZGVmaW5lZDsKCQkJCQkJCQkJCWNvbnN0IGFsaWduID0gbWV0YT8uYWxpZ24gPz8gJ2xlZnQnOwoKCQkJCQkJCQkJCXJldHVybiAoCgkJCQkJCQkJCQkJLyogYmlvbWUtaWdub3JlIGxpbnQvYTExeS91c2VTZW1hbnRpY0VsZW1lbnRzOiBVc2luZyBkaXYgZ3JpZGNlbGxzIGZvciBsYXlvdXQgZmxleGliaWxpdHkgKi8KCQkJCQkJCQkJCQk8ZGl2CgkJCQkJCQkJCQkJCWtleT17Y2VsbC5pZH0KCQkJCQkJCQkJCQkJcm9sZT0iZ3JpZGNlbGwiCgkJCQkJCQkJCQkJCWNsYXNzTmFtZT17Y24oY2VsbFZhcmlhbnRzKHsgYWxpZ24gfSksIG1ldGE/LmNsYXNzTmFtZSl9CgkJCQkJCQkJCQkJCXRhYkluZGV4PXstMX0KCQkJCQkJCQkJCQk+CgkJCQkJCQkJCQkJCXtmbGV4UmVuZGVyKAoJCQkJCQkJCQkJCQkJY2VsbC5jb2x1bW4uY29sdW1uRGVmLmNlbGwsCgkJCQkJCQkJCQkJCQljZWxsLmdldENvbnRleHQoKSwKCQkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCSk7CgkJCQkJCQkJCX0pfQoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJKX0KCQkJCQkJLz4KCQkJCQkpOwoJCQkJfSl9CgkJCTwvQXJpYWtpdC5Db21wb3NpdGU+CgkJPC9kaXY+CgkpOwp9CgpleHBvcnQgeyB0YWJsZVZhcmlhbnRzIH07CmV4cG9ydCB0eXBlIHsgQ29sdW1uRGVmLCBSb3cgfTs="
,
  "file-upload.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2FwcC9jb21wb25lbnRzL3VpL2ljb25zJzsKaW1wb3J0IHsgU3Bpbm5lciB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvc3Bpbm5lcic7CgppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IGZpbGVVcGxvYWRWYXJpYW50cyA9IGN2YSgKCVsKCQkncmVsYXRpdmUgYm9yZGVyIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvdyxzY2FsZV0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMnLAoJCSdmb2N1cy13aXRoaW46cmluZy0xIGZvY3VzLXdpdGhpbjpyaW5nLW9mZnNldC0xIGZvY3VzLXdpdGhpbjpvdXRsaW5lLW5vbmUnLAoJCSdmb2N1cy13aXRoaW46cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAnLAoJCSdmb2N1cy13aXRoaW46cmluZy1yaW5nLzUwJywKCQkncm91bmRlZC1sZycsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6ICdiZy1jYXJkIGJvcmRlci1kYXNoZWQgYm9yZGVyLWJvcmRlcicsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAndy1zbSBwLTQnLAoJCQkJbWQ6ICd3LW1kIHAtNicsCgkJCQlsZzogJ3ctbGcgcC04JywKCQkJfSwKCQkJc3RhdGU6IHsKCQkJCWlkbGU6ICcnLAoJCQkJZHJhZ292ZXI6IFsnYm9yZGVyLWJhY2tncm91bmQtc3VidGxlJywgJ2JnLWNhcmQnLCAnc2NhbGUtWzEuMDJdJ10sCgkJCQllcnJvcjogWydib3JkZXItZGVzdHJ1Y3RpdmUvNDAnLCAnYmctcmVkLTUwIGRhcms6YmctcmVkLTkwMC8yMCddLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQkJc3RhdGU6ICdpZGxlJywKCQl9LAoJfSwKKTsKCmNvbnN0IGZpbGVJdGVtVmFyaWFudHMgPSBjdmEoCglbJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtbGcgYm9yZGVyIHAtMyBiZy1jYXJkIGJvcmRlci1ib3JkZXInXSwKCXsKCQl2YXJpYW50czogewoJCQlzdGF0dXM6IHsKCQkJCXBlbmRpbmc6ICcnLAoJCQkJdXBsb2FkaW5nOiAnJywKCQkJCXN1Y2Nlc3M6ICcnLAoJCQkJZXJyb3I6ICcnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ21heC13LXNtJywKCQkJCW1kOiAnbWF4LXctbWQnLAoJCQkJbGc6ICdtYXgtdy1sZycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc3RhdHVzOiAncGVuZGluZycsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIEZpbGVVcGxvYWRGaWxlIHsKCWlkOiBzdHJpbmc7CglmaWxlOiBGaWxlOwoJcHJldmlldz86IHN0cmluZzsKCXByb2dyZXNzPzogbnVtYmVyOwoJc3RhdHVzOiAncGVuZGluZycgfCAndXBsb2FkaW5nJyB8ICdzdWNjZXNzJyB8ICdlcnJvcic7CgllcnJvcj86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBGaWxlVXBsb2FkUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8J2Rpdic+LCAnb25DaGFuZ2UnPiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGZpbGVVcGxvYWRWYXJpYW50cz4gewoJbXVsdGlwbGU/OiBib29sZWFuOwoJYWNjZXB0Pzogc3RyaW5nOwoJbWF4U2l6ZT86IG51bWJlcjsKCW1heEZpbGVzPzogbnVtYmVyOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJZmlsZXM/OiBGaWxlVXBsb2FkRmlsZVtdOwoJb25GaWxlc0NoYW5nZT86IChmaWxlczogRmlsZVVwbG9hZEZpbGVbXSkgPT4gdm9pZDsKCW9uVXBsb2FkPzogKGZpbGVzOiBGaWxlVXBsb2FkRmlsZVtdKSA9PiBQcm9taXNlPHZvaWQ+OwoJc2hvd1Byb2dyZXNzPzogYm9vbGVhbjsKCXNob3dQcmV2aWV3PzogYm9vbGVhbjsKCXVwbG9hZFRleHQ/OiBzdHJpbmc7CglkcmFnVGV4dD86IHN0cmluZzsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBGaWxlVXBsb2FkWm9uZVByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCdidXR0b24nPiwgJ29uQ2hhbmdlJz4gewoJb25GaWxlc1NlbGVjdDogKGZpbGVzOiBGaWxlW10pID0+IHZvaWQ7CglhY2NlcHQ/OiBzdHJpbmc7CgltdWx0aXBsZT86IGJvb2xlYW47CglkaXNhYmxlZD86IGJvb2xlYW47CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgaW50ZXJmYWNlIEZpbGVVcGxvYWRJdGVtUHJvcHMgewoJZmlsZTogRmlsZVVwbG9hZEZpbGU7CglzaG93UHJldmlldz86IGJvb2xlYW47CglvblJlbW92ZT86IChpZDogc3RyaW5nKSA9PiB2b2lkOwoJc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJzsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBGaWxlVXBsb2FkUHJvZ3Jlc3NQcm9wcyB7Cglwcm9ncmVzczogbnVtYmVyOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgpjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChieXRlczogbnVtYmVyKTogc3RyaW5nID0+IHsKCWlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEJ5dGVzJzsKCWNvbnN0IGsgPSAxMDI0OwoJY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ107Cgljb25zdCBpID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSk7CglyZXR1cm4gYCR7cGFyc2VGbG9hdCgoYnl0ZXMgLyBrICoqIGkpLnRvRml4ZWQoMikpfSAke3NpemVzW2ldfWA7Cn07Cgpjb25zdCBjcmVhdGVGaWxlUHJldmlldyA9IChmaWxlOiBGaWxlKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7CglyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKCQlpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgewoJCQlyZXNvbHZlKG51bGwpOwoJCQlyZXR1cm47CgkJfQoKCQljb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoJCXJlYWRlci5vbmxvYWQgPSAoZSkgPT4gcmVzb2x2ZShlLnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZyk7CgkJcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZXNvbHZlKG51bGwpOwoJCXJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwoJfSk7Cn07CgpleHBvcnQgY29uc3QgRmlsZVVwbG9hZFpvbmU6IFJlYWN0LkZDPEZpbGVVcGxvYWRab25lUHJvcHM+ID0gKHsKCW9uRmlsZXNTZWxlY3QsCglhY2NlcHQsCgltdWx0aXBsZSA9IGZhbHNlLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7CgoJY29uc3QgaGFuZGxlRmlsZUlucHV0ID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7CgkJY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzIHx8IFtdKTsKCQlpZiAoZmlsZXMubGVuZ3RoID4gMCkgewoJCQlvbkZpbGVzU2VsZWN0KGZpbGVzKTsKCQl9CgkJaWYgKGlucHV0UmVmLmN1cnJlbnQpIHsKCQkJaW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnOwoJCX0KCX07CgoJY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7CgkJaWYgKCFkaXNhYmxlZCkgewoJCQlpbnB1dFJlZi5jdXJyZW50Py5jbGljaygpOwoJCX0KCX07CgoJcmV0dXJuICgKCQk8YnV0dG9uCgkJCXR5cGU9ImJ1dHRvbiIKCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ3ctZnVsbCBjdXJzb3ItcG9pbnRlciBmb2N1cy12aXNpYmxlOnJpbmctMCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQlkaXNhYmxlZCAmJiAnY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTAnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQlvbkNsaWNrPXtoYW5kbGVDbGlja30KCQkJYXJpYS1sYWJlbD17bXVsdGlwbGUgPyAnU2VsZWN0IGZpbGVzIHRvIHVwbG9hZCcgOiAnU2VsZWN0IGZpbGUgdG8gdXBsb2FkJ30KCQkJey4uLnByb3BzfQoJCT4KCQkJPGlucHV0CgkJCQlyZWY9e2lucHV0UmVmfQoJCQkJdHlwZT0iZmlsZSIKCQkJCWFjY2VwdD17YWNjZXB0fQoJCQkJbXVsdGlwbGU9e211bHRpcGxlfQoJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJb25DaGFuZ2U9e2hhbmRsZUZpbGVJbnB1dH0KCQkJCWNsYXNzTmFtZT0ic3Itb25seSIKCQkJLz4KCQkJe2NoaWxkcmVufQoJCTwvYnV0dG9uPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkUHJvZ3Jlc3M6IFJlYWN0LkZDPEZpbGVVcGxvYWRQcm9ncmVzc1Byb3BzPiA9ICh7Cglwcm9ncmVzcywKCWNsYXNzTmFtZSwKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2gtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLWNhcmQtbXV0ZWQnLCBjbGFzc05hbWUpfT4KCQkJPGRpdgoJCQkJY2xhc3NOYW1lPSJoLTIgcm91bmRlZC1mdWxsIGJnLWZvcmVncm91bmQgdHJhbnNpdGlvbi1bd2lkdGhdIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIgoJCQkJc3R5bGU9e3sgd2lkdGg6IGAke01hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcHJvZ3Jlc3MpKX0lYCB9fQoJCQkJcm9sZT0icHJvZ3Jlc3NiYXIiCgkJCQlhcmlhLXZhbHVlbm93PXtwcm9ncmVzc30KCQkJCWFyaWEtdmFsdWVtaW49ezB9CgkJCQlhcmlhLXZhbHVlbWF4PXsxMDB9CgkJCS8+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEZpbGVVcGxvYWRJdGVtOiBSZWFjdC5GQzxGaWxlVXBsb2FkSXRlbVByb3BzPiA9ICh7CglmaWxlLAoJc2hvd1ByZXZpZXcgPSB0cnVlLAoJb25SZW1vdmUsCglzaXplID0gJ21kJywKCWNsYXNzTmFtZSwKfSkgPT4gewoJY29uc3QgaGFuZGxlUmVtb3ZlID0gKCkgPT4gewoJCW9uUmVtb3ZlPy4oZmlsZS5pZCk7Cgl9OwoKCWNvbnN0IGlzVXBsb2FkaW5nID0KCQlmaWxlLnN0YXR1cyA9PT0gJ3VwbG9hZGluZycgJiYgdHlwZW9mIGZpbGUucHJvZ3Jlc3MgPT09ICdudW1iZXInOwoKCXJldHVybiAoCgkJPGxpCgkJCWNsYXNzTmFtZT17Y24oZmlsZUl0ZW1WYXJpYW50cyh7IHN0YXR1czogZmlsZS5zdGF0dXMsIHNpemUgfSksIGNsYXNzTmFtZSl9CgkJPgoJCQk8ZGl2IGNsYXNzTmFtZT0ic2hyaW5rLTAiPgoJCQkJe3Nob3dQcmV2aWV3ICYmIGZpbGUucHJldmlldyA/ICgKCQkJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9wZXJmb3JtYW5jZS9ub0ltZ0VsZW1lbnQ6IHByZWZlciBuYXRpdmUgaW1nIGhlcmUgKi8KCQkJCQk8aW1nCgkJCQkJCXNyYz17ZmlsZS5wcmV2aWV3fQoJCQkJCQlhbHQ9e2ZpbGUuZmlsZS5uYW1lfQoJCQkJCQljbGFzc05hbWU9ImgtMTAgdy0xMCByb3VuZGVkIG9iamVjdC1jb3ZlciIKCQkJCQkvPgoJCQkJKSA6ICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLTEwIHctMTAgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KCQkJCQkJPEljb25zLkZpbGVVcGxvYWQgYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC02IHctNiIgLz4KCQkJCQk8L2Rpdj4KCQkJCSl9CgkJCTwvZGl2PgoKCQkJPGRpdiBjbGFzc05hbWU9Im1pbi13LTAgZmxleC0xIj4KCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIiPgoJCQkJCTxwIGNsYXNzTmFtZT0ibWluLXctMCBmbGV4LTEgdHJ1bmNhdGUgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCQl7ZmlsZS5maWxlLm5hbWV9CgkJCQkJPC9wPgoJCQkJCXtvblJlbW92ZSAmJiAoCgkJCQkJCTxCdXR0b24KCQkJCQkJCWNsYXNzTmFtZT0ibm90LXByb3NlIHNpemUtNiByb3VuZGVkLXNtIGN1cnNvci1wb2ludGVyIHRleHQtZm9yZWdyb3VuZC80NSB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3csY29sb3JdIGR1cmF0aW9uLTE1MCBob3Zlcjp0ZXh0LWZvcmVncm91bmQvNzAgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUiCgkJCQkJCQl2YXJpYW50PSJpY29uIgoJCQkJCQkJb25DbGljaz17aGFuZGxlUmVtb3ZlfQoJCQkJCQkJYXJpYS1sYWJlbD17YFJlbW92ZSAke2ZpbGUuZmlsZS5uYW1lfWB9CgkJCQkJCT4KCQkJCQkJCTxJY29ucy5YIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCQkJCTwvQnV0dG9uPgoJCQkJCSl9CgkJCQk8L2Rpdj4KCgkJCQk8ZGl2IGNsYXNzTmFtZT0ibXQtMSBmbGV4IG1pbi13LTAgaXRlbXMtY2VudGVyIGdhcC0yIj4KCQkJCQk8cCBjbGFzc05hbWU9InNocmluay0wIHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwIj4KCQkJCQkJe2Zvcm1hdEZpbGVTaXplKGZpbGUuZmlsZS5zaXplKX0KCQkJCQk8L3A+CgoJCQkJCXtmaWxlLnN0YXR1cyA9PT0gJ2Vycm9yJyAmJiBmaWxlLmVycm9yICYmICgKCQkJCQkJPHAgY2xhc3NOYW1lPSJ0cnVuY2F0ZSB0ZXh0LXhzIHRleHQtZGVzdHJ1Y3RpdmUvOTAgZm9udC1tZWRpdW0iPgoJCQkJCQkJe2ZpbGUuZXJyb3J9CgkJCQkJCTwvcD4KCQkJCQkpfQoKCQkJCQl7ZmlsZS5zdGF0dXMgPT09ICdzdWNjZXNzJyAmJiAoCgkJCQkJCTxzcGFuIGNsYXNzTmFtZT0iZmxleCBzaHJpbmstMCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXN1Y2Nlc3MvOTAiPgoJCQkJCQkJPEljb25zLkNoZWNrIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCQkJCQlVcGxvYWRlZAoJCQkJCQk8L3NwYW4+CgkJCQkJKX0KCQkJCTwvZGl2PgoKCQkJCTxkaXYgY2xhc3NOYW1lPSJtdC0yIGgtMiI+CgkJCQkJPGRpdgoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ3RyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0xNTAnLAoJCQkJCQkJaXNVcGxvYWRpbmcgPyAnb3BhY2l0eS0xMDAnIDogJ29wYWNpdHktMCcsCgkJCQkJCSl9CgkJCQkJPgoJCQkJCQk8RmlsZVVwbG9hZFByb2dyZXNzIHByb2dyZXNzPXtmaWxlLnByb2dyZXNzIHx8IDB9IC8+CgkJCQkJPC9kaXY+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJPC9saT4KCSk7Cn07CgpleHBvcnQgY29uc3QgRmlsZVVwbG9hZDogUmVhY3QuRkM8RmlsZVVwbG9hZFByb3BzPiA9ICh7Cgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJc2l6ZSA9ICdtZCcsCgltdWx0aXBsZSA9IGZhbHNlLAoJYWNjZXB0LAoJbWF4U2l6ZSwKCW1heEZpbGVzLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWZpbGVzID0gW10sCglvbkZpbGVzQ2hhbmdlLAoJb25VcGxvYWQsCglzaG93UHJldmlldyA9IHRydWUsCgl1cGxvYWRUZXh0ID0gJ0NsaWNrIHRvIHVwbG9hZCBvciBkcmFnIGFuZCBkcm9wJywKCWRyYWdUZXh0ID0gJ0Ryb3AgZmlsZXMgaGVyZScsCgljbGFzc05hbWUsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBbaXNEcmFnT3Zlciwgc2V0SXNEcmFnT3Zlcl0gPSB1c2VTdGF0ZShmYWxzZSk7Cgljb25zdCBbZHJhZ1N0YXRlLCBzZXREcmFnU3RhdGVdID0gdXNlU3RhdGU8J2lkbGUnIHwgJ2RyYWdvdmVyJyB8ICdlcnJvcic+KAoJCSdpZGxlJywKCSk7CgoJY29uc3QgdmFsaWRhdGVGaWxlID0gdXNlQ2FsbGJhY2soCgkJKGZpbGU6IEZpbGUpOiBzdHJpbmcgfCBudWxsID0+IHsKCQkJaWYgKG1heFNpemUgJiYgZmlsZS5zaXplID4gbWF4U2l6ZSkgewoJCQkJcmV0dXJuIGBGaWxlIHNpemUgZXhjZWVkcyAke2Zvcm1hdEZpbGVTaXplKG1heFNpemUpfWA7CgkJCX0KCgkJCWlmIChhY2NlcHQpIHsKCQkJCWNvbnN0IGFjY2VwdGVkVHlwZXMgPSBhY2NlcHQuc3BsaXQoJywnKS5tYXAoKHR5cGUpID0+IHR5cGUudHJpbSgpKTsKCQkJCWNvbnN0IGlzVmFsaWRUeXBlID0gYWNjZXB0ZWRUeXBlcy5zb21lKCh0eXBlKSA9PiB7CgkJCQkJaWYgKHR5cGUuc3RhcnRzV2l0aCgnLicpKSB7CgkJCQkJCXJldHVybiBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCh0eXBlLnRvTG93ZXJDYXNlKCkpOwoJCQkJCX0KCQkJCQlyZXR1cm4gZmlsZS50eXBlLm1hdGNoKHR5cGUucmVwbGFjZSgnKicsICcuKicpKTsKCQkJCX0pOwoKCQkJCWlmICghaXNWYWxpZFR5cGUpIHsKCQkJCQlyZXR1cm4gYEZpbGUgdHlwZSBub3QgYWNjZXB0ZWQuIEFjY2VwdGVkIHR5cGVzOiAke2FjY2VwdH1gOwoJCQkJfQoJCQl9CgoJCQlyZXR1cm4gbnVsbDsKCQl9LAoJCVttYXhTaXplLCBhY2NlcHRdLAoJKTsKCgljb25zdCBoYW5kbGVGaWxlc1NlbGVjdCA9IHVzZUNhbGxiYWNrKAoJCWFzeW5jIChuZXdGaWxlczogRmlsZVtdKSA9PiB7CgkJCWNvbnN0IHZhbGlkRmlsZXM6IEZpbGVVcGxvYWRGaWxlW10gPSBbXTsKCgkJCWZvciAoY29uc3QgZmlsZSBvZiBuZXdGaWxlcykgewoJCQkJaWYgKG1heEZpbGVzICYmIGZpbGVzLmxlbmd0aCArIHZhbGlkRmlsZXMubGVuZ3RoID49IG1heEZpbGVzKSB7CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJY29uc3QgZXJyb3IgPSB2YWxpZGF0ZUZpbGUoZmlsZSk7CgkJCQljb25zdCBwcmV2aWV3ID0gc2hvd1ByZXZpZXcgPyBhd2FpdCBjcmVhdGVGaWxlUHJldmlldyhmaWxlKSA6IG51bGw7CgoJCQkJY29uc3QgZmlsZVVwbG9hZDogRmlsZVVwbG9hZEZpbGUgPSB7CgkJCQkJaWQ6IGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsCgkJCQkJZmlsZSwKCQkJCQlzdGF0dXM6IGVycm9yID8gJ2Vycm9yJyA6ICdwZW5kaW5nJywKCQkJCQkuLi4ocHJldmlldyAhPT0gbnVsbCA/IHsgcHJldmlldyB9IDoge30pLAoJCQkJCS4uLihlcnJvciA/IHsgZXJyb3IgfSA6IHt9KSwKCQkJCX07CgoJCQkJdmFsaWRGaWxlcy5wdXNoKGZpbGVVcGxvYWQpOwoJCQl9CgoJCQljb25zdCB1cGRhdGVkRmlsZXMgPSBtdWx0aXBsZSA/IFsuLi5maWxlcywgLi4udmFsaWRGaWxlc10gOiB2YWxpZEZpbGVzOwoJCQlvbkZpbGVzQ2hhbmdlPy4odXBkYXRlZEZpbGVzKTsKCgkJCXNldERyYWdTdGF0ZSgnaWRsZScpOwoJCQlzZXRJc0RyYWdPdmVyKGZhbHNlKTsKCQl9LAoJCVtmaWxlcywgbWF4RmlsZXMsIHZhbGlkYXRlRmlsZSwgbXVsdGlwbGUsIHNob3dQcmV2aWV3LCBvbkZpbGVzQ2hhbmdlXSwKCSk7CgoJY29uc3QgaGFuZGxlUmVtb3ZlRmlsZSA9IHVzZUNhbGxiYWNrKAoJCShpZDogc3RyaW5nKSA9PiB7CgkJCWNvbnN0IHVwZGF0ZWRGaWxlcyA9IGZpbGVzLmZpbHRlcigoZmlsZSkgPT4gZmlsZS5pZCAhPT0gaWQpOwoJCQlvbkZpbGVzQ2hhbmdlPy4odXBkYXRlZEZpbGVzKTsKCQl9LAoJCVtmaWxlcywgb25GaWxlc0NoYW5nZV0sCgkpOwoKCWNvbnN0IGhhbmRsZVVwbG9hZCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHsKCQlpZiAoIW9uVXBsb2FkKSByZXR1cm47CgoJCWNvbnN0IHBlbmRpbmdGaWxlcyA9IGZpbGVzLmZpbHRlcigoZmlsZSkgPT4gZmlsZS5zdGF0dXMgPT09ICdwZW5kaW5nJyk7CgkJaWYgKHBlbmRpbmdGaWxlcy5sZW5ndGggPT09IDApIHJldHVybjsKCgkJY29uc3QgdXBkYXRlZEZpbGVzID0gZmlsZXMubWFwKChmaWxlKSA9PgoJCQlmaWxlLnN0YXR1cyA9PT0gJ3BlbmRpbmcnCgkJCQk/IHsgLi4uZmlsZSwgc3RhdHVzOiAndXBsb2FkaW5nJyBhcyBjb25zdCwgcHJvZ3Jlc3M6IDAgfQoJCQkJOiBmaWxlLAoJCSk7CgkJb25GaWxlc0NoYW5nZT8uKHVwZGF0ZWRGaWxlcyk7CgoJCXRyeSB7CgkJCWF3YWl0IG9uVXBsb2FkKHBlbmRpbmdGaWxlcyk7CgoJCQljb25zdCBzdWNjZXNzRmlsZXMgPSB1cGRhdGVkRmlsZXMubWFwKChmaWxlKSA9PgoJCQkJZmlsZS5zdGF0dXMgPT09ICd1cGxvYWRpbmcnCgkJCQkJPyB7IC4uLmZpbGUsIHN0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LCBwcm9ncmVzczogMTAwIH0KCQkJCQk6IGZpbGUsCgkJCSk7CgkJCW9uRmlsZXNDaGFuZ2U/LihzdWNjZXNzRmlsZXMpOwoJCX0gY2F0Y2ggewoJCQljb25zdCBlcnJvckZpbGVzID0gdXBkYXRlZEZpbGVzLm1hcCgoZmlsZSkgPT4KCQkJCWZpbGUuc3RhdHVzID09PSAndXBsb2FkaW5nJwoJCQkJCT8geyAuLi5maWxlLCBzdGF0dXM6ICdlcnJvcicgYXMgY29uc3QsIGVycm9yOiAnVXBsb2FkIGZhaWxlZCcgfQoJCQkJCTogZmlsZSwKCQkJKTsKCQkJb25GaWxlc0NoYW5nZT8uKGVycm9yRmlsZXMpOwoJCX0KCX0sIFtmaWxlcywgb25VcGxvYWQsIG9uRmlsZXNDaGFuZ2VdKTsKCgljb25zdCBoYW5kbGVEcmFnRW50ZXIgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7CgkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJaWYgKCFkaXNhYmxlZCkgewoJCQlzZXRJc0RyYWdPdmVyKHRydWUpOwoJCQlzZXREcmFnU3RhdGUoJ2RyYWdvdmVyJyk7CgkJfQoJfTsKCgljb25zdCBoYW5kbGVEcmFnTGVhdmUgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7CgkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJaWYgKCFlLmN1cnJlbnRUYXJnZXQuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0IGFzIE5vZGUpKSB7CgkJCXNldElzRHJhZ092ZXIoZmFsc2UpOwoJCQlzZXREcmFnU3RhdGUoJ2lkbGUnKTsKCQl9Cgl9OwoKCWNvbnN0IGhhbmRsZURyYWdPdmVyID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4gewoJCWUucHJldmVudERlZmF1bHQoKTsKCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJfTsKCgljb25zdCBoYW5kbGVEcm9wID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4gewoJCWUucHJldmVudERlZmF1bHQoKTsKCQllLnN0b3BQcm9wYWdhdGlvbigpOwoKCQlpZiAoZGlzYWJsZWQpIHJldHVybjsKCgkJY29uc3QgZHJvcHBlZEZpbGVzID0gQXJyYXkuZnJvbShlLmRhdGFUcmFuc2Zlci5maWxlcyk7CgkJaGFuZGxlRmlsZXNTZWxlY3QoZHJvcHBlZEZpbGVzKTsKCX07CgoJY29uc3Qgc3RhdGUgPSBkaXNhYmxlZCA/ICdpZGxlJyA6IGRyYWdTdGF0ZTsKCWNvbnN0IGhhc0ZpbGVzID0gZmlsZXMubGVuZ3RoID4gMDsKCWNvbnN0IHBlbmRpbmdGaWxlcyA9IGZpbGVzLmZpbHRlcigoZmlsZSkgPT4gZmlsZS5zdGF0dXMgPT09ICdwZW5kaW5nJyk7Cgljb25zdCB1cGxvYWRpbmdGaWxlcyA9IGZpbGVzLmZpbHRlcigoZmlsZSkgPT4gZmlsZS5zdGF0dXMgPT09ICd1cGxvYWRpbmcnKTsKCWNvbnN0IGlzVXBsb2FkaW5nID0gdXBsb2FkaW5nRmlsZXMubGVuZ3RoID4gMDsKCglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPXtjbignc3BhY2UteS00JywgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KCQkJPHNlY3Rpb24KCQkJCWFyaWEtbGFiZWw9IkZpbGUgdXBsb2FkIGRyb3B6b25lIgoJCQkJY2xhc3NOYW1lPXtjbihmaWxlVXBsb2FkVmFyaWFudHMoeyB2YXJpYW50LCBzaXplLCBzdGF0ZSB9KSl9CgkJCQlvbkRyYWdFbnRlcj17aGFuZGxlRHJhZ0VudGVyfQoJCQkJb25EcmFnTGVhdmU9e2hhbmRsZURyYWdMZWF2ZX0KCQkJCW9uRHJhZ092ZXI9e2hhbmRsZURyYWdPdmVyfQoJCQkJb25Ecm9wPXtoYW5kbGVEcm9wfQoJCQk+CgkJCQk8RmlsZVVwbG9hZFpvbmUKCQkJCQlvbkZpbGVzU2VsZWN0PXtoYW5kbGVGaWxlc1NlbGVjdH0KCQkJCQltdWx0aXBsZT17bXVsdGlwbGV9CgkJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJCXsuLi4oYWNjZXB0ICE9PSB1bmRlZmluZWQgPyB7IGFjY2VwdCB9IDoge30pfQoJCQkJPgoJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWNlbnRlciI+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJtYi0zIj4KCQkJCQkJCTxJY29ucy5GaWxlVXBsb2FkCgkJCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQkJJ214LWF1dG8gdHJhbnNpdGlvbi1bY29sb3JdJywKCQkJCQkJCQkJc2l6ZSA9PT0gJ3NtJwoJCQkJCQkJCQkJPyAnc2l6ZS01JwoJCQkJCQkJCQkJOiBzaXplID09PSAnbGcnCgkJCQkJCQkJCQkJPyAnc2l6ZS03JwoJCQkJCQkJCQkJCTogJ3NpemUtNicsCgkJCQkJCQkJCWlzRHJhZ092ZXIgPyAndGV4dC1mb3JlZ3JvdW5kLzQ1JyA6ICd0ZXh0LWZvcmVncm91bmQvNDUnLAoJCQkJCQkJCSl9CgkJCQkJCQkvPgoJCQkJCQk8L2Rpdj4KCgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJ0ZXh0LXNtIj4KCQkJCQkJCTxwCgkJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQkJJ2ZvbnQtbWVkaXVtJywKCQkJCQkJCQkJaXNEcmFnT3ZlciA/ICd0ZXh0LWZvcmVncm91bmQvNDUnIDogJ3RleHQtZm9yZWdyb3VuZC83MCcsCgkJCQkJCQkJKX0KCQkJCQkJCT4KCQkJCQkJCQl7aXNEcmFnT3ZlciA/IGRyYWdUZXh0IDogdXBsb2FkVGV4dH0KCQkJCQkJCTwvcD4KCQkJCQkJCXshaXNEcmFnT3ZlciAmJiAoCgkJCQkJCQkJPGRpdiBjbGFzc05hbWU9Im10LTEgc3BhY2UteS0xIj4KCQkJCQkJCQkJe2FjY2VwdCAmJiAoCgkJCQkJCQkJCQk8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzQ1Ij4KCQkJCQkJCQkJCQlBY2NlcHRlZCB0eXBlczoge2FjY2VwdH0KCQkJCQkJCQkJCTwvcD4KCQkJCQkJCQkJKX0KCQkJCQkJCQkJe21heFNpemUgJiYgKAoJCQkJCQkJCQkJPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC80NSI+CgkJCQkJCQkJCQkJTWF4IHNpemU6IHtmb3JtYXRGaWxlU2l6ZShtYXhTaXplKX0KCQkJCQkJCQkJCTwvcD4KCQkJCQkJCQkJKX0KCQkJCQkJCQkJe211bHRpcGxlICYmIG1heEZpbGVzICYmICgKCQkJCQkJCQkJCTxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNDUiPgoJCQkJCQkJCQkJCU1heCBmaWxlczoge21heEZpbGVzfQoJCQkJCQkJCQkJPC9wPgoJCQkJCQkJCQkpfQoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJKX0KCQkJCQkJPC9kaXY+CgkJCQkJPC9kaXY+CgkJCQk8L0ZpbGVVcGxvYWRab25lPgoJCQk8L3NlY3Rpb24+CgoJCQl7aGFzRmlsZXMgJiYgKAoJCQkJPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMiI+CgkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiI+CgkJCQkJCTxoNCBjbGFzc05hbWU9InRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIj4KCQkJCQkJCUZpbGVzICh7ZmlsZXMubGVuZ3RofQoJCQkJCQkJe21heEZpbGVzID8gYC8ke21heEZpbGVzfWAgOiAnJ30pCgkJCQkJCTwvaDQ+CgkJCQkJCXsocGVuZGluZ0ZpbGVzLmxlbmd0aCA+IDAgfHwgaXNVcGxvYWRpbmcpICYmIG9uVXBsb2FkICYmICgKCQkJCQkJCTxCdXR0b24KCQkJCQkJCQlvbkNsaWNrPXtoYW5kbGVVcGxvYWR9CgkJCQkJCQkJc2l6ZT0ic20iCgkJCQkJCQkJdmFyaWFudD0iZ2hvc3QiCgkJCQkJCQkJY2xhc3NOYW1lPSJiZy1mb3JlZ3JvdW5kIHRleHQtY2FyZCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBob3ZlcjpiZy1mb3JlZ3JvdW5kLzgwIGVhc2UtYmFzaWMiCgkJCQkJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkIHx8IGlzVXBsb2FkaW5nfQoJCQkJCQkJPgoJCQkJCQkJCXtpc1VwbG9hZGluZyAmJiA8U3Bpbm5lciBzaXplPSJzbSIgdmFyaWFudD0iZGVmYXVsdCIgLz59CgkJCQkJCQkJe2lzVXBsb2FkaW5nCgkJCQkJCQkJCT8gYFVwbG9hZGluZyAke3VwbG9hZGluZ0ZpbGVzLmxlbmd0aH0gZmlsZSR7dXBsb2FkaW5nRmlsZXMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS4uLmAKCQkJCQkJCQkJOiBgVXBsb2FkICR7cGVuZGluZ0ZpbGVzLmxlbmd0aH0gZmlsZSR7cGVuZGluZ0ZpbGVzLmxlbmd0aCA+IDEgPyAncycgOiAnJ31gfQoJCQkJCQkJPC9CdXR0b24+CgkJCQkJCSl9CgkJCQkJPC9kaXY+CgoJCQkJCTx1bCBjbGFzc05hbWU9Im1heC1oLTYwIHNwYWNlLXktMiBvdmVyZmxvdy15LWF1dG8iPgoJCQkJCQl7ZmlsZXMubWFwKChmaWxlKSA9PiAoCgkJCQkJCQk8RmlsZVVwbG9hZEl0ZW0KCQkJCQkJCQlrZXk9e2ZpbGUuaWR9CgkJCQkJCQkJZmlsZT17ZmlsZX0KCQkJCQkJCQlzaG93UHJldmlldz17c2hvd1ByZXZpZXd9CgkJCQkJCQkJb25SZW1vdmU9e2hhbmRsZVJlbW92ZUZpbGV9CgkJCQkJCQkJc2l6ZT17c2l6ZSB8fCAnbWQnfQoJCQkJCQkJLz4KCQkJCQkJKSl9CgkJCQkJPC91bD4KCQkJCTwvZGl2PgoJCQkpfQoJCTwvZGl2PgoJKTsKfTs="
,
  "avatar.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CgppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvaWNvbnMnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IGF2YXRhclZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInLAoJCSdiZy1jYXJkLW11dGVkJywKCQkndGV4dC1mb3JlZ3JvdW5kLzcwJywKCQknZm9udC1tZWRpdW0gc2VsZWN0LW5vbmUnLAoJCSdub3QtcHJvc2UnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQljaXJjbGU6ICdyb3VuZGVkLWZ1bGwnLAoJCQkJc3F1YXJlOiAncm91bmRlZC1sZycsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXhzOiAnaC02IHctNicsCgkJCQlzbTogJ2gtOCB3LTgnLAoJCQkJbWQ6ICdoLTEwIHctMTAnLAoJCQkJbGc6ICdoLTEyIHctMTInLAoJCQkJeGw6ICdoLTE2IHctMTYnLAoJCQkJJzJ4bCc6ICdoLTIwIHctMjAnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdjaXJjbGUnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgdGV4dFZhcmlhbnRzID0gY3ZhKCdmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAnLCB7Cgl2YXJpYW50czogewoJCXNpemU6IHsKCQkJeHM6ICd0ZXh0LXhzJywKCQkJc206ICd0ZXh0LXhzJywKCQkJbWQ6ICd0ZXh0LXNtJywKCQkJbGc6ICd0ZXh0LWJhc2UnLAoJCQl4bDogJ3RleHQtbGcnLAoJCQknMnhsJzogJ3RleHQteGwnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKY29uc3QgaWNvblZhcmlhbnRzID0gY3ZhKCd0ZXh0LWZvcmVncm91bmQvNDUnLCB7Cgl2YXJpYW50czogewoJCXNpemU6IHsKCQkJeHM6ICdoLTMgdy0zJywKCQkJc206ICdoLTQgdy00JywKCQkJbWQ6ICdoLTUgdy01JywKCQkJbGc6ICdoLTYgdy02JywKCQkJeGw6ICdoLTggdy04JywKCQkJJzJ4bCc6ICdoLTEwIHctMTAnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKY29uc3Qgc3RhdHVzVmFyaWFudHMgPSBjdmEoJ2Fic29sdXRlIHJvdW5kZWQtZnVsbCByaW5nLXJpbmctb2Zmc2V0JywgewoJdmFyaWFudHM6IHsKCQlzdGF0dXM6IHsKCQkJb25saW5lOiAnYmctc3VjY2VzcycsCgkJCW9mZmxpbmU6ICdiZy1mb3JlZ3JvdW5kLXN1YnRsZScsCgkJCWF3YXk6ICdiZy13YXJuaW5nJywKCQkJYnVzeTogJ2JnLWRlc3RydWN0aXZlJywKCQl9LAoJCXNpemU6IHsKCQkJeHM6ICdyaWdodC0wIGJvdHRvbS0wIGgtMS41IHctMS41IHJpbmctMScsCgkJCXNtOiAncmlnaHQtMCBib3R0b20tMCBoLTIgdy0yIHJpbmctMScsCgkJCW1kOiAncmlnaHQtMC41IGJvdHRvbS0wLjUgaC0yLjUgdy0yLjUgcmluZy0xJywKCQkJbGc6ICdyaWdodC0wLjUgYm90dG9tLTAuNSBoLTMgdy0zIHJpbmctMScsCgkJCXhsOiAncmlnaHQtMSBib3R0b20tMSBoLTMuNSB3LTMuNSByaW5nLTEnLAoJCQknMnhsJzogJ3JpZ2h0LTEgYm90dG9tLTEgaC00IHctNCByaW5nLTEnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKZXhwb3J0IGludGVyZmFjZSBBdmF0YXJQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBhdmF0YXJWYXJpYW50cz4gewoJc3JjPzogc3RyaW5nOwoJYWx0Pzogc3RyaW5nOwoJZmFsbGJhY2s/OiBzdHJpbmc7CglzdGF0dXM/OiAnb25saW5lJyB8ICdvZmZsaW5lJyB8ICdhd2F5JyB8ICdidXN5JyB8IG51bGw7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBBdmF0YXI6IFJlYWN0LkZDPEF2YXRhclByb3BzPiA9ICh7CglzcmMsCglhbHQgPSAnJywKCWZhbGxiYWNrLAoJc2l6ZSA9ICdtZCcsCgl2YXJpYW50ID0gJ2NpcmNsZScsCglzdGF0dXMgPSBudWxsLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBbaW1hZ2VFcnJvciwgc2V0SW1hZ2VFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7CgoJdXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoc3JjKSB7CgkJCXNldEltYWdlRXJyb3IoZmFsc2UpOwoJCX0KCX0sIFtzcmNdKTsKCgljb25zdCBoYW5kbGVJbWFnZUVycm9yID0gKCkgPT4gewoJCXNldEltYWdlRXJyb3IodHJ1ZSk7Cgl9OwoKCWNvbnN0IGdldEluaXRpYWxzID0gKCkgPT4gewoJCWNvbnN0IHRleHQgPSBmYWxsYmFjayB8fCBhbHQgfHwgJyc7CgkJaWYgKCF0ZXh0KSByZXR1cm4gJyc7CgoJCWlmICh0ZXh0Lmxlbmd0aCA8PSAyICYmICF0ZXh0LmluY2x1ZGVzKCcgJykpIHsKCQkJcmV0dXJuIHRleHQudG9VcHBlckNhc2UoKTsKCQl9CgoJCXJldHVybiB0ZXh0CgkJCS5zcGxpdCgnICcpCgkJCS5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApKQoJCQkuam9pbignJykKCQkJLnRvVXBwZXJDYXNlKCkKCQkJLnNsaWNlKDAsIDIpOwoJfTsKCgljb25zdCBzaG93SW1hZ2UgPSBzcmMgJiYgIWltYWdlRXJyb3I7Cgljb25zdCBzaG93SW5pdGlhbHMgPSAhc2hvd0ltYWdlICYmIGdldEluaXRpYWxzKCk7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCWNsYXNzTmFtZT17Y24oYXZhdGFyVmFyaWFudHMoeyB2YXJpYW50LCBzaXplIH0pLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7c2hvd0ltYWdlICYmICgKCQkJCS8qIGJpb21lLWlnbm9yZSBsaW50L3BlcmZvcm1hbmNlL25vSW1nRWxlbWVudDogbmF0aXZlIGltZyBpcyBpbnRlbnRpb25hbCBoZXJlICovCgkJCQk8aW1nCgkJCQkJc3JjPXtzcmN9CgkJCQkJYWx0PXthbHR9CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ2gtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyJywKCQkJCQkJdmFyaWFudCA9PT0gJ2NpcmNsZScgPyAncm91bmRlZC1mdWxsJyA6ICdyb3VuZGVkLWxnJywKCQkJCQkpfQoJCQkJCW9uRXJyb3I9e2hhbmRsZUltYWdlRXJyb3J9CgkJCQkJbG9hZGluZz0iZWFnZXIiCgkJCQkJc3R5bGU9e3sKCQkJCQkJdGV4dEluZGVudDogJy05OTk5cHgnLAoJCQkJCQlvdmVyZmxvdzogJ2hpZGRlbicsCgkJCQkJfX0KCQkJCS8+CgkJCSl9CgoJCQk8QXJpYWtpdC5WaXN1YWxseUhpZGRlbj57YCR7Z2V0SW5pdGlhbHMoKX0gQXZhdGFyYH08L0FyaWFraXQuVmlzdWFsbHlIaWRkZW4+CgoJCQl7c2hvd0luaXRpYWxzICYmICgKCQkJCTxzcGFuIGNsYXNzTmFtZT17dGV4dFZhcmlhbnRzKHsgc2l6ZSB9KX0+e2dldEluaXRpYWxzKCl9PC9zcGFuPgoJCQkpfQoKCQkJeyFzaG93SW1hZ2UgJiYgIXNob3dJbml0aWFscyAmJiAoCgkJCQk8SWNvbnMuVXNlciBhcmlhLWhpZGRlbj0idHJ1ZSIgY2xhc3NOYW1lPXtpY29uVmFyaWFudHMoeyBzaXplIH0pfSAvPgoJCQkpfQoKCQkJe3N0YXR1cyAmJiAoCgkJCQk8c3BhbiBjbGFzc05hbWU9e3N0YXR1c1ZhcmlhbnRzKHsgc3RhdHVzLCBzaXplIH0pfSBhcmlhLWhpZGRlbj0idHJ1ZSIgLz4KCQkJKX0KCQk8L2Rpdj4KCSk7Cn07"
,
  "area-chart.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsKCWFyZWEsCgljdXJ2ZUxpbmVhciwKCWN1cnZlTW9ub3RvbmVYLAoJY3VydmVOYXR1cmFsLAoJY3VydmVTdGVwLAoJbGluZSwKfSBmcm9tICdkMy1zaGFwZSc7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgp0eXBlIENoYXJ0RGF0dW0gPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjsKCmNvbnN0IERFRkFVTFRfSEVJR0hUID0gMjIwOwpjb25zdCBERUZBVUxUX0NPTE9SUyA9IFsKCSd2YXIoLS1jb2xvci1jaGFydC0xKScsCgkndmFyKC0tY29sb3ItY2hhcnQtMiknLAoJJ3ZhcigtLWNvbG9yLWNoYXJ0LTMpJywKCSd2YXIoLS1jb2xvci1jaGFydC00KScsCgkndmFyKC0tY29sb3ItY2hhcnQtNSknLApdIGFzIGNvbnN0OwoKY29uc3QgQ0hBUlRfUEFERElORyA9IHsgdG9wOiAxNiwgcmlnaHQ6IDE2LCBib3R0b206IDI0LCBsZWZ0OiAxNiB9IGFzIGNvbnN0Owpjb25zdCBZX0FYSVNfQ0hBUlRfR0FQID0gODsKY29uc3QgRkFMTEJBQ0tfQ0hBUlRfRElNRU5TSU9OUyA9IHsgd2lkdGg6IDM2MCwgaGVpZ2h0OiAyNDAgfSBhcyBjb25zdDsKY29uc3QgREVGQVVMVF9ZX1RJQ0tfVEFSR0VUID0gNTsKCmNvbnN0IENVUlZFX0ZBQ1RPUklFUyA9IHsKCWxpbmVhcjogY3VydmVMaW5lYXIsCgltb25vdG9uZTogY3VydmVNb25vdG9uZVgsCgluYXR1cmFsOiBjdXJ2ZU5hdHVyYWwsCglzdGVwOiBjdXJ2ZVN0ZXAsCn0gYXMgY29uc3Q7CgpleHBvcnQgdHlwZSBBcmVhQ2hhcnRDdXJ2ZSA9IGtleW9mIHR5cGVvZiBDVVJWRV9GQUNUT1JJRVM7CgpleHBvcnQgdHlwZSBBcmVhQ2hhcnRQb2ludDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPiA9IHsKCWlkOiBzdHJpbmc7CglzZXJpZXNJZDogc3RyaW5nOwoJc2VyaWVzSW5kZXg6IG51bWJlcjsKCWRhdHVtOiBURGF0YTsKCWluZGV4OiBudW1iZXI7Cgl4OiBudW1iZXI7Cgl4UmF3OiB1bmtub3duOwoJeTogbnVtYmVyOwoJbGFiZWw6IHN0cmluZzsKCXZhbHVlOiBudW1iZXI7Cn07CgpleHBvcnQgaW50ZXJmYWNlIEFyZWFDaGFydEFkZGl0aW9uYWxTZXJpZXM8CglURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtLAo+IHsKCWlkPzogc3RyaW5nOwoJZGF0YT86IFREYXRhW107Cgl4S2V5PzogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCXlLZXk6IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47CgluYW1lS2V5PzogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCWNvbG9yPzogc3RyaW5nOwoJc2VyaWVzTGFiZWw/OiBzdHJpbmc7Cglzb3J0UG9pbnRzPzogYm9vbGVhbiB8ICgoYTogVERhdGEsIGI6IFREYXRhKSA9PiBudW1iZXIpOwoJeUZvcm1hdHRlcj86ICgKCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LAoJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXZhbHVlRm9ybWF0dGVyPzogKAoJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwp9CgppbnRlcmZhY2UgQXJlYUNoYXJ0U2VyaWVzU3RhdGU8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtPiB7CglpZDogc3RyaW5nOwoJc2VyaWVzSW5kZXg6IG51bWJlcjsKCXBvaW50czogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+W107Cgl0b3RhbDogbnVtYmVyOwoJc2VyaWVzTGFiZWw6IHN0cmluZzsKCXZhbHVlTGFiZWw6IHN0cmluZzsKCWNvbG9yOiBzdHJpbmc7Cglmb3JtYXRZOiAocG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPikgPT4gUmVhY3QuUmVhY3ROb2RlOwp9CgppbnRlcmZhY2UgQXJlYUNoYXJ0U2VyaWVzQ29tcHV0YXRpb248VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtPgoJZXh0ZW5kcyBPbWl0PEFyZWFDaGFydFNlcmllc1N0YXRlPFREYXRhPiwgJ2Zvcm1hdFknPiB7Cgl5Rm9ybWF0dGVyPzogKAoJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJdmFsdWVGb3JtYXR0ZXI/OiAoCgkJcG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPiwKCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IGRvbWFpbjogW251bWJlciwgbnVtYmVyXSB9LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmludGVyZmFjZSBBcmVhQ2hhcnRDb250ZXh0VmFsdWU8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtPiB7CglzZXJpZXM6IEFyZWFDaGFydFNlcmllc1N0YXRlPFREYXRhPltdOwoJcG9pbnRzOiBBcmVhQ2hhcnRQb2ludDxURGF0YT5bXTsKCXRvdGFsOiBudW1iZXI7CglzZXJpZXNMYWJlbDogc3RyaW5nOwoJY29sb3I6IHN0cmluZzsKCXhEb21haW46IFtudW1iZXIsIG51bWJlcl07Cgl5RG9tYWluOiBbbnVtYmVyLCBudW1iZXJdOwoJZm9ybWF0WDogKHBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4pID0+IFJlYWN0LlJlYWN0Tm9kZTsKCWZvcm1hdFk6IChwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+KSA9PiBSZWFjdC5SZWFjdE5vZGU7Cglmb3JtYXRZRm9yU2VyaWVzOiAoCgkJc2VyaWVzSWQ6IHN0cmluZywKCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZUxhYmVsOiBzdHJpbmc7Cgl4TGFiZWw6IHN0cmluZzsKCWFjdGl2ZVBvaW50SWQ6IHN0cmluZyB8IG51bGw7CglzZXRBY3RpdmVQb2ludElkOiAoaWQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7CglhY3RpdmVQb2ludFg6IG51bWJlciB8IG51bGw7CglzZXRBY3RpdmVQb2ludFg6ICh2YWx1ZTogbnVtYmVyIHwgbnVsbCkgPT4gdm9pZDsKfQoKY29uc3QgQXJlYUNoYXJ0Q29udGV4dCA9CglSZWFjdC5jcmVhdGVDb250ZXh0PEFyZWFDaGFydENvbnRleHRWYWx1ZTxDaGFydERhdHVtPiB8IG51bGw+KG51bGwpOwoKZXhwb3J0IGZ1bmN0aW9uIHVzZUFyZWFDaGFydENvbnRleHQ8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4oKSB7Cgljb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dCgKCQlBcmVhQ2hhcnRDb250ZXh0LAoJKSBhcyBBcmVhQ2hhcnRDb250ZXh0VmFsdWU8VERhdGE+IHwgbnVsbDsKCglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoCgkJCSd1c2VBcmVhQ2hhcnRDb250ZXh0IG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gPEFyZWFDaGFydD4gY29tcG9uZW50LicsCgkJKTsKCX0KCglyZXR1cm4gY29udGV4dDsKfQoKZnVuY3Rpb24gZ2V0TnVtZXJpY1ZhbHVlKGlucHV0OiB1bmtub3duKTogbnVtYmVyIHwgbnVsbCB7CglpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUoaW5wdXQpKSB7CgkJcmV0dXJuIGlucHV0OwoJfQoJaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHsKCQljb25zdCBwYXJzZWQgPSBOdW1iZXIucGFyc2VGbG9hdChpbnB1dCk7CgkJaWYgKE51bWJlci5pc0Zpbml0ZShwYXJzZWQpKSB7CgkJCXJldHVybiBwYXJzZWQ7CgkJfQoJfQoJcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIGdldFRlbXBvcmFsVmFsdWUoaW5wdXQ6IHVua25vd24pOiBudW1iZXIgfCBudWxsIHsKCWlmIChpbnB1dCBpbnN0YW5jZW9mIERhdGUgJiYgTnVtYmVyLmlzRmluaXRlKGlucHV0LnZhbHVlT2YoKSkpIHsKCQlyZXR1cm4gaW5wdXQuZ2V0VGltZSgpOwoJfQoJaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgJiYgTnVtYmVyLmlzRmluaXRlKGlucHV0KSkgewoJCXJldHVybiBpbnB1dDsKCX0KCWlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7CgkJY29uc3QgbnVtZXJpYyA9IE51bWJlci5wYXJzZUZsb2F0KGlucHV0KTsKCQlpZiAoTnVtYmVyLmlzRmluaXRlKG51bWVyaWMpKSB7CgkJCXJldHVybiBudW1lcmljOwoJCX0KCQljb25zdCBwYXJzZWREYXRlID0gbmV3IERhdGUoaW5wdXQpOwoJCWlmICghTnVtYmVyLmlzTmFOKHBhcnNlZERhdGUudmFsdWVPZigpKSkgewoJCQlyZXR1cm4gcGFyc2VkRGF0ZS5nZXRUaW1lKCk7CgkJfQoJfQoJcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIHRvS2V5TGFiZWwoa2V5OiBzdHJpbmcpOiBzdHJpbmcgewoJY29uc3Qgd29yZHMgPSBrZXkKCQkucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgJyQxICQyJykKCQkucmVwbGFjZSgvW18tXSsvZywgJyAnKQoJCS5zcGxpdCgnICcpCgkJLm1hcCgocGFydCkgPT4gcGFydC50cmltKCkpCgkJLmZpbHRlcihCb29sZWFuKQoJCS5tYXAoKHBhcnQpID0+IHBhcnQuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHBhcnQuc2xpY2UoMSkpOwoJcmV0dXJuIHdvcmRzLmxlbmd0aCA/IHdvcmRzLmpvaW4oJyAnKSA6IGtleTsKfQoKZnVuY3Rpb24gcmVzb2x2ZUNvbG9yKGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQsIGluZGV4OiBudW1iZXIpOiBzdHJpbmcgewoJaWYgKGNvbG9yICYmIGNvbG9yLnRyaW0oKS5sZW5ndGggPiAwKSByZXR1cm4gY29sb3I7Cgljb25zdCBmYWxsYmFja0luZGV4ID0KCQlERUZBVUxUX0NPTE9SUy5sZW5ndGggPiAwID8gaW5kZXggJSBERUZBVUxUX0NPTE9SUy5sZW5ndGggOiAwOwoJY29uc3QgZmFsbGJhY2sgPSBERUZBVUxUX0NPTE9SU1tmYWxsYmFja0luZGV4XTsKCWlmICghZmFsbGJhY2spIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGZhbGxiYWNrIGNvbG9yIGZvciBBcmVhQ2hhcnQuJyk7Cgl9CglyZXR1cm4gZmFsbGJhY2s7Cn0KCmZ1bmN0aW9uIGNyZWF0ZUxpbmVhclNjYWxlKAoJZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdLAoJcmFuZ2U6IFtudW1iZXIsIG51bWJlcl0sCik6ICh2YWx1ZTogbnVtYmVyKSA9PiBudW1iZXIgewoJY29uc3QgW2QwLCBkMV0gPSBkb21haW47Cgljb25zdCBbcjAsIHIxXSA9IHJhbmdlOwoJaWYgKCFOdW1iZXIuaXNGaW5pdGUoZDApIHx8ICFOdW1iZXIuaXNGaW5pdGUoZDEpKSB7CgkJcmV0dXJuICgpID0+IHIwOwoJfQoJaWYgKGQwID09PSBkMSkgewoJCXJldHVybiAoKSA9PiAocjAgKyByMSkgLyAyOwoJfQoJY29uc3Qgc2NhbGUgPSAodmFsdWU6IG51bWJlcikgPT4gewoJCWNvbnN0IHJhdGlvID0gKHZhbHVlIC0gZDApIC8gKGQxIC0gZDApOwoJCXJldHVybiByMCArIHJhdGlvICogKHIxIC0gcjApOwoJfTsKCXJldHVybiBzY2FsZTsKfQoKZnVuY3Rpb24gY2xhbXAodmFsdWU6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7CglyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7Cn0KCmZ1bmN0aW9uIHRvUGxhaW5UZXh0KHZhbHVlOiBSZWFjdC5SZWFjdE5vZGUsIGZhbGxiYWNrOiBzdHJpbmcpOiBzdHJpbmcgewoJaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTsKCWlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHsKCQlyZXR1cm4gdmFsdWUudG9TdHJpbmcoKTsKCX0KCXJldHVybiBmYWxsYmFjazsKfQoKZnVuY3Rpb24gZ2V0UG9pbnRMYWJlbFRleHQocG9pbnQ6IEFyZWFDaGFydFBvaW50KSB7CglyZXR1cm4gcG9pbnQubGFiZWwgPz8gU3RyaW5nKHBvaW50LnhSYXcgPz8gJycpOwp9CgpmdW5jdGlvbiBnZXRQb2ludFZhbHVlVGV4dChwb2ludDogQXJlYUNoYXJ0UG9pbnQpIHsKCWlmIChOdW1iZXIuaXNGaW5pdGUocG9pbnQudmFsdWUpKSB7CgkJcmV0dXJuIHBvaW50LnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7Cgl9CglyZXR1cm4gU3RyaW5nKHBvaW50LnZhbHVlKTsKfQoKZnVuY3Rpb24gbmljZU51bWJlcihyYW5nZTogbnVtYmVyLCByb3VuZDogYm9vbGVhbikgewoJaWYgKHJhbmdlID09PSAwKSByZXR1cm4gMDsKCWNvbnN0IGV4cG9uZW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZzEwKE1hdGguYWJzKHJhbmdlKSkpOwoJY29uc3QgZnJhY3Rpb24gPSBNYXRoLmFicyhyYW5nZSkgLyAxMCAqKiBleHBvbmVudDsKCWxldCBuaWNlRnJhY3Rpb246IG51bWJlcjsKCglpZiAocm91bmQpIHsKCQlpZiAoZnJhY3Rpb24gPCAxLjUpIHsKCQkJbmljZUZyYWN0aW9uID0gMTsKCQl9IGVsc2UgaWYgKGZyYWN0aW9uIDwgMykgewoJCQluaWNlRnJhY3Rpb24gPSAyOwoJCX0gZWxzZSBpZiAoZnJhY3Rpb24gPCA3KSB7CgkJCW5pY2VGcmFjdGlvbiA9IDU7CgkJfSBlbHNlIHsKCQkJbmljZUZyYWN0aW9uID0gMTA7CgkJfQoJfSBlbHNlIHsKCQlpZiAoZnJhY3Rpb24gPD0gMSkgewoJCQluaWNlRnJhY3Rpb24gPSAxOwoJCX0gZWxzZSBpZiAoZnJhY3Rpb24gPD0gMikgewoJCQluaWNlRnJhY3Rpb24gPSAyOwoJCX0gZWxzZSBpZiAoZnJhY3Rpb24gPD0gNSkgewoJCQluaWNlRnJhY3Rpb24gPSA1OwoJCX0gZWxzZSB7CgkJCW5pY2VGcmFjdGlvbiA9IDEwOwoJCX0KCX0KCglyZXR1cm4gTWF0aC5zaWduKHJhbmdlKSAqIG5pY2VGcmFjdGlvbiAqIDEwICoqIGV4cG9uZW50Owp9CgpmdW5jdGlvbiBnZW5lcmF0ZUxpbmVhclRpY2tzKAoJW21pbiwgbWF4XTogW251bWJlciwgbnVtYmVyXSwKCWRlc2lyZWRDb3VudDogbnVtYmVyLAopIHsKCWNvbnN0IHNhZmVDb3VudCA9IE51bWJlci5pc0Zpbml0ZShkZXNpcmVkQ291bnQpCgkJPyBNYXRoLm1heChkZXNpcmVkQ291bnQsIDIpCgkJOiAyOwoJaWYgKCFOdW1iZXIuaXNGaW5pdGUobWluKSB8fCAhTnVtYmVyLmlzRmluaXRlKG1heCkpIHJldHVybiBbXTsKCWlmIChtaW4gPT09IG1heCkgcmV0dXJuIFttaW5dOwoKCWNvbnN0IHJhbmdlID0gbWF4IC0gbWluOwoJY29uc3QgbmljZVJhbmdlID0gbmljZU51bWJlcihyYW5nZSwgZmFsc2UpOwoJY29uc3Qgc3RlcCA9IG5pY2VOdW1iZXIobmljZVJhbmdlIC8gKHNhZmVDb3VudCAtIDEpLCB0cnVlKTsKCWNvbnN0IG5pY2VNaW4gPSBNYXRoLmZsb29yKG1pbiAvIHN0ZXApICogc3RlcDsKCWNvbnN0IG5pY2VNYXggPSBNYXRoLmNlaWwobWF4IC8gc3RlcCkgKiBzdGVwOwoKCWNvbnN0IHRpY2tzOiBudW1iZXJbXSA9IFtdOwoJZm9yIChsZXQgdmFsdWUgPSBuaWNlTWluOyB2YWx1ZSA8PSBuaWNlTWF4ICsgc3RlcCAvIDI7IHZhbHVlICs9IHN0ZXApIHsKCQljb25zdCByb3VuZGVkID0gTnVtYmVyLnBhcnNlRmxvYXQodmFsdWUudG9GaXhlZCgxMikpOwoJCXRpY2tzLnB1c2gocm91bmRlZCk7Cgl9Cgljb25zdCBkb21haW5XaXRoUGFkZGluZyA9IHN0ZXAgKiAwLjU7Cgljb25zdCB3aXRoaW5Eb21haW4gPSB0aWNrcy5maWx0ZXIoCgkJKHZhbHVlKSA9PgoJCQl2YWx1ZSA+PSBtaW4gLSBkb21haW5XaXRoUGFkZGluZyAmJiB2YWx1ZSA8PSBtYXggKyBkb21haW5XaXRoUGFkZGluZywKCSk7CglyZXR1cm4gd2l0aGluRG9tYWluLmxlbmd0aCA/IHdpdGhpbkRvbWFpbiA6IFttaW4sIG1heF07Cn0KCmZ1bmN0aW9uIGFsaWduRG9tYWluVG9OaWNlVmFsdWVzKAoJW21pbiwgbWF4XTogW251bWJlciwgbnVtYmVyXSwKCXRhcmdldENvdW50OiBudW1iZXIgPSBERUZBVUxUX1lfVElDS19UQVJHRVQsCik6IFtudW1iZXIsIG51bWJlcl0gewoJaWYgKCFOdW1iZXIuaXNGaW5pdGUobWluKSB8fCAhTnVtYmVyLmlzRmluaXRlKG1heCkpIHsKCQlyZXR1cm4gW21pbiwgbWF4XTsKCX0KCglpZiAobWluID09PSBtYXgpIHsKCQljb25zdCBwYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnMobWluKSAqIDAuNSwgMSk7CgkJcmV0dXJuIFttaW4gLSBwYWRkaW5nLCBtYXggKyBwYWRkaW5nXTsKCX0KCgljb25zdCBzYWZlQ291bnQgPSBOdW1iZXIuaXNGaW5pdGUodGFyZ2V0Q291bnQpCgkJPyBNYXRoLm1heChNYXRoLmZsb29yKHRhcmdldENvdW50KSwgMikKCQk6IERFRkFVTFRfWV9USUNLX1RBUkdFVDsKCWNvbnN0IHJhbmdlID0gbWF4IC0gbWluOwoJY29uc3QgcmF3U3RlcCA9IHJhbmdlIC8gKHNhZmVDb3VudCAtIDEpOwoJY29uc3Qgc3RlcCA9IG5pY2VOdW1iZXIocmF3U3RlcCwgdHJ1ZSk7CgoJaWYgKCFOdW1iZXIuaXNGaW5pdGUoc3RlcCkgfHwgc3RlcCA8PSAwKSB7CgkJcmV0dXJuIFttaW4sIG1heF07Cgl9CgoJbGV0IG5pY2VNaW4gPSBNYXRoLmZsb29yKG1pbiAvIHN0ZXApICogc3RlcDsKCWxldCBuaWNlTWF4ID0gTWF0aC5jZWlsKG1heCAvIHN0ZXApICogc3RlcDsKCgljb25zdCBtaW5pbXVtUGFkZGluZyA9IHN0ZXAgKiAwLjE7Cgljb25zdCBwYWRkaW5nQWJvdmUgPSBuaWNlTWF4IC0gbWF4OwoJY29uc3QgcGFkZGluZ0JlbG93ID0gbWluIC0gbmljZU1pbjsKCglpZiAobWluID49IDApIHsKCQluaWNlTWluID0gMDsKCX0gZWxzZSBpZiAocGFkZGluZ0JlbG93IDwgbWluaW11bVBhZGRpbmcpIHsKCQluaWNlTWluIC09IHN0ZXA7Cgl9CglpZiAobWF4IDw9IDApIHsKCQluaWNlTWF4ID0gMDsKCX0gZWxzZSBpZiAocGFkZGluZ0Fib3ZlIDwgbWluaW11bVBhZGRpbmcpIHsKCQluaWNlTWF4ICs9IHN0ZXA7Cgl9CgoJaWYgKG5pY2VNaW4gPT09IG5pY2VNYXgpIHsKCQlyZXR1cm4gW25pY2VNaW4gLSBzdGVwLCBuaWNlTWF4ICsgc3RlcF07Cgl9CgoJcmV0dXJuIFtuaWNlTWluLCBuaWNlTWF4XTsKfQoKZnVuY3Rpb24gc2VsZWN0UG9pbnRzRm9yVGlja3MocG9pbnRzOiBBcmVhQ2hhcnRQb2ludFtdLCBkZXNpcmVkQ291bnQ6IG51bWJlcikgewoJaWYgKCFwb2ludHMubGVuZ3RoKSByZXR1cm4gW107Cgljb25zdCB1bmlxdWVQb2ludHM6IEFyZWFDaGFydFBvaW50W10gPSBbXTsKCWNvbnN0IHNlZW4gPSBuZXcgU2V0PG51bWJlcj4oKTsKCWZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzKSB7CgkJaWYgKHNlZW4uaGFzKHBvaW50LngpKSBjb250aW51ZTsKCQlzZWVuLmFkZChwb2ludC54KTsKCQl1bmlxdWVQb2ludHMucHVzaChwb2ludCk7Cgl9Cgljb25zdCBzYWZlQ291bnQgPSBNYXRoLm1heCgyLCBNYXRoLm1pbihkZXNpcmVkQ291bnQsIHVuaXF1ZVBvaW50cy5sZW5ndGgpKTsKCWlmICh1bmlxdWVQb2ludHMubGVuZ3RoIDw9IHNhZmVDb3VudCkgewoJCXJldHVybiB1bmlxdWVQb2ludHM7Cgl9CgoJY29uc3QgbGFzdEluZGV4ID0gdW5pcXVlUG9pbnRzLmxlbmd0aCAtIDE7Cgljb25zdCBzdGVwID0gbGFzdEluZGV4IC8gKHNhZmVDb3VudCAtIDEpOwoJY29uc3Qgc2VsZWN0ZWRJbmRpY2VzID0gbmV3IFNldDxudW1iZXI+KCk7CgoJZm9yIChsZXQgaSA9IDA7IGkgPCBzYWZlQ291bnQ7IGkrKykgewoJCWNvbnN0IHJhd0luZGV4ID0gTWF0aC5yb3VuZChpICogc3RlcCk7CgkJY29uc3QgY2xhbXBlZEluZGV4ID0gY2xhbXAocmF3SW5kZXgsIDAsIGxhc3RJbmRleCk7CgkJc2VsZWN0ZWRJbmRpY2VzLmFkZChjbGFtcGVkSW5kZXgpOwoJfQoKCXNlbGVjdGVkSW5kaWNlcy5hZGQoMCk7CglzZWxlY3RlZEluZGljZXMuYWRkKGxhc3RJbmRleCk7CgoJY29uc3Qgc29ydGVkSW5kaWNlcyA9IEFycmF5LmZyb20oc2VsZWN0ZWRJbmRpY2VzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7CgoJaWYgKHNvcnRlZEluZGljZXMubGVuZ3RoIDwgc2FmZUNvdW50KSB7CgkJZm9yICgKCQkJbGV0IGluZGV4ID0gMDsKCQkJaW5kZXggPD0gbGFzdEluZGV4ICYmIHNvcnRlZEluZGljZXMubGVuZ3RoIDwgc2FmZUNvdW50OwoJCQlpbmRleCsrCgkJKSB7CgkJCWlmICghc2VsZWN0ZWRJbmRpY2VzLmhhcyhpbmRleCkpIHsKCQkJCXNvcnRlZEluZGljZXMucHVzaChpbmRleCk7CgkJCX0KCQl9CgkJc29ydGVkSW5kaWNlcy5zb3J0KChhLCBiKSA9PiBhIC0gYik7Cgl9CgoJcmV0dXJuIHNvcnRlZEluZGljZXMKCQkubWFwKChpbmRleCkgPT4gdW5pcXVlUG9pbnRzW2luZGV4XSkKCQkuZmlsdGVyKChwKTogcCBpcyBOb25OdWxsYWJsZTx0eXBlb2YgcD4gPT4gcCAhPT0gdW5kZWZpbmVkKTsKfQoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnRQcm9wczxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPgoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJZGF0YTogVERhdGFbXTsKCXhLZXk6IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47Cgl5S2V5OiBFeHRyYWN0PGtleW9mIFREYXRhLCBzdHJpbmc+OwoJbmFtZUtleT86IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47Cgljb2xvcj86IHN0cmluZzsKCXNlcmllc0xhYmVsPzogc3RyaW5nOwoJc29ydFBvaW50cz86IGJvb2xlYW4gfCAoKGE6IFREYXRhLCBiOiBURGF0YSkgPT4gbnVtYmVyKTsKCXhGb3JtYXR0ZXI/OiAocG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPikgPT4gUmVhY3QuUmVhY3ROb2RlOwoJeUZvcm1hdHRlcj86ICgKCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LAoJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXZhbHVlRm9ybWF0dGVyPzogKAoJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJYWRkaXRpb25hbFNlcmllcz86IEFyZWFDaGFydEFkZGl0aW9uYWxTZXJpZXM8VERhdGE+W107CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZnVuY3Rpb24gQXJlYUNoYXJ0Um9vdElubmVyPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bT4oCgl7CgkJZGF0YSwKCQl4S2V5LAoJCXlLZXksCgkJbmFtZUtleSwKCQljb2xvciwKCQlzZXJpZXNMYWJlbCwKCQlzb3J0UG9pbnRzID0gdHJ1ZSwKCQl4Rm9ybWF0dGVyLAoJCXlGb3JtYXR0ZXIsCgkJdmFsdWVGb3JtYXR0ZXIsCgkJYWRkaXRpb25hbFNlcmllcyA9IFtdLAoJCWNsYXNzTmFtZSwKCQljaGlsZHJlbiwKCQkuLi5yZXN0Cgl9OiBBcmVhQ2hhcnRQcm9wczxURGF0YT4sCglyZWY6IFJlYWN0LkZvcndhcmRlZFJlZjxIVE1MRGl2RWxlbWVudD4sCikgewoJY29uc3QgW2FjdGl2ZVBvaW50SWQsIHNldEFjdGl2ZVBvaW50SWRdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7Cgljb25zdCBbYWN0aXZlUG9pbnRYLCBzZXRBY3RpdmVQb2ludFhdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7CgoJY29uc3QgeExhYmVsID0gUmVhY3QudXNlTWVtbygoKSA9PiB0b0tleUxhYmVsKFN0cmluZyh4S2V5KSksIFt4S2V5XSk7CgoJY29uc3QgeyBzZXJpZXNDb2xsZWN0aW9uLCB4RG9tYWluLCB5RG9tYWluIH0gPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCBidWlsZFNlcmllcyA9IChzb3VyY2U6IHsKCQkJaWQ6IHN0cmluZzsKCQkJc2VyaWVzSW5kZXg6IG51bWJlcjsKCQkJZGF0YTogVERhdGFbXTsKCQkJeEtleTogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCQkJeUtleTogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCQkJbmFtZUtleT86IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47CgkJCWNvbG9yPzogc3RyaW5nOwoJCQlzZXJpZXNMYWJlbD86IHN0cmluZzsKCQkJc29ydFBvaW50czogYm9vbGVhbiB8ICgoYTogVERhdGEsIGI6IFREYXRhKSA9PiBudW1iZXIpOwoJCQl5Rm9ybWF0dGVyPzogKAoJCQkJcG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPiwKCQkJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkJCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJCQl2YWx1ZUZvcm1hdHRlcj86ICgKCQkJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IGRvbWFpbjogW251bWJlciwgbnVtYmVyXSB9LAoJCQkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCQl9KTogQXJlYUNoYXJ0U2VyaWVzQ29tcHV0YXRpb248VERhdGE+ID0+IHsKCQkJY29uc3QgcmVzb2x2ZWRYTGFiZWwgPSB0b0tleUxhYmVsKFN0cmluZyhzb3VyY2UueEtleSkpOwoJCQljb25zdCByZXNvbHZlZFBvaW50cyA9IHNvdXJjZS5kYXRhCgkJCQkubWFwPEFyZWFDaGFydFBvaW50PFREYXRhPiB8IG51bGw+KChkYXR1bSwgaW5kZXgpID0+IHsKCQkJCQljb25zdCBudW1lcmljVmFsdWUgPSBnZXROdW1lcmljVmFsdWUoZGF0dW1bc291cmNlLnlLZXldKTsKCQkJCQlpZiAobnVtZXJpY1ZhbHVlID09PSBudWxsKSByZXR1cm4gbnVsbDsKCQkJCQljb25zdCByYXdYID0gZGF0dW1bc291cmNlLnhLZXldOwoJCQkJCWNvbnN0IHRlbXBvcmFsID0gZ2V0VGVtcG9yYWxWYWx1ZShyYXdYKTsKCQkJCQljb25zdCByZXNvbHZlZFggPSB0ZW1wb3JhbCA/PyBpbmRleDsKCQkJCQljb25zdCBsYWJlbCA9CgkJCQkJCXNvdXJjZS5uYW1lS2V5ICYmIGRhdHVtW3NvdXJjZS5uYW1lS2V5XSAhPSBudWxsCgkJCQkJCQk/IFN0cmluZyhkYXR1bVtzb3VyY2UubmFtZUtleV0pCgkJCQkJCQk6IHR5cGVvZiByYXdYID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmF3WCA9PT0gJ251bWJlcicKCQkJCQkJCQk/IFN0cmluZyhyYXdYKQoJCQkJCQkJCTogYCR7cmVzb2x2ZWRYTGFiZWx9ICR7aW5kZXggKyAxfWA7CgkJCQkJcmV0dXJuIHsKCQkJCQkJaWQ6IGAke3NvdXJjZS5pZH0tJHtyZXNvbHZlZFh9LSR7aW5kZXh9YCwKCQkJCQkJc2VyaWVzSWQ6IHNvdXJjZS5pZCwKCQkJCQkJc2VyaWVzSW5kZXg6IHNvdXJjZS5zZXJpZXNJbmRleCwKCQkJCQkJZGF0dW0sCgkJCQkJCWluZGV4LAoJCQkJCQl4OiByZXNvbHZlZFgsCgkJCQkJCXhSYXc6IHJhd1gsCgkJCQkJCXk6IG51bWVyaWNWYWx1ZSwKCQkJCQkJbGFiZWwsCgkJCQkJCXZhbHVlOiBudW1lcmljVmFsdWUsCgkJCQkJfTsKCQkJCX0pCgkJCQkuZmlsdGVyKChwb2ludCk6IHBvaW50IGlzIEFyZWFDaGFydFBvaW50PFREYXRhPiA9PiBCb29sZWFuKHBvaW50KSk7CgoJCQljb25zdCBzb3J0ZWRQb2ludHMgPSAoKCkgPT4gewoJCQkJaWYgKHR5cGVvZiBzb3VyY2Uuc29ydFBvaW50cyA9PT0gJ2Z1bmN0aW9uJykgewoJCQkJCWNvbnN0IHNvcnRGbiA9IHNvdXJjZS5zb3J0UG9pbnRzOwoJCQkJCXJldHVybiBbLi4ucmVzb2x2ZWRQb2ludHNdLnNvcnQoKGEsIGIpID0+IHNvcnRGbihhLmRhdHVtLCBiLmRhdHVtKSk7CgkJCQl9CgkJCQlpZiAoc291cmNlLnNvcnRQb2ludHMpIHsKCQkJCQlyZXR1cm4gWy4uLnJlc29sdmVkUG9pbnRzXS5zb3J0KChhLCBiKSA9PiBhLnggLSBiLngpOwoJCQkJfQoJCQkJcmV0dXJuIHJlc29sdmVkUG9pbnRzOwoJCQl9KSgpOwoKCQkJY29uc3QgdG90YWxWYWx1ZSA9IHNvcnRlZFBvaW50cy5yZWR1Y2UoCgkJCQkoc3VtLCBwb2ludCkgPT4gc3VtICsgKE51bWJlci5pc0Zpbml0ZShwb2ludC52YWx1ZSkgPyBwb2ludC52YWx1ZSA6IDApLAoJCQkJMCwKCQkJKTsKCgkJCWNvbnN0IHJlc29sdmVkU2VyaWVzTGFiZWwgPSBzb3VyY2Uuc2VyaWVzTGFiZWw/LnRyaW0oKS5sZW5ndGgKCQkJCT8gc291cmNlLnNlcmllc0xhYmVsCgkJCQk6IHNvdXJjZS5uYW1lS2V5CgkJCQkJPyB0b0tleUxhYmVsKFN0cmluZyhzb3VyY2UubmFtZUtleSkpCgkJCQkJOiB0b0tleUxhYmVsKFN0cmluZyhzb3VyY2UueUtleSkpOwoKCQkJcmV0dXJuIHsKCQkJCWlkOiBzb3VyY2UuaWQsCgkJCQlzZXJpZXNJbmRleDogc291cmNlLnNlcmllc0luZGV4LAoJCQkJcG9pbnRzOiBzb3J0ZWRQb2ludHMsCgkJCQl0b3RhbDogdG90YWxWYWx1ZSwKCQkJCXNlcmllc0xhYmVsOiByZXNvbHZlZFNlcmllc0xhYmVsLAoJCQkJdmFsdWVMYWJlbDogdG9LZXlMYWJlbChTdHJpbmcoc291cmNlLnlLZXkpKSwKCQkJCWNvbG9yOiByZXNvbHZlQ29sb3Ioc291cmNlLmNvbG9yLCBzb3VyY2Uuc2VyaWVzSW5kZXgpLAoJCQkJLi4uKHNvdXJjZS55Rm9ybWF0dGVyID8geyB5Rm9ybWF0dGVyOiBzb3VyY2UueUZvcm1hdHRlciB9IDoge30pLAoJCQkJLi4uKHNvdXJjZS52YWx1ZUZvcm1hdHRlcgoJCQkJCT8geyB2YWx1ZUZvcm1hdHRlcjogc291cmNlLnZhbHVlRm9ybWF0dGVyIH0KCQkJCQk6IHt9KSwKCQkJfTsKCQl9OwoKCQljb25zdCBwcm92aXNpb25hbFNlcmllczogQXJlYUNoYXJ0U2VyaWVzQ29tcHV0YXRpb248VERhdGE+W10gPSBbCgkJCWJ1aWxkU2VyaWVzKHsKCQkJCWlkOiAnc2VyaWVzLTAnLAoJCQkJc2VyaWVzSW5kZXg6IDAsCgkJCQlkYXRhLAoJCQkJeEtleSwKCQkJCXlLZXksCgkJCQlzb3J0UG9pbnRzLAoJCQkJLi4uKG5hbWVLZXkgIT09IHVuZGVmaW5lZCA/IHsgbmFtZUtleSB9IDoge30pLAoJCQkJLi4uKGNvbG9yICE9PSB1bmRlZmluZWQgPyB7IGNvbG9yIH0gOiB7fSksCgkJCQkuLi4oc2VyaWVzTGFiZWwgIT09IHVuZGVmaW5lZCA/IHsgc2VyaWVzTGFiZWwgfSA6IHt9KSwKCQkJCS4uLih5Rm9ybWF0dGVyID8geyB5Rm9ybWF0dGVyIH0gOiB7fSksCgkJCQkuLi4odmFsdWVGb3JtYXR0ZXIgPyB7IHZhbHVlRm9ybWF0dGVyIH0gOiB7fSksCgkJCX0pLAoJCQkuLi5hZGRpdGlvbmFsU2VyaWVzLm1hcCgoY29uZmlnLCBpbmRleCkgPT4gewoJCQkJY29uc3QgcmVzb2x2ZWROYW1lS2V5ID0gY29uZmlnLm5hbWVLZXkgPz8gbmFtZUtleTsKCQkJCXJldHVybiBidWlsZFNlcmllcyh7CgkJCQkJaWQ6IGNvbmZpZy5pZCA/PyBgc2VyaWVzLSR7aW5kZXggKyAxfWAsCgkJCQkJc2VyaWVzSW5kZXg6IGluZGV4ICsgMSwKCQkJCQlkYXRhOiBjb25maWcuZGF0YSA/PyBkYXRhLAoJCQkJCXhLZXk6IGNvbmZpZy54S2V5ID8/IHhLZXksCgkJCQkJeUtleTogY29uZmlnLnlLZXksCgkJCQkJc29ydFBvaW50czogY29uZmlnLnNvcnRQb2ludHMgPz8gc29ydFBvaW50cywKCQkJCQkuLi4ocmVzb2x2ZWROYW1lS2V5ICE9PSB1bmRlZmluZWQKCQkJCQkJPyB7IG5hbWVLZXk6IHJlc29sdmVkTmFtZUtleSB9CgkJCQkJCToge30pLAoJCQkJCS4uLihjb25maWcuY29sb3IgIT09IHVuZGVmaW5lZCA/IHsgY29sb3I6IGNvbmZpZy5jb2xvciB9IDoge30pLAoJCQkJCS4uLihjb25maWcuc2VyaWVzTGFiZWwgIT09IHVuZGVmaW5lZAoJCQkJCQk/IHsgc2VyaWVzTGFiZWw6IGNvbmZpZy5zZXJpZXNMYWJlbCB9CgkJCQkJCToge30pLAoJCQkJCS4uLihjb25maWcueUZvcm1hdHRlciA/IHsgeUZvcm1hdHRlcjogY29uZmlnLnlGb3JtYXR0ZXIgfSA6IHt9KSwKCQkJCQkuLi4oY29uZmlnLnZhbHVlRm9ybWF0dGVyCgkJCQkJCT8geyB2YWx1ZUZvcm1hdHRlcjogY29uZmlnLnZhbHVlRm9ybWF0dGVyIH0KCQkJCQkJOiB7fSksCgkJCQl9KTsKCQkJfSksCgkJXTsKCgkJY29uc3QgYWxsUG9pbnRzID0gcHJvdmlzaW9uYWxTZXJpZXMuZmxhdE1hcCgoc2VyaWVzKSA9PiBzZXJpZXMucG9pbnRzKTsKCQljb25zdCB4VmFsdWVzID0gYWxsUG9pbnRzLm1hcCgocG9pbnQpID0+IHBvaW50LngpOwoJCWNvbnN0IHlWYWx1ZXMgPSBhbGxQb2ludHMubWFwKChwb2ludCkgPT4gcG9pbnQudmFsdWUpOwoKCQljb25zdCBtaW5YID0geFZhbHVlcy5sZW5ndGggPyBNYXRoLm1pbiguLi54VmFsdWVzKSA6IDA7CgkJY29uc3QgbWF4WCA9IHhWYWx1ZXMubGVuZ3RoID8gTWF0aC5tYXgoLi4ueFZhbHVlcykgOiAxOwoJCWNvbnN0IG1pblkgPSB5VmFsdWVzLmxlbmd0aCA/IE1hdGgubWluKC4uLnlWYWx1ZXMsIDApIDogMDsKCQljb25zdCBtYXhZID0geVZhbHVlcy5sZW5ndGggPyBNYXRoLm1heCguLi55VmFsdWVzLCAwKSA6IDE7CgoJCWNvbnN0IHJlc29sdmVkWERvbWFpbjogW251bWJlciwgbnVtYmVyXSA9CgkJCW1pblggPT09IG1heFggPyBbbWluWCAtIDEsIG1heFggKyAxXSA6IFttaW5YLCBtYXhYXTsKCgkJY29uc3QgcmF3WVJhbmdlID0gbWF4WSAtIG1pblk7CgkJY29uc3QgbWFnbml0dWRlRmFsbGJhY2sgPSBNYXRoLm1heChNYXRoLmFicyhtYXhZKSwgTWF0aC5hYnMobWluWSksIDEpOwoJCWNvbnN0IHlQYWRkaW5nID0KCQkJTnVtYmVyLmlzRmluaXRlKHJhd1lSYW5nZSkgJiYgcmF3WVJhbmdlID4gMAoJCQkJPyByYXdZUmFuZ2UgKiAwLjEKCQkJCTogbWFnbml0dWRlRmFsbGJhY2sgKiAwLjE7CgoJCWNvbnN0IHBhZGRlZE1heFkgPSBOdW1iZXIuaXNGaW5pdGUobWF4WSkgPyBtYXhZICsgeVBhZGRpbmcgOiBtYXhZOwoJCWxldCBwYWRkZWRNaW5ZID0gTnVtYmVyLmlzRmluaXRlKG1pblkpID8gbWluWSA6IDA7CgoJCWlmIChtaW5ZIDwgMCkgewoJCQlwYWRkZWRNaW5ZIC09IHlQYWRkaW5nOwoJCX0gZWxzZSB7CgkJCXBhZGRlZE1pblkgPSBNYXRoLm1pbihtaW5ZLCAwKTsKCQl9CgoJCWNvbnN0IHBhZGRlZFlEb21haW46IFtudW1iZXIsIG51bWJlcl0gPQoJCQltaW5ZID09PSBtYXhZCgkJCQk/IFttaW5ZIC0gbWFnbml0dWRlRmFsbGJhY2ssIG1heFkgKyBtYWduaXR1ZGVGYWxsYmFja10KCQkJCTogW3BhZGRlZE1pblksIHBhZGRlZE1heFldOwoKCQljb25zdCByZXNvbHZlZFlEb21haW4gPSBhbGlnbkRvbWFpblRvTmljZVZhbHVlcygKCQkJcGFkZGVkWURvbWFpbiwKCQkJREVGQVVMVF9ZX1RJQ0tfVEFSR0VULAoJCSk7CgoJCWNvbnN0IHNlcmllc0NvbGxlY3Rpb24gPSBwcm92aXNpb25hbFNlcmllcy5tYXAoCgkJCSh7CgkJCQl5Rm9ybWF0dGVyOiBzZXJpZXNZRm9ybWF0dGVyLAoJCQkJdmFsdWVGb3JtYXR0ZXI6IHNlcmllc1ZhbHVlRm9ybWF0dGVyLAoJCQkJLi4ucmVzdAoJCQl9KSA9PiAoewoJCQkJLi4ucmVzdCwKCQkJCWZvcm1hdFk6IChwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+KSA9PiB7CgkJCQkJaWYgKHNlcmllc1ZhbHVlRm9ybWF0dGVyKSB7CgkJCQkJCXJldHVybiBzZXJpZXNWYWx1ZUZvcm1hdHRlcihwb2ludCwgewoJCQkJCQkJdG90YWw6IHJlc3QudG90YWwsCgkJCQkJCQlkb21haW46IHJlc29sdmVkWURvbWFpbiwKCQkJCQkJfSk7CgkJCQkJfQoJCQkJCWlmIChzZXJpZXNZRm9ybWF0dGVyKSB7CgkJCQkJCXJldHVybiBzZXJpZXNZRm9ybWF0dGVyKHBvaW50LCB7CgkJCQkJCQl0b3RhbDogcmVzdC50b3RhbCwKCQkJCQkJCWRvbWFpbjogcmVzb2x2ZWRZRG9tYWluLAoJCQkJCQl9KTsKCQkJCQl9CgkJCQkJcmV0dXJuIHBvaW50LnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7CgkJCQl9LAoJCQl9KSwKCQkpOwoKCQlyZXR1cm4gewoJCQlzZXJpZXNDb2xsZWN0aW9uLAoJCQl4RG9tYWluOiByZXNvbHZlZFhEb21haW4sCgkJCXlEb21haW46IHJlc29sdmVkWURvbWFpbiwKCQl9OwoJfSwgWwoJCWFkZGl0aW9uYWxTZXJpZXMsCgkJY29sb3IsCgkJZGF0YSwKCQluYW1lS2V5LAoJCXNlcmllc0xhYmVsLAoJCXNvcnRQb2ludHMsCgkJdmFsdWVGb3JtYXR0ZXIsCgkJeEtleSwKCQl5Rm9ybWF0dGVyLAoJCXlLZXksCgldKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmIChhY3RpdmVQb2ludElkKSB7CgkJCWNvbnN0IG1hdGNoZXMgPSBzZXJpZXNDb2xsZWN0aW9uLnNvbWUoKHNlcmllcykgPT4KCQkJCXNlcmllcy5wb2ludHMuc29tZSgocG9pbnQpID0+IHBvaW50LmlkID09PSBhY3RpdmVQb2ludElkKSwKCQkJKTsKCQkJaWYgKCFtYXRjaGVzKSB7CgkJCQlzZXRBY3RpdmVQb2ludElkKG51bGwpOwoJCQkJc2V0QWN0aXZlUG9pbnRYKG51bGwpOwoJCQl9CgkJfQoJCWlmIChhY3RpdmVQb2ludFggIT09IG51bGwpIHsKCQkJY29uc3QgaGFzWCA9IHNlcmllc0NvbGxlY3Rpb24uc29tZSgoc2VyaWVzKSA9PgoJCQkJc2VyaWVzLnBvaW50cy5zb21lKChwb2ludCkgPT4gcG9pbnQueCA9PT0gYWN0aXZlUG9pbnRYKSwKCQkJKTsKCQkJaWYgKCFoYXNYKSB7CgkJCQlzZXRBY3RpdmVQb2ludFgobnVsbCk7CgkJCX0KCQl9Cgl9LCBbYWN0aXZlUG9pbnRJZCwgYWN0aXZlUG9pbnRYLCBzZXJpZXNDb2xsZWN0aW9uXSk7CgoJY29uc3QgcHJpbWFyeVNlcmllcyA9IFJlYWN0LnVzZU1lbW88QXJlYUNoYXJ0U2VyaWVzU3RhdGU8VERhdGE+PigoKSA9PiB7CgkJY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNDb2xsZWN0aW9uWzBdOwoJCWlmIChmaXJzdFNlcmllcykgewoJCQlyZXR1cm4gZmlyc3RTZXJpZXM7CgkJfQoJCWNvbnN0IGZhbGxiYWNrTGFiZWwgPSBzZXJpZXNMYWJlbD8udHJpbSgpLmxlbmd0aAoJCQk/IHNlcmllc0xhYmVsCgkJCTogbmFtZUtleQoJCQkJPyB0b0tleUxhYmVsKFN0cmluZyhuYW1lS2V5KSkKCQkJCTogdG9LZXlMYWJlbChTdHJpbmcoeUtleSkpOwoKCQlyZXR1cm4gewoJCQlpZDogJ3Nlcmllcy0wJywKCQkJc2VyaWVzSW5kZXg6IDAsCgkJCXBvaW50czogW10sCgkJCXRvdGFsOiAwLAoJCQlzZXJpZXNMYWJlbDogZmFsbGJhY2tMYWJlbCwKCQkJdmFsdWVMYWJlbDogdG9LZXlMYWJlbChTdHJpbmcoeUtleSkpLAoJCQljb2xvcjogcmVzb2x2ZUNvbG9yKGNvbG9yLCAwKSwKCQkJZm9ybWF0WTogKCkgPT4gJzAnLAoJCX0gc2F0aXNmaWVzIEFyZWFDaGFydFNlcmllc1N0YXRlPFREYXRhPjsKCX0sIFtzZXJpZXNDb2xsZWN0aW9uLCBjb2xvciwgbmFtZUtleSwgc2VyaWVzTGFiZWwsIHlLZXldKTsKCgljb25zdCBzZXJpZXNCeUlkID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJY29uc3QgbWFwID0gbmV3IE1hcDxzdHJpbmcsIEFyZWFDaGFydFNlcmllc1N0YXRlPFREYXRhPj4oKTsKCQlmb3IgKGNvbnN0IHNlcmllcyBvZiBzZXJpZXNDb2xsZWN0aW9uKSB7CgkJCW1hcC5zZXQoc2VyaWVzLmlkLCBzZXJpZXMpOwoJCX0KCQlyZXR1cm4gbWFwOwoJfSwgW3Nlcmllc0NvbGxlY3Rpb25dKTsKCgljb25zdCBmb3JtYXRYID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4pID0+CgkJCXhGb3JtYXR0ZXIgPyB4Rm9ybWF0dGVyKHBvaW50KSA6IGdldFBvaW50TGFiZWxUZXh0KHBvaW50KSwKCQlbeEZvcm1hdHRlcl0sCgkpOwoKCWNvbnN0IGZvcm1hdFkgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkocG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPikgPT4gcHJpbWFyeVNlcmllcy5mb3JtYXRZKHBvaW50KSwKCQlbcHJpbWFyeVNlcmllc10sCgkpOwoKCWNvbnN0IGZvcm1hdFlGb3JTZXJpZXMgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoc2VyaWVzSWQ6IHN0cmluZywgcG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPikgPT4gewoJCQljb25zdCB0YXJnZXQgPSBzZXJpZXNCeUlkLmdldChzZXJpZXNJZCkgPz8gcHJpbWFyeVNlcmllczsKCQkJcmV0dXJuIHRhcmdldC5mb3JtYXRZKHBvaW50KTsKCQl9LAoJCVtzZXJpZXNCeUlkLCBwcmltYXJ5U2VyaWVzXSwKCSk7CgoJY29uc3QgY29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbzxBcmVhQ2hhcnRDb250ZXh0VmFsdWU8VERhdGE+PigKCQkoKSA9PiAoewoJCQlzZXJpZXM6IHNlcmllc0NvbGxlY3Rpb24sCgkJCXBvaW50czogcHJpbWFyeVNlcmllcy5wb2ludHMsCgkJCXRvdGFsOiBwcmltYXJ5U2VyaWVzLnRvdGFsLAoJCQlzZXJpZXNMYWJlbDogcHJpbWFyeVNlcmllcy5zZXJpZXNMYWJlbCwKCQkJY29sb3I6IHByaW1hcnlTZXJpZXMuY29sb3IsCgkJCXhEb21haW4sCgkJCXlEb21haW4sCgkJCWZvcm1hdFgsCgkJCWZvcm1hdFksCgkJCWZvcm1hdFlGb3JTZXJpZXMsCgkJCXZhbHVlTGFiZWw6IHByaW1hcnlTZXJpZXMudmFsdWVMYWJlbCwKCQkJeExhYmVsLAoJCQlhY3RpdmVQb2ludElkLAoJCQlzZXRBY3RpdmVQb2ludElkLAoJCQlhY3RpdmVQb2ludFgsCgkJCXNldEFjdGl2ZVBvaW50WCwKCQl9KSwKCQlbCgkJCWFjdGl2ZVBvaW50SWQsCgkJCWZvcm1hdFgsCgkJCWZvcm1hdFksCgkJCWZvcm1hdFlGb3JTZXJpZXMsCgkJCXByaW1hcnlTZXJpZXMsCgkJCXNlcmllc0NvbGxlY3Rpb24sCgkJCXhEb21haW4sCgkJCXhMYWJlbCwKCQkJeURvbWFpbiwKCQkJYWN0aXZlUG9pbnRYLAoJCV0sCgkpOwoKCXJldHVybiAoCgkJPEFyZWFDaGFydENvbnRleHQuUHJvdmlkZXIKCQkJdmFsdWU9e2NvbnRleHRWYWx1ZSBhcyBBcmVhQ2hhcnRDb250ZXh0VmFsdWU8Q2hhcnREYXR1bT59CgkJPgoJCQk8ZGl2CgkJCQlyZWY9e3JlZn0KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ25vdC1wcm9zZSByZWxhdGl2ZSBmbGV4IGZsZXgtY29sIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBzaGFkb3ctbWQgb3ZlcmZsb3ctaGlkZGVuJywKCQkJCQljbGFzc05hbWUsCgkJCQkpfQoJCQkJey4uLnJlc3R9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9kaXY+CgkJPC9BcmVhQ2hhcnRDb250ZXh0LlByb3ZpZGVyPgoJKTsKfQoKdHlwZSBBcmVhQ2hhcnRDb21wb25lbnQgPSA8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4oCglwcm9wczogQXJlYUNoYXJ0UHJvcHM8VERhdGE+ICYgeyByZWY/OiBSZWFjdC5SZWY8SFRNTERpdkVsZW1lbnQ+IH0sCikgPT4gUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbDsKCmNvbnN0IEFyZWFDaGFydFJvb3QgPSBSZWFjdC5mb3J3YXJkUmVmKAoJQXJlYUNoYXJ0Um9vdElubmVyLAopIGFzIEFyZWFDaGFydENvbXBvbmVudDsKCmNvbnN0IEFSRUFfQ0hBUlRfQUNUSU9OU19NQVJLRVIgPSBTeW1ib2woJ0FyZWFDaGFydEFjdGlvbnMnKTsKY29uc3QgQVJFQV9DSEFSVF9USVRMRV9NQVJLRVIgPSBTeW1ib2woJ0FyZWFDaGFydFRpdGxlJyk7CmNvbnN0IEFSRUFfQ0hBUlRfREVTQ1JJUFRJT05fTUFSS0VSID0gU3ltYm9sKCdBcmVhQ2hhcnREZXNjcmlwdGlvbicpOwoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnRUaXRsZVByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhcz86IFJlYWN0LkVsZW1lbnRUeXBlOwp9Cgp0eXBlIEFyZWFDaGFydFRpdGxlQ29tcG9uZW50ID0gUmVhY3QuRkM8QXJlYUNoYXJ0VGl0bGVQcm9wcz4gJiB7CglbQVJFQV9DSEFSVF9USVRMRV9NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydFRpdGxlID0gKCh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXM6IENvbXBvbmVudCA9ICdoMycsCgkuLi5wcm9wcwp9OiBBcmVhQ2hhcnRUaXRsZVByb3BzKSA9PiB7CglyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgKCQlDb21wb25lbnQsCgkJewoJCQljbGFzc05hbWU6IGNuKAoJCQkJJ25vdC1wcm9zZSB0ZXh0LWJhc2UgZm9udC1tZWRpdW0gbGVhZGluZy1ub25lIHRleHQtZm9yZWdyb3VuZCcsCgkJCQljbGFzc05hbWUsCgkJCSksCgkJCS4uLnByb3BzLAoJCX0sCgkJY2hpbGRyZW4sCgkpOwp9KSBhcyBBcmVhQ2hhcnRUaXRsZUNvbXBvbmVudDsKQXJlYUNoYXJ0VGl0bGUuZGlzcGxheU5hbWUgPSAnQXJlYUNoYXJ0VGl0bGUnOwpBcmVhQ2hhcnRUaXRsZVtBUkVBX0NIQVJUX1RJVExFX01BUktFUl0gPSB0cnVlOwoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnREZXNjcmlwdGlvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgp0eXBlIEFyZWFDaGFydERlc2NyaXB0aW9uQ29tcG9uZW50ID0gUmVhY3QuRkM8QXJlYUNoYXJ0RGVzY3JpcHRpb25Qcm9wcz4gJiB7CglbQVJFQV9DSEFSVF9ERVNDUklQVElPTl9NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydERlc2NyaXB0aW9uID0gKCh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfTogQXJlYUNoYXJ0RGVzY3JpcHRpb25Qcm9wcykgPT4gewoJcmV0dXJuICgKCQk8cAoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSB0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNzAnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9wPgoJKTsKfSkgYXMgQXJlYUNoYXJ0RGVzY3JpcHRpb25Db21wb25lbnQ7CkFyZWFDaGFydERlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gJ0FyZWFDaGFydERlc2NyaXB0aW9uJzsKQXJlYUNoYXJ0RGVzY3JpcHRpb25bQVJFQV9DSEFSVF9ERVNDUklQVElPTl9NQVJLRVJdID0gdHJ1ZTsKCmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNoYXJ0QWN0aW9uc1Byb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgp0eXBlIEFyZWFDaGFydEFjdGlvbnNDb21wb25lbnQgPSBSZWFjdC5GQzxBcmVhQ2hhcnRBY3Rpb25zUHJvcHM+ICYgewoJW0FSRUFfQ0hBUlRfQUNUSU9OU19NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydEFjdGlvbnMgPSAoKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSA9ICcnLCAuLi5wcm9wcyB9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgc2VsZi1zdGFydCBzbTpzZWxmLWF1dG8nLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9KSBhcyBBcmVhQ2hhcnRBY3Rpb25zQ29tcG9uZW50OwpBcmVhQ2hhcnRBY3Rpb25zLmRpc3BsYXlOYW1lID0gJ0FyZWFDaGFydEFjdGlvbnMnOwpBcmVhQ2hhcnRBY3Rpb25zW0FSRUFfQ0hBUlRfQUNUSU9OU19NQVJLRVJdID0gdHJ1ZTsKCmZ1bmN0aW9uIGhhc0FyZWFDaGFydE1hcmtlcigKCXRhcmdldDogdW5rbm93biwKCW1hcmtlcjogc3ltYm9sLAopOiB0YXJnZXQgaXMgeyBba2V5OiBzeW1ib2xdOiB1bmtub3duIH0gewoJaWYgKCF0YXJnZXQpIHJldHVybiBmYWxzZTsKCWlmICgKCQkodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JykgJiYKCQl0YXJnZXQgIT09IG51bGwgJiYKCQlSZWZsZWN0LmdldCh0YXJnZXQsIG1hcmtlcikKCSkgewoJCXJldHVybiB0cnVlOwoJfQoJaWYgKAoJCXR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnICYmCgkJdGFyZ2V0ICE9PSBudWxsICYmCgkJJ3R5cGUnIGluIHRhcmdldCAmJgoJCSh0YXJnZXQgYXMgeyB0eXBlPzogdW5rbm93biB9KS50eXBlCgkpIHsKCQlyZXR1cm4gaGFzQXJlYUNoYXJ0TWFya2VyKCh0YXJnZXQgYXMgeyB0eXBlPzogdW5rbm93biB9KS50eXBlLCBtYXJrZXIpOwoJfQoJcmV0dXJuIGZhbHNlOwp9CgpmdW5jdGlvbiBjbG9uZUVsZW1lbnRXaXRoQ2xhc3NOYW1lPFRQcm9wcyBleHRlbmRzIHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+KAoJZWxlbWVudDogUmVhY3QuUmVhY3RFbGVtZW50PFRQcm9wcz4sCglhZGRpdGlvbmFsQ2xhc3NOYW1lPzogc3RyaW5nLAopIHsKCWlmICghYWRkaXRpb25hbENsYXNzTmFtZSkgewoJCXJldHVybiBlbGVtZW50OwoJfQoJY29uc3QgbWVyZ2VkQ2xhc3NOYW1lID0gY24oZWxlbWVudC5wcm9wcy5jbGFzc05hbWUsIGFkZGl0aW9uYWxDbGFzc05hbWUpOwoJcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCB7CgkJY2xhc3NOYW1lOiBtZXJnZWRDbGFzc05hbWUsCgl9IGFzIFBhcnRpYWw8VFByb3BzPiAmIFJlYWN0LkF0dHJpYnV0ZXMpOwp9CgpmdW5jdGlvbiBpc0FyZWFDaGFydEFjdGlvbnNFbGVtZW50KAoJY2hpbGQ6IFJlYWN0LlJlYWN0Tm9kZSwKKTogY2hpbGQgaXMgUmVhY3QuUmVhY3RFbGVtZW50IHsKCWlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSByZXR1cm4gZmFsc2U7Cgljb25zdCB7IHR5cGUgfSA9IGNoaWxkOwoJaWYgKHR5cGUgPT09IEFyZWFDaGFydEFjdGlvbnMpIHJldHVybiB0cnVlOwoJaWYgKGhhc0FyZWFDaGFydE1hcmtlcih0eXBlLCBBUkVBX0NIQVJUX0FDVElPTlNfTUFSS0VSKSkgcmV0dXJuIHRydWU7Cgljb25zdCBkaXNwbGF5TmFtZSA9CgkJdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKQoJCQk/ICh0eXBlIGFzIHsgZGlzcGxheU5hbWU/OiBzdHJpbmcgfSkuZGlzcGxheU5hbWUKCQkJOiB1bmRlZmluZWQ7CglyZXR1cm4gZGlzcGxheU5hbWUgPT09IEFyZWFDaGFydEFjdGlvbnMuZGlzcGxheU5hbWU7Cn0KCmZ1bmN0aW9uIGlzQXJlYUNoYXJ0VGl0bGVFbGVtZW50KAoJY2hpbGQ6IFJlYWN0LlJlYWN0Tm9kZSwKKTogY2hpbGQgaXMgUmVhY3QuUmVhY3RFbGVtZW50PEFyZWFDaGFydFRpdGxlUHJvcHM+IHsKCWlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSByZXR1cm4gZmFsc2U7Cgljb25zdCB7IHR5cGUgfSA9IGNoaWxkOwoJaWYgKHR5cGUgPT09IEFyZWFDaGFydFRpdGxlKSByZXR1cm4gdHJ1ZTsKCWlmIChoYXNBcmVhQ2hhcnRNYXJrZXIodHlwZSwgQVJFQV9DSEFSVF9USVRMRV9NQVJLRVIpKSByZXR1cm4gdHJ1ZTsKCWNvbnN0IGRpc3BsYXlOYW1lID0KCQl0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpCgkJCT8gKHR5cGUgYXMgeyBkaXNwbGF5TmFtZT86IHN0cmluZyB9KS5kaXNwbGF5TmFtZQoJCQk6IHVuZGVmaW5lZDsKCXJldHVybiBkaXNwbGF5TmFtZSA9PT0gQXJlYUNoYXJ0VGl0bGUuZGlzcGxheU5hbWU7Cn0KCmZ1bmN0aW9uIGlzQXJlYUNoYXJ0RGVzY3JpcHRpb25FbGVtZW50KAoJY2hpbGQ6IFJlYWN0LlJlYWN0Tm9kZSwKKTogY2hpbGQgaXMgUmVhY3QuUmVhY3RFbGVtZW50PEFyZWFDaGFydERlc2NyaXB0aW9uUHJvcHM+IHsKCWlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSByZXR1cm4gZmFsc2U7Cgljb25zdCB7IHR5cGUgfSA9IGNoaWxkOwoJaWYgKHR5cGUgPT09IEFyZWFDaGFydERlc2NyaXB0aW9uKSByZXR1cm4gdHJ1ZTsKCWlmIChoYXNBcmVhQ2hhcnRNYXJrZXIodHlwZSwgQVJFQV9DSEFSVF9ERVNDUklQVElPTl9NQVJLRVIpKSByZXR1cm4gdHJ1ZTsKCWNvbnN0IGRpc3BsYXlOYW1lID0KCQl0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpCgkJCT8gKHR5cGUgYXMgeyBkaXNwbGF5TmFtZT86IHN0cmluZyB9KS5kaXNwbGF5TmFtZQoJCQk6IHVuZGVmaW5lZDsKCXJldHVybiBkaXNwbGF5TmFtZSA9PT0gQXJlYUNoYXJ0RGVzY3JpcHRpb24uZGlzcGxheU5hbWU7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNoYXJ0SGVhZGVyUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNvbnRlbnRDbGFzc05hbWU/OiBzdHJpbmc7Cgl0aXRsZUNsYXNzTmFtZT86IHN0cmluZzsKCWRlc2NyaXB0aW9uQ2xhc3NOYW1lPzogc3RyaW5nOwoJYWN0aW9uc0NsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydEhlYWRlciA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCUFyZWFDaGFydEhlYWRlclByb3BzCj4oCgkoCgkJewoJCQljbGFzc05hbWUgPSAnJywKCQkJY2hpbGRyZW4sCgkJCWNvbnRlbnRDbGFzc05hbWUsCgkJCXRpdGxlQ2xhc3NOYW1lLAoJCQlkZXNjcmlwdGlvbkNsYXNzTmFtZSwKCQkJYWN0aW9uc0NsYXNzTmFtZSwKCQkJLi4ucHJvcHMKCQl9LAoJCXJlZiwKCSkgPT4gewoJCWNvbnN0IGNoaWxkcmVuQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKTsKCQljb25zdCBtYWluQ2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVtdID0gW107CgkJY29uc3QgYWN0aW9uQ2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVtdID0gW107CgoJCWNoaWxkcmVuQXJyYXkuZm9yRWFjaCgoY2hpbGQpID0+IHsKCQkJaWYgKGlzQXJlYUNoYXJ0QWN0aW9uc0VsZW1lbnQoY2hpbGQpKSB7CgkJCQlhY3Rpb25DaGlsZHJlbi5wdXNoKGNoaWxkKTsKCQkJfSBlbHNlIGlmIChjaGlsZCAhPT0gbnVsbCkgewoJCQkJbWFpbkNoaWxkcmVuLnB1c2goY2hpbGQpOwoJCQl9CgkJfSk7CgoJCWNvbnN0IGVuaGFuY2VkTWFpbkNoaWxkcmVuID0gbWFpbkNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IHsKCQkJaWYgKGlzQXJlYUNoYXJ0VGl0bGVFbGVtZW50KGNoaWxkKSkgewoJCQkJcmV0dXJuIGNsb25lRWxlbWVudFdpdGhDbGFzc05hbWUoCgkJCQkJY2hpbGQgYXMgUmVhY3QuUmVhY3RFbGVtZW50PHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+LAoJCQkJCXRpdGxlQ2xhc3NOYW1lLAoJCQkJKTsKCQkJfQoJCQlpZiAoaXNBcmVhQ2hhcnREZXNjcmlwdGlvbkVsZW1lbnQoY2hpbGQpKSB7CgkJCQlyZXR1cm4gY2xvbmVFbGVtZW50V2l0aENsYXNzTmFtZSgKCQkJCQljaGlsZCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT4sCgkJCQkJZGVzY3JpcHRpb25DbGFzc05hbWUsCgkJCQkpOwoJCQl9CgkJCXJldHVybiBjaGlsZDsKCQl9KTsKCgkJY29uc3QgZW5oYW5jZWRBY3Rpb25DaGlsZHJlbiA9IGFjdGlvbkNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IHsKCQkJaWYgKGlzQXJlYUNoYXJ0QWN0aW9uc0VsZW1lbnQoY2hpbGQpKSB7CgkJCQlyZXR1cm4gY2xvbmVFbGVtZW50V2l0aENsYXNzTmFtZSgKCQkJCQljaGlsZCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT4sCgkJCQkJYWN0aW9uc0NsYXNzTmFtZSwKCQkJCSk7CgkJCX0KCQkJcmV0dXJuIGNoaWxkOwoJCX0pOwoKCQlyZXR1cm4gKAoJCQk8ZGl2CgkJCQlyZWY9e3JlZn0KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ25vdC1wcm9zZSBmbGV4IGZsZXgtY29sIGdhcC0zIHB4LTQgcHQtNCBzbTpmbGV4LXJvdyBzbTppdGVtcy1zdGFydCBzbTpqdXN0aWZ5LWJldHdlZW4gc206Z2FwLTQnLAoJCQkJCWNsYXNzTmFtZSwKCQkJCSl9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCXtlbmhhbmNlZE1haW5DaGlsZHJlbi5sZW5ndGggPyAoCgkJCQkJPGRpdiBjbGFzc05hbWU9e2NuKCdzcGFjZS15LTEgc206ZmxleC0xJywgY29udGVudENsYXNzTmFtZSl9PgoJCQkJCQl7ZW5oYW5jZWRNYWluQ2hpbGRyZW59CgkJCQkJPC9kaXY+CgkJCQkpIDogbnVsbH0KCQkJCXtlbmhhbmNlZEFjdGlvbkNoaWxkcmVuLmxlbmd0aCA/IGVuaGFuY2VkQWN0aW9uQ2hpbGRyZW4gOiBudWxsfQoJCQk8L2Rpdj4KCQkpOwoJfSwKKTsKQXJlYUNoYXJ0SGVhZGVyLmRpc3BsYXlOYW1lID0gJ0FyZWFDaGFydEhlYWRlcic7CgpleHBvcnQgaW50ZXJmYWNlIEFyZWFDaGFydFRvb2x0aXBTZXJpZXNFbnRyeTwKCVREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0sCj4gewoJc2VyaWVzSWQ6IHN0cmluZzsKCXNlcmllc0xhYmVsOiBzdHJpbmc7CglzZXJpZXNDb2xvcjogc3RyaW5nOwoJdmFsdWVMYWJlbDogc3RyaW5nOwoJcG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPjsKCXZhbHVlOiBudW1iZXI7Cglmb3JtYXR0ZWRWYWx1ZTogUmVhY3QuUmVhY3ROb2RlOwoJZm9ybWF0dGVkVmFsdWVUZXh0OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNoYXJ0VG9vbHRpcEluZm88VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4gewoJcG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPjsKCXZhbHVlOiBudW1iZXI7CglzZXJpZXNJZDogc3RyaW5nOwoJc2VyaWVzTGFiZWw6IHN0cmluZzsKCXNlcmllc0NvbG9yOiBzdHJpbmc7Cgl2YWx1ZUxhYmVsOiBzdHJpbmc7Cglmb3JtYXR0ZWRYOiBSZWFjdC5SZWFjdE5vZGU7Cglmb3JtYXR0ZWRZOiBSZWFjdC5SZWFjdE5vZGU7Cglmb3JtYXR0ZWRYVGV4dDogc3RyaW5nOwoJZm9ybWF0dGVkWVRleHQ6IHN0cmluZzsKCXNlcmllc0VudHJpZXM6IEFyZWFDaGFydFRvb2x0aXBTZXJpZXNFbnRyeTxURGF0YT5bXTsKfQoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnRHcmFwaFByb3BzPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+CglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgloZWlnaHQ/OiBudW1iZXIgfCBzdHJpbmc7CgljdXJ2ZT86IEFyZWFDaGFydEN1cnZlOwoJc2hvd1Rvb2x0aXA/OiBib29sZWFuOwoJdG9vbHRpcFJlbmRlcj86IChpbmZvOiBBcmVhQ2hhcnRUb29sdGlwSW5mbzxURGF0YT4pID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXNob3dEb3RzPzogYm9vbGVhbjsKCWxvYWRpbmc/OiBib29sZWFuOwoJbG9hZGluZ1N0YXRlPzogUmVhY3QuUmVhY3ROb2RlOwoJZW1wdHlTdGF0ZT86IFJlYWN0LlJlYWN0Tm9kZTsKCWVycm9yPzogUmVhY3QuUmVhY3ROb2RlOwoJYXJpYUxhYmVsPzogc3RyaW5nOwoJc2hvd0dyaWQ/OiBib29sZWFuOwoJc2hvd1hBeGlzVmFsdWVzPzogYm9vbGVhbjsKCXNob3dZQXhpc1ZhbHVlcz86IGJvb2xlYW47Cgl4VGlja0NvdW50PzogbnVtYmVyOwoJeVRpY2tDb3VudD86IG51bWJlcjsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpmdW5jdGlvbiBBcmVhQ2hhcnRTdGF0ZSh7CglsYWJlbCwKCWRlc2NyaXB0aW9uLAp9OiB7CglsYWJlbDogc3RyaW5nOwoJZGVzY3JpcHRpb24/OiBSZWFjdC5SZWFjdE5vZGU7Cn0pIHsKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9ImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWRhc2hlZCBib3JkZXItYm9yZGVyLzYwIGJnLWNhcmQtbXV0ZWQvMzAgcHgtNCBweS0xMCB0ZXh0LWNlbnRlciI+CgkJCTxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgoJCQkJPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCI+e2xhYmVsfTwvcD4KCQkJCXtkZXNjcmlwdGlvbiA/ICgKCQkJCQk8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIj57ZGVzY3JpcHRpb259PC9wPgoJCQkJKSA6IG51bGx9CgkJCTwvZGl2PgoJCTwvZGl2PgoJKTsKfQoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydEdyYXBoQmFzZSA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCUFyZWFDaGFydEdyYXBoUHJvcHM8Q2hhcnREYXR1bT4KPihmdW5jdGlvbiBBcmVhQ2hhcnRHcmFwaElubmVyKAoJewoJCWhlaWdodCwKCQljdXJ2ZSA9ICdtb25vdG9uZScsCgkJc2hvd1Rvb2x0aXAgPSB0cnVlLAoJCXRvb2x0aXBSZW5kZXIsCgkJc2hvd0RvdHMgPSB0cnVlLAoJCWxvYWRpbmcgPSBmYWxzZSwKCQlsb2FkaW5nU3RhdGUsCgkJZW1wdHlTdGF0ZSwKCQllcnJvciwKCQlhcmlhTGFiZWwsCgkJc2hvd0dyaWQgPSB0cnVlLAoJCXNob3dYQXhpc1ZhbHVlcyA9IHRydWUsCgkJc2hvd1lBeGlzVmFsdWVzID0gdHJ1ZSwKCQl4VGlja0NvdW50ID0gNCwKCQl5VGlja0NvdW50ID0gREVGQVVMVF9ZX1RJQ0tfVEFSR0VULAoJCWNoaWxkcmVuLAoJCWNsYXNzTmFtZSwKCQlzdHlsZSwKCQkuLi5yZXN0Cgl9OiBBcmVhQ2hhcnRHcmFwaFByb3BzPENoYXJ0RGF0dW0+LAoJcmVmLAopIHsKCWNvbnN0IHsKCQlzZXJpZXMsCgkJZm9ybWF0WCwKCQlmb3JtYXRZRm9yU2VyaWVzLAoJCXhEb21haW4sCgkJeURvbWFpbiwKCQlhY3RpdmVQb2ludElkLAoJCXNldEFjdGl2ZVBvaW50SWQsCgkJYWN0aXZlUG9pbnRYLAoJCXNldEFjdGl2ZVBvaW50WCwKCX0gPSB1c2VBcmVhQ2hhcnRDb250ZXh0KCk7CgoJY29uc3Qgc3ZnUmVmID0gUmVhY3QudXNlUmVmPFNWR1NWR0VsZW1lbnQgfCBudWxsPihudWxsKTsKCWNvbnN0IG91dGVyUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7Cgljb25zdCBjaGFydENvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoJY29uc3QgW2NoYXJ0RGltZW5zaW9ucywgc2V0Q2hhcnREaW1lbnNpb25zXSA9IFJlYWN0LnVzZVN0YXRlKHsKCQl3aWR0aDogMCwKCQloZWlnaHQ6IDAsCgl9KTsKCWNvbnN0IGNvbWJpbmVkUmVmID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKG5vZGU6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCkgPT4gewoJCQlvdXRlclJlZi5jdXJyZW50ID0gbm9kZTsKCQkJaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHsKCQkJCXJlZihub2RlKTsKCQkJfSBlbHNlIGlmIChyZWYpIHsKCQkJCShyZWYgYXMgUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50IHwgbnVsbD4pLmN1cnJlbnQgPSBub2RlOwoJCQl9CgkJfSwKCQlbcmVmXSwKCSk7CgoJY29uc3QgcmVzb2x2ZWRIZWlnaHQgPQoJCXR5cGVvZiBoZWlnaHQgPT09ICdudW1iZXInCgkJCT8gYCR7aGVpZ2h0fXB4YAoJCQk6IChoZWlnaHQgPz8gYCR7REVGQVVMVF9IRUlHSFR9cHhgKTsKCglSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gewoJCWNvbnN0IG5vZGUgPSBjaGFydENvbnRhaW5lclJlZi5jdXJyZW50OwoJCWlmICghbm9kZSkgewoJCQlyZXR1cm47CgkJfQoJCWNvbnN0IHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoJCXNldENoYXJ0RGltZW5zaW9ucygocHJldmlvdXMpID0+IHsKCQkJaWYgKAoJCQkJTWF0aC5hYnMocHJldmlvdXMud2lkdGggLSByZWN0LndpZHRoKSA8IDAuNSAmJgoJCQkJTWF0aC5hYnMocHJldmlvdXMuaGVpZ2h0IC0gcmVjdC5oZWlnaHQpIDwgMC41CgkJCSkgewoJCQkJcmV0dXJuIHByZXZpb3VzOwoJCQl9CgkJCXJldHVybiB7CgkJCQl3aWR0aDogcmVjdC53aWR0aCB8fCBGQUxMQkFDS19DSEFSVF9ESU1FTlNJT05TLndpZHRoLAoJCQkJaGVpZ2h0OiByZWN0LmhlaWdodCB8fCBGQUxMQkFDS19DSEFSVF9ESU1FTlNJT05TLmhlaWdodCwKCQkJfTsKCQl9KTsKCgkJaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gJ3VuZGVmaW5lZCcpIHsKCQkJcmV0dXJuOwoJCX0KCQljb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoW2VudHJ5XSkgPT4gewoJCQlpZiAoIWVudHJ5KSByZXR1cm47CgkJCWNvbnN0IHsgd2lkdGgsIGhlaWdodDogb2JzZXJ2ZWRIZWlnaHQgfSA9IGVudHJ5LmNvbnRlbnRSZWN0OwoJCQlzZXRDaGFydERpbWVuc2lvbnMoKHByZXZpb3VzKSA9PiB7CgkJCQlpZiAoCgkJCQkJTWF0aC5hYnMocHJldmlvdXMud2lkdGggLSB3aWR0aCkgPCAwLjUgJiYKCQkJCQlNYXRoLmFicyhwcmV2aW91cy5oZWlnaHQgLSBvYnNlcnZlZEhlaWdodCkgPCAwLjUKCQkJCSkgewoJCQkJCXJldHVybiBwcmV2aW91czsKCQkJCX0KCQkJCXJldHVybiB7IHdpZHRoLCBoZWlnaHQ6IG9ic2VydmVkSGVpZ2h0IH07CgkJCX0pOwoJCX0pOwoJCW9ic2VydmVyLm9ic2VydmUobm9kZSk7CgkJcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCX0sIFtdKTsKCgljb25zdCB0cmltbWVkQXJpYUxhYmVsID0gYXJpYUxhYmVsPy50cmltKCk7Cgljb25zdCBzdmdUaXRsZUlkID0gUmVhY3QudXNlSWQoKTsKCWNvbnN0IHN2Z1RpdGxlID0KCQl0cmltbWVkQXJpYUxhYmVsICYmIHRyaW1tZWRBcmlhTGFiZWwubGVuZ3RoID4gMAoJCQk/IHRyaW1tZWRBcmlhTGFiZWwKCQkJOiAnQXJlYSBjaGFydCB2aXN1YWxpemF0aW9uJzsKCgljb25zdCBtZWFzdXJlZFdpZHRoID0KCQljaGFydERpbWVuc2lvbnMud2lkdGggfHwgRkFMTEJBQ0tfQ0hBUlRfRElNRU5TSU9OUy53aWR0aDsKCWNvbnN0IG1lYXN1cmVkSGVpZ2h0ID0KCQljaGFydERpbWVuc2lvbnMuaGVpZ2h0IHx8IEZBTExCQUNLX0NIQVJUX0RJTUVOU0lPTlMuaGVpZ2h0OwoKCWNvbnN0IGF4aXNUaWNrTGVuZ3RoID0gMDsKCWNvbnN0IHNob3dYQXhpc0xhYmVscyA9IHNob3dYQXhpc1ZhbHVlczsKCWNvbnN0IHNob3dZQXhpc0xhYmVscyA9IHNob3dZQXhpc1ZhbHVlczsKCWNvbnN0IGNoYXJ0SG9yaXpvbnRhbEdhcCA9IHNob3dZQXhpc0xhYmVscyA/IFlfQVhJU19DSEFSVF9HQVAgOiAwOwoJY29uc3QgW3lBeGlzTGFiZWxXaWR0aCwgc2V0WUF4aXNMYWJlbFdpZHRoXSA9IFJlYWN0LnVzZVN0YXRlKDApOwoJY29uc3QgcGFkZGluZyA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gKHsKCQkJLi4uQ0hBUlRfUEFERElORywKCQkJbGVmdDogTWF0aC5tYXgoCgkJCQlDSEFSVF9QQURESU5HLmxlZnQsCgkJCQlNYXRoLmNlaWwoeUF4aXNMYWJlbFdpZHRoKSArIGF4aXNUaWNrTGVuZ3RoICsgNiwKCQkJKSwKCQl9KSwKCQlbeUF4aXNMYWJlbFdpZHRoXSwKCSk7CgoJY29uc3Qgdmlld0JveFdpZHRoID0gTWF0aC5tYXgoCgkJbWVhc3VyZWRXaWR0aCwKCQlwYWRkaW5nLmxlZnQgKyBwYWRkaW5nLnJpZ2h0ICsgMSwKCSk7Cgljb25zdCB2aWV3Qm94SGVpZ2h0ID0gTWF0aC5tYXgoCgkJbWVhc3VyZWRIZWlnaHQsCgkJcGFkZGluZy50b3AgKyBwYWRkaW5nLmJvdHRvbSArIDEsCgkpOwoKCWNvbnN0IGF2YWlsYWJsZUNoYXJ0V2lkdGggPSBNYXRoLm1heCgKCQkxLAoJCXZpZXdCb3hXaWR0aCAtIHBhZGRpbmcubGVmdCAtIHBhZGRpbmcucmlnaHQsCgkpOwoJY29uc3QgY2hhcnRXaWR0aCA9IE1hdGgubWF4KDEsIGF2YWlsYWJsZUNoYXJ0V2lkdGggLSBjaGFydEhvcml6b250YWxHYXApOwoJY29uc3QgY2hhcnRTdGFydFggPSBwYWRkaW5nLmxlZnQgKyBjaGFydEhvcml6b250YWxHYXA7Cgljb25zdCBjaGFydEhlaWdodCA9IE1hdGgubWF4KDEsIHZpZXdCb3hIZWlnaHQgLSBwYWRkaW5nLnRvcCAtIHBhZGRpbmcuYm90dG9tKTsKCWNvbnN0IGNoYXJ0UmlnaHQgPSBjaGFydFN0YXJ0WCArIGNoYXJ0V2lkdGg7Cgljb25zdCBjaGFydEJvdHRvbSA9IHBhZGRpbmcudG9wICsgY2hhcnRIZWlnaHQ7Cgljb25zdCB5VGlja0xhYmVsWCA9IE1hdGgubWF4KAoJCWNoYXJ0U3RhcnRYIC0gY2hhcnRIb3Jpem9udGFsR2FwIC0gYXhpc1RpY2tMZW5ndGggLSA0LAoJCTQsCgkpOwoKCWNvbnN0IHNjYWxlWCA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gY3JlYXRlTGluZWFyU2NhbGUoeERvbWFpbiwgWzAsIGNoYXJ0V2lkdGhdKSwKCQlbY2hhcnRXaWR0aCwgeERvbWFpbl0sCgkpOwoJY29uc3Qgc2NhbGVZID0gUmVhY3QudXNlTWVtbygKCQkoKSA9PiBjcmVhdGVMaW5lYXJTY2FsZSh5RG9tYWluLCBbY2hhcnRIZWlnaHQsIDBdKSwKCQlbY2hhcnRIZWlnaHQsIHlEb21haW5dLAoJKTsKCgljb25zdCB6ZXJvWUNvb3JkaW5hdGUgPSBzY2FsZVkoMCk7CgoJY29uc3QgY3VydmVGYWN0b3J5ID0gQ1VSVkVfRkFDVE9SSUVTW2N1cnZlXSA/PyBjdXJ2ZU1vbm90b25lWDsKCgl0eXBlIFBvc2l0aW9uZWRTZXJpZXMgPSBBcmVhQ2hhcnRTZXJpZXNTdGF0ZTxDaGFydERhdHVtPiAmIHsKCQlncmFkaWVudElkOiBzdHJpbmc7CgkJcG9zaXRpb25lZFBvaW50czogQXJyYXk8ewoJCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ7CgkJCXg6IG51bWJlcjsKCQkJeTogbnVtYmVyOwoJCX0+OwoJCWFyZWFQYXRoPzogc3RyaW5nOwoJCWxpbmVQYXRoPzogc3RyaW5nOwoJfTsKCgljb25zdCBncmFkaWVudEJhc2VJZCA9IFJlYWN0LnVzZUlkKCk7CgoJY29uc3QgY29tcHV0ZWRTZXJpZXMgPSBSZWFjdC51c2VNZW1vPFBvc2l0aW9uZWRTZXJpZXNbXT4oKCkgPT4gewoJCXJldHVybiBzZXJpZXMubWFwKChzZXJpZXNJdGVtLCBpbmRleCkgPT4gewoJCQljb25zdCBwb3NpdGlvbmVkUG9pbnRzID0gc2VyaWVzSXRlbS5wb2ludHMubWFwKChwb2ludCkgPT4gKHsKCQkJCXBvaW50LAoJCQkJeDogY2hhcnRTdGFydFggKyBzY2FsZVgocG9pbnQueCksCgkJCQl5OiBwYWRkaW5nLnRvcCArIHNjYWxlWShwb2ludC55KSwKCQkJfSkpOwoKCQkJbGV0IGFyZWFQYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQ7CgkJCWxldCBsaW5lUGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkOwoKCQkJaWYgKHNlcmllc0l0ZW0ucG9pbnRzLmxlbmd0aCA+IDEpIHsKCQkJCWNvbnN0IGFyZWFHZW5lcmF0b3IgPSBhcmVhPEFyZWFDaGFydFBvaW50PigpCgkJCQkJLngoKHBvaW50OiBBcmVhQ2hhcnRQb2ludCkgPT4gY2hhcnRTdGFydFggKyBzY2FsZVgocG9pbnQueCkpCgkJCQkJLnkwKHBhZGRpbmcudG9wICsgY2xhbXAoemVyb1lDb29yZGluYXRlLCAwLCBjaGFydEhlaWdodCkpCgkJCQkJLnkxKChwb2ludDogQXJlYUNoYXJ0UG9pbnQpID0+IHBhZGRpbmcudG9wICsgc2NhbGVZKHBvaW50LnkpKQoJCQkJCS5jdXJ2ZShjdXJ2ZUZhY3RvcnkpOwoJCQkJY29uc3QgbGluZUdlbmVyYXRvciA9IGxpbmU8QXJlYUNoYXJ0UG9pbnQ+KCkKCQkJCQkueCgocG9pbnQ6IEFyZWFDaGFydFBvaW50KSA9PiBjaGFydFN0YXJ0WCArIHNjYWxlWChwb2ludC54KSkKCQkJCQkueSgocG9pbnQ6IEFyZWFDaGFydFBvaW50KSA9PiBwYWRkaW5nLnRvcCArIHNjYWxlWShwb2ludC55KSkKCQkJCQkuY3VydmUoY3VydmVGYWN0b3J5KTsKCQkJCWFyZWFQYXRoID0gYXJlYUdlbmVyYXRvcihzZXJpZXNJdGVtLnBvaW50cykgPz8gdW5kZWZpbmVkOwoJCQkJbGluZVBhdGggPSBsaW5lR2VuZXJhdG9yKHNlcmllc0l0ZW0ucG9pbnRzKSA/PyB1bmRlZmluZWQ7CgkJCX0KCgkJCXJldHVybiB7CgkJCQkuLi5zZXJpZXNJdGVtLAoJCQkJZ3JhZGllbnRJZDogYCR7Z3JhZGllbnRCYXNlSWR9LSR7aW5kZXh9YCwKCQkJCXBvc2l0aW9uZWRQb2ludHMsCgkJCQkuLi4oYXJlYVBhdGggPyB7IGFyZWFQYXRoIH0gOiB7fSksCgkJCQkuLi4obGluZVBhdGggPyB7IGxpbmVQYXRoIH0gOiB7fSksCgkJCX07CgkJfSk7Cgl9LCBbCgkJY2hhcnRIZWlnaHQsCgkJY2hhcnRTdGFydFgsCgkJY3VydmVGYWN0b3J5LAoJCXNlcmllcywKCQlwYWRkaW5nLnRvcCwKCQlzY2FsZVgsCgkJc2NhbGVZLAoJCXplcm9ZQ29vcmRpbmF0ZSwKCQlncmFkaWVudEJhc2VJZCwKCV0pOwoKCWNvbnN0IGhhc0Vub3VnaFBvaW50cyA9IGNvbXB1dGVkU2VyaWVzLnNvbWUoCgkJKHNlcmllc0l0ZW0pID0+IHNlcmllc0l0ZW0ucG9pbnRzLmxlbmd0aCA+IDEsCgkpOwoJY29uc3Qgc2hvd0NoYXJ0ID0gIWxvYWRpbmcgJiYgIWVycm9yICYmIGhhc0Vub3VnaFBvaW50czsKCgljb25zdCBwb3NpdGlvbmVkUG9pbnRzQWxsID0gUmVhY3QudXNlTWVtbygKCQkoKSA9PgoJCQljb21wdXRlZFNlcmllcy5mbGF0TWFwKChzZXJpZXNJdGVtKSA9PgoJCQkJc2VyaWVzSXRlbS5wb3NpdGlvbmVkUG9pbnRzLm1hcCgoZW50cnkpID0+ICh7CgkJCQkJc2VyaWVzOiBzZXJpZXNJdGVtLAoJCQkJCS4uLmVudHJ5LAoJCQkJfSkpLAoJCQkpLAoJCVtjb21wdXRlZFNlcmllc10sCgkpOwoJY29uc3Qgc2hvdWxkQ29tcHV0ZVhUaWNrcyA9IHNob3dYQXhpc0xhYmVsczsKCWNvbnN0IHNob3VsZENvbXB1dGVZVGlja3MgPSBzaG93R3JpZCB8fCBzaG93WUF4aXNMYWJlbHM7CgoJY29uc3QgeEF4aXNUaWNrcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IGJhc2VQb2ludHMgPSBzZXJpZXNbMF0/LnBvaW50cyA/PyBbXTsKCQlpZiAoIXNob3VsZENvbXB1dGVYVGlja3MgfHwgYmFzZVBvaW50cy5sZW5ndGggPT09IDApIHJldHVybiBbXTsKCQljb25zdCBzZWxlY3RlZCA9IHNlbGVjdFBvaW50c0ZvclRpY2tzKGJhc2VQb2ludHMsIHhUaWNrQ291bnQpOwoJCXJldHVybiBzZWxlY3RlZC5tYXAoKHBvaW50KSA9PiB7CgkJCWNvbnN0IGxhYmVsID0gdG9QbGFpblRleHQoZm9ybWF0WChwb2ludCksIGdldFBvaW50TGFiZWxUZXh0KHBvaW50KSk7CgkJCXJldHVybiB7CgkJCQlpZDogcG9pbnQuaWQsCgkJCQlwb3NpdGlvbjogY2hhcnRTdGFydFggKyBzY2FsZVgocG9pbnQueCksCgkJCQlsYWJlbCwKCQkJfTsKCQl9KTsKCX0sIFtjaGFydFN0YXJ0WCwgZm9ybWF0WCwgc2NhbGVYLCBzZXJpZXMsIHNob3VsZENvbXB1dGVYVGlja3MsIHhUaWNrQ291bnRdKTsKCgljb25zdCB5QXhpc1RpY2tzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJaWYgKCFzaG91bGRDb21wdXRlWVRpY2tzKSByZXR1cm4gW107CgkJY29uc3QgdGlja3MgPSBnZW5lcmF0ZUxpbmVhclRpY2tzKHlEb21haW4sIHlUaWNrQ291bnQpOwoJCXJldHVybiB0aWNrcy5tYXAoKHZhbHVlKSA9PiB7CgkJCWNvbnN0IHJlbGF0aXZlUG9zaXRpb24gPSBjbGFtcChzY2FsZVkodmFsdWUpLCAwLCBjaGFydEhlaWdodCk7CgkJCXJldHVybiB7CgkJCQl2YWx1ZSwKCQkJCXBvc2l0aW9uOiBwYWRkaW5nLnRvcCArIHJlbGF0aXZlUG9zaXRpb24sCgkJCQlsYWJlbDogTnVtYmVyLmlzRmluaXRlKHZhbHVlKQoJCQkJCT8gdmFsdWUudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7CgkJCQkJCQltYXhpbXVtRnJhY3Rpb25EaWdpdHM6IE1hdGguYWJzKHZhbHVlKSA+PSAxMDAgPyAwIDogMiwKCQkJCQkJfSkKCQkJCQk6IFN0cmluZyh2YWx1ZSksCgkJCX07CgkJfSk7Cgl9LCBbCgkJY2hhcnRIZWlnaHQsCgkJcGFkZGluZy50b3AsCgkJc2NhbGVZLAoJCXNob3VsZENvbXB1dGVZVGlja3MsCgkJeURvbWFpbiwKCQl5VGlja0NvdW50LAoJXSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQlpZiAoIXNob3dZQXhpc0xhYmVscykgewoJCQlzZXRZQXhpc0xhYmVsV2lkdGgoKHByZXZpb3VzKSA9PiAocHJldmlvdXMgPT09IDAgPyBwcmV2aW91cyA6IDApKTsKCQkJcmV0dXJuOwoJCX0KCgkJaWYgKCFzdmdSZWYuY3VycmVudCkgewoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBsYWJlbE5vZGVzID0gc3ZnUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbDxTVkdUZXh0RWxlbWVudD4oCgkJCSdbZGF0YS1hcmVhLWNoYXJ0LXktbGFiZWxdJywKCQkpOwoJCWxldCBtYXhXaWR0aCA9IDA7CgkJbGFiZWxOb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7CgkJCWNvbnN0IGJveCA9IG5vZGUuZ2V0QkJveCgpOwoJCQlpZiAoTnVtYmVyLmlzRmluaXRlKGJveC53aWR0aCkpIHsKCQkJCW1heFdpZHRoID0gTWF0aC5tYXgobWF4V2lkdGgsIGJveC53aWR0aCk7CgkJCX0KCQl9KTsKCgkJc2V0WUF4aXNMYWJlbFdpZHRoKChwcmV2aW91cykgPT4KCQkJTWF0aC5hYnMocHJldmlvdXMgLSBtYXhXaWR0aCkgPiAwLjUgPyBtYXhXaWR0aCA6IHByZXZpb3VzLAoJCSk7Cgl9LCBbc2hvd1lBeGlzTGFiZWxzXSk7CgoJY29uc3QgdG9vbHRpcFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoJY29uc3QgW3Rvb2x0aXBEaW1lbnNpb25zLCBzZXRUb29sdGlwRGltZW5zaW9uc10gPSBSZWFjdC51c2VTdGF0ZSh7CgkJd2lkdGg6IDAsCgkJaGVpZ2h0OiAwLAoJfSk7Cgljb25zdCBbdG9vbHRpcCwgc2V0VG9vbHRpcF0gPSBSZWFjdC51c2VTdGF0ZTx7CgkJaW5mbzogQXJlYUNoYXJ0VG9vbHRpcEluZm87CgkJeDogbnVtYmVyOwoJCXk6IG51bWJlcjsKCQlob3Jpem9udGFsOiAnbGVmdCcgfCAncmlnaHQnOwoJCXZlcnRpY2FsOiAndG9wJyB8ICdib3R0b20nOwoJCXZpc2libGU6IGJvb2xlYW47CgkJZW50ZXJpbmc6IGJvb2xlYW47Cgl9IHwgbnVsbD4obnVsbCk7Cgljb25zdCBoaWRlVG9vbHRpcFRpbWVvdXRSZWYgPSBSZWFjdC51c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7CgoJY29uc3QgY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJaWYgKGhpZGVUb29sdGlwVGltZW91dFJlZi5jdXJyZW50ICE9PSBudWxsKSB7CgkJCXdpbmRvdy5jbGVhclRpbWVvdXQoaGlkZVRvb2x0aXBUaW1lb3V0UmVmLmN1cnJlbnQpOwoJCQloaWRlVG9vbHRpcFRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7CgkJfQoJfSwgW10pOwoKCWNvbnN0IGNsZWFyVG9vbHRpcCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCXNldFRvb2x0aXAoKHByZXZpb3VzKSA9PgoJCQlwcmV2aW91cyA/IHsgLi4ucHJldmlvdXMsIHZpc2libGU6IGZhbHNlLCBlbnRlcmluZzogZmFsc2UgfSA6IG51bGwsCgkJKTsKCQlzZXRBY3RpdmVQb2ludElkKG51bGwpOwoJCXNldEFjdGl2ZVBvaW50WChudWxsKTsKCX0sIFtjYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSwgc2V0QWN0aXZlUG9pbnRJZCwgc2V0QWN0aXZlUG9pbnRYXSk7CgoJY29uc3Qgc2NoZWR1bGVUb29sdGlwSGlkZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShkZWxheSA9IDE0MCkgPT4gewoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCQloaWRlVG9vbHRpcFRpbWVvdXRSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsKCQkJCWNsZWFyVG9vbHRpcCgpOwoJCQl9LCBkZWxheSk7CgkJfSwKCQlbY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUsIGNsZWFyVG9vbHRpcF0sCgkpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCF0b29sdGlwIHx8IHRvb2x0aXAudmlzaWJsZSB8fCB0b29sdGlwLmVudGVyaW5nKSByZXR1cm47CgkJY29uc3QgdGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewoJCQlzZXRUb29sdGlwKG51bGwpOwoJCX0sIDIwMCk7CgkJcmV0dXJuICgpID0+IHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dElkKTsKCX0sIFt0b29sdGlwXSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQlpZiAoIXRvb2x0aXBSZWYuY3VycmVudCB8fCB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnKSByZXR1cm47CgkJY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKFtlbnRyeV0pID0+IHsKCQkJaWYgKCFlbnRyeSkgcmV0dXJuOwoJCQljb25zdCB7IHdpZHRoLCBoZWlnaHQ6IG9ic0hlaWdodCB9ID0gZW50cnkuY29udGVudFJlY3Q7CgkJCXNldFRvb2x0aXBEaW1lbnNpb25zKChwcmV2aW91cykgPT4KCQkJCU1hdGguYWJzKHByZXZpb3VzLndpZHRoIC0gd2lkdGgpIDwgMC41ICYmCgkJCQlNYXRoLmFicyhwcmV2aW91cy5oZWlnaHQgLSBvYnNIZWlnaHQpIDwgMC41CgkJCQkJPyBwcmV2aW91cwoJCQkJCTogeyB3aWR0aCwgaGVpZ2h0OiBvYnNIZWlnaHQgfSwKCQkJKTsKCQl9KTsKCQlvYnNlcnZlci5vYnNlcnZlKHRvb2x0aXBSZWYuY3VycmVudCk7CgkJcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCX0sIFtdKTsKCglSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gewoJCWlmICghdG9vbHRpcCB8fCAhdG9vbHRpcC5lbnRlcmluZykgcmV0dXJuOwoJCWNvbnN0IGZyYW1lSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJc2V0VG9vbHRpcCgocHJldmlvdXMpID0+CgkJCQlwcmV2aW91cz8uZW50ZXJpbmcKCQkJCQk/IHsgLi4ucHJldmlvdXMsIHZpc2libGU6IHRydWUsIGVudGVyaW5nOiBmYWxzZSB9CgkJCQkJOiBwcmV2aW91cywKCQkJKTsKCQl9KTsKCQlyZXR1cm4gKCkgPT4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpOwoJfSwgW3Rvb2x0aXBdKTsKCglSZWFjdC51c2VFZmZlY3QoCgkJKCkgPT4gKCkgPT4gewoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCX0sCgkJW2NhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlXSwKCSk7CgoJY29uc3QgY2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHZpZXdCb3hQb2ludDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7CgkJCWlmICghb3V0ZXJSZWYuY3VycmVudCB8fCAhc3ZnUmVmLmN1cnJlbnQpIHJldHVybiBudWxsOwoJCQljb25zdCBjb250YWluZXJSZWN0ID0gb3V0ZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJY29uc3Qgc3ZnUmVjdCA9IHN2Z1JlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoJCQljb25zdCBzY2FsZVggPSB2aWV3Qm94V2lkdGggPiAwID8gc3ZnUmVjdC53aWR0aCAvIHZpZXdCb3hXaWR0aCA6IDE7CgkJCWNvbnN0IHNjYWxlWSA9IHZpZXdCb3hIZWlnaHQgPiAwID8gc3ZnUmVjdC5oZWlnaHQgLyB2aWV3Qm94SGVpZ2h0IDogMTsKCQkJY29uc3QgYW5jaG9yWCA9CgkJCQlzdmdSZWN0LmxlZnQgLSBjb250YWluZXJSZWN0LmxlZnQgKyB2aWV3Qm94UG9pbnQueCAqIHNjYWxlWDsKCQkJY29uc3QgYW5jaG9yWSA9IHN2Z1JlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AgKyB2aWV3Qm94UG9pbnQueSAqIHNjYWxlWTsKCQkJY29uc3QgdG9vbHRpcFBhZGRpbmcgPSAxMjsKCQkJY29uc3QgdG9vbHRpcE9mZnNldCA9IDA7CgkJCWNvbnN0IHBvaW50R2FwID0gMDsKCQkJY29uc3QgZXN0aW1hdGVkV2lkdGggPSB0b29sdGlwRGltZW5zaW9ucy53aWR0aCB8fCAyMDA7CgkJCWNvbnN0IGVzdGltYXRlZEhlaWdodCA9IHRvb2x0aXBEaW1lbnNpb25zLmhlaWdodCB8fCA4NDsKCgkJCWNvbnN0IG1pblggPSB0b29sdGlwUGFkZGluZzsKCQkJY29uc3QgbWF4WCA9IGNvbnRhaW5lclJlY3Qud2lkdGggLSBlc3RpbWF0ZWRXaWR0aCAtIHRvb2x0aXBQYWRkaW5nOwoJCQljb25zdCBtaW5ZID0gdG9vbHRpcFBhZGRpbmc7CgkJCWNvbnN0IG1heFkgPSBjb250YWluZXJSZWN0LmhlaWdodCAtIGVzdGltYXRlZEhlaWdodCAtIHRvb2x0aXBQYWRkaW5nOwoKCQkJdHlwZSBQbGFjZW1lbnQgPSB7CgkJCQlob3Jpem9udGFsOiAnbGVmdCcgfCAncmlnaHQnOwoJCQkJdmVydGljYWw6ICd0b3AnIHwgJ2JvdHRvbSc7CgkJCX07CgoJCQljb25zdCBwbGFjZW1lbnRzOiBQbGFjZW1lbnRbXSA9IFsKCQkJCXsgaG9yaXpvbnRhbDogJ2xlZnQnLCB2ZXJ0aWNhbDogJ3RvcCcgfSwKCQkJCXsgaG9yaXpvbnRhbDogJ3JpZ2h0JywgdmVydGljYWw6ICd0b3AnIH0sCgkJCQl7IGhvcml6b250YWw6ICdsZWZ0JywgdmVydGljYWw6ICdib3R0b20nIH0sCgkJCQl7IGhvcml6b250YWw6ICdyaWdodCcsIHZlcnRpY2FsOiAnYm90dG9tJyB9LAoJCQldOwoKCQkJY29uc3QgdHJ5UGxhY2VtZW50ID0gKAoJCQkJcGxhY2VtZW50OiBQbGFjZW1lbnQsCgkJCQlhbGxvd092ZXJmbG93OiBib29sZWFuLAoJCQkpOiB7CgkJCQl4OiBudW1iZXI7CgkJCQl5OiBudW1iZXI7CgkJCQlob3Jpem9udGFsOiBQbGFjZW1lbnRbJ2hvcml6b250YWwnXTsKCQkJCXZlcnRpY2FsOiBQbGFjZW1lbnRbJ3ZlcnRpY2FsJ107CgkJCX0gfCBudWxsID0+IHsKCQkJCWNvbnN0IGNhbmRpZGF0ZVggPQoJCQkJCXBsYWNlbWVudC5ob3Jpem9udGFsID09PSAnbGVmdCcKCQkJCQkJPyBhbmNob3JYIC0gZXN0aW1hdGVkV2lkdGggLSB0b29sdGlwT2Zmc2V0CgkJCQkJCTogYW5jaG9yWCArIHRvb2x0aXBPZmZzZXQ7CgkJCQljb25zdCBjYW5kaWRhdGVZID0KCQkJCQlwbGFjZW1lbnQudmVydGljYWwgPT09ICd0b3AnCgkJCQkJCT8gYW5jaG9yWSAtIGVzdGltYXRlZEhlaWdodCAtIHRvb2x0aXBPZmZzZXQKCQkJCQkJOiBhbmNob3JZICsgdG9vbHRpcE9mZnNldDsKCgkJCQlpZiAoIWFsbG93T3ZlcmZsb3cpIHsKCQkJCQlpZiAoY2FuZGlkYXRlWCA8IG1pblggfHwgY2FuZGlkYXRlWCA+IG1heFgpIHJldHVybiBudWxsOwoJCQkJCWlmIChjYW5kaWRhdGVZIDwgbWluWSB8fCBjYW5kaWRhdGVZID4gbWF4WSkgcmV0dXJuIG51bGw7CgkJCQl9CgoJCQkJbGV0IHggPSBjbGFtcChjYW5kaWRhdGVYLCBtaW5YLCBtYXhYKTsKCQkJCWxldCB5ID0gY2xhbXAoY2FuZGlkYXRlWSwgbWluWSwgbWF4WSk7CgoJCQkJaWYgKHBsYWNlbWVudC5ob3Jpem9udGFsID09PSAnbGVmdCcpIHsKCQkJCQl4ID0gTWF0aC5taW4oeCwgYW5jaG9yWCAtIHBvaW50R2FwIC0gZXN0aW1hdGVkV2lkdGgpOwoJCQkJfSBlbHNlIHsKCQkJCQl4ID0gTWF0aC5tYXgoeCwgYW5jaG9yWCArIHBvaW50R2FwKTsKCQkJCX0KCQkJCXggPSBjbGFtcCh4LCBtaW5YLCBtYXhYKTsKCgkJCQlpZiAocGxhY2VtZW50LnZlcnRpY2FsID09PSAndG9wJykgewoJCQkJCXkgPSBNYXRoLm1pbih5LCBhbmNob3JZIC0gcG9pbnRHYXAgLSBlc3RpbWF0ZWRIZWlnaHQpOwoJCQkJfSBlbHNlIHsKCQkJCQl5ID0gTWF0aC5tYXgoeSwgYW5jaG9yWSArIHBvaW50R2FwKTsKCQkJCX0KCQkJCXkgPSBjbGFtcCh5LCBtaW5ZLCBtYXhZKTsKCgkJCQljb25zdCBjb3ZlcnNQb2ludCA9CgkJCQkJYW5jaG9yWCA+PSB4ICYmCgkJCQkJYW5jaG9yWCA8PSB4ICsgZXN0aW1hdGVkV2lkdGggJiYKCQkJCQlhbmNob3JZID49IHkgJiYKCQkJCQlhbmNob3JZIDw9IHkgKyBlc3RpbWF0ZWRIZWlnaHQ7CgoJCQkJaWYgKGNvdmVyc1BvaW50KSByZXR1cm4gbnVsbDsKCgkJCQlyZXR1cm4gewoJCQkJCXgsCgkJCQkJeSwKCQkJCQlob3Jpem9udGFsOiBwbGFjZW1lbnQuaG9yaXpvbnRhbCwKCQkJCQl2ZXJ0aWNhbDogcGxhY2VtZW50LnZlcnRpY2FsLAoJCQkJfTsKCQkJfTsKCgkJCWZvciAoY29uc3QgcGxhY2VtZW50IG9mIHBsYWNlbWVudHMpIHsKCQkJCWNvbnN0IHBvc2l0aW9uID0gdHJ5UGxhY2VtZW50KHBsYWNlbWVudCwgZmFsc2UpOwoJCQkJaWYgKHBvc2l0aW9uKSByZXR1cm4gcG9zaXRpb247CgkJCX0KCgkJCWZvciAoY29uc3QgcGxhY2VtZW50IG9mIHBsYWNlbWVudHMpIHsKCQkJCWNvbnN0IHBvc2l0aW9uID0gdHJ5UGxhY2VtZW50KHBsYWNlbWVudCwgdHJ1ZSk7CgkJCQlpZiAocG9zaXRpb24pIHJldHVybiBwb3NpdGlvbjsKCQkJfQoKCQkJY29uc3QgZmFsbGJhY2tIb3Jpem9udGFsID0KCQkJCWFuY2hvclggKyBwb2ludEdhcCA8PSBtYXhYID8gKCdyaWdodCcgYXMgY29uc3QpIDogKCdsZWZ0JyBhcyBjb25zdCk7CgkJCWNvbnN0IGZhbGxiYWNrVmVydGljYWwgPQoJCQkJYW5jaG9yWSAtIHBvaW50R2FwIC0gZXN0aW1hdGVkSGVpZ2h0ID49IG1pblkKCQkJCQk/ICgndG9wJyBhcyBjb25zdCkKCQkJCQk6IGFuY2hvclkgKyBwb2ludEdhcCA8PSBtYXhZCgkJCQkJCT8gKCdib3R0b20nIGFzIGNvbnN0KQoJCQkJCQk6ICgndG9wJyBhcyBjb25zdCk7CgoJCQlsZXQgZmFsbGJhY2tYID0KCQkJCWZhbGxiYWNrSG9yaXpvbnRhbCA9PT0gJ3JpZ2h0JwoJCQkJCT8gYW5jaG9yWCArIHBvaW50R2FwCgkJCQkJOiBhbmNob3JYIC0gZXN0aW1hdGVkV2lkdGggLSBwb2ludEdhcDsKCQkJbGV0IGZhbGxiYWNrWSA9CgkJCQlmYWxsYmFja1ZlcnRpY2FsID09PSAndG9wJwoJCQkJCT8gYW5jaG9yWSAtIGVzdGltYXRlZEhlaWdodCAtIHBvaW50R2FwCgkJCQkJOiBhbmNob3JZICsgcG9pbnRHYXA7CgoJCQlmYWxsYmFja1ggPSBjbGFtcChmYWxsYmFja1gsIG1pblgsIG1heFgpOwoJCQlmYWxsYmFja1kgPSBjbGFtcChmYWxsYmFja1ksIG1pblksIG1heFkpOwoKCQkJcmV0dXJuIHsKCQkJCXg6IGZhbGxiYWNrWCwKCQkJCXk6IGZhbGxiYWNrWSwKCQkJCWhvcml6b250YWw6IGZhbGxiYWNrSG9yaXpvbnRhbCwKCQkJCXZlcnRpY2FsOiBmYWxsYmFja1ZlcnRpY2FsLAoJCQl9OwoJCX0sCgkJWwoJCQl0b29sdGlwRGltZW5zaW9ucy5oZWlnaHQsCgkJCXRvb2x0aXBEaW1lbnNpb25zLndpZHRoLAoJCQl2aWV3Qm94SGVpZ2h0LAoJCQl2aWV3Qm94V2lkdGgsCgkJXSwKCSk7CgoJY29uc3QgdXBkYXRlVG9vbHRpcEZvclBvaW50ID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKAoJCQlzZXJpZXNJdGVtOiBQb3NpdGlvbmVkU2VyaWVzLAoJCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQsCgkJCXZpZXdCb3hQb2ludDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LAoJCSkgPT4gewoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCQlzZXRBY3RpdmVQb2ludElkKHBvaW50LmlkKTsKCQkJc2V0QWN0aXZlUG9pbnRYKHBvaW50LngpOwoKCQkJaWYgKCFzaG93VG9vbHRpcCkgcmV0dXJuOwoKCQkJY29uc3QgcG9zaXRpb24gPSBjYWxjdWxhdGVUb29sdGlwUG9zaXRpb24odmlld0JveFBvaW50KTsKCQkJaWYgKCFwb3NpdGlvbikgcmV0dXJuOwoKCQkJY29uc3QgZm9ybWF0dGVkWE5vZGUgPSBmb3JtYXRYKHBvaW50KTsKCQkJY29uc3QgZm9ybWF0dGVkWU5vZGUgPSBmb3JtYXRZRm9yU2VyaWVzKHNlcmllc0l0ZW0uaWQsIHBvaW50KTsKCQkJY29uc3QgZm9ybWF0dGVkWFRleHQgPSB0b1BsYWluVGV4dCgKCQkJCWZvcm1hdHRlZFhOb2RlLAoJCQkJZ2V0UG9pbnRMYWJlbFRleHQocG9pbnQpLAoJCQkpOwoJCQljb25zdCBmb3JtYXR0ZWRZVGV4dCA9IHRvUGxhaW5UZXh0KAoJCQkJZm9ybWF0dGVkWU5vZGUsCgkJCQlnZXRQb2ludFZhbHVlVGV4dChwb2ludCksCgkJCSk7CgoJCQljb25zdCBzZXJpZXNFbnRyaWVzID0gY29tcHV0ZWRTZXJpZXMuZmxhdE1hcDxBcmVhQ2hhcnRUb29sdGlwU2VyaWVzRW50cnk+KAoJCQkJKGNhbmRpZGF0ZSkgPT4gewoJCQkJCWNvbnN0IG1hdGNoZWQgPSBjYW5kaWRhdGUucG9pbnRzLmZpbmQoCgkJCQkJCShjYW5kaWRhdGVQb2ludCkgPT4gY2FuZGlkYXRlUG9pbnQueCA9PT0gcG9pbnQueCwKCQkJCQkpOwoJCQkJCWlmICghbWF0Y2hlZCkgcmV0dXJuIFtdOwoJCQkJCWNvbnN0IGZvcm1hdHRlZFZhbHVlTm9kZSA9IGZvcm1hdFlGb3JTZXJpZXMoY2FuZGlkYXRlLmlkLCBtYXRjaGVkKTsKCQkJCQljb25zdCBmb3JtYXR0ZWRWYWx1ZVRleHQgPSB0b1BsYWluVGV4dCgKCQkJCQkJZm9ybWF0dGVkVmFsdWVOb2RlLAoJCQkJCQlnZXRQb2ludFZhbHVlVGV4dChtYXRjaGVkKSwKCQkJCQkpOwoJCQkJCXJldHVybiBbCgkJCQkJCXsKCQkJCQkJCXNlcmllc0lkOiBjYW5kaWRhdGUuaWQsCgkJCQkJCQlzZXJpZXNMYWJlbDogY2FuZGlkYXRlLnNlcmllc0xhYmVsLAoJCQkJCQkJc2VyaWVzQ29sb3I6IGNhbmRpZGF0ZS5jb2xvciwKCQkJCQkJCXZhbHVlTGFiZWw6IGNhbmRpZGF0ZS52YWx1ZUxhYmVsLAoJCQkJCQkJcG9pbnQ6IG1hdGNoZWQsCgkJCQkJCQl2YWx1ZTogbWF0Y2hlZC52YWx1ZSwKCQkJCQkJCWZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZU5vZGUsCgkJCQkJCQlmb3JtYXR0ZWRWYWx1ZVRleHQsCgkJCQkJCX0sCgkJCQkJXTsKCQkJCX0sCgkJCSk7CgoJCQlzZXRUb29sdGlwKChwcmV2aW91cykgPT4gewoJCQkJY29uc3Qgc2hvdWxkQW5pbWF0ZUluID0gIXByZXZpb3VzIHx8ICFwcmV2aW91cy52aXNpYmxlOwoJCQkJY29uc3QgbmV4dCA9IHsKCQkJCQlpbmZvOiB7CgkJCQkJCXBvaW50LAoJCQkJCQl2YWx1ZTogcG9pbnQudmFsdWUsCgkJCQkJCXNlcmllc0lkOiBzZXJpZXNJdGVtLmlkLAoJCQkJCQlzZXJpZXNMYWJlbDogc2VyaWVzSXRlbS5zZXJpZXNMYWJlbCwKCQkJCQkJc2VyaWVzQ29sb3I6IHNlcmllc0l0ZW0uY29sb3IsCgkJCQkJCXZhbHVlTGFiZWw6IHNlcmllc0l0ZW0udmFsdWVMYWJlbCwKCQkJCQkJZm9ybWF0dGVkWDogZm9ybWF0dGVkWE5vZGUsCgkJCQkJCWZvcm1hdHRlZFk6IGZvcm1hdHRlZFlOb2RlLAoJCQkJCQlmb3JtYXR0ZWRYVGV4dCwKCQkJCQkJZm9ybWF0dGVkWVRleHQsCgkJCQkJCXNlcmllc0VudHJpZXMsCgkJCQkJfSwKCQkJCQl4OiBwb3NpdGlvbi54LAoJCQkJCXk6IHBvc2l0aW9uLnksCgkJCQkJaG9yaXpvbnRhbDogcG9zaXRpb24uaG9yaXpvbnRhbCwKCQkJCQl2ZXJ0aWNhbDogcG9zaXRpb24udmVydGljYWwsCgkJCQkJdmlzaWJsZTogIXNob3VsZEFuaW1hdGVJbiwKCQkJCQllbnRlcmluZzogc2hvdWxkQW5pbWF0ZUluLAoJCQkJfTsKCgkJCQlpZiAoCgkJCQkJcHJldmlvdXMgJiYKCQkJCQlwcmV2aW91cy5pbmZvLnBvaW50LmlkID09PSBwb2ludC5pZCAmJgoJCQkJCU1hdGguYWJzKHByZXZpb3VzLnggLSBuZXh0LngpIDwgMC41ICYmCgkJCQkJTWF0aC5hYnMocHJldmlvdXMueSAtIG5leHQueSkgPCAwLjUgJiYKCQkJCQlwcmV2aW91cy5ob3Jpem9udGFsID09PSBuZXh0Lmhvcml6b250YWwgJiYKCQkJCQlwcmV2aW91cy52ZXJ0aWNhbCA9PT0gbmV4dC52ZXJ0aWNhbAoJCQkJKSB7CgkJCQkJaWYgKHNob3VsZEFuaW1hdGVJbikgewoJCQkJCQlyZXR1cm4gbmV4dDsKCQkJCQl9CgkJCQkJaWYgKCFwcmV2aW91cy52aXNpYmxlKSB7CgkJCQkJCXJldHVybiB7IC4uLnByZXZpb3VzLCB2aXNpYmxlOiB0cnVlLCBlbnRlcmluZzogZmFsc2UgfTsKCQkJCQl9CgkJCQkJcmV0dXJuIHByZXZpb3VzOwoJCQkJfQoJCQkJcmV0dXJuIG5leHQ7CgkJCX0pOwoJCX0sCgkJWwoJCQljYWxjdWxhdGVUb29sdGlwUG9zaXRpb24sCgkJCWNhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlLAoJCQlmb3JtYXRYLAoJCQlmb3JtYXRZRm9yU2VyaWVzLAoJCQljb21wdXRlZFNlcmllcywKCQkJc2V0QWN0aXZlUG9pbnRJZCwKCQkJc2V0QWN0aXZlUG9pbnRYLAoJCQlzaG93VG9vbHRpcCwKCQldLAoJKTsKCgljb25zdCBoYW5kbGVQb2ludGVyTW92ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PFNWR1JlY3RFbGVtZW50PikgPT4gewoJCQljb25zdCB0YXJnZXRSZWN0ID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJaWYgKHRhcmdldFJlY3Qud2lkdGggPT09IDAgfHwgY2hhcnRXaWR0aCA9PT0gMCkgcmV0dXJuOwoJCQljb25zdCBsb2NhbFggPSBldmVudC5jbGllbnRYIC0gdGFyZ2V0UmVjdC5sZWZ0OwoJCQljb25zdCBzY2FsZSA9IGNoYXJ0V2lkdGggLyB0YXJnZXRSZWN0LndpZHRoOwoJCQljb25zdCBwb2ludGVyVmlld0JveFggPSBjaGFydFN0YXJ0WCArIGxvY2FsWCAqIHNjYWxlOwoKCQkJbGV0IGNsb3Nlc3QgPSBudWxsIGFzIHsKCQkJCXNlcmllczogUG9zaXRpb25lZFNlcmllczsKCQkJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDsKCQkJCXZpZXdCb3g6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTsKCQkJCWRpc3RhbmNlOiBudW1iZXI7CgkJCX0gfCBudWxsOwoKCQkJcG9zaXRpb25lZFBvaW50c0FsbC5mb3JFYWNoKCh7IHNlcmllczogc2VyaWVzSXRlbSwgcG9pbnQsIHgsIHkgfSkgPT4gewoJCQkJY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyh4IC0gcG9pbnRlclZpZXdCb3hYKTsKCQkJCWlmIChjbG9zZXN0ID09PSBudWxsIHx8IGRpc3RhbmNlIDwgY2xvc2VzdC5kaXN0YW5jZSkgewoJCQkJCWNsb3Nlc3QgPSB7IHNlcmllczogc2VyaWVzSXRlbSwgcG9pbnQsIHZpZXdCb3g6IHsgeCwgeSB9LCBkaXN0YW5jZSB9OwoJCQkJfQoJCQl9KTsKCgkJCWlmICghY2xvc2VzdCkgcmV0dXJuOwoKCQkJdXBkYXRlVG9vbHRpcEZvclBvaW50KGNsb3Nlc3Quc2VyaWVzLCBjbG9zZXN0LnBvaW50LCBjbG9zZXN0LnZpZXdCb3gpOwoJCX0sCgkJW2NoYXJ0U3RhcnRYLCBjaGFydFdpZHRoLCBwb3NpdGlvbmVkUG9pbnRzQWxsLCB1cGRhdGVUb29sdGlwRm9yUG9pbnRdLAoJKTsKCgljb25zdCBoYW5kbGVQb2ludGVyTGVhdmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxFbGVtZW50PikgPT4gewoJCQlpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7CgkJCQlyZXR1cm47CgkJCX0KCQkJc2NoZWR1bGVUb29sdGlwSGlkZSgpOwoJCX0sCgkJW3NjaGVkdWxlVG9vbHRpcEhpZGVdLAoJKTsKCgljb25zdCByZW5kZXJUb29sdGlwID0KCQlzaG93VG9vbHRpcCAmJiB0b29sdGlwICYmIHRvb2x0aXBSZW5kZXIKCQkJPyB0b29sdGlwUmVuZGVyKHRvb2x0aXAuaW5mbyBhcyBBcmVhQ2hhcnRUb29sdGlwSW5mbykKCQkJOiB0b29sdGlwICYmICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCQkJe3Rvb2x0aXAuaW5mby5mb3JtYXR0ZWRYfQoJCQkJCQk8L2Rpdj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMSI+CgkJCQkJCQl7dG9vbHRpcC5pbmZvLnNlcmllc0VudHJpZXMubWFwKChlbnRyeSkgPT4gewoJCQkJCQkJCXJldHVybiAoCgkJCQkJCQkJCTxkaXYKCQkJCQkJCQkJCWtleT17ZW50cnkuc2VyaWVzSWR9CgkJCQkJCQkJCQljbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMyIKCQkJCQkJCQkJPgoJCQkJCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KCQkJCQkJCQkJCQk8c3BhbgoJCQkJCQkJCQkJCQljbGFzc05hbWU9ImlubGluZS1mbGV4IGgtMi41IHctMSBzaHJpbmstMCByb3VuZGVkLVsxcHhdIgoJCQkJCQkJCQkJCQlzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGVudHJ5LnNlcmllc0NvbG9yIH19CgkJCQkJCQkJCQkJLz4KCQkJCQkJCQkJCQk8c3BhbiBjbGFzc05hbWU9e2NuKCd0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCcpfT4KCQkJCQkJCQkJCQkJe2VudHJ5LnNlcmllc0xhYmVsfQoJCQkJCQkJCQkJCTwvc3Bhbj4KCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPXtjbigndGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNDUnKX0+CgkJCQkJCQkJCQkJe2VudHJ5LmZvcm1hdHRlZFZhbHVlfQoJCQkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkpOwoJCQkJCQkJfSl9CgkJCQkJCTwvZGl2PgoJCQkJCTwvZGl2PgoJCQkJKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICghc2hvd0NoYXJ0KSB7CgkJCXNldFRvb2x0aXAobnVsbCk7CgkJfQoJfSwgW3Nob3dDaGFydF0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCF0b29sdGlwKSB7CgkJCXJldHVybjsKCQl9CgoJCWNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHsKCQkJY29uc3QgY29udGFpbmVyID0gb3V0ZXJSZWYuY3VycmVudDsKCQkJaWYgKCFjb250YWluZXIpIHJldHVybjsKCQkJY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50OwoJCQlpZiAodGFyZ2V0IGluc3RhbmNlb2YgTm9kZSAmJiBjb250YWluZXIuY29udGFpbnModGFyZ2V0KSkgewoJCQkJcmV0dXJuOwoJCQl9CgkJCWNsZWFyVG9vbHRpcCgpOwoJCX07CgoJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGhhbmRsZVBvaW50ZXJEb3duKTsKCgkJcmV0dXJuICgpID0+IHsKCQkJd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlUG9pbnRlckRvd24pOwoJCX07Cgl9LCBbY2xlYXJUb29sdGlwLCB0b29sdGlwXSk7CgoJbGV0IGJvZHk6IFJlYWN0LlJlYWN0Tm9kZSA9IG51bGw7CgoJaWYgKGVycm9yKSB7CgkJYm9keSA9CgkJCXR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycgPyAoCgkJCQk8QXJlYUNoYXJ0U3RhdGUKCQkJCQlsYWJlbD0iVGhlcmUgd2FzIGEgcHJvYmxlbSByZW5kZXJpbmcgdGhlIGNoYXJ0LiIKCQkJCQlkZXNjcmlwdGlvbj17ZXJyb3J9CgkJCQkvPgoJCQkpIDogKAoJCQkJZXJyb3IKCQkJKTsKCX0gZWxzZSBpZiAobG9hZGluZykgewoJCWJvZHkgPSBsb2FkaW5nU3RhdGUgPz8gKAoJCQk8QXJlYUNoYXJ0U3RhdGUgbGFiZWw9IkxvYWRpbmcgY2hhcnQgZGF0YeKApiIgZGVzY3JpcHRpb249e3VuZGVmaW5lZH0gLz4KCQkpOwoJfSBlbHNlIGlmICghaGFzRW5vdWdoUG9pbnRzKSB7CgkJYm9keSA9IGVtcHR5U3RhdGUgPz8gKAoJCQk8QXJlYUNoYXJ0U3RhdGUKCQkJCWxhYmVsPSJOb3QgZW5vdWdoIGRhdGEgdG8gZGlzcGxheSB5ZXQuIgoJCQkJZGVzY3JpcHRpb249IlByb3ZpZGUgYXQgbGVhc3QgdHdvIGRhdGEgcG9pbnRzIG9yIGFkanVzdCB5b3VyIGZpbHRlcnMuIgoJCQkvPgoJCSk7Cgl9IGVsc2UgewoJCWJvZHkgPSAoCgkJCS8qIGJpb21lLWlnbm9yZSBsaW50L2ExMXkvbm9TdmdXaXRob3V0VGl0bGU6IGhhbmRsZWQgdmlhIGFyaWEtbGFiZWwgKi8KCQkJPHN2ZwoJCQkJcmVmPXtzdmdSZWZ9CgkJCQljbGFzc05hbWU9ImgtZnVsbCB3LWZ1bGwgdGV4dC1mb3JlZ3JvdW5kLzQ1IgoJCQkJdmlld0JveD17YDAgMCAke3ZpZXdCb3hXaWR0aH0gJHt2aWV3Qm94SGVpZ2h0fWB9CgkJCQlhcmlhLWxhYmVsPXtzdmdUaXRsZX0KCQkJCXByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIG1lZXQiCgkJCQlzdHlsZT17eyBvdmVyZmxvdzogJ3Zpc2libGUnIH19CgkJCQlzaGFwZVJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIgoJCQkJb25Qb2ludGVyTGVhdmU9e2hhbmRsZVBvaW50ZXJMZWF2ZX0KCQkJCXsuLi4odHJpbW1lZEFyaWFMYWJlbAoJCQkJCT8geyByb2xlOiAnaW1nJywgJ2FyaWEtbGFiZWxsZWRieSc6IHN2Z1RpdGxlSWQgfQoJCQkJCTogeyByb2xlOiAnaW1nJywgJ2FyaWEtaGlkZGVuJzogdHJ1ZSB9KX0KCQkJPgoJCQkJPGRlZnM+CgkJCQkJe2NvbXB1dGVkU2VyaWVzLm1hcCgoc2VyaWVzSXRlbSkgPT4gKAoJCQkJCQk8bGluZWFyR3JhZGllbnQKCQkJCQkJCWtleT17c2VyaWVzSXRlbS5ncmFkaWVudElkfQoJCQkJCQkJaWQ9e3Nlcmllc0l0ZW0uZ3JhZGllbnRJZH0KCQkJCQkJCXgxPSIwIgoJCQkJCQkJeDI9IjAiCgkJCQkJCQl5MT0iMCIKCQkJCQkJCXkyPSIxIgoJCQkJCQk+CgkJCQkJCQk8c3RvcAoJCQkJCQkJCW9mZnNldD0iMCUiCgkJCQkJCQkJc3RvcENvbG9yPXtzZXJpZXNJdGVtLmNvbG9yfQoJCQkJCQkJCXN0b3BPcGFjaXR5PXswLjI4fQoJCQkJCQkJLz4KCQkJCQkJCTxzdG9wCgkJCQkJCQkJb2Zmc2V0PSIxMDAlIgoJCQkJCQkJCXN0b3BDb2xvcj17c2VyaWVzSXRlbS5jb2xvcn0KCQkJCQkJCQlzdG9wT3BhY2l0eT17MH0KCQkJCQkJCS8+CgkJCQkJCTwvbGluZWFyR3JhZGllbnQ+CgkJCQkJKSl9CgkJCQk8L2RlZnM+CgkJCQk8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ0cmFuc3BhcmVudCIgLz4KCQkJCTxnPgoJCQkJCXtzaG93R3JpZCA/ICgKCQkJCQkJPGcgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZU9wYWNpdHk9ezAuMX0gc3Ryb2tlV2lkdGg9ezF9PgoJCQkJCQkJe3lBeGlzVGlja3MubWFwKCh0aWNrKSA9PiAoCgkJCQkJCQkJPGxpbmUKCQkJCQkJCQkJa2V5PXtgZ3JpZC15LSR7dGljay52YWx1ZX1gfQoJCQkJCQkJCQl4MT17Y2hhcnRTdGFydFh9CgkJCQkJCQkJCXkxPXt0aWNrLnBvc2l0aW9ufQoJCQkJCQkJCQl4Mj17Y2hhcnRSaWdodH0KCQkJCQkJCQkJeTI9e3RpY2sucG9zaXRpb259CgkJCQkJCQkJLz4KCQkJCQkJCSkpfQoJCQkJCQk8L2c+CgkJCQkJKSA6IG51bGx9CgkJCQkJe2NvbXB1dGVkU2VyaWVzLm1hcCgoc2VyaWVzSXRlbSkgPT4gKAoJCQkJCQk8ZyBrZXk9e2BzZXJpZXMtJHtzZXJpZXNJdGVtLmlkfWB9PgoJCQkJCQkJe3Nlcmllc0l0ZW0uYXJlYVBhdGggPyAoCgkJCQkJCQkJPHBhdGgKCQkJCQkJCQkJZD17c2VyaWVzSXRlbS5hcmVhUGF0aH0KCQkJCQkJCQkJZmlsbD17YHVybCgjJHtzZXJpZXNJdGVtLmdyYWRpZW50SWR9KWB9CgkJCQkJCQkJCXN0cm9rZT0ibm9uZSIKCQkJCQkJCQkvPgoJCQkJCQkJKSA6IG51bGx9CgkJCQkJCQl7c2VyaWVzSXRlbS5saW5lUGF0aCA/ICgKCQkJCQkJCQk8cGF0aAoJCQkJCQkJCQlkPXtzZXJpZXNJdGVtLmxpbmVQYXRofQoJCQkJCQkJCQlmaWxsPSJub25lIgoJCQkJCQkJCQlzdHJva2U9e3Nlcmllc0l0ZW0uY29sb3J9CgkJCQkJCQkJCXN0cm9rZVdpZHRoPXsyfQoJCQkJCQkJCQlzdHJva2VMaW5lam9pbj0icm91bmQiCgkJCQkJCQkJCXN0cm9rZUxpbmVjYXA9InJvdW5kIgoJCQkJCQkJCS8+CgkJCQkJCQkpIDogbnVsbH0KCQkJCQkJPC9nPgoJCQkJCSkpfQoJCQkJCTxnIGNsYXNzTmFtZT0idGV4dC1bMTBweF0gZm9udC1ub3JtYWwgdGV4dC1mb3JlZ3JvdW5kLzQ1Ij4KCQkJCQkJe3Nob3dYQXhpc0xhYmVscwoJCQkJCQkJPyB4QXhpc1RpY2tzLm1hcCgodGljaykgPT4gKAoJCQkJCQkJCQk8ZyBrZXk9e2BheGlzLXgtJHt0aWNrLmlkfWB9PgoJCQkJCQkJCQkJPHRleHQKCQkJCQkJCQkJCQl4PXt0aWNrLnBvc2l0aW9ufQoJCQkJCQkJCQkJCXk9e01hdGgubWluKAoJCQkJCQkJCQkJCQl2aWV3Qm94SGVpZ2h0ICsgNCwKCQkJCQkJCQkJCQkJY2hhcnRCb3R0b20gKyBheGlzVGlja0xlbmd0aCArIDIwLAoJCQkJCQkJCQkJCSl9CgkJCQkJCQkJCQkJdGV4dEFuY2hvcj0ibWlkZGxlIgoJCQkJCQkJCQkJCWZpbGw9ImN1cnJlbnRDb2xvciIKCQkJCQkJCQkJCQljbGFzc05hbWU9InRleHQtWzExcHhdIgoJCQkJCQkJCQkJPgoJCQkJCQkJCQkJCXt0aWNrLmxhYmVsfQoJCQkJCQkJCQkJPC90ZXh0PgoJCQkJCQkJCQk8L2c+CgkJCQkJCQkJKSkKCQkJCQkJCTogbnVsbH0KCQkJCQkJe3Nob3dZQXhpc0xhYmVscwoJCQkJCQkJPyB5QXhpc1RpY2tzLm1hcCgodGljaykgPT4gKAoJCQkJCQkJCQk8ZyBrZXk9e2BheGlzLXktJHt0aWNrLnZhbHVlfS0ke01hdGgucm91bmQodGljay5wb3NpdGlvbil9YH0+CgkJCQkJCQkJCQk8dGV4dAoJCQkJCQkJCQkJCWRhdGEtYXJlYS1jaGFydC15LWxhYmVsCgkJCQkJCQkJCQkJeD17eVRpY2tMYWJlbFh9CgkJCQkJCQkJCQkJeT17dGljay5wb3NpdGlvbiArIDN9CgkJCQkJCQkJCQkJdGV4dEFuY2hvcj0iZW5kIgoJCQkJCQkJCQkJCWZpbGw9ImN1cnJlbnRDb2xvciIKCQkJCQkJCQkJCQljbGFzc05hbWU9InRleHQtWzExcHhdIgoJCQkJCQkJCQkJPgoJCQkJCQkJCQkJCXt0aWNrLmxhYmVsfQoJCQkJCQkJCQkJPC90ZXh0PgoJCQkJCQkJCQk8L2c+CgkJCQkJCQkJKSkKCQkJCQkJCTogbnVsbH0KCQkJCQk8L2c+CgkJCQkJe3Nob3dEb3RzCgkJCQkJCT8gY29tcHV0ZWRTZXJpZXMuZmxhdE1hcCgoc2VyaWVzSXRlbSkgPT4KCQkJCQkJCQlzZXJpZXNJdGVtLnBvc2l0aW9uZWRQb2ludHMubWFwKCh7IHBvaW50LCB4LCB5IH0pID0+IHsKCQkJCQkJCQkJY29uc3QgaXNBY3RpdmUgPQoJCQkJCQkJCQkJYWN0aXZlUG9pbnRJZCA9PT0gcG9pbnQuaWQgfHwKCQkJCQkJCQkJCShhY3RpdmVQb2ludFggIT09IG51bGwgJiYgcG9pbnQueCA9PT0gYWN0aXZlUG9pbnRYKTsKCQkJCQkJCQkJY29uc3QgZm9ybWF0dGVkWE5vZGUgPSBmb3JtYXRYKHBvaW50KTsKCQkJCQkJCQkJY29uc3QgZm9ybWF0dGVkWU5vZGUgPSBmb3JtYXRZRm9yU2VyaWVzKHNlcmllc0l0ZW0uaWQsIHBvaW50KTsKCQkJCQkJCQkJY29uc3QgZm9ybWF0dGVkWFRleHQgPSB0b1BsYWluVGV4dCgKCQkJCQkJCQkJCWZvcm1hdHRlZFhOb2RlLAoJCQkJCQkJCQkJZ2V0UG9pbnRMYWJlbFRleHQocG9pbnQpLAoJCQkJCQkJCQkpOwoJCQkJCQkJCQljb25zdCBmb3JtYXR0ZWRZVGV4dCA9IHRvUGxhaW5UZXh0KAoJCQkJCQkJCQkJZm9ybWF0dGVkWU5vZGUsCgkJCQkJCQkJCQlnZXRQb2ludFZhbHVlVGV4dChwb2ludCksCgkJCQkJCQkJCSk7CgkJCQkJCQkJCXJldHVybiAoCgkJCQkJCQkJCQk8ZyBrZXk9e2Ake3Nlcmllc0l0ZW0uaWR9LSR7cG9pbnQuaWR9YH0+CgkJCQkJCQkJCQkJey8qIGJpb21lLWlnbm9yZSBsaW50L2ExMXkvdXNlU2VtYW50aWNFbGVtZW50czogQSA8Y2lyY2xlPiBjYW5ub3QgYmUgcmVwbGFjZWQgd2l0aCA8YnV0dG9uPiBpbnNpZGUgU1ZHLCBzbyB3ZSBwcm92aWRlIGJ1dHRvbiBzZW1hbnRpY3MgdmlhIHJvbGUuICovfQoJCQkJCQkJCQkJCTxjaXJjbGUKCQkJCQkJCQkJCQkJY3g9e3h9CgkJCQkJCQkJCQkJCWN5PXt5fQoJCQkJCQkJCQkJCQlyPXtpc0FjdGl2ZSA/IDUgOiA0fQoJCQkJCQkJCQkJCQlmaWxsPXtzZXJpZXNJdGVtLmNvbG9yfQoJCQkJCQkJCQkJCQlmaWxsT3BhY2l0eT17aXNBY3RpdmUgPyAxIDogMH0KCQkJCQkJCQkJCQkJc3Ryb2tlPXtzZXJpZXNJdGVtLmNvbG9yfQoJCQkJCQkJCQkJCQlzdHJva2VPcGFjaXR5PXtpc0FjdGl2ZSA/IDEgOiAwfQoJCQkJCQkJCQkJCQlzdHJva2VXaWR0aD17MC41fQoJCQkJCQkJCQkJCQlzdHlsZT17ewoJCQkJCQkJCQkJCQkJb3BhY2l0eTogaXNBY3RpdmUgPyAxIDogMCwKCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkJcm9sZT0iYnV0dG9uIgoJCQkJCQkJCQkJCQl0YWJJbmRleD17MH0KCQkJCQkJCQkJCQkJYXJpYS1wcmVzc2VkPXtpc0FjdGl2ZX0KCQkJCQkJCQkJCQkJYXJpYS1sYWJlbD17YCR7c2VyaWVzSXRlbS5zZXJpZXNMYWJlbH0gJHtmb3JtYXR0ZWRYVGV4dH06ICR7Zm9ybWF0dGVkWVRleHR9YH0KCQkJCQkJCQkJCQkJb25Qb2ludGVyRW50ZXI9eygpID0+CgkJCQkJCQkJCQkJCQl1cGRhdGVUb29sdGlwRm9yUG9pbnQoc2VyaWVzSXRlbSwgcG9pbnQsIHsgeCwgeSB9KQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCW9uUG9pbnRlckxlYXZlPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJCQkJCWlmICgKCQkJCQkJCQkJCQkJCQlldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyB8fAoJCQkJCQkJCQkJCQkJCWV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJwoJCQkJCQkJCQkJCQkJKSB7CgkJCQkJCQkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJc2NoZWR1bGVUb29sdGlwSGlkZSgpOwoJCQkJCQkJCQkJCQl9fQoJCQkJCQkJCQkJCQlvbkZvY3VzPXsoKSA9PgoJCQkJCQkJCQkJCQkJdXBkYXRlVG9vbHRpcEZvclBvaW50KHNlcmllc0l0ZW0sIHBvaW50LCB7IHgsIHkgfSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlvbkJsdXI9e2NsZWFyVG9vbHRpcH0KCQkJCQkJCQkJCQkJb25DbGljaz17KCkgPT4KCQkJCQkJCQkJCQkJCXVwZGF0ZVRvb2x0aXBGb3JQb2ludChzZXJpZXNJdGVtLCBwb2ludCwgeyB4LCB5IH0pCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJb25LZXlEb3duPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJCQkJCWlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHsKCQkJCQkJCQkJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJCQkJCQkJCXVwZGF0ZVRvb2x0aXBGb3JQb2ludChzZXJpZXNJdGVtLCBwb2ludCwgewoJCQkJCQkJCQkJCQkJCQl4LAoJCQkJCQkJCQkJCQkJCQl5LAoJCQkJCQkJCQkJCQkJCX0pOwoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHsKCQkJCQkJCQkJCQkJCQljbGVhclRvb2x0aXAoKTsKCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkvPgoJCQkJCQkJCQkJPC9nPgoJCQkJCQkJCQkpOwoJCQkJCQkJCX0pLAoJCQkJCQkJKQoJCQkJCQk6IG51bGx9CgkJCQkJPHJlY3QKCQkJCQkJeD17Y2hhcnRTdGFydFh9CgkJCQkJCXk9e3BhZGRpbmcudG9wfQoJCQkJCQl3aWR0aD17Y2hhcnRXaWR0aH0KCQkJCQkJaGVpZ2h0PXtjaGFydEhlaWdodH0KCQkJCQkJZmlsbD0idHJhbnNwYXJlbnQiCgkJCQkJCW9uUG9pbnRlck1vdmU9e2hhbmRsZVBvaW50ZXJNb3ZlfQoJCQkJCQlvblBvaW50ZXJMZWF2ZT17aGFuZGxlUG9pbnRlckxlYXZlfQoJCQkJCQlvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHsKCQkJCQkJCWlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgewoJCQkJCQkJCWhhbmRsZVBvaW50ZXJNb3ZlKGV2ZW50KTsKCQkJCQkJCX0KCQkJCQkJfX0KCQkJCQkvPgoJCQkJPC9nPgoJCQk8L3N2Zz4KCQkpOwoJfQoKCXJldHVybiAoCgkJPGRpdgoJCQlyZWY9e2NvbWJpbmVkUmVmfQoJCQljbGFzc05hbWU9e2NuKCdub3QtcHJvc2UgcmVsYXRpdmUgdy1mdWxsIHAtNCcsIGNsYXNzTmFtZSl9CgkJCXN0eWxlPXt7IC4uLnN0eWxlLCBoZWlnaHQ6IHJlc29sdmVkSGVpZ2h0LCBtaW5IZWlnaHQ6IHJlc29sdmVkSGVpZ2h0IH19CgkJCXsuLi5yZXN0fQoJCT4KCQkJPGRpdgoJCQkJcmVmPXsobm9kZSkgPT4gewoJCQkJCWNoYXJ0Q29udGFpbmVyUmVmLmN1cnJlbnQgPSBub2RlOwoJCQkJfX0KCQkJCWNsYXNzTmFtZT0icmVsYXRpdmUgaC1mdWxsIHctZnVsbCIKCQkJPgoJCQkJe2JvZHl9CgkJCQl7c2hvd0NoYXJ0ICYmIGNoaWxkcmVuID8gKAoJCQkJCTxkaXYgY2xhc3NOYW1lPSJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiPgoJCQkJCQl7Y2hpbGRyZW59CgkJCQkJPC9kaXY+CgkJCQkpIDogbnVsbH0KCQkJCXtzaG93VG9vbHRpcCAmJiB0b29sdGlwICYmIHJlbmRlclRvb2x0aXAgPyAoCgkJCQkJPGRpdgoJCQkJCQlyZWY9e3Rvb2x0aXBSZWZ9CgkJCQkJCWRhdGEtdmlzaWJsZT17dG9vbHRpcC52aXNpYmxlID8gJycgOiB1bmRlZmluZWR9CgkJCQkJCWNsYXNzTmFtZT0icG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBsZWZ0LTAgdG9wLTAgei01MCBtaW4tdy0zMiBtYXgtdy14cyByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQtbXV0ZWQgcC0yIHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kIHNoYWRvdy1tZCIKCQkJCQkJc3R5bGU9e3sKCQkJCQkJCXRyYW5zZm9ybU9yaWdpbjogYCR7dG9vbHRpcC5ob3Jpem9udGFsfSAke3Rvb2x0aXAudmVydGljYWx9YCwKCQkJCQkJCXRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7dG9vbHRpcC54fXB4LCAke3Rvb2x0aXAueX1weCwgMCkgc2NhbGUoJHt0b29sdGlwLnZpc2libGUgPyAxIDogMC45NX0pYCwKCQkJCQkJCW9wYWNpdHk6IHRvb2x0aXAudmlzaWJsZSA/IDEgOiAwLAoJCQkJCQkJdHJhbnNpdGlvbjoKCQkJCQkJCQkndHJhbnNmb3JtIDQ1MG1zIHZhcigtLWVhc2Utc21vb3RoKSwgb3BhY2l0eSAzMDBtcyB2YXIoLS1lYXNlLXNtb290aCknLAoJCQkJCQkJd2lsbENoYW5nZTogJ3RyYW5zZm9ybSwgb3BhY2l0eScsCgkJCQkJCX19CgkJCQkJPgoJCQkJCQl7cmVuZGVyVG9vbHRpcH0KCQkJCQk8L2Rpdj4KCQkJCSkgOiBudWxsfQoJCQk8L2Rpdj4KCQk8L2Rpdj4KCSk7Cn0pOwpBcmVhQ2hhcnRHcmFwaEJhc2UuZGlzcGxheU5hbWUgPSAnQXJlYUNoYXJ0R3JhcGgnOwoKdHlwZSBBcmVhQ2hhcnRHcmFwaENvbXBvbmVudCA9IDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPigKCXByb3BzOiBBcmVhQ2hhcnRHcmFwaFByb3BzPFREYXRhPiAmIHsgcmVmPzogUmVhY3QuUmVmPEhUTUxEaXZFbGVtZW50PiB9LAopID0+IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGw7CgpleHBvcnQgY29uc3QgQXJlYUNoYXJ0R3JhcGggPSBBcmVhQ2hhcnRHcmFwaEJhc2UgYXMgQXJlYUNoYXJ0R3JhcGhDb21wb25lbnQ7CgpleHBvcnQgaW50ZXJmYWNlIEFyZWFDaGFydExlZ2VuZFByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7fQoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydExlZ2VuZCA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCUFyZWFDaGFydExlZ2VuZFByb3BzCj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCWNvbnN0IHsgc2VyaWVzIH0gPSB1c2VBcmVhQ2hhcnRDb250ZXh0KCk7CgoJaWYgKCFzZXJpZXMubGVuZ3RoKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17cmVmfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtNCBwYi00IHB0LTIgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7c2VyaWVzLm1hcCgoc2VyaWVzSXRlbSkgPT4gKAoJCQkJPGRpdiBrZXk9e3Nlcmllc0l0ZW0uaWR9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCTxzcGFuCgkJCQkJCWNsYXNzTmFtZT0iaW5saW5lLWZsZXggaC0yLjUgdy0xIHNocmluay0wIHJvdW5kZWQtWzFweF0iCgkJCQkJCXN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogc2VyaWVzSXRlbS5jb2xvciB9fQoJCQkJCS8+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCI+CgkJCQkJCXtzZXJpZXNJdGVtLnNlcmllc0xhYmVsfQoJCQkJCTwvc3Bhbj4KCQkJCTwvZGl2PgoJCQkpKX0KCQk8L2Rpdj4KCSk7Cn0pOwpBcmVhQ2hhcnRMZWdlbmQuZGlzcGxheU5hbWUgPSAnQXJlYUNoYXJ0TGVnZW5kJzsKCmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNoYXJ0RGF0YVRhYmxlUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBBcmVhQ2hhcnREYXRhVGFibGUgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglBcmVhQ2hhcnREYXRhVGFibGVQcm9wcwo+KCh7IGNsYXNzTmFtZSA9ICcnLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJcmVmPXtyZWZ9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknbm90LXByb3NlIGJnLWNhcmQtbXV0ZWQvMzAgc3BhY2UteS0yIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgcC00IHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfSk7CkFyZWFDaGFydERhdGFUYWJsZS5kaXNwbGF5TmFtZSA9ICdBcmVhQ2hhcnREYXRhVGFibGUnOwoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnREYXRhVGFibGVDb250ZW50UHJvcHM8CglURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtLAo+IHsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXJvd0NsYXNzTmFtZT86IHN0cmluZzsKCWxhYmVsQ2xhc3NOYW1lPzogc3RyaW5nOwoJdmFsdWVDbGFzc05hbWU/OiBzdHJpbmc7CglkZWx0YUNsYXNzTmFtZT86IHN0cmluZzsKCXNob3dEZWx0YT86IGJvb2xlYW47CglkZWx0YUZvcm1hdHRlcj86ICgKCQljdXJyZW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJcHJldmlvdXM6IEFyZWFDaGFydFBvaW50PFREYXRhPiB8IG51bGwsCgkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXZhbHVlRm9ybWF0dGVyPzogKAoJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJc2hvd1RvdGFsUm93PzogYm9vbGVhbjsKCWF2ZXJhZ2VMYWJlbD86IFJlYWN0LlJlYWN0Tm9kZTsKCWF2ZXJhZ2VGb3JtYXR0ZXI/OiAoYXZlcmFnZTogbnVtYmVyKSA9PiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmV4cG9ydCBmdW5jdGlvbiBBcmVhQ2hhcnREYXRhVGFibGVDb250ZW50PAoJVERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bSwKPih7CgljbGFzc05hbWUgPSAnJywKCXJvd0NsYXNzTmFtZSwKCWxhYmVsQ2xhc3NOYW1lLAoJdmFsdWVDbGFzc05hbWUsCglkZWx0YUNsYXNzTmFtZSwKCXNob3dEZWx0YSA9IHRydWUsCglkZWx0YUZvcm1hdHRlciwKCXZhbHVlRm9ybWF0dGVyLAoJc2hvd1RvdGFsUm93ID0gdHJ1ZSwKCWF2ZXJhZ2VMYWJlbCA9ICdBdmVyYWdlJywKCWF2ZXJhZ2VGb3JtYXR0ZXIsCn06IEFyZWFDaGFydERhdGFUYWJsZUNvbnRlbnRQcm9wczxURGF0YT4pIHsKCWNvbnN0IHsgcG9pbnRzLCB0b3RhbCwgZm9ybWF0WCwgZm9ybWF0WSwgeURvbWFpbiB9ID0KCQl1c2VBcmVhQ2hhcnRDb250ZXh0PFREYXRhPigpOwoKCWlmICghcG9pbnRzLmxlbmd0aCkgewoJCXJldHVybiBudWxsOwoJfQoKCWNvbnN0IGF2ZXJhZ2UgPSB0b3RhbCAvIHBvaW50cy5sZW5ndGg7CgoJY29uc3QgYmFzZVJvd0NsYXNzID0gc2hvd0RlbHRhCgkJPyAnZ3JpZCBncmlkLWNvbHMtW21pbm1heCgwLDFmcilfYXV0b19hdXRvXSBpdGVtcy1jZW50ZXIgZ2FwLTMnCgkJOiAnZ3JpZCBncmlkLWNvbHMtW21pbm1heCgwLDFmcilfYXV0b10gaXRlbXMtY2VudGVyIGdhcC0zJzsKCgl0eXBlIERlbHRhVG9uZSA9ICdwb3NpdGl2ZScgfCAnbmVnYXRpdmUnIHwgJ25ldXRyYWwnIHwgJ2N1c3RvbSc7CgoJY29uc3QgZm9ybWF0RGVsdGFQZXJjZW50YWdlID0gKHJhdGlvOiBudW1iZXIpID0+IHsKCQljb25zdCBhYnNvbHV0ZVJhdGlvID0gTWF0aC5hYnMocmF0aW8pOwoJCWNvbnN0IG1heGltdW1GcmFjdGlvbkRpZ2l0cyA9IGFic29sdXRlUmF0aW8gPj0gMTAwID8gMCA6IDE7CgkJY29uc3QgbWluaW11bUZyYWN0aW9uRGlnaXRzID0KCQkJYWJzb2x1dGVSYXRpbyA+IDAgJiYgYWJzb2x1dGVSYXRpbyA8IDEgPyAxIDogMDsKCQljb25zdCBmb3JtYXR0ZWRNYWduaXR1ZGUgPSBhYnNvbHV0ZVJhdGlvLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgewoJCQltYXhpbXVtRnJhY3Rpb25EaWdpdHMsCgkJCW1pbmltdW1GcmFjdGlvbkRpZ2l0cywKCQl9KTsKCQljb25zdCBwcmVmaXggPSByYXRpbyA+IDAgPyAnKycgOiByYXRpbyA8IDAgPyAn4oiSJyA6ICcnOwoJCXJldHVybiBgJHtwcmVmaXh9JHtmb3JtYXR0ZWRNYWduaXR1ZGV9JWA7Cgl9OwoKCWNvbnN0IHJlc29sdmVEZWx0YVRvbmVDbGFzcyA9ICh0b25lOiBEZWx0YVRvbmUpID0+CgkJdG9uZSA9PT0gJ3Bvc2l0aXZlJwoJCQk/ICd0ZXh0LXN1Y2Nlc3MvOTAnCgkJCTogdG9uZSA9PT0gJ25lZ2F0aXZlJwoJCQkJPyAndGV4dC1kZXN0cnVjdGl2ZS85MCcKCQkJCTogJ3RleHQtZm9yZWdyb3VuZC80NSc7CgoJY29uc3Qgcm93cyA9IHBvaW50cy5tYXAoKHBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sIGluZGV4KSA9PiB7CgkJY29uc3QgcHJldmlvdXMgPSBpbmRleCA+IDAgPyAocG9pbnRzW2luZGV4IC0gMV0gPz8gbnVsbCkgOiBudWxsOwoJCWNvbnN0IHJlc29sdmVkVmFsdWUgPSB2YWx1ZUZvcm1hdHRlcgoJCQk/IHZhbHVlRm9ybWF0dGVyKHBvaW50LCB7IHRvdGFsLCBkb21haW46IHlEb21haW4gfSkKCQkJOiBmb3JtYXRZKHBvaW50KTsKCQljb25zdCBkZWx0YTogewoJCQljb250ZW50OiBSZWFjdC5SZWFjdE5vZGU7CgkJCXRvbmU6IERlbHRhVG9uZTsKCQkJcmF0aW86IG51bWJlciB8IG51bGw7CgkJfSA9ICgoKSA9PiB7CgkJCWlmICghc2hvd0RlbHRhKSB7CgkJCQlyZXR1cm4geyBjb250ZW50OiBudWxsLCB0b25lOiAnbmV1dHJhbCcsIHJhdGlvOiBudWxsIH07CgkJCX0KCQkJaWYgKGRlbHRhRm9ybWF0dGVyKSB7CgkJCQlyZXR1cm4gewoJCQkJCWNvbnRlbnQ6IGRlbHRhRm9ybWF0dGVyKHBvaW50LCBwcmV2aW91cyksCgkJCQkJdG9uZTogJ2N1c3RvbScsCgkJCQkJcmF0aW86IG51bGwsCgkJCQl9OwoJCQl9CgkJCWlmICgKCQkJCSFwcmV2aW91cyB8fAoJCQkJIU51bWJlci5pc0Zpbml0ZShwcmV2aW91cy52YWx1ZSkgfHwKCQkJCXByZXZpb3VzLnZhbHVlID09PSAwCgkJCSkgewoJCQkJcmV0dXJuIHsgY29udGVudDogJ+KAlCcsIHRvbmU6ICduZXV0cmFsJywgcmF0aW86IG51bGwgfTsKCQkJfQoJCQljb25zdCBjaGFuZ2UgPSBwb2ludC52YWx1ZSAtIHByZXZpb3VzLnZhbHVlOwoJCQljb25zdCByYXRpbyA9IChjaGFuZ2UgLyBNYXRoLmFicyhwcmV2aW91cy52YWx1ZSkpICogMTAwOwoJCQlpZiAoIU51bWJlci5pc0Zpbml0ZShyYXRpbykpIHsKCQkJCXJldHVybiB7IGNvbnRlbnQ6ICfigJQnLCB0b25lOiAnbmV1dHJhbCcsIHJhdGlvOiBudWxsIH07CgkJCX0KCQkJY29uc3QgdG9uZSA9CgkJCQlyYXRpbyA+IDAKCQkJCQk/ICgncG9zaXRpdmUnIGFzIGNvbnN0KQoJCQkJCTogcmF0aW8gPCAwCgkJCQkJCT8gKCduZWdhdGl2ZScgYXMgY29uc3QpCgkJCQkJCTogKCduZXV0cmFsJyBhcyBjb25zdCk7CgkJCXJldHVybiB7CgkJCQljb250ZW50OiBmb3JtYXREZWx0YVBlcmNlbnRhZ2UocmF0aW8pLAoJCQkJdG9uZSwKCQkJCXJhdGlvLAoJCQl9OwoJCX0pKCk7CgoJCXJldHVybiB7CgkJCXBvaW50LAoJCQlyZXNvbHZlZFZhbHVlLAoJCQlkZWx0YSwKCQl9OwoJfSk7CgoJY29uc3QgeyBzdW06IGRlbHRhU3VtLCBjb3VudDogZGVsdGFDb3VudCB9ID0gc2hvd0RlbHRhCgkJPyByb3dzLnJlZHVjZTx7IHN1bTogbnVtYmVyOyBjb3VudDogbnVtYmVyIH0+KAoJCQkJKGFjYywgcm93KSA9PiB7CgkJCQkJaWYgKHJvdy5kZWx0YS5yYXRpbyAhPT0gbnVsbCkgewoJCQkJCQlhY2Muc3VtICs9IHJvdy5kZWx0YS5yYXRpbzsKCQkJCQkJYWNjLmNvdW50ICs9IDE7CgkJCQkJfQoJCQkJCXJldHVybiBhY2M7CgkJCQl9LAoJCQkJeyBzdW06IDAsIGNvdW50OiAwIH0sCgkJCSkKCQk6IHsgc3VtOiAwLCBjb3VudDogMCB9OwoKCWNvbnN0IGF2ZXJhZ2VEZWx0YSA9CgkJc2hvd0RlbHRhICYmIGRlbHRhQ291bnQgPiAwID8gZGVsdGFTdW0gLyBkZWx0YUNvdW50IDogbnVsbDsKCgljb25zdCBhdmVyYWdlRGVsdGFUb25lID0KCQlhdmVyYWdlRGVsdGEgIT09IG51bGwKCQkJPyBhdmVyYWdlRGVsdGEgPiAwCgkJCQk/ICgncG9zaXRpdmUnIGFzIGNvbnN0KQoJCQkJOiBhdmVyYWdlRGVsdGEgPCAwCgkJCQkJPyAoJ25lZ2F0aXZlJyBhcyBjb25zdCkKCQkJCQk6ICgnbmV1dHJhbCcgYXMgY29uc3QpCgkJCTogKCduZXV0cmFsJyBhcyBjb25zdCk7CgoJY29uc3QgYXZlcmFnZURlbHRhQ29udGVudCA9CgkJc2hvd0RlbHRhICYmIGF2ZXJhZ2VEZWx0YSAhPT0gbnVsbAoJCQk/IGZvcm1hdERlbHRhUGVyY2VudGFnZShhdmVyYWdlRGVsdGEpCgkJCTogc2hvd0RlbHRhCgkJCQk/ICfigJQnCgkJCQk6IG51bGw7CgoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ3NwYWNlLXktMicsIGNsYXNzTmFtZSl9PgoJCQl7cm93cy5tYXAoKHsgcG9pbnQsIHJlc29sdmVkVmFsdWUsIGRlbHRhIH0pID0+IHsKCQkJCXJldHVybiAoCgkJCQkJPGRpdiBrZXk9e3BvaW50LmlkfSBjbGFzc05hbWU9e2NuKGJhc2VSb3dDbGFzcywgcm93Q2xhc3NOYW1lKX0+CgkJCQkJCTxkaXYKCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQkJCQkJbGFiZWxDbGFzc05hbWUsCgkJCQkJCQkpfQoJCQkJCQk+CgkJCQkJCQk8c3BhbiBjbGFzc05hbWU9InRydW5jYXRlIHRleHQtc20gZm9udC1tZWRpdW0iPgoJCQkJCQkJCXtmb3JtYXRYKHBvaW50KX0KCQkJCQkJCTwvc3Bhbj4KCQkJCQkJPC9kaXY+CgkJCQkJCTxzcGFuCgkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCSdpbmxpbmUtZmxleCBtaW4tdy0xMCBqdXN0aWZ5LWVuZCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXJpZ2h0IHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kLzcwIHRhYnVsYXItbnVtcycsCgkJCQkJCQkJdmFsdWVDbGFzc05hbWUsCgkJCQkJCQkpfQoJCQkJCQk+CgkJCQkJCQl7cmVzb2x2ZWRWYWx1ZX0KCQkJCQkJPC9zcGFuPgoJCQkJCQl7c2hvd0RlbHRhID8gKAoJCQkJCQkJPHNwYW4KCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQknaW5saW5lLWZsZXggbWluLXctMTQganVzdGlmeS1lbmQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1yaWdodCB0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRhYnVsYXItbnVtcycsCgkJCQkJCQkJCXJlc29sdmVEZWx0YVRvbmVDbGFzcyhkZWx0YS50b25lKSwKCQkJCQkJCQkJZGVsdGFDbGFzc05hbWUsCgkJCQkJCQkJKX0KCQkJCQkJCT4KCQkJCQkJCQl7ZGVsdGEuY29udGVudH0KCQkJCQkJCTwvc3Bhbj4KCQkJCQkJKSA6IG51bGx9CgkJCQkJPC9kaXY+CgkJCQkpOwoJCQl9KX0KCQkJe3Nob3dUb3RhbFJvdyA/ICgKCQkJCTxkaXYKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQlzaG93RGVsdGEKCQkJCQkJCT8gJ2dyaWQgZ3JpZC1jb2xzLVttaW5tYXgoMCwxZnIpX2F1dG9fYXV0b10gaXRlbXMtY2VudGVyIGdhcC0zIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgcHQtMyB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcKCQkJCQkJCTogJ2dyaWQgZ3JpZC1jb2xzLVttaW5tYXgoMCwxZnIpX2F1dG9dIGl0ZW1zLWNlbnRlciBnYXAtMyBib3JkZXItdCBib3JkZXItYm9yZGVyLzYwIHB0LTMgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQnLAoJCQkJCQlyb3dDbGFzc05hbWUsCgkJCQkJKX0KCQkJCT4KCQkJCQk8c3Bhbj57YXZlcmFnZUxhYmVsfTwvc3Bhbj4KCQkJCQk8c3BhbgoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ2lubGluZS1mbGV4IG1pbi13LTEwIGp1c3RpZnktZW5kIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtcmlnaHQgdGFidWxhci1udW1zJywKCQkJCQkJCXZhbHVlQ2xhc3NOYW1lLAoJCQkJCQkpfQoJCQkJCT4KCQkJCQkJe2F2ZXJhZ2VGb3JtYXR0ZXI/LihhdmVyYWdlKSA/PwoJCQkJCQkJYXZlcmFnZS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pfQoJCQkJCTwvc3Bhbj4KCQkJCQl7c2hvd0RlbHRhID8gKAoJCQkJCQk8c3BhbgoJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQknaW5saW5lLWZsZXggbWluLXctMTQganVzdGlmeS1lbmQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1yaWdodCB0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRhYnVsYXItbnVtcycsCgkJCQkJCQkJcmVzb2x2ZURlbHRhVG9uZUNsYXNzKGF2ZXJhZ2VEZWx0YVRvbmUpLAoJCQkJCQkJCWRlbHRhQ2xhc3NOYW1lLAoJCQkJCQkJKX0KCQkJCQkJPgoJCQkJCQkJe2F2ZXJhZ2VEZWx0YUNvbnRlbnR9CgkJCQkJCTwvc3Bhbj4KCQkJCQkpIDogbnVsbH0KCQkJCTwvZGl2PgoJCQkpIDogbnVsbH0KCQk8L2Rpdj4KCSk7Cn0KCmV4cG9ydCBjb25zdCBBcmVhQ2hhcnQgPSBBcmVhQ2hhcnRSb290Ow=="
,
  "switch.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qgc3dpdGNoVmFyaWFudHMgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXRyYW5zcGFyZW50JywKCQknY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1zaGFkb3cnLAoJCSdwZWVyLWZvY3VzLXZpc2libGU6cmluZy0xIHBlZXItZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCSdwZWVyLWZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBwZWVyLWZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogJ2gtNSB3LTknLAoJCQkJbWQ6ICdoLTYgdy0xMScsCgkJCQlsZzogJ2gtNyB3LTEzJywKCQkJfSwKCQkJY2hlY2tlZDogewoJCQkJdHJ1ZTogJycsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWRpc2FibGVkOiB7CgkJCQl0cnVlOiAnY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTAnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCX0sCgkJY29tcG91bmRWYXJpYW50czogWwoJCQl7CgkJCQljaGVja2VkOiB0cnVlLAoJCQkJY2xhc3M6ICdiZy1mb3JlZ3JvdW5kLzMwIHBlZXItZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAnLAoJCQl9LAoJCQl7CgkJCQljaGVja2VkOiBmYWxzZSwKCQkJCWNsYXNzOiAnYmctZm9yZWdyb3VuZC8xNSBwZWVyLWZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwJywKCQkJfSwKCQldLAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCQljaGVja2VkOiBmYWxzZSwKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgdGh1bWJWYXJpYW50cyA9IGN2YSgKCVsKCQknaW5saW5lLWJsb2NrIHJvdW5kZWQtZnVsbCBiZy1jYXJkIGRhcms6YmctZm9yZWdyb3VuZCcsCgkJJ3NoYWRvdy1zbSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYycsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnc2l6ZS00JywKCQkJCW1kOiAnc2l6ZS01JywKCQkJCWxnOiAnc2l6ZS02JywKCQkJfSwKCQkJY2hlY2tlZDogewoJCQkJdHJ1ZTogJycsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQljb21wb3VuZFZhcmlhbnRzOiBbCgkJCXsgc2l6ZTogJ3NtJywgY2hlY2tlZDogdHJ1ZSwgY2xhc3M6ICd0cmFuc2xhdGUteC00JyB9LAoJCQl7IHNpemU6ICdzbScsIGNoZWNrZWQ6IGZhbHNlLCBjbGFzczogJ3RyYW5zbGF0ZS14LTAnIH0sCgkJCXsgc2l6ZTogJ21kJywgY2hlY2tlZDogdHJ1ZSwgY2xhc3M6ICd0cmFuc2xhdGUteC01JyB9LAoJCQl7IHNpemU6ICdtZCcsIGNoZWNrZWQ6IGZhbHNlLCBjbGFzczogJ3RyYW5zbGF0ZS14LTAnIH0sCgkJCXsgc2l6ZTogJ2xnJywgY2hlY2tlZDogdHJ1ZSwgY2xhc3M6ICd0cmFuc2xhdGUteC02JyB9LAoJCQl7IHNpemU6ICdsZycsIGNoZWNrZWQ6IGZhbHNlLCBjbGFzczogJ3RyYW5zbGF0ZS14LTAnIH0sCgkJXSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQkJY2hlY2tlZDogZmFsc2UsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIFN3aXRjaFByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBBcmlha2l0LkNoZWNrYm94PiwgJ3NpemUnPiwKCQlPbWl0PFZhcmlhbnRQcm9wczx0eXBlb2Ygc3dpdGNoVmFyaWFudHM+LCAnY2hlY2tlZCcgfCAnZGlzYWJsZWQnPiB7CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJb25DaGVja2VkQ2hhbmdlPzogKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHZvaWQ7Cn0KCmV4cG9ydCBjb25zdCBTd2l0Y2g6IFJlYWN0LkZDPFN3aXRjaFByb3BzPiA9ICh7CglzaXplID0gJ21kJywKCWRpc2FibGVkID0gZmFsc2UsCgljbGFzc05hbWUsCglvbkNoZWNrZWRDaGFuZ2UsCgljaGVja2VkLAoJZGVmYXVsdENoZWNrZWQsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBpZCA9IFJlYWN0LnVzZUlkKCk7Cgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlQ2hlY2tib3hTdG9yZSgKCQljaGVja2VkICE9PSB1bmRlZmluZWQKCQkJPyBvbkNoZWNrZWRDaGFuZ2UKCQkJCT8gewoJCQkJCQl2YWx1ZTogY2hlY2tlZCwKCQkJCQkJc2V0VmFsdWU6ICh2YWwpID0+IHsKCQkJCQkJCWNvbnN0IG5leHQgPSBBcnJheS5pc0FycmF5KHZhbCkKCQkJCQkJCQk/IHZhbC5zb21lKEJvb2xlYW4pCgkJCQkJCQkJOiB2YWwgPT09IHRydWU7CgkJCQkJCQlvbkNoZWNrZWRDaGFuZ2UobmV4dCk7CgkJCQkJCX0sCgkJCQkJfQoJCQkJOiB7IHZhbHVlOiBjaGVja2VkIH0KCQkJOiB7IGRlZmF1bHRWYWx1ZTogZGVmYXVsdENoZWNrZWQgPz8gZmFsc2UgfSwKCSk7Cgljb25zdCB2YWx1ZSA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ3ZhbHVlJyk7Cgljb25zdCBpc0NoZWNrZWQgPSB2YWx1ZSA9PT0gdHJ1ZTsKCglyZXR1cm4gKAoJCTw+CgkJCTxBcmlha2l0LkNoZWNrYm94CgkJCQlpZD17aWR9CgkJCQlzdG9yZT17c3RvcmV9CgkJCQlyb2xlPSJzd2l0Y2giCgkJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCQljbGFzc05hbWU9InBlZXIgc3Itb25seSIKCQkJCXsuLi5wcm9wc30KCQkJLz4KCQkJPGxhYmVsCgkJCQlodG1sRm9yPXtpZH0KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJc3dpdGNoVmFyaWFudHMoeyBzaXplLCBjaGVja2VkOiBpc0NoZWNrZWQsIGRpc2FibGVkIH0pLAoJCQkJCWNsYXNzTmFtZSwKCQkJCSl9CgkJCT4KCQkJCTxzcGFuIGNsYXNzTmFtZT17dGh1bWJWYXJpYW50cyh7IHNpemUsIGNoZWNrZWQ6IGlzQ2hlY2tlZCB9KX0gLz4KCQkJPC9sYWJlbD4KCQk8Lz4KCSk7Cn07"
,
  "hovercard.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IGhvdmVyY2FyZFRyaWdnZXJWYXJpYW50cyA9IGN2YSgKCSJub3QtcHJvc2UgaW5saW5lLWZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgYm9yZGVyIHNoYWRvdy1zbSBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IHNocmluay0wIFsmX3N2Z106c2hyaW5rLTAgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixib3gtc2hhZG93XSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYyBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSIsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ2JnLWNhcmQgaG92ZXI6YmctY2FyZC1tdXRlZCBib3JkZXItYm9yZGVyIHRleHQtZm9yZWdyb3VuZCcsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnaC04IHB4LTMgcHktMS41IGdhcC0xLjUgaGFzLVs+c3ZnXTpweC0yLjUgdGV4dC1zbScsCgkJCQltZDogJ2gtOSBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIHRleHQtc20nLAoJCQkJbGc6ICdoLTEwIHB4LTYgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTQgdGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBob3ZlcmNhcmRDb250ZW50VmFyaWFudHMgPSBjdmEoCgknbm90LXByb3NlIHJlbGF0aXZlIHctZml0IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZC1tdXRlZCB0ZXh0LWZvcmVncm91bmQgc2hhZG93LW1kJywKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAnJywKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICdweC0zIHB5LTIgdGV4dC1zbScsCgkJCQltZDogJ3B4LTQgcHktMyB0ZXh0LXNtJywKCQkJCWxnOiAncHgtNiBweS00IHRleHQtYmFzZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgaG92ZXJjYXJkTW90aW9uID0KCSdkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggdHJhbnNpdGlvbi1bdHJhbnNsYXRlLG9wYWNpdHksc2NhbGVdIG9wYWNpdHktMCBzY2FsZS05NSAtdHJhbnNsYXRlLXktMiBkYXRhLWVudGVyOm9wYWNpdHktMTAwIGRhdGEtZW50ZXI6c2NhbGUtMTAwIGRhdGEtZW50ZXI6dHJhbnNsYXRlLXktMCBkYXRhLWxlYXZlOm9wYWNpdHktMCBkYXRhLWxlYXZlOnNjYWxlLTk1IGRhdGEtbGVhdmU6LXRyYW5zbGF0ZS15LTInOwoKdHlwZSBIb3ZlcmNhcmRQbGFjZW1lbnQgPQoJfCAndG9wJwoJfCAndG9wLXN0YXJ0JwoJfCAndG9wLWVuZCcKCXwgJ2JvdHRvbScKCXwgJ2JvdHRvbS1zdGFydCcKCXwgJ2JvdHRvbS1lbmQnCgl8ICdsZWZ0JwoJfCAnbGVmdC1zdGFydCcKCXwgJ2xlZnQtZW5kJwoJfCAncmlnaHQnCgl8ICdyaWdodC1zdGFydCcKCXwgJ3JpZ2h0LWVuZCc7Cgp0eXBlIEhvdmVyY2FyZEludGVudEhhbmRsZXIgPSBib29sZWFuIHwgKChldmVudDogTW91c2VFdmVudCkgPT4gYm9vbGVhbik7CgpleHBvcnQgaW50ZXJmYWNlIEhvdmVyY2FyZFByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CglvcGVuPzogYm9vbGVhbjsKCXBsYWNlbWVudD86IEhvdmVyY2FyZFBsYWNlbWVudDsKCWRlZmF1bHRPcGVuPzogYm9vbGVhbjsKCXRpbWVvdXQ/OiBudW1iZXI7CglvcGVuRGVsYXk/OiBudW1iZXI7CgljbG9zZURlbGF5PzogbnVtYmVyOwoJb25PcGVuQ2hhbmdlPzogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQ7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgSG92ZXJjYXJkVHJpZ2dlclByb3BzCglleHRlbmRzIFZhcmlhbnRQcm9wczx0eXBlb2YgaG92ZXJjYXJkVHJpZ2dlclZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJYXNDaGlsZD86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgSG92ZXJjYXJkQ29udGVudFByb3BzCglleHRlbmRzIFZhcmlhbnRQcm9wczx0eXBlb2YgaG92ZXJjYXJkQ29udGVudFZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJcG9ydGFsPzogYm9vbGVhbjsKCWZpeGVkPzogYm9vbGVhbjsKCWd1dHRlcj86IG51bWJlcjsKCXNob3dBcnJvdz86IGJvb2xlYW47CgloaWRlT25Ib3Zlck91dHNpZGU/OiBIb3ZlcmNhcmRJbnRlbnRIYW5kbGVyOwoJZGlzYWJsZVBvaW50ZXJFdmVudHNPbkFwcHJvYWNoPzogSG92ZXJjYXJkSW50ZW50SGFuZGxlcjsKCWF1dG9Gb2N1c09uU2hvdz86IGJvb2xlYW47Cn0KCmV4cG9ydCB0eXBlIEhvdmVyY2FyZEhlYWRpbmdQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwKCXR5cGVvZiBBcmlha2l0LkhvdmVyY2FyZEhlYWRpbmcKPjsKCmV4cG9ydCB0eXBlIEhvdmVyY2FyZERlc2NyaXB0aW9uUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8Cgl0eXBlb2YgQXJpYWtpdC5Ib3ZlcmNhcmREZXNjcmlwdGlvbgo+OwoKdHlwZSBIb3ZlcmNhcmRIZWFkaW5nRWxlbWVudCA9IFJlYWN0LkNvbXBvbmVudFJlZjwKCXR5cGVvZiBBcmlha2l0LkhvdmVyY2FyZEhlYWRpbmcKPjsKdHlwZSBIb3ZlcmNhcmREZXNjcmlwdGlvbkVsZW1lbnQgPSBSZWFjdC5Db21wb25lbnRSZWY8Cgl0eXBlb2YgQXJpYWtpdC5Ib3ZlcmNhcmREZXNjcmlwdGlvbgo+OwoKY29uc3QgSG92ZXJjYXJkU3RvcmVDb250ZXh0ID0KCVJlYWN0LmNyZWF0ZUNvbnRleHQ8QXJpYWtpdC5Ib3ZlcmNhcmRTdG9yZSB8IG51bGw+KG51bGwpOwoKZXhwb3J0IGNvbnN0IEhvdmVyY2FyZDogUmVhY3QuRkM8SG92ZXJjYXJkUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJb3BlbiwKCWRlZmF1bHRPcGVuID0gZmFsc2UsCglvbk9wZW5DaGFuZ2UsCglwbGFjZW1lbnQgPSAnYm90dG9tJywKCXRpbWVvdXQgPSA0MDAsCglvcGVuRGVsYXksCgljbG9zZURlbGF5LAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlSG92ZXJjYXJkU3RvcmUoewoJCXBsYWNlbWVudCwKCQl0aW1lb3V0LAoJCS4uLihvcGVuRGVsYXkgIT09IHVuZGVmaW5lZCA/IHsgc2hvd1RpbWVvdXQ6IG9wZW5EZWxheSB9IDoge30pLAoJCS4uLihjbG9zZURlbGF5ICE9PSB1bmRlZmluZWQgPyB7IGhpZGVUaW1lb3V0OiBjbG9zZURlbGF5IH0gOiB7fSksCgkJLi4uKG9wZW4gIT09IHVuZGVmaW5lZAoJCQk/IG9uT3BlbkNoYW5nZQoJCQkJPyB7IG9wZW4sIHNldE9wZW46IG9uT3BlbkNoYW5nZSB9CgkJCQk6IHsgb3BlbiB9CgkJCTogeyBkZWZhdWx0T3BlbiB9KSwKCX0pOwoKCXJldHVybiAoCgkJPEhvdmVyY2FyZFN0b3JlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17c3RvcmV9PgoJCQk8QXJpYWtpdC5Ib3ZlcmNhcmRQcm92aWRlciBzdG9yZT17c3RvcmV9PgoJCQkJPGRpdiBjbGFzc05hbWU9Im5vdC1wcm9zZSByZWxhdGl2ZSI+e2NoaWxkcmVufTwvZGl2PgoJCQk8L0FyaWFraXQuSG92ZXJjYXJkUHJvdmlkZXI+CgkJPC9Ib3ZlcmNhcmRTdG9yZUNvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEhvdmVyY2FyZFRyaWdnZXI6IFJlYWN0LkZDPEhvdmVyY2FyZFRyaWdnZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCglhc0NoaWxkID0gZmFsc2UsCgljbGFzc05hbWUgPSAnJywKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKfSkgPT4gewoJY29uc3Qgc3RvcmUgPSBSZWFjdC51c2VDb250ZXh0KEhvdmVyY2FyZFN0b3JlQ29udGV4dCk7CglpZiAoIXN0b3JlKQoJCXRocm93IG5ldyBFcnJvcignSG92ZXJjYXJkVHJpZ2dlciBtdXN0IGJlIHVzZWQgd2l0aGluIDxIb3ZlcmNhcmQ+Jyk7CgoJY29uc3QgdHJpZ2dlckNsYXNzTmFtZSA9IGNuKAoJCWhvdmVyY2FyZFRyaWdnZXJWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksCgkJJ2ZvbnQtbWVkaXVtJywKCQljbGFzc05hbWUsCgkpOwoKCWlmIChhc0NoaWxkICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkgewoJCWNvbnN0IGNoaWxkID0gY2hpbGRyZW4gYXMgUmVhY3QuUmVhY3RFbGVtZW50PHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+OwoJCWNvbnN0IG1lcmdlZCA9IFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgewoJCQljbGFzc05hbWU6IGNuKGNoaWxkLnByb3BzLmNsYXNzTmFtZSwgdHJpZ2dlckNsYXNzTmFtZSksCgkJfSk7CgoJCXJldHVybiA8QXJpYWtpdC5Ib3ZlcmNhcmRBbmNob3Igc3RvcmU9e3N0b3JlfSByZW5kZXI9e21lcmdlZH0gLz47Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Ib3ZlcmNhcmRBbmNob3IKCQkJc3RvcmU9e3N0b3JlfQoJCQlyZW5kZXI9ezxidXR0b24gdHlwZT0iYnV0dG9uIiAvPn0KCQkJY2xhc3NOYW1lPXt0cmlnZ2VyQ2xhc3NOYW1lfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5Ib3ZlcmNhcmRBbmNob3I+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEhvdmVyY2FyZENvbnRlbnQ6IFJlYWN0LkZDPEhvdmVyY2FyZENvbnRlbnRQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKCXBvcnRhbCA9IHRydWUsCglmaXhlZCA9IGZhbHNlLAoJZ3V0dGVyID0gMCwKCXNob3dBcnJvdyA9IHRydWUsCgloaWRlT25Ib3Zlck91dHNpZGUgPSB0cnVlLAoJZGlzYWJsZVBvaW50ZXJFdmVudHNPbkFwcHJvYWNoID0gdHJ1ZSwKCWF1dG9Gb2N1c09uU2hvdyA9IGZhbHNlLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IFJlYWN0LnVzZUNvbnRleHQoSG92ZXJjYXJkU3RvcmVDb250ZXh0KTsKCWlmICghc3RvcmUpCgkJdGhyb3cgbmV3IEVycm9yKCdIb3ZlcmNhcmRDb250ZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gPEhvdmVyY2FyZD4nKTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LkhvdmVyY2FyZAoJCQlzdG9yZT17c3RvcmV9CgkJCXBvcnRhbD17cG9ydGFsfQoJCQlmaXhlZD17Zml4ZWR9CgkJCWd1dHRlcj17Z3V0dGVyfQoJCQloaWRlT25Ib3Zlck91dHNpZGU9e2hpZGVPbkhvdmVyT3V0c2lkZX0KCQkJZGlzYWJsZVBvaW50ZXJFdmVudHNPbkFwcHJvYWNoPXtkaXNhYmxlUG9pbnRlckV2ZW50c09uQXBwcm9hY2h9CgkJCWF1dG9Gb2N1c09uU2hvdz17YXV0b0ZvY3VzT25TaG93fQoJCQljbGFzc05hbWU9e2NuKAoJCQkJaG92ZXJjYXJkQ29udGVudFZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwKCQkJCWhvdmVyY2FyZE1vdGlvbiwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQk+CgkJCXtzaG93QXJyb3cgPyA8QXJpYWtpdC5Ib3ZlcmNhcmRBcnJvdyAvPiA6IG51bGx9CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuSG92ZXJjYXJkPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBIb3ZlcmNhcmRIZWFkaW5nID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhvdmVyY2FyZEhlYWRpbmdFbGVtZW50LAoJSG92ZXJjYXJkSGVhZGluZ1Byb3BzCj4oKHsgY2xhc3NOYW1lID0gJycsIC4uLnByb3BzIH0sIHJlZikgPT4gKAoJPEFyaWFraXQuSG92ZXJjYXJkSGVhZGluZwoJCXJlZj17cmVmfQoJCWNsYXNzTmFtZT17Y24oCgkJCSdub3QtcHJvc2UgdGV4dC1zbSBsZWFkaW5nLW5vbmUgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJywKCQkJY2xhc3NOYW1lLAoJCSl9CgkJey4uLnByb3BzfQoJLz4KKSk7CgpIb3ZlcmNhcmRIZWFkaW5nLmRpc3BsYXlOYW1lID0gJ0hvdmVyY2FyZEhlYWRpbmcnOwoKZXhwb3J0IGNvbnN0IEhvdmVyY2FyZERlc2NyaXB0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhvdmVyY2FyZERlc2NyaXB0aW9uRWxlbWVudCwKCUhvdmVyY2FyZERlc2NyaXB0aW9uUHJvcHMKPigoeyBjbGFzc05hbWUgPSAnJywgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCgk8QXJpYWtpdC5Ib3ZlcmNhcmREZXNjcmlwdGlvbgoJCXJlZj17cmVmfQoJCWNsYXNzTmFtZT17Y24oCgkJCSdub3QtcHJvc2UgdGV4dC1zbSBsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJY2xhc3NOYW1lLAoJCSl9CgkJey4uLnByb3BzfQoJLz4KKSk7CgpIb3ZlcmNhcmREZXNjcmlwdGlvbi5kaXNwbGF5TmFtZSA9ICdIb3ZlcmNhcmREZXNjcmlwdGlvbic7"
,
  "radio-group.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBpbmRpY2F0b3JWYXJpYW50cyA9IGN2YSgKCSdmbGV4IGgtMy41IHctMy41IHNocmluay0wIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1ib3JkZXIgdHJhbnNpdGlvbi1bYm9yZGVyLWNvbG9yXSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYycsCgl7CgkJdmFyaWFudHM6IHsKCQkJY2hlY2tlZDogewoJCQkJdHJ1ZTogJ2JvcmRlci1mb3JlZ3JvdW5kJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJY2hlY2tlZDogZmFsc2UsCgkJCWRpc2FibGVkOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgUmFkaW9Hcm91cFByb3BzCglleHRlbmRzIE9taXQ8CgkJUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBBcmlha2l0LlJhZGlvR3JvdXA+LAoJCSdzdG9yZScKCT4gewoJdmFsdWU/OiBzdHJpbmc7CglkZWZhdWx0VmFsdWU/OiBzdHJpbmc7CglvblZhbHVlQ2hhbmdlPzogKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBudWxsKSA9PiB2b2lkOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUmFkaW9Hcm91cDogUmVhY3QuRkM8UmFkaW9Hcm91cFByb3BzPiA9ICh7Cgl2YWx1ZSwKCWRlZmF1bHRWYWx1ZSwKCW9uVmFsdWVDaGFuZ2UsCglkaXNhYmxlZCA9IGZhbHNlLAoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBzdG9yZVByb3BzOiBQYXJhbWV0ZXJzPHR5cGVvZiBBcmlha2l0LnVzZVJhZGlvU3RvcmU+WzBdID0ge307CglpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykgewoJCXN0b3JlUHJvcHMudmFsdWUgPSB2YWx1ZTsKCQlpZiAob25WYWx1ZUNoYW5nZSkgewoJCQlzdG9yZVByb3BzLnNldFZhbHVlID0gb25WYWx1ZUNoYW5nZTsKCQl9Cgl9IGVsc2UgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnKSB7CgkJc3RvcmVQcm9wcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7Cgl9CgoJY29uc3Qgc3RvcmUgPSBBcmlha2l0LnVzZVJhZGlvU3RvcmUoc3RvcmVQcm9wcyk7Cgljb25zdCBjb250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+ICh7IHN0b3JlLCBkaXNhYmxlZCB9KSwKCQlbc3RvcmUsIGRpc2FibGVkXSwKCSk7CgoJcmV0dXJuICgKCQk8UmFkaW9Hcm91cENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+CgkJCTxBcmlha2l0LlJhZGlvUHJvdmlkZXIgc3RvcmU9e3N0b3JlfT4KCQkJCTxBcmlha2l0LlJhZGlvR3JvdXAKCQkJCQlzdG9yZT17c3RvcmV9CgkJCQkJYXJpYS1kaXNhYmxlZD17ZGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCQkJCWRhdGEtZGlzYWJsZWQ9e2Rpc2FibGVkID8gJycgOiB1bmRlZmluZWR9CgkJCQkJY2xhc3NOYW1lPXtjbignZmxleCBmbGV4LWNvbCBnYXAtMicsIGNsYXNzTmFtZSl9CgkJCQkJey4uLnByb3BzfQoJCQkJPgoJCQkJCXtjaGlsZHJlbn0KCQkJCTwvQXJpYWtpdC5SYWRpb0dyb3VwPgoJCQk8L0FyaWFraXQuUmFkaW9Qcm92aWRlcj4KCQk8L1JhZGlvR3JvdXBDb250ZXh0LlByb3ZpZGVyPgoJKTsKfTsKCmludGVyZmFjZSBSYWRpb0dyb3VwQ29udGV4dFZhbHVlIHsKCXN0b3JlOiBSZXR1cm5UeXBlPHR5cGVvZiBBcmlha2l0LnVzZVJhZGlvU3RvcmU+OwoJZGlzYWJsZWQ6IGJvb2xlYW47Cn0KCmNvbnN0IFJhZGlvR3JvdXBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxSYWRpb0dyb3VwQ29udGV4dFZhbHVlIHwgbnVsbD4oCgludWxsLAopOwoKY29uc3QgdXNlUmFkaW9Hcm91cENvbnRleHQgPSAoKSA9PiB7Cgljb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChSYWRpb0dyb3VwQ29udGV4dCk7CglpZiAoIWNvbnRleHQpCgkJdGhyb3cgbmV3IEVycm9yKCdSYWRpb0dyb3VwSXRlbSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgUmFkaW9Hcm91cCcpOwoJcmV0dXJuIGNvbnRleHQ7Cn07Cgpjb25zdCBkb3RWYXJpYW50cyA9IGN2YSgKCSdyb3VuZGVkLWZ1bGwgYmctZm9yZWdyb3VuZCB0cmFuc2l0aW9uLVtzY2FsZSxvcGFjaXR5XSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYycsCgl7CgkJdmFyaWFudHM6IHsKCQkJY2hlY2tlZDogewoJCQkJdHJ1ZTogJ3NjYWxlLTEwMCBvcGFjaXR5LTEwMCcsCgkJCQlmYWxzZTogJ3NjYWxlLTAgb3BhY2l0eS0wJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQljaGVja2VkOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgUmFkaW9Hcm91cEl0ZW1Qcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgQXJpYWtpdC5SYWRpbz4sICdzdG9yZSc+IHsKCWxhYmVsOiBSZWFjdC5SZWFjdE5vZGU7CglkZXNjcmlwdGlvbj86IFJlYWN0LlJlYWN0Tm9kZTsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IFJhZGlvR3JvdXBJdGVtID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxMYWJlbEVsZW1lbnQsCglSYWRpb0dyb3VwSXRlbVByb3BzCj4oKHsgdmFsdWUsIGxhYmVsLCBkZXNjcmlwdGlvbiwgZGlzYWJsZWQsIGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7Cgljb25zdCB7IHN0b3JlLCBkaXNhYmxlZDogY29udGV4dERpc2FibGVkIH0gPSB1c2VSYWRpb0dyb3VwQ29udGV4dCgpOwoJY29uc3QgaXNEaXNhYmxlZCA9IGRpc2FibGVkID8/IGNvbnRleHREaXNhYmxlZDsKCWNvbnN0IGN1cnJlbnRWYWx1ZSA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ3ZhbHVlJyk7Cgljb25zdCBpc0NoZWNrZWQgPSBjdXJyZW50VmFsdWUgPT09IHZhbHVlOwoJY29uc3QgaWQgPSBSZWFjdC51c2VJZCgpOwoJY29uc3QgW2ZvY3VzVmlzaWJsZSwgc2V0Rm9jdXNWaXNpYmxlXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTsKCglyZXR1cm4gKAoJCTxsYWJlbAoJCQlyZWY9e3JlZn0KCQkJaHRtbEZvcj17aWR9CgkJCWRhdGEtZm9jdXMtdmlzaWJsZT17Zm9jdXNWaXNpYmxlID8gJycgOiB1bmRlZmluZWR9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknZ3JvdXAgcmVsYXRpdmUgZmxleCBpdGVtcy1zdGFydCBnYXAtMiBjdXJzb3ItcG9pbnRlciBzZWxlY3Qtbm9uZSByb3VuZGVkLW1kIHRyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljJywKCQkJCSdkYXRhLWZvY3VzLXZpc2libGU6cmluZy0xIGRhdGEtZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZGF0YS1mb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZGF0YS1mb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwJywKCQkJCWlzRGlzYWJsZWQgJiYgJ2N1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQk+CgkJCTxBcmlha2l0LlJhZGlvCgkJCQlpZD17aWR9CgkJCQlzdG9yZT17c3RvcmV9CgkJCQl2YWx1ZT17dmFsdWV9CgkJCQlkaXNhYmxlZD17aXNEaXNhYmxlZH0KCQkJCWNsYXNzTmFtZT0ic3Itb25seSIKCQkJCW9uRm9jdXNWaXNpYmxlPXsoKSA9PiBzZXRGb2N1c1Zpc2libGUodHJ1ZSl9CgkJCQlvbkJsdXI9eygpID0+IHNldEZvY3VzVmlzaWJsZShmYWxzZSl9CgkJCQl7Li4ucHJvcHN9CgkJCS8+CgoJCQk8c3BhbgoJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCWluZGljYXRvclZhcmlhbnRzKHsKCQkJCQkJY2hlY2tlZDogaXNDaGVja2VkLAoJCQkJCQlkaXNhYmxlZDogaXNEaXNhYmxlZCwKCQkJCQl9KSwKCQkJCQknbXQtMC41JywKCQkJCSl9CgkJCT4KCQkJCTxzcGFuCgkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJY2xhc3NOYW1lPXtjbihkb3RWYXJpYW50cyh7IGNoZWNrZWQ6IGlzQ2hlY2tlZCB9KSwgJ2gtMiB3LTInKX0KCQkJCS8+CgkJCTwvc3Bhbj4KCgkJCTxzcGFuIGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCI+CgkJCQk8c3BhbiBjbGFzc05hbWU9InRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIGxlYWRpbmctdGlnaHQiPgoJCQkJCXtsYWJlbH0KCQkJCTwvc3Bhbj4KCQkJCXtkZXNjcmlwdGlvbiAmJiAoCgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCBsZWFkaW5nLXNudWcgbXQtMC41Ij4KCQkJCQkJe2Rlc2NyaXB0aW9ufQoJCQkJCTwvc3Bhbj4KCQkJCSl9CgkJCTwvc3Bhbj4KCQk8L2xhYmVsPgoJKTsKfSk7CgpSYWRpb0dyb3VwSXRlbS5kaXNwbGF5TmFtZSA9ICdSYWRpb0dyb3VwSXRlbSc7"
,
  "select.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvaWNvbnMnOwppbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9hcHAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYSc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qgc2VsZWN0VHJpZ2dlclZhcmlhbnRzID0gY3ZhKAoJYG5vdC1wcm9zZSBub3QtcHJvc2UgZmxleCB3LWZpdCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQtbWQgYmctY2FyZCB0ZXh0LWZvcmVncm91bmQgYm9yZGVyIHNoYWRvdy1zbSB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIHBsYWNlaG9sZGVyOnRleHQtZm9yZWdyb3VuZC80NSBob3ZlcjpiZy1jYXJkLW11dGVkIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwYCwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiBgYm9yZGVyLWJvcmRlciBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MGAsCgkJCQllcnJvcjogYGJvcmRlci1kZXN0cnVjdGl2ZS80MCBmb2N1cy12aXNpYmxlOnJpbmctZGVzdHJ1Y3RpdmUvNTAgZGFyazpmb2N1cy12aXNpYmxlOnJpbmctZGVzdHJ1Y3RpdmUvNTBgLAoJCQkJc3VjY2VzczogYGJvcmRlci1zdWNjZXNzLzQwIGZvY3VzLXZpc2libGU6cmluZy1zdWNjZXNzLzUwIGRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLXN1Y2Nlc3MvNTBgLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ2gtOCBweC0yLjUgcHktMS41IHB4LTMgdGV4dC1zbScsCgkJCQltZDogJ2gtOSBweC0zIHB5LTIgdGV4dC1zbScsCgkJCQlsZzogJ2gtMTAgcHgtNCBweS0yIHRleHQtYmFzZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBTZWxlY3RQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIHNlbGVjdFRyaWdnZXJWYXJpYW50cz4gewoJdmFsdWU/OiBzdHJpbmc7CglkZWZhdWx0VmFsdWU/OiBzdHJpbmc7CglvblZhbHVlQ2hhbmdlPzogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7CglkaXNhYmxlZD86IGJvb2xlYW47CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgaW50ZXJmYWNlIFNlbGVjdFRyaWdnZXJQcm9wcwoJZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBzZWxlY3RUcmlnZ2VyVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0Q29udGVudFByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglwb3J0YWw/OiBib29sZWFuOwoJZml4ZWQ/OiBib29sZWFuOwp9CgpleHBvcnQgaW50ZXJmYWNlIFNlbGVjdEl0ZW1Qcm9wcyB7Cgl2YWx1ZTogc3RyaW5nOwoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBTZWxlY3RWYWx1ZVByb3BzIHsKCXBsYWNlaG9sZGVyPzogc3RyaW5nOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgp0eXBlIFNlbGVjdFNpemUgPSBOb25OdWxsYWJsZTwKCVZhcmlhbnRQcm9wczx0eXBlb2Ygc2VsZWN0VHJpZ2dlclZhcmlhbnRzPlsnc2l6ZSddCj47CnR5cGUgU2VsZWN0VmFyaWFudCA9IE5vbk51bGxhYmxlPAoJVmFyaWFudFByb3BzPHR5cGVvZiBzZWxlY3RUcmlnZ2VyVmFyaWFudHM+Wyd2YXJpYW50J10KPjsKCnR5cGUgSW50ZXJuYWxDdHggPSB7CglzaXplOiBTZWxlY3RTaXplOwoJdmFyaWFudDogU2VsZWN0VmFyaWFudDsKCWRpc2FibGVkPzogYm9vbGVhbjsKfTsKCmNvbnN0IEludGVybmFsQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8SW50ZXJuYWxDdHg+KHsKCXNpemU6ICdtZCcsCgl2YXJpYW50OiAnZGVmYXVsdCcsCn0pOwoKZXhwb3J0IGNvbnN0IFNlbGVjdDogUmVhY3QuRkM8U2VsZWN0UHJvcHM+ID0gKHsKCXZhbHVlOiBjb250cm9sbGVkVmFsdWUsCglkZWZhdWx0VmFsdWUsCglvblZhbHVlQ2hhbmdlLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWNoaWxkcmVuLAoJc2l6ZSA9ICdtZCcsCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlU2VsZWN0U3RvcmUoCgkJY29udHJvbGxlZFZhbHVlICE9PSB1bmRlZmluZWQKCQkJPyB7CgkJCQkJdmFsdWU6IGNvbnRyb2xsZWRWYWx1ZSwKCQkJCQlzZXRWYWx1ZTogKHYpID0+IG9uVmFsdWVDaGFuZ2U/LihTdHJpbmcodiA/PyAnJykpLAoJCQkJCWFuaW1hdGVkOiB0cnVlLAoJCQkJfQoJCQk6IGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkCgkJCQk/IHsKCQkJCQkJZGVmYXVsdFZhbHVlLAoJCQkJCQlzZXRWYWx1ZTogKHYpID0+IG9uVmFsdWVDaGFuZ2U/LihTdHJpbmcodiA/PyAnJykpLAoJCQkJCQlhbmltYXRlZDogdHJ1ZSwKCQkJCQl9CgkJCQk6IHsKCQkJCQkJc2V0VmFsdWU6ICh2KSA9PiBvblZhbHVlQ2hhbmdlPy4oU3RyaW5nKHYgPz8gJycpKSwKCQkJCQkJYW5pbWF0ZWQ6IHRydWUsCgkJCQkJfSwKCSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKICBjb25zb2xlLmxvZygnQ2hpbGQgcmUtcmVuZGVyZWQhJyk7Cn0pOwoKCWNvbnN0IG5vcm1hbGl6ZWRTaXplOiBTZWxlY3RTaXplID0gc2l6ZSA/PyAnbWQnOwoJY29uc3Qgbm9ybWFsaXplZFZhcmlhbnQ6IFNlbGVjdFZhcmlhbnQgPSB2YXJpYW50ID8/ICdkZWZhdWx0JzsKCWNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW88SW50ZXJuYWxDdHg+KAoJCSgpID0+ICh7IHNpemU6IG5vcm1hbGl6ZWRTaXplLCB2YXJpYW50OiBub3JtYWxpemVkVmFyaWFudCwgZGlzYWJsZWQgfSksCgkJW25vcm1hbGl6ZWRTaXplLCBub3JtYWxpemVkVmFyaWFudCwgZGlzYWJsZWRdLAoJKTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LlNlbGVjdFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+CgkJCTxJbnRlcm5hbENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+CgkJCQk8ZGl2IGNsYXNzTmFtZT0ibm90LXByb3NlIHJlbGF0aXZlIj57Y2hpbGRyZW59PC9kaXY+CgkJCTwvSW50ZXJuYWxDb250ZXh0LlByb3ZpZGVyPgoJCTwvQXJpYWtpdC5TZWxlY3RQcm92aWRlcj4KCSk7Cn07CgpleHBvcnQgY29uc3QgU2VsZWN0VHJpZ2dlcjogUmVhY3QuRkM8U2VsZWN0VHJpZ2dlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJc2l6ZTogcHJvcFNpemUsCgl2YXJpYW50OiBwcm9wVmFyaWFudCwKCWRpc2FibGVkOiBkaXNhYmxlZFByb3AsCglhdXRvRm9jdXMsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBjdHggPSBSZWFjdC51c2VDb250ZXh0KEludGVybmFsQ29udGV4dCk7Cgljb25zdCBzZWxlY3QgPSBBcmlha2l0LnVzZVNlbGVjdENvbnRleHQoKTsKCWNvbnN0IGlzT3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzZWxlY3QsIChzKSA9PiBzPy5vcGVuID8/IGZhbHNlKTsKCWNvbnN0IHNpemU6IFNlbGVjdFNpemUgPSBwcm9wU2l6ZSA/PyBjdHguc2l6ZSA/PyAnbWQnOwoJY29uc3QgdmFyaWFudDogU2VsZWN0VmFyaWFudCA9IHByb3BWYXJpYW50ID8/IGN0eC52YXJpYW50ID8/ICdkZWZhdWx0JzsKCWNvbnN0IGRpc2FibGVkID0gZGlzYWJsZWRQcm9wID8/IGN0eC5kaXNhYmxlZCA/PyBmYWxzZTsKCWNvbnN0IHRyaWdnZXJQcm9wcyA9IHsKCQkuLi5wcm9wcywKCQkuLi4odHlwZW9mIGF1dG9Gb2N1cyA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IHsgYXV0b0ZvY3VzIH0pLAoJfTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LlNlbGVjdAoJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCWNsYXNzTmFtZT17Y24oc2VsZWN0VHJpZ2dlclZhcmlhbnRzKHsgc2l6ZSwgdmFyaWFudCB9KSwgY2xhc3NOYW1lKX0KCQkJey4uLnRyaWdnZXJQcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQkJPEljb25zLkNoZXZyb25Eb3duCgkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ21sLTIgaC00IHctNCBzaHJpbmstMCBvcGFjaXR5LTUwIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljJywKCQkJCQlpc09wZW4gJiYgJ3JvdGF0ZS0xODAnLAoJCQkJKX0KCQkJLz4KCQk8L0FyaWFraXQuU2VsZWN0PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTZWxlY3RDb250ZW50OiBSZWFjdC5GQzxTZWxlY3RDb250ZW50UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglwb3J0YWwgPSB0cnVlLAoJZml4ZWQgPSBmYWxzZSwKfSkgPT4gewoJY29uc3Qgc2VsZWN0U3RvcmUgPSBBcmlha2l0LnVzZVNlbGVjdENvbnRleHQoKTsKCWlmICghc2VsZWN0U3RvcmUpCgkJdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RDb250ZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gPFNlbGVjdD4nKTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LlNlbGVjdFBvcG92ZXIKCQkJc2FtZVdpZHRoCgkJCXBvcnRhbD17cG9ydGFsfQoJCQlmaXhlZD17Zml4ZWR9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknYWJzb2x1dGUgei05OTkgbXktMSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHNoYWRvdy1tZCcsCgkJCQknZm9jdXMtdmlzaWJsZTpyaW5nLW5vbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCQkJJ29yaWdpbi10b3AgLXRyYW5zbGF0ZS15LTIgc2NhbGUtOTUgb3BhY2l0eS0wIHRyYW5zaXRpb24tW3RyYW5zbGF0ZSxvcGFjaXR5LHNjYWxlXSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggZGF0YS1lbnRlcjp0cmFuc2xhdGUteS0wIGRhdGEtZW50ZXI6c2NhbGUtMTAwIGRhdGEtZW50ZXI6b3BhY2l0eS0xMDAgZGF0YS1sZWF2ZTotdHJhbnNsYXRlLXktMiBkYXRhLWxlYXZlOnNjYWxlLTk1IGRhdGEtbGVhdmU6b3BhY2l0eS0wJywKCQkJCSdub3QtcHJvc2UnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCT4KCQkJPGRpdiBjbGFzc05hbWU9InotNTAiPgoJCQkJPFNjcm9sbEFyZWEKCQkJCQl0eXBlPSJzY3JvbGwiCgkJCQkJY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGgtZnVsbCB3LWZ1bGwgbWF4LWgtNDIiCgkJCQk+CgkJCQkJPEFyaWFraXQuU2VsZWN0TGlzdAoJCQkJCQlzdG9yZT17c2VsZWN0U3RvcmV9CgkJCQkJCWNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBnYXAtMSBweS0xIGZvY3VzLXZpc2libGU6cmluZy1ub25lIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIgoJCQkJCT4KCQkJCQkJe2NoaWxkcmVufQoJCQkJCTwvQXJpYWtpdC5TZWxlY3RMaXN0PgoJCQkJPC9TY3JvbGxBcmVhPgoJCQk8L2Rpdj4KCQk8L0FyaWFraXQuU2VsZWN0UG9wb3Zlcj4KCSk7Cn07CgpleHBvcnQgY29uc3QgU2VsZWN0SXRlbTogUmVhY3QuRkM8U2VsZWN0SXRlbVByb3BzPiA9ICh7Cgl2YWx1ZSwKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglkaXNhYmxlZCA9IGZhbHNlLAp9KSA9PiB7Cgljb25zdCBzZWxlY3QgPSBBcmlha2l0LnVzZVNlbGVjdENvbnRleHQoKTsKCWNvbnN0IGlzU2VsZWN0ZWQgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc2VsZWN0LCAocykgPT4gcz8udmFsdWUgPT09IHZhbHVlKTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LlNlbGVjdEl0ZW0KCQkJdmFsdWU9e3ZhbHVlfQoJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQkncmVsYXRpdmUgbXgtMSBmbGV4IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC1zbSBweC0yIHB5LTEuNSB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC83MCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yXSBkdXJhdGlvbi0xNTAgZWFzZS1iYXNpYyBvdXRsaW5lLW5vbmUgc2VsZWN0LW5vbmUgZGF0YS1hY3RpdmUtaXRlbTpiZy1jYXJkLW11dGVkIGRhdGEtYWN0aXZlLWl0ZW06dGV4dC1mb3JlZ3JvdW5kJywKCQkJCSdhcmlhLXNlbGVjdGVkOmJnLWNhcmQtbXV0ZWQgYXJpYS1zZWxlY3RlZDpmb250LW1lZGl1bSBhcmlhLXNlbGVjdGVkOnRleHQtZm9yZWdyb3VuZCcsCgkJCQkiWyZfc3ZnXTpzaHJpbmstMCBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IGdhcC0yIiwKCQkJCWRpc2FibGVkICYmICdwb2ludGVyLWV2ZW50cy1ub25lIGN1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQk+CgkJCTxzcGFuIGNsYXNzTmFtZT0iZmxleC0xIj57Y2hpbGRyZW59PC9zcGFuPgoJCQl7aXNTZWxlY3RlZCAmJiAoCgkJCQk8SWNvbnMuQ2hlY2sKCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQljbGFzc05hbWU9Im1sLTIgaC00IHctNCB0ZXh0LWZvcmVncm91bmQvNzAiCgkJCQkvPgoJCQkpfQoJCTwvQXJpYWtpdC5TZWxlY3RJdGVtPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTZWxlY3RWYWx1ZTogUmVhY3QuRkM8U2VsZWN0VmFsdWVQcm9wcz4gPSAoewoJcGxhY2Vob2xkZXIgPSAnU2VsZWN0IGFuIG9wdGlvbi4uLicsCgljbGFzc05hbWUgPSAnJywKfSkgPT4gewoJY29uc3Qgc2VsZWN0ID0gQXJpYWtpdC51c2VTZWxlY3RDb250ZXh0KCk7Cgljb25zdCBjdXJyZW50VmFsdWUgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc2VsZWN0LCAocykgPT4gcz8udmFsdWUgPz8gJycpOwoJY29uc3QgaXRlbXMgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc2VsZWN0LCAocykgPT4gcz8uaXRlbXMgPz8gW10pOwoJY29uc3QgY3VycmVudEl0ZW0gPSBpdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLnZhbHVlID09PSBjdXJyZW50VmFsdWUpOwoKCXJldHVybiAoCgkJPHNwYW4KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdibG9jayB0cnVuY2F0ZSB0ZXh0LWxlZnQgd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LWZvcmVncm91bmQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCT4KCQkJe2N1cnJlbnRJdGVtID8gKAoJCQkJY3VycmVudEl0ZW0uZWxlbWVudD8udGV4dENvbnRlbnQKCQkJKSA6ICgKCQkJCTxzcGFuIGNsYXNzTmFtZT0id2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LWZvcmVncm91bmQvNDUiPgoJCQkJCXtwbGFjZWhvbGRlcn0KCQkJCTwvc3Bhbj4KCQkJKX0KCQk8L3NwYW4+CgkpOwp9Ow=="
,
  "breadcrumb.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhIH0gZnJvbSAnY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5JzsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBicmVhZGNydW1iVmFyaWFudHMgPSBjdmEoJ25vdC1wcm9zZSBmbGV4IGl0ZW1zLWNlbnRlcicsIHsKCXZhcmlhbnRzOiB7CgkJc2l6ZTogewoJCQlzbTogJ3RleHQteHMnLAoJCQltZDogJ3RleHQtc20nLAoJCQlsZzogJ3RleHQtYmFzZScsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQlzaXplOiAnbWQnLAoJfSwKfSk7Cgpjb25zdCBicmVhZGNydW1iTGlzdFZhcmlhbnRzID0gY3ZhKCdub3QtcHJvc2UgZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyJywgewoJdmFyaWFudHM6IHsKCQlzaXplOiB7CgkJCXNtOiAnZ2FwLTEnLAoJCQltZDogJ2dhcC0xLjUnLAoJCQlsZzogJ2dhcC0yJywKCQl9LAoJfSwKCWRlZmF1bHRWYXJpYW50czogewoJCXNpemU6ICdtZCcsCgl9LAp9KTsKCmNvbnN0IGJyZWFkY3J1bWJJdGVtVmFyaWFudHMgPSBjdmEoJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlcicsIHsKCXZhcmlhbnRzOiB7CgkJc2l6ZTogewoJCQlzbTogJ2dhcC0xJywKCQkJbWQ6ICdnYXAtMS41JywKCQkJbGc6ICdnYXAtMicsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQlzaXplOiAnbWQnLAoJfSwKfSk7Cgpjb25zdCBicmVhZGNydW1iTGlua1ZhcmlhbnRzID0gY3ZhKAoJWwoJCSdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixib3gtc2hhZG93LGNvbG9yLHRleHQtZGVjb3JhdGlvbi1jb2xvcl0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMnLAoJCSd0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kJywKCQknZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCSdyb3VuZGVkLW1kJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogWwoJCQkJCSd1bmRlcmxpbmUgdW5kZXJsaW5lLW9mZnNldC00IGRlY29yYXRpb24tdHJhbnNwYXJlbnQgaG92ZXI6ZGVjb3JhdGlvbi1jdXJyZW50JywKCQkJCV0sCgkJCQlnaG9zdDogWydob3ZlcjpiZy1jYXJkLW11dGVkJywgJ3JvdW5kZWQtbWQgcHgtMiBweS0xJ10sCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAndGV4dC14cycsCgkJCQltZDogJ3RleHQtc20nLAoJCQkJbGc6ICd0ZXh0LWJhc2UnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IGJyZWFkY3J1bWJQYWdlVmFyaWFudHMgPSBjdmEoJ2ZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcsIHsKCXZhcmlhbnRzOiB7CgkJc2l6ZTogewoJCQlzbTogJ3RleHQteHMnLAoJCQltZDogJ3RleHQtc20nLAoJCQlsZzogJ3RleHQtYmFzZScsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQlzaXplOiAnbWQnLAoJfSwKfSk7Cgpjb25zdCBicmVhZGNydW1iU2VwYXJhdG9yVmFyaWFudHMgPSBjdmEoJ3RleHQtZm9yZWdyb3VuZC80NSBzZWxlY3Qtbm9uZScsIHsKCXZhcmlhbnRzOiB7CgkJc2l6ZTogewoJCQlzbTogJ3RleHQteHMnLAoJCQltZDogJ3RleHQtc20nLAoJCQlsZzogJ3RleHQtYmFzZScsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQlzaXplOiAnbWQnLAoJfSwKfSk7CgpleHBvcnQgaW50ZXJmYWNlIEJyZWFkY3J1bWJQcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnbmF2Jz4sICdzaXplJz4gewoJc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJzsKCXNlcGFyYXRvcj86IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBCcmVhZGNydW1iTGlzdFByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCdvbCc+LCAnc2l6ZSc+IHsKCXNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQnJlYWRjcnVtYkl0ZW1Qcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnbGknPiwgJ3NpemUnPiB7CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIEJyZWFkY3J1bWJMaW5rUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8J2EnPiwgJ3NpemUnPiB7Cgl2YXJpYW50PzogJ2RlZmF1bHQnIHwgJ2dob3N0JzsKCXNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhc0NoaWxkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBCcmVhZGNydW1iUGFnZVByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCdzcGFuJz4sICdzaXplJz4gewoJc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJzsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBCcmVhZGNydW1iU2VwYXJhdG9yUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8J2xpJz4sICdzaXplJz4gewoJc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJzsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgaW50ZXJmYWNlIEJyZWFkY3J1bWJFbGxpcHNpc1Byb3BzCglleHRlbmRzIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnc3Bhbic+IHsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKY29uc3QgQnJlYWRjcnVtYkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PHsKCXNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7CglzZXBhcmF0b3I/OiBSZWFjdC5SZWFjdE5vZGU7Cn0+KHt9KTsKCmV4cG9ydCBjb25zdCBCcmVhZGNydW1iOiBSZWFjdC5GQzxCcmVhZGNydW1iUHJvcHM+ID0gKHsKCXNpemUgPSAnbWQnLAoJc2VwYXJhdG9yID0gJy8nLAoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxCcmVhZGNydW1iQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBzaXplLCBzZXBhcmF0b3IgfX0+CgkJCTxuYXYKCQkJCWFyaWEtbGFiZWw9IkJyZWFkY3J1bWIiCgkJCQljbGFzc05hbWU9e2NuKGJyZWFkY3J1bWJWYXJpYW50cyh7IHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9uYXY+CgkJPC9CcmVhZGNydW1iQ29udGV4dC5Qcm92aWRlcj4KCSk7Cn07CgpleHBvcnQgY29uc3QgQnJlYWRjcnVtYkxpc3Q6IFJlYWN0LkZDPEJyZWFkY3J1bWJMaXN0UHJvcHM+ID0gKHsKCXNpemUsCgljbGFzc05hbWUsCgljaGlsZHJlbiwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KEJyZWFkY3J1bWJDb250ZXh0KTsKCWNvbnN0IGVmZmVjdGl2ZVNpemUgPSBzaXplID8/IGNvbnRleHQuc2l6ZSA/PyAnbWQnOwoKCXJldHVybiAoCgkJPG9sCgkJCWNsYXNzTmFtZT17Y24oYnJlYWRjcnVtYkxpc3RWYXJpYW50cyh7IHNpemU6IGVmZmVjdGl2ZVNpemUgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L29sPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBCcmVhZGNydW1iSXRlbTogUmVhY3QuRkM8QnJlYWRjcnVtYkl0ZW1Qcm9wcz4gPSAoewoJc2l6ZSwKCWNsYXNzTmFtZSwKCWNoaWxkcmVuLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQnJlYWRjcnVtYkNvbnRleHQpOwoJY29uc3QgZWZmZWN0aXZlU2l6ZSA9IHNpemUgPz8gY29udGV4dC5zaXplID8/ICdtZCc7CgoJcmV0dXJuICgKCQk8bGkKCQkJY2xhc3NOYW1lPXtjbihicmVhZGNydW1iSXRlbVZhcmlhbnRzKHsgc2l6ZTogZWZmZWN0aXZlU2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvbGk+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEJyZWFkY3J1bWJMaW5rOiBSZWFjdC5GQzxCcmVhZGNydW1iTGlua1Byb3BzPiA9ICh7Cgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJc2l6ZSwKCWNsYXNzTmFtZSwKCWNoaWxkcmVuLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQnJlYWRjcnVtYkNvbnRleHQpOwoJY29uc3QgZWZmZWN0aXZlU2l6ZSA9IHNpemUgPz8gY29udGV4dC5zaXplID8/ICdtZCc7CgoJcmV0dXJuICgKCQk8YQoJCQljbGFzc05hbWU9e2NuKAoJCQkJYnJlYWRjcnVtYkxpbmtWYXJpYW50cyh7IHZhcmlhbnQsIHNpemU6IGVmZmVjdGl2ZVNpemUgfSksCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2E+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEJyZWFkY3J1bWJQYWdlOiBSZWFjdC5GQzxCcmVhZGNydW1iUGFnZVByb3BzPiA9ICh7CglzaXplLAoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChCcmVhZGNydW1iQ29udGV4dCk7Cgljb25zdCBlZmZlY3RpdmVTaXplID0gc2l6ZSA/PyBjb250ZXh0LnNpemUgPz8gJ21kJzsKCglyZXR1cm4gKAoJCTxzcGFuCgkJCWFyaWEtY3VycmVudD0icGFnZSIKCQkJY2xhc3NOYW1lPXtjbihicmVhZGNydW1iUGFnZVZhcmlhbnRzKHsgc2l6ZTogZWZmZWN0aXZlU2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvc3Bhbj4KCSk7Cn07CgpleHBvcnQgY29uc3QgQnJlYWRjcnVtYlNlcGFyYXRvcjogUmVhY3QuRkM8QnJlYWRjcnVtYlNlcGFyYXRvclByb3BzPiA9ICh7CglzaXplLAoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChCcmVhZGNydW1iQ29udGV4dCk7Cgljb25zdCBlZmZlY3RpdmVTaXplID0gc2l6ZSA/PyBjb250ZXh0LnNpemUgPz8gJ21kJzsKCWNvbnN0IHNlcGFyYXRvciA9IGNoaWxkcmVuID8/IGNvbnRleHQuc2VwYXJhdG9yID8/ICcvJzsKCglyZXR1cm4gKAoJCTxsaQoJCQlyb2xlPSJwcmVzZW50YXRpb24iCgkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQljbGFzc05hbWU9e2NuKAoJCQkJYnJlYWRjcnVtYlNlcGFyYXRvclZhcmlhbnRzKHsgc2l6ZTogZWZmZWN0aXZlU2l6ZSB9KSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe3NlcGFyYXRvcn0KCQk8L2xpPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBCcmVhZGNydW1iRWxsaXBzaXM6IFJlYWN0LkZDPEJyZWFkY3J1bWJFbGxpcHNpc1Byb3BzPiA9ICh7CgljbGFzc05hbWUsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxzcGFuCgkJCWNsYXNzTmFtZT17Y24oJ2ZsZXggaC05IHctOSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQk8c3BhbiBjbGFzc05hbWU9InNyLW9ubHkiPk1vcmU8L3NwYW4+CgkJCTxzcGFuCgkJCQlyb2xlPSJwcmVzZW50YXRpb24iCgkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCWNsYXNzTmFtZT0iZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciIKCQkJPgoJCQkJPHN2ZwoJCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJCWNsYXNzTmFtZT0iaC00IHctNCIKCQkJCQlmaWxsPSJub25lIgoJCQkJCXN0cm9rZT0iY3VycmVudENvbG9yIgoJCQkJCXZpZXdCb3g9IjAgMCAyNCAyNCIKCQkJCQl4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCgkJCQk+CgkJCQkJPHBhdGgKCQkJCQkJc3Ryb2tlTGluZWNhcD0icm91bmQiCgkJCQkJCXN0cm9rZUxpbmVqb2luPSJyb3VuZCIKCQkJCQkJc3Ryb2tlV2lkdGg9ezJ9CgkJCQkJCWQ9Ik01IDEyaC4wMU0xMiAxMmguMDFNMTkgMTJoLjAxIgoJCQkJCS8+CgkJCQk8L3N2Zz4KCQkJPC9zcGFuPgoJCTwvc3Bhbj4KCSk7Cn07"
,
  "sheet.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvYXBwL2NvbXBvbmVudHMvdWkvaWNvbnMnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IHNoZWV0Q29udGVudFZhcmlhbnRzID0gY3ZhKAoJJ2ZpeGVkIGZsZXggZmxleC1jb2wgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBzaGFkb3ctMnhsIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCcsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2lkZTogewoJCQkJbGVmdDogJ3RvcC0wIGxlZnQtMCBoLWZ1bGwgcm91bmRlZC1yLWxnJywKCQkJCXJpZ2h0OiAndG9wLTAgcmlnaHQtMCBoLWZ1bGwgcm91bmRlZC1sLWxnJywKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICcnLAoJCQkJbWQ6ICcnLAoJCQkJbGc6ICcnLAoJCQkJeGw6ICcnLAoJCQkJZnVsbDogJycsCgkJCX0sCgkJfSwKCQljb21wb3VuZFZhcmlhbnRzOiBbCgkJCXsKCQkJCXNpZGU6ICdsZWZ0JywKCQkJCXNpemU6ICdzbScsCgkJCQljbGFzczogJ3ctWzcwdnddIHNtOnctODAnLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAnbGVmdCcsCgkJCQlzaXplOiAnbWQnLAoJCQkJY2xhc3M6ICd3LVs4MHZ3XSBzbTp3LTk2JywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ2xlZnQnLAoJCQkJc2l6ZTogJ2xnJywKCQkJCWNsYXNzOiAndy1bOTB2d10gc206dy1bMjhyZW1dJywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ2xlZnQnLAoJCQkJc2l6ZTogJ3hsJywKCQkJCWNsYXNzOiAndy1bOTV2d10gc206dy1bMzJyZW1dJywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ2xlZnQnLAoJCQkJc2l6ZTogJ2Z1bGwnLAoJCQkJY2xhc3M6ICd3LWZ1bGwnLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAncmlnaHQnLAoJCQkJc2l6ZTogJ3NtJywKCQkJCWNsYXNzOiAndy1bNzB2d10gc206dy04MCcsCgkJCX0sCgkJCXsKCQkJCXNpZGU6ICdyaWdodCcsCgkJCQlzaXplOiAnbWQnLAoJCQkJY2xhc3M6ICd3LVs4MHZ3XSBzbTp3LTk2JywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ3JpZ2h0JywKCQkJCXNpemU6ICdsZycsCgkJCQljbGFzczogJ3ctWzkwdnddIHNtOnctWzI4cmVtXScsCgkJCX0sCgkJCXsKCQkJCXNpZGU6ICdyaWdodCcsCgkJCQlzaXplOiAneGwnLAoJCQkJY2xhc3M6ICd3LVs5NXZ3XSBzbTp3LVszMnJlbV0nLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAncmlnaHQnLAoJCQkJc2l6ZTogJ2Z1bGwnLAoJCQkJY2xhc3M6ICd3LWZ1bGwnLAoJCQl9LAoJCV0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpZGU6ICdyaWdodCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIFNoZWV0UHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCW9wZW4/OiBib29sZWFuOwoJb25PcGVuQ2hhbmdlPzogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQ7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgU2hlZXRUcmlnZ2VyUHJvcHMKCWV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cglhc0NoaWxkPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBTaGVldFN1cmZhY2VQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBzaGVldENvbnRlbnRWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXNob3dDbG9zZT86IGJvb2xlYW47CglyZXNpemFibGU/OiBib29sZWFuOwoJYWxsb3dTaHJpbms/OiBib29sZWFuOwp9CgpleHBvcnQgaW50ZXJmYWNlIFNoZWV0SGVhZGVyUHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBTaGVldFRpdGxlUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTEhlYWRpbmdFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJYXM/OiBSZWFjdC5FbGVtZW50VHlwZTsKfQoKZXhwb3J0IGludGVyZmFjZSBTaGVldERlc2NyaXB0aW9uUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFBhcmFncmFwaEVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgU2hlZXRGb290ZXJQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIFNoZWV0Q2xvc2VQcm9wcwoJZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4gewoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhc0NoaWxkPzogYm9vbGVhbjsKfQoKaW50ZXJmYWNlIFNoZWV0Q29udGV4dFR5cGUgewoJc3RvcmU6IEFyaWFraXQuRGlhbG9nU3RvcmU7Cn0KCmNvbnN0IFNoZWV0Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8U2hlZXRDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4oCgl1bmRlZmluZWQsCik7Cgpjb25zdCB1c2VTaGVldCA9ICgpID0+IHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KFNoZWV0Q29udGV4dCk7CglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ1NoZWV0IGNvbXBvbmVudHMgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFNoZWV0Jyk7Cgl9CglyZXR1cm4gY29udGV4dDsKfTsKCmV4cG9ydCBjb25zdCBTaGVldDogUmVhY3QuRkM8U2hlZXRQcm9wcz4gPSAoewoJY2hpbGRyZW4sCglvcGVuOiBjb250cm9sbGVkT3BlbiwKCW9uT3BlbkNoYW5nZSwKfSkgPT4gewoJY29uc3Qgc3RvcmUgPSBBcmlha2l0LnVzZURpYWxvZ1N0b3JlKAoJCWNvbnRyb2xsZWRPcGVuICE9PSB1bmRlZmluZWQKCQkJPyBvbk9wZW5DaGFuZ2UKCQkJCT8geyBvcGVuOiBjb250cm9sbGVkT3Blbiwgc2V0T3Blbjogb25PcGVuQ2hhbmdlIH0KCQkJCTogeyBvcGVuOiBjb250cm9sbGVkT3BlbiB9CgkJCTogdW5kZWZpbmVkLAoJKTsKCglyZXR1cm4gKAoJCTxTaGVldENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgc3RvcmUgfX0+e2NoaWxkcmVufTwvU2hlZXRDb250ZXh0LlByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTaGVldFRyaWdnZXI6IFJlYWN0LkZDPFNoZWV0VHJpZ2dlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXNDaGlsZCA9IGZhbHNlLAoJb25DbGljaywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsgc3RvcmUgfSA9IHVzZVNoZWV0KCk7Cgljb25zdCBpc09wZW4gPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc3RvcmUsICdvcGVuJyk7CgoJY29uc3QgaGFuZGxlQ2xpY2sgPSAoZTogUmVhY3QuTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudD4pID0+IHsKCQlzdG9yZS5zaG93KCk7CgkJb25DbGljaz8uKGUpOwoJfTsKCglpZiAoYXNDaGlsZCAmJiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHsKCQlyZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KAoJCQljaGlsZHJlbiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8CgkJCQlSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4KCQkJPiwKCQkJewoJCQkJb25DbGljazogaGFuZGxlQ2xpY2ssCgkJCQknYXJpYS1oYXNwb3B1cCc6ICdkaWFsb2cnLAoJCQkJJ2FyaWEtZXhwYW5kZWQnOiBpc09wZW4sCgkJCQkuLi4oY2hpbGRyZW4ucHJvcHMgfHwge30pLAoJCQl9LAoJCSk7Cgl9CgoJcmV0dXJuICgKCQk8YnV0dG9uCgkJCWNsYXNzTmFtZT17Y24oCgkJCQknbm90LXByb3NlIG5vdC1wcm9zZSBpbmxpbmUtZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJdHlwZT0iYnV0dG9uIgoJCQlvbkNsaWNrPXtoYW5kbGVDbGlja30KCQkJYXJpYS1oYXNwb3B1cD0iZGlhbG9nIgoJCQlhcmlhLWV4cGFuZGVkPXtpc09wZW59CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2J1dHRvbj4KCSk7Cn07CgpleHBvcnQgY29uc3QgU2hlZXRTdXJmYWNlOiBSZWFjdC5GQzxTaGVldFN1cmZhY2VQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCXNpZGUgPSAncmlnaHQnLAoJc2l6ZSA9ICdtZCcsCglzaG93Q2xvc2UgPSB0cnVlLAoJcmVzaXphYmxlID0gZmFsc2UsCglhbGxvd1NocmluayA9IGZhbHNlLAoJc3R5bGU6IGlubGluZVN0eWxlLAoJYXV0b0ZvY3VzLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgeyBzdG9yZSB9ID0gdXNlU2hlZXQoKTsKCWNvbnN0IG9wZW4gPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc3RvcmUsICdvcGVuJyk7Cgljb25zdCBbbW91bnRlZCwgc2V0TW91bnRlZF0gPSBSZWFjdC51c2VTdGF0ZShvcGVuKTsKCWNvbnN0IGNvbnRlbnRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwoJY29uc3QgW2N1c3RvbVNpemUsIHNldEN1c3RvbVNpemVdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7Cgljb25zdCBiYXNlU2l6ZVJlZiA9IFJlYWN0LnVzZVJlZigwKTsKCWNvbnN0IHN0YXJ0UG9zUmVmID0gUmVhY3QudXNlUmVmKDApOwoJY29uc3Qgc3RhcnRTaXplUmVmID0gUmVhY3QudXNlUmVmKDApOwoJY29uc3QgaXNSZXNpemluZ1JlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAob3BlbikgewoJCQlzZXRNb3VudGVkKHRydWUpOwoJCQlyZXR1cm47CgkJfQoJCWNvbnN0IHQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBzZXRNb3VudGVkKGZhbHNlKSwgMjAwKTsKCQlyZXR1cm4gKCkgPT4gd2luZG93LmNsZWFyVGltZW91dCh0KTsKCX0sIFtvcGVuXSk7CgoJY29uc3QgYXBwbHlTaXplRnJvbVBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkocG9pbnQ6IHsgY2xpZW50WDogbnVtYmVyOyBjbGllbnRZOiBudW1iZXIgfSkgPT4gewoJCQlpZiAoIWlzUmVzaXppbmdSZWYuY3VycmVudCkgcmV0dXJuOwoJCQljb25zdCBkZWx0YSA9CgkJCQlzaWRlID09PSAnbGVmdCcKCQkJCQk/IHBvaW50LmNsaWVudFggLSBzdGFydFBvc1JlZi5jdXJyZW50CgkJCQkJOiBzdGFydFBvc1JlZi5jdXJyZW50IC0gcG9pbnQuY2xpZW50WDsKCQkJY29uc3QgYmFzZSA9IGJhc2VTaXplUmVmLmN1cnJlbnQgfHwgMDsKCQkJY29uc3QgbmV4dCA9IHN0YXJ0U2l6ZVJlZi5jdXJyZW50ICsgZGVsdGE7CgkJCWNvbnN0IG1pbiA9IGFsbG93U2hyaW5rID8gMTAwIDogYmFzZTsKCQkJY29uc3QgbWF4ID0gTWF0aC5yb3VuZCh3aW5kb3cuaW5uZXJXaWR0aCAqIDAuOTUpOwoJCQljb25zdCBjbGFtcGVkID0gTWF0aC5tYXgobWluLCBNYXRoLm1pbihuZXh0LCBtYXgpKTsKCQkJc2V0Q3VzdG9tU2l6ZShjbGFtcGVkKTsKCQl9LAoJCVthbGxvd1Nocmluaywgc2lkZV0sCgkpOwoKCWNvbnN0IG9uTW91c2VNb3ZlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7CgkJCWlmICghaXNSZXNpemluZ1JlZi5jdXJyZW50KSByZXR1cm47CgkJCWFwcGx5U2l6ZUZyb21Qb2ludGVyKGV2ZW50KTsKCQl9LAoJCVthcHBseVNpemVGcm9tUG9pbnRlcl0sCgkpOwoKCWNvbnN0IG9uVG91Y2hNb3ZlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7CgkJCWlmICghaXNSZXNpemluZ1JlZi5jdXJyZW50KSByZXR1cm47CgkJCWNvbnN0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXTsKCQkJaWYgKCF0b3VjaCkgcmV0dXJuOwoJCQlhcHBseVNpemVGcm9tUG9pbnRlcih0b3VjaCk7CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJfSwKCQlbYXBwbHlTaXplRnJvbVBvaW50ZXJdLAoJKTsKCgljb25zdCBlbmRSZXNpemUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJaWYgKCFpc1Jlc2l6aW5nUmVmLmN1cnJlbnQpIHJldHVybjsKCQlpc1Jlc2l6aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTsKCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CgkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGVuZFJlc2l6ZSk7CgkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpOwoJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZW5kUmVzaXplKTsKCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIGVuZFJlc2l6ZSk7CgkJZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnJzsKCQlkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAnJzsKCX0sIFtvbk1vdXNlTW92ZSwgb25Ub3VjaE1vdmVdKTsKCgljb25zdCBiZWdpblJlc2l6ZSA9IChldmVudDogUmVhY3QuTW91c2VFdmVudCB8IFJlYWN0LlRvdWNoRXZlbnQpID0+IHsKCQlpZiAoIXJlc2l6YWJsZSB8fCBzaXplID09PSAnZnVsbCcpIHJldHVybjsKCQljb25zdCBwb2ludCA9ICd0b3VjaGVzJyBpbiBldmVudCA/IGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudDsKCQlpZiAoIXBvaW50KSByZXR1cm47CgoJCWlzUmVzaXppbmdSZWYuY3VycmVudCA9IHRydWU7CgkJc3RhcnRQb3NSZWYuY3VycmVudCA9IHBvaW50LmNsaWVudFg7CgkJY29uc3QgZmFsbGJhY2tTaXplID0gKCgpID0+IHsKCQkJaWYgKCFjb250ZW50UmVmLmN1cnJlbnQpIHJldHVybiAwOwoJCQljb25zdCByZWN0ID0gY29udGVudFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoJCQlyZXR1cm4gcmVjdC53aWR0aDsKCQl9KSgpOwoJCWNvbnN0IGJhc2VTaXplID0gYmFzZVNpemVSZWYuY3VycmVudCB8fCBmYWxsYmFja1NpemU7CgkJYmFzZVNpemVSZWYuY3VycmVudCA9IGJhc2VTaXplOwoJCXN0YXJ0U2l6ZVJlZi5jdXJyZW50ID0gY3VzdG9tU2l6ZSA/PyBiYXNlU2l6ZTsKCgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpOwoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlbmRSZXNpemUpOwoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCB7IHBhc3NpdmU6IGZhbHNlIH0pOwoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZW5kUmVzaXplKTsKCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIGVuZFJlc2l6ZSk7CgkJZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnY29sLXJlc2l6ZSc7CgkJZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnOwoJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7Cgl9OwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFvcGVuKSB7CgkJCWVuZFJlc2l6ZSgpOwoJCQlzZXRDdXN0b21TaXplKG51bGwpOwoJCQliYXNlU2l6ZVJlZi5jdXJyZW50ID0gMDsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgZnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJaWYgKCFjb250ZW50UmVmLmN1cnJlbnQpIHJldHVybjsKCQkJY29uc3QgcmVjdCA9IGNvbnRlbnRSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJYmFzZVNpemVSZWYuY3VycmVudCA9IHJlY3Qud2lkdGg7CgkJCXNldEN1c3RvbVNpemUobnVsbCk7CgkJfSk7CgoJCXJldHVybiAoKSA9PiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWUpOwoJfSwgW29wZW4sIHNpZGUsIGVuZFJlc2l6ZV0pOwoKCVJlYWN0LnVzZUVmZmVjdCgKCQkoKSA9PiAoKSA9PiB7CgkJCWVuZFJlc2l6ZSgpOwoJCX0sCgkJW2VuZFJlc2l6ZV0sCgkpOwoKCWNvbnN0IHNpZGVUcmFuc2Zvcm0gPQoJCXNpZGUgPT09ICdsZWZ0JwoJCQk/ICctdHJhbnNsYXRlLXgtZnVsbCBkYXRhLWVudGVyOnRyYW5zbGF0ZS14LTAgZGF0YS1sZWF2ZTotdHJhbnNsYXRlLXgtZnVsbCcKCQkJOiAndHJhbnNsYXRlLXgtZnVsbCBkYXRhLWVudGVyOnRyYW5zbGF0ZS14LTAgZGF0YS1sZWF2ZTp0cmFuc2xhdGUteC1mdWxsJzsKCWNvbnN0IHJlc2l6ZXJMYWJlbCA9ICdSZXNpemUgc2hlZXQgd2lkdGgnOwoJY29uc3QgYmFzZVNpemUgPSBiYXNlU2l6ZVJlZi5jdXJyZW50IHx8IDA7Cgljb25zdCBjdXJyZW50U2l6ZSA9IGN1c3RvbVNpemUgPz8gYmFzZVNpemU7Cgljb25zdCBtaW5TaXplID0gYWxsb3dTaHJpbmsgPyAxMDAgOiBiYXNlU2l6ZTsKCWNvbnN0IG1heFNpemUgPSBNYXRoLm1heCgKCQltaW5TaXplLAoJCXR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnCgkJCT8gY3VycmVudFNpemUKCQkJOiBNYXRoLnJvdW5kKHdpbmRvdy5pbm5lcldpZHRoICogMC45NSksCgkpOwoKCWNvbnN0IGFkanVzdFNpemUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZGVsdGE6IG51bWJlcikgPT4gewoJCQlpZiAoIXJlc2l6YWJsZSB8fCBzaXplID09PSAnZnVsbCcpIHJldHVybjsKCQkJc2V0Q3VzdG9tU2l6ZSgocHJldmlvdXMpID0+IHsKCQkJCWNvbnN0IGJhc2UgPSBiYXNlU2l6ZVJlZi5jdXJyZW50IHx8IDA7CgkJCQljb25zdCBjdXJyZW50VmFsdWUgPSBwcmV2aW91cyA/PyBiYXNlOwoJCQkJY29uc3QgbWluaW11bSA9IGFsbG93U2hyaW5rID8gMTAwIDogYmFzZTsKCQkJCWNvbnN0IHdpbmRvd01heGltdW0gPQoJCQkJCXR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnCgkJCQkJCT8gY3VycmVudFZhbHVlCgkJCQkJCTogTWF0aC5yb3VuZCh3aW5kb3cuaW5uZXJXaWR0aCAqIDAuOTUpOwoJCQkJY29uc3QgbWF4aW11bSA9IE1hdGgubWF4KG1pbmltdW0sIHdpbmRvd01heGltdW0pOwoJCQkJY29uc3QgbmV4dCA9IE1hdGgubWF4KG1pbmltdW0sIE1hdGgubWluKGN1cnJlbnRWYWx1ZSArIGRlbHRhLCBtYXhpbXVtKSk7CgkJCQlpZiAobmV4dCA9PT0gY3VycmVudFZhbHVlKSByZXR1cm4gcHJldmlvdXM7CgkJCQlyZXR1cm4gbmV4dDsKCQkJfSk7CgkJfSwKCQlbYWxsb3dTaHJpbmssIHJlc2l6YWJsZSwgc2l6ZV0sCgkpOwoKCWNvbnN0IGhhbmRsZUtleURvd24gPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7CgkJCWlmICghcmVzaXphYmxlIHx8IHNpemUgPT09ICdmdWxsJykgcmV0dXJuOwoJCQljb25zdCBzdGVwID0gZXZlbnQuc2hpZnRLZXkgPyA1MCA6IDEwOwoJCQlpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBldmVudC5rZXkgPT09ICdBcnJvd1JpZ2h0JykgewoJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCWNvbnN0IGRpcmVjdGlvbiA9CgkJCQkJc2lkZSA9PT0gJ3JpZ2h0JwoJCQkJCQk/IGV2ZW50LmtleSA9PT0gJ0Fycm93TGVmdCcKCQkJCQkJCT8gMQoJCQkJCQkJOiAtMQoJCQkJCQk6IGV2ZW50LmtleSA9PT0gJ0Fycm93UmlnaHQnCgkJCQkJCQk/IDEKCQkJCQkJCTogLTE7CgkJCQlhZGp1c3RTaXplKGRpcmVjdGlvbiAqIHN0ZXApOwoJCQl9CgkJfSwKCQlbYWRqdXN0U2l6ZSwgcmVzaXphYmxlLCBzaWRlLCBzaXplXSwKCSk7CgoJaWYgKCFtb3VudGVkKSByZXR1cm4gbnVsbDsKCgljb25zdCBzaXplU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgfCB1bmRlZmluZWQgPQoJCWN1c3RvbVNpemUgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHsgd2lkdGg6IGAke2N1c3RvbVNpemV9cHhgIH07CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5EaWFsb2cKCQkJc3RvcmU9e3N0b3JlfQoJCQlwb3J0YWwKCQkJYmFja2Ryb3A9ewoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdmaXhlZCBpbnNldC0wIHotNDAgYmctb3ZlcmxheS81MCBiYWNrZHJvcC1ibHVyLXNtJywKCQkJCQkJJ29wYWNpdHktMCB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoJywKCQkJCQkJJ2RhdGEtZW50ZXI6b3BhY2l0eS0xMDAgZGF0YS1sZWF2ZTpvcGFjaXR5LTAnLAoJCQkJCSl9CgkJCQkvPgoJCQl9CgkJCXJlZj17Y29udGVudFJlZn0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCXNoZWV0Q29udGVudFZhcmlhbnRzKHsgc2lkZSwgc2l6ZSB9KSwKCQkJCSd6LTUwJywKCQkJCXNpZGVUcmFuc2Zvcm0sCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXN0eWxlPXt7IC4uLihpbmxpbmVTdHlsZSB8fCB7fSksIC4uLihzaXplU3R5bGUgfHwge30pIH19CgkJCXsuLi4oYXV0b0ZvY3VzID09PSB1bmRlZmluZWQgPyB7fSA6IHsgYXV0b0ZvY3VzIH0pfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7cmVzaXphYmxlICYmIHNpemUgIT09ICdmdWxsJyAmJiAoCgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ2Fic29sdXRlIHRvcC0xLzIgei0yMCBmbGV4IHctMiAtdHJhbnNsYXRlLXktMS8yIGN1cnNvci1jb2wtcmVzaXplIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlcicsCgkJCQkJCXNpZGUgPT09ICdyaWdodCcgPyAnLWxlZnQtMScgOiAnLXJpZ2h0LTEnLAoJCQkJCSl9CgkJCQk+CgkJCQkJPGhyCgkJCQkJCWFyaWEtb3JpZW50YXRpb249InZlcnRpY2FsIgoJCQkJCQlhcmlhLXZhbHVlbm93PXtjdXJyZW50U2l6ZX0KCQkJCQkJYXJpYS12YWx1ZW1pbj17bWluU2l6ZX0KCQkJCQkJYXJpYS12YWx1ZW1heD17bWF4U2l6ZX0KCQkJCQkJYXJpYS1sYWJlbD17cmVzaXplckxhYmVsfQoJCQkJCQl0YWJJbmRleD17MH0KCQkJCQkJb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufQoJCQkJCQlvbk1vdXNlRG93bj17YmVnaW5SZXNpemV9CgkJCQkJCW9uVG91Y2hTdGFydD17YmVnaW5SZXNpemV9CgkJCQkJCWNsYXNzTmFtZT0ibm90LXByb3NlIGFic29sdXRlIGluc2V0LTAgbS0wIGgtZnVsbCB3LWZ1bGwgcm91bmRlZC1bMnB4XSBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHRyYW5zaXRpb24tc2hhZG93IGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIgoJCQkJCS8+CgkJCQkJPGRpdiBjbGFzc05hbWU9InotMTAgcG9pbnRlci1ldmVudHMtbm9uZSBmbGV4IGgtOCB3LTIgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtWzJweF0gYmctYm9yZGVyLzYwIj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgZ2FwLTEiPgoJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJoLTAuNSB3LTAuNSByb3VuZGVkLWZ1bGwgYmctZm9yZWdyb3VuZC82MCI+PC9zcGFuPgoJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJoLTAuNSB3LTAuNSByb3VuZGVkLWZ1bGwgYmctZm9yZWdyb3VuZC82MCI+PC9zcGFuPgoJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJoLTAuNSB3LTAuNSByb3VuZGVkLWZ1bGwgYmctZm9yZWdyb3VuZC82MCI+PC9zcGFuPgoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCTwvZGl2PgoJCQkpfQoKCQkJe3Nob3dDbG9zZSAmJiAoCgkJCQk8QXJpYWtpdC5EaWFsb2dEaXNtaXNzIGNsYXNzTmFtZT0ibm90LXByb3NlIGFic29sdXRlIHRvcC0yIHJpZ2h0LTIgei0xMCBpbmxpbmUtZmxleCBoLTYgdy02IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXNtIHRleHQtZm9yZWdyb3VuZC80NSB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3csY29sb3JdIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGhvdmVyOmJnLWNhcmQtbXV0ZWQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kLzcwIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIj4KCQkJCQk8SWNvbnMuWCBhcmlhLWhpZGRlbj0idHJ1ZSIgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgoJCQkJCTxBcmlha2l0LlZpc3VhbGx5SGlkZGVuPkNsb3NlPC9Bcmlha2l0LlZpc3VhbGx5SGlkZGVuPgoJCQkJPC9Bcmlha2l0LkRpYWxvZ0Rpc21pc3M+CgkJCSl9CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuRGlhbG9nPgoJKTsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgU2hlZXRDb250ZW50UHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBTaGVldENvbnRlbnQ6IFJlYWN0LkZDPFNoZWV0Q29udGVudFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknbm90LXByb3NlIGZsZXgtMSBwLTQgdGV4dC1zbSBsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTaGVldEhlYWRlcjogUmVhY3QuRkM8U2hlZXRIZWFkZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NuKCdub3QtcHJvc2UgcHgtNCBwdC00JywgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTaGVldFRpdGxlOiBSZWFjdC5GQzxTaGVldFRpdGxlUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglhczogX0NvbXBvbmVudCA9ICdoMicsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZ0hlYWRpbmcKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgdGV4dC1iYXNlIGxlYWRpbmctbm9uZSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkRpYWxvZ0hlYWRpbmc+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFNoZWV0RGVzY3JpcHRpb246IFJlYWN0LkZDPFNoZWV0RGVzY3JpcHRpb25Qcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPEFyaWFraXQuRGlhbG9nRGVzY3JpcHRpb24KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdub3QtcHJvc2UgbXQtMSB0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNDUnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkRpYWxvZ0Rlc2NyaXB0aW9uPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTaGVldEZvb3RlcjogUmVhY3QuRkM8U2hlZXRGb290ZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ25vdC1wcm9zZSBtdC1hdXRvIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgYmctY2FyZC1tdXRlZC8zMCBwLTQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFNoZWV0Q2xvc2U6IFJlYWN0LkZDPFNoZWV0Q2xvc2VQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCWFzQ2hpbGQgPSBmYWxzZSwKCWRpc2FibGVkLAoJYXV0b0ZvY3VzLAoJb25DbGljaywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsgc3RvcmUgfSA9IHVzZVNoZWV0KCk7Cgljb25zdCBmb3J3YXJkZWRQcm9wcyA9IHsKCQkuLi4oZGlzYWJsZWQgIT09IHVuZGVmaW5lZCA/IHsgZGlzYWJsZWQgfSA6IHt9KSwKCQkuLi4oYXV0b0ZvY3VzICE9PSB1bmRlZmluZWQgPyB7IGF1dG9Gb2N1cyB9IDoge30pLAoJfTsKCglpZiAoYXNDaGlsZCAmJiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHsKCQljb25zdCBjaGlsZCA9IGNoaWxkcmVuIGFzIFJlYWN0LlJlYWN0RWxlbWVudDwKCQkJUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+CgkJPjsKCQljb25zdCBoYW5kbGVDbGljazogUmVhY3QuTW91c2VFdmVudEhhbmRsZXI8SFRNTEJ1dHRvbkVsZW1lbnQ+ID0gKGUpID0+IHsKCQkJc3RvcmUuaGlkZSgpOwoJCQljaGlsZC5wcm9wcz8ub25DbGljaz8uKGUpOwoJCQlvbkNsaWNrPy4oZSk7CgkJfTsKCQlyZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCB7CgkJCW9uQ2xpY2s6IGhhbmRsZUNsaWNrLAoJCQkuLi5mb3J3YXJkZWRQcm9wcywKCQkJLi4ucHJvcHMsCgkJCS4uLihjaGlsZC5wcm9wcyB8fCB7fSksCgkJfSk7Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5EaWFsb2dEaXNtaXNzCgkJCXN0b3JlPXtzdG9yZX0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSJpbmxpbmUtZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBiZy10cmFuc3BhcmVudCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGR1cmF0aW9uLTE1MCBlYXNlLWJhc2ljIGgtOSBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgc2hyaW5rLTAgWyZfc3ZnXTpzaHJpbmstMCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCBob3ZlcjpiZy1jYXJkLW11dGVkLzYwIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIiwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJdHlwZT0iYnV0dG9uIgoJCQlvbkNsaWNrPXtvbkNsaWNrfQoJCQl7Li4uZm9yd2FyZGVkUHJvcHN9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbiB8fCAnQ2xvc2UnfQoJCTwvQXJpYWtpdC5EaWFsb2dEaXNtaXNzPgoJKTsKfTs="
,
  "badge.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBiYWRnZVZhcmlhbnRzID0gY3ZhKAoJWwoJCSdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGZvbnQtbWVkaXVtJywKCQknc2hyaW5rLTAgWyY+c3ZnXTpzaXplLTMgZ2FwLTEgWyY+c3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lJywKCQkndHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcl0gZHVyYXRpb24tMTUwIGVhc2UtYmFzaWMnLAoJCSd3aGl0ZXNwYWNlLW5vd3JhcCBzaGFkb3ctc20gJywKCQknbm90LXByb3NlJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogWwoJCQkJCSdiZy1mb3JlZ3JvdW5kLzkwJywKCQkJCQkndGV4dC1iYWNrZ3JvdW5kJywKCQkJCQknc2hhZG93LXNtIGhvdmVyOmJnLWZvcmVncm91bmQvNzUnLAoJCQkJXSwKCQkJCXNlY29uZGFyeTogWwoJCQkJCSdiZy1jYXJkJywKCQkJCQkndGV4dC1mb3JlZ3JvdW5kJywKCQkJCQknaG92ZXI6YmctY2FyZC1tdXRlZCcsCgkJCQkJJ2JvcmRlciBib3JkZXItYm9yZGVyJywKCQkJCV0sCgkJCQlkZXN0cnVjdGl2ZTogWwoJCQkJCSdiZy1kZXN0cnVjdGl2ZS8xMCcsCgkJCQkJJ3RleHQtZGVzdHJ1Y3RpdmUvOTAnLAoJCQkJCSdob3ZlcjpiZy1kZXN0cnVjdGl2ZS8yNScsCgkJCQkJJ2JvcmRlciBib3JkZXItZGVzdHJ1Y3RpdmUvNDAnLAoJCQkJXSwKCQkJCXN1Y2Nlc3M6IFsKCQkJCQknYmctc3VjY2Vzcy8xMCcsCgkJCQkJJ3RleHQtc3VjY2Vzcy85MCcsCgkJCQkJJ2hvdmVyOmJnLXN1Y2Nlc3MvMjUnLAoJCQkJCSdib3JkZXIgYm9yZGVyLXN1Y2Nlc3MvNDAnLAoJCQkJXSwKCQkJCXdhcm5pbmc6IFsKCQkJCQknYmctd2FybmluZy8xMCcsCgkJCQkJJ3RleHQtd2FybmluZy85MCcsCgkJCQkJJ2hvdmVyOmJnLXdhcm5pbmcvMjUnLAoJCQkJCSdib3JkZXIgYm9yZGVyLXdhcm5pbmcvNDAnLAoJCQkJXSwKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICdweC0xLjUgcHktMC4yNSB0ZXh0LXhzJywKCQkJCW1kOiAncHgtMiBweS0wLjUgdGV4dC14cycsCgkJCQlsZzogJ3B4LTIuNSBweS0xIHRleHQtc20nLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgQmFkZ2VQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MU3BhbkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgYmFkZ2VWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IEJhZGdlOiBSZWFjdC5GQzxCYWRnZVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8c3BhbgoJCQljbGFzc05hbWU9e2NuKGJhZGdlVmFyaWFudHMoeyB2YXJpYW50LCBzaXplIH0pLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9zcGFuPgoJKTsKfTs="

}
