{
  "accordion.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvbGliL2ljb25zJzsKCmNvbnN0IGFjY29yZGlvblZhcmlhbnRzID0gY3ZhKCd3LWZ1bGwnLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJycsCgkJCWNhcmQ6ICdzcGFjZS15LTInLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJdmFyaWFudDogJ2RlZmF1bHQnLAoJfSwKfSk7Cgpjb25zdCBhY2NvcmRpb25JdGVtVmFyaWFudHMgPSBjdmEoCgkndHJhbnNpdGlvbi1bYm94LXNoYWRvd10gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6ICdib3JkZXItYiBib3JkZXItYm9yZGVyLzYwIGxhc3Q6Ym9yZGVyLWItMCcsCgkJCQljYXJkOiAncm91bmRlZC1sZyBbJjpoYXMoOmZvY3VzLXZpc2libGUpXTpyaW5nLTEgWyY6aGFzKDpmb2N1cy12aXNpYmxlKV06cmluZy1yaW5nLzUwIFsmOmhhcyg6Zm9jdXMtdmlzaWJsZSldOnJpbmctb2Zmc2V0LTEgWyY6aGFzKDpmb2N1cy12aXNpYmxlKV06cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgWyY6aGFzKDpmb2N1cy12aXNpYmxlKV06b3V0bGluZS1ub25lJywKCQkJfSwKCQkJaXNPcGVuOiB7CgkJCQl0cnVlOiAnJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCWlzT3BlbjogZmFsc2UsCgkJfSwKCX0sCik7Cgpjb25zdCBhY2NvcmRpb25UcmlnZ2VyVmFyaWFudHMgPSBjdmEoCgknZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkLWxnIHRleHQtbGVmdCB0ZXh0LWZvcmVncm91bmQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kLzcwIHRyYW5zaXRpb24tW2NvbG9yLGJveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwJywKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OgoJCQkJCSdmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQljYXJkOiAnZm9jdXMtdmlzaWJsZTpyaW5nLTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ3RleHQteHMnLAoJCQkJbWQ6ICd0ZXh0LXNtJywKCQkJCWxnOiAndGV4dC1iYXNlJywKCQkJfSwKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJ2N1cnNvci1wb2ludGVyJywKCQkJfSwKCQkJaXNPcGVuOiB7CgkJCQl0cnVlOiAnJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWNvbXBvdW5kVmFyaWFudHM6IFsKCQkJewoJCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQkJc2l6ZTogJ3NtJywKCQkJCWNsYXNzOiAncHgtMCBweS0yJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAncHgtMCBweS0zJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQkJc2l6ZTogJ2xnJywKCQkJCWNsYXNzOiAncHgtMCBweS00JywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2NhcmQnLAoJCQkJc2l6ZTogJ3NtJywKCQkJCWNsYXNzOiAncHgtMyBweS0yJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2NhcmQnLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAncHgtNCBweS0zJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2NhcmQnLAoJCQkJc2l6ZTogJ2xnJywKCQkJCWNsYXNzOiAncHgtNSBweS00JywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ2NhcmQnLAoJCQkJaXNPcGVuOiB0cnVlLAoJCQkJY2xhc3M6ICcnLAoJCQl9LAoJCV0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCQlpc09wZW46IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgYWNjb3JkaW9uQ29udGVudFZhcmlhbnRzID0gY3ZhKAoJJ292ZXJmbG93LWhpZGRlbiB0cmFuc2l0aW9uLVtoZWlnaHQsb3BhY2l0eV0gZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogJ3RleHQteHMnLAoJCQkJbWQ6ICd0ZXh0LXNtJywKCQkJCWxnOiAndGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgYWNjb3JkaW9uQ29udGVudElubmVyVmFyaWFudHMgPSBjdmEoJ2xlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNzAnLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJycsCgkJCWNhcmQ6ICdib3JkZXItdCBib3JkZXItYm9yZGVyLzYwJywKCQl9LAoJCXNpemU6IHsKCQkJc206ICcnLAoJCQltZDogJycsCgkJCWxnOiAnJywKCQl9LAoJfSwKCWNvbXBvdW5kVmFyaWFudHM6IFsKCQl7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ3NtJywKCQkJY2xhc3M6ICdwYi0yJywKCQl9LAoJCXsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCQljbGFzczogJ3BiLTMnLAoJCX0sCgkJewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdsZycsCgkJCWNsYXNzOiAncGItNCcsCgkJfSwKCQl7CgkJCXZhcmlhbnQ6ICdjYXJkJywKCQkJc2l6ZTogJ3NtJywKCQkJY2xhc3M6ICdweC0zIHB5LTInLAoJCX0sCgkJewoJCQl2YXJpYW50OiAnY2FyZCcsCgkJCXNpemU6ICdtZCcsCgkJCWNsYXNzOiAncHgtNCBweS0zJywKCQl9LAoJCXsKCQkJdmFyaWFudDogJ2NhcmQnLAoJCQlzaXplOiAnbGcnLAoJCQljbGFzczogJ3B4LTUgcHktNCcsCgkJfSwKCV0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKZXhwb3J0IGludGVyZmFjZSBBY2NvcmRpb25Qcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBhY2NvcmRpb25WYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCXNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7CgljbGFzc05hbWU/OiBzdHJpbmc7Cgl0eXBlPzogJ3NpbmdsZScgfCAnbXVsdGlwbGUnOwoKCW9uVmFsdWVDaGFuZ2U/OiAodmFsdWU6IHN0cmluZyB8IHN0cmluZ1tdKSA9PiB2b2lkOwp9CgpleHBvcnQgaW50ZXJmYWNlIEFjY29yZGlvbkl0ZW1Qcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBhY2NvcmRpb25JdGVtVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZT86IHN0cmluZzsKCWlkPzogc3RyaW5nOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJZGVmYXVsdE9wZW4/OiBib29sZWFuOwp9Cgp0eXBlIERpc2Nsb3N1cmVCdXR0b25Qcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwKCXR5cGVvZiBBcmlha2l0LkRpc2Nsb3N1cmUKPjsKCmV4cG9ydCBpbnRlcmZhY2UgQWNjb3JkaW9uVHJpZ2dlclByb3BzCglleHRlbmRzIE9taXQ8RGlzY2xvc3VyZUJ1dHRvblByb3BzLCAnc3RvcmUnPiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGFjY29yZGlvblRyaWdnZXJWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBBY2NvcmRpb25Db250ZW50UHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgYWNjb3JkaW9uQ29udGVudFZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CnR5cGUgQWNjb3JkaW9uU3R5bGVDb250ZXh0VHlwZSA9IHsKCXZhcmlhbnQ6ICdkZWZhdWx0JyB8ICdjYXJkJzsKCXNpemU6ICdzbScgfCAnbWQnIHwgJ2xnJzsKfTsKCmNvbnN0IEFjY29yZGlvblN0eWxlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8CglBY2NvcmRpb25TdHlsZUNvbnRleHRUeXBlIHwgdW5kZWZpbmVkCj4odW5kZWZpbmVkKTsKCmNvbnN0IHVzZUFjY29yZGlvblN0eWxlID0gKCkgPT4gewoJY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQWNjb3JkaW9uU3R5bGVDb250ZXh0KTsKCWlmICghY29udGV4dCkgewoJCXRocm93IG5ldyBFcnJvcignQWNjb3JkaW9uIGNvbXBvbmVudHMgbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBY2NvcmRpb24nKTsKCX0KCXJldHVybiBjb250ZXh0Owp9OwoKdHlwZSBBY2NvcmRpb25CZWhhdmlvckNvbnRleHRUeXBlID0gewoJdHlwZTogJ3NpbmdsZScgfCAnbXVsdGlwbGUnOwoJcmVnaXN0ZXJJdGVtOiAodmFsdWU6IHN0cmluZywgc3RvcmU6IEFyaWFraXQuRGlzY2xvc3VyZVN0b3JlKSA9PiB2b2lkOwoJdW5yZWdpc3Rlckl0ZW06ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkOwoJbm90aWZ5SXRlbU9wZW46ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkOwp9OwoKY29uc3QgQWNjb3JkaW9uQmVoYXZpb3JDb250ZXh0ID0gY3JlYXRlQ29udGV4dDwKCUFjY29yZGlvbkJlaGF2aW9yQ29udGV4dFR5cGUgfCB1bmRlZmluZWQKPih1bmRlZmluZWQpOwoKY29uc3QgdXNlQWNjb3JkaW9uQmVoYXZpb3IgPSAoKSA9PiB7Cgljb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBY2NvcmRpb25CZWhhdmlvckNvbnRleHQpOwoJaWYgKCFjb250ZXh0KSB7CgkJdGhyb3cgbmV3IEVycm9yKCdBY2NvcmRpb24gY29tcG9uZW50cyBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEFjY29yZGlvbicpOwoJfQoJcmV0dXJuIGNvbnRleHQ7Cn07Cgp0eXBlIEFjY29yZGlvbkl0ZW1Db250ZXh0VHlwZSA9IHsKCXN0b3JlOiBBcmlha2l0LkRpc2Nsb3N1cmVTdG9yZTsKCWRpc2FibGVkOiBib29sZWFuOwoJdHJpZ2dlcklkOiBzdHJpbmc7Cgljb250ZW50SWQ6IHN0cmluZzsKfTsKCmNvbnN0IEFjY29yZGlvbkl0ZW1Db250ZXh0ID0gY3JlYXRlQ29udGV4dDwKCUFjY29yZGlvbkl0ZW1Db250ZXh0VHlwZSB8IHVuZGVmaW5lZAo+KHVuZGVmaW5lZCk7Cgpjb25zdCB1c2VBY2NvcmRpb25JdGVtID0gKCkgPT4gewoJY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQWNjb3JkaW9uSXRlbUNvbnRleHQpOwoJaWYgKCFjb250ZXh0KSB7CgkJdGhyb3cgbmV3IEVycm9yKAoJCQknQWNjb3JkaW9uVHJpZ2dlciBhbmQgQWNjb3JkaW9uQ29udGVudCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEFjY29yZGlvbkl0ZW0nLAoJCSk7Cgl9CglyZXR1cm4gY29udGV4dDsKfTsKCmV4cG9ydCBjb25zdCBBY2NvcmRpb246IFJlYWN0LkZDPEFjY29yZGlvblByb3BzPiA9IFJlYWN0Lm1lbW8oCgkoewoJCWNoaWxkcmVuLAoJCXZhcmlhbnQgPSAnZGVmYXVsdCcsCgkJc2l6ZSA9ICdtZCcsCgkJY2xhc3NOYW1lLAoJCXR5cGUgPSAnc2luZ2xlJywKCQlvblZhbHVlQ2hhbmdlLAoJCS4uLnByb3BzCgl9KSA9PiB7CgkJY29uc3QgcmVzb2x2ZWRWYXJpYW50OiAnZGVmYXVsdCcgfCAnY2FyZCcgPSB2YXJpYW50ID8/ICdkZWZhdWx0JzsKCQljb25zdCByZXNvbHZlZFNpemU6ICdzbScgfCAnbWQnIHwgJ2xnJyA9IHNpemUgPz8gJ21kJzsKCQljb25zdCByZXNvbHZlZFR5cGU6ICdzaW5nbGUnIHwgJ211bHRpcGxlJyA9IHR5cGUgPz8gJ3NpbmdsZSc7CgoJCWNvbnN0IHN0eWxlVmFsdWUgPSB1c2VNZW1vKAoJCQkoKSA9PiAoeyB2YXJpYW50OiByZXNvbHZlZFZhcmlhbnQsIHNpemU6IHJlc29sdmVkU2l6ZSB9KSwKCQkJW3Jlc29sdmVkVmFyaWFudCwgcmVzb2x2ZWRTaXplXSwKCQkpOwoKCQljb25zdCBpdGVtc1JlZiA9IFJlYWN0LnVzZVJlZjxNYXA8c3RyaW5nLCBBcmlha2l0LkRpc2Nsb3N1cmVTdG9yZT4+KAoJCQluZXcgTWFwKCksCgkJKTsKCgkJY29uc3QgcmVnaXN0ZXJJdGVtID0gdXNlQ2FsbGJhY2soCgkJCSh2YWx1ZTogc3RyaW5nLCBzdG9yZTogQXJpYWtpdC5EaXNjbG9zdXJlU3RvcmUpID0+IHsKCQkJCWl0ZW1zUmVmLmN1cnJlbnQuc2V0KHZhbHVlLCBzdG9yZSk7CgkJCX0sCgkJCVtdLAoJCSk7CgoJCWNvbnN0IHVucmVnaXN0ZXJJdGVtID0gdXNlQ2FsbGJhY2soKHZhbHVlOiBzdHJpbmcpID0+IHsKCQkJaXRlbXNSZWYuY3VycmVudC5kZWxldGUodmFsdWUpOwoJCX0sIFtdKTsKCgkJY29uc3Qgbm90aWZ5SXRlbU9wZW4gPSB1c2VDYWxsYmFjaygKCQkJKHZhbHVlOiBzdHJpbmcpID0+IHsKCQkJCWlmIChyZXNvbHZlZFR5cGUgPT09ICdzaW5nbGUnKSB7CgkJCQkJaXRlbXNSZWYuY3VycmVudC5mb3JFYWNoKChzdG9yZSwga2V5KSA9PiB7CgkJCQkJCWlmIChrZXkgIT09IHZhbHVlKSB7CgkJCQkJCQlpZiAodHlwZW9mIHN0b3JlLnNldE9wZW4gPT09ICdmdW5jdGlvbicpIHsKCQkJCQkJCQlzdG9yZS5zZXRPcGVuKGZhbHNlKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0pOwoJCQkJfQoJCQkJaWYgKHR5cGVvZiBvblZhbHVlQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7CgkJCQkJb25WYWx1ZUNoYW5nZSh2YWx1ZSk7CgkJCQl9CgkJCX0sCgkJCVtyZXNvbHZlZFR5cGUsIG9uVmFsdWVDaGFuZ2VdLAoJCSk7CgoJCWNvbnN0IGJlaGF2aW9yVmFsdWUgPSB1c2VNZW1vPEFjY29yZGlvbkJlaGF2aW9yQ29udGV4dFR5cGU+KAoJCQkoKSA9PiAoewoJCQkJdHlwZTogcmVzb2x2ZWRUeXBlLAoJCQkJcmVnaXN0ZXJJdGVtLAoJCQkJdW5yZWdpc3Rlckl0ZW0sCgkJCQlub3RpZnlJdGVtT3BlbiwKCQkJfSksCgkJCVtyZXNvbHZlZFR5cGUsIHJlZ2lzdGVySXRlbSwgdW5yZWdpc3Rlckl0ZW0sIG5vdGlmeUl0ZW1PcGVuXSwKCQkpOwoKCQlyZXR1cm4gKAoJCQk8QWNjb3JkaW9uU3R5bGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtzdHlsZVZhbHVlfT4KCQkJCTxBY2NvcmRpb25CZWhhdmlvckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2JlaGF2aW9yVmFsdWV9PgoJCQkJCTxkaXYKCQkJCQkJZGF0YS1hY2NvcmRpb24tcm9vdAoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJYWNjb3JkaW9uVmFyaWFudHMoeyB2YXJpYW50OiByZXNvbHZlZFZhcmlhbnQgfSksCgkJCQkJCQljbGFzc05hbWUsCgkJCQkJCSl9CgkJCQkJCXsuLi5wcm9wc30KCQkJCQk+CgkJCQkJCXtjaGlsZHJlbn0KCQkJCQk8L2Rpdj4KCQkJCTwvQWNjb3JkaW9uQmVoYXZpb3JDb250ZXh0LlByb3ZpZGVyPgoJCQk8L0FjY29yZGlvblN0eWxlQ29udGV4dC5Qcm92aWRlcj4KCQkpOwoJfSwKKTsKCkFjY29yZGlvbi5kaXNwbGF5TmFtZSA9ICdBY2NvcmRpb24nOwoKZXhwb3J0IGNvbnN0IEFjY29yZGlvbkl0ZW06IFJlYWN0LkZDPEFjY29yZGlvbkl0ZW1Qcm9wcz4gPSBSZWFjdC5tZW1vKAoJKHsKCQljaGlsZHJlbiwKCQl2YWx1ZSwKCQlpZCwKCQljbGFzc05hbWUsCgkJZGlzYWJsZWQgPSBmYWxzZSwKCQlkZWZhdWx0T3BlbiA9IGZhbHNlLAoJCS4uLnByb3BzCgl9KSA9PiB7CgkJY29uc3QgeyB2YXJpYW50IH0gPSB1c2VBY2NvcmRpb25TdHlsZSgpOwoJCWNvbnN0IHsgcmVnaXN0ZXJJdGVtLCB1bnJlZ2lzdGVySXRlbSwgbm90aWZ5SXRlbU9wZW4gfSA9CgkJCXVzZUFjY29yZGlvbkJlaGF2aW9yKCk7CgkJY29uc3QgcmVhY3RJZCA9IFJlYWN0LnVzZUlkKCk7CgkJY29uc3QgYmFzZUlkID0gKGlkIHx8IHZhbHVlIHx8IHJlYWN0SWQpLnRvU3RyaW5nKCk7CgoJCWNvbnN0IHN0b3JlID0gQXJpYWtpdC51c2VEaXNjbG9zdXJlU3RvcmUoeyBkZWZhdWx0T3BlbiB9KTsKCgkJY29uc3QgdHJpZ2dlcklkID0gYCR7YmFzZUlkfS10cmlnZ2VyYDsKCQljb25zdCBjb250ZW50SWQgPSBgJHtiYXNlSWR9LWNvbnRlbnRgOwoKCQljb25zdCBjb250ZXh0VmFsdWUgPSB1c2VNZW1vPEFjY29yZGlvbkl0ZW1Db250ZXh0VHlwZT4oCgkJCSgpID0+ICh7IHN0b3JlLCBkaXNhYmxlZDogISFkaXNhYmxlZCwgdHJpZ2dlcklkLCBjb250ZW50SWQgfSksCgkJCVtzdG9yZSwgZGlzYWJsZWQsIHRyaWdnZXJJZCwgY29udGVudElkXSwKCQkpOwoKCQljb25zdCBvcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAnb3BlbicpOwoKCQlSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCQlyZWdpc3Rlckl0ZW0oYmFzZUlkLCBzdG9yZSk7CgkJCXJldHVybiAoKSA9PiB1bnJlZ2lzdGVySXRlbShiYXNlSWQpOwoJCX0sIFtiYXNlSWQsIHJlZ2lzdGVySXRlbSwgdW5yZWdpc3Rlckl0ZW0sIHN0b3JlXSk7CgoJCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJCWlmIChvcGVuKSB7CgkJCQlub3RpZnlJdGVtT3BlbihiYXNlSWQpOwoJCQl9CgkJfSwgW29wZW4sIGJhc2VJZCwgbm90aWZ5SXRlbU9wZW5dKTsKCgkJaWYgKHZhcmlhbnQgPT09ICdjYXJkJykgewoJCQlyZXR1cm4gKAoJCQkJPEFjY29yZGlvbkl0ZW1Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWV9PgoJCQkJCTxkaXYKCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCWFjY29yZGlvbkl0ZW1WYXJpYW50cyh7IHZhcmlhbnQsIGlzT3Blbjogb3BlbiB9KSwKCQkJCQkJCWNsYXNzTmFtZSwKCQkJCQkJKX0KCQkJCQkJey4uLnByb3BzfQoJCQkJCT4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBzaGFkb3ctbWQgY2FyZC1oaWdobGlnaHQiPgoJCQkJCQkJe2NoaWxkcmVufQoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCTwvQWNjb3JkaW9uSXRlbUNvbnRleHQuUHJvdmlkZXI+CgkJCSk7CgkJfQoKCQlyZXR1cm4gKAoJCQk8QWNjb3JkaW9uSXRlbUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+CgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJYWNjb3JkaW9uSXRlbVZhcmlhbnRzKHsgdmFyaWFudCwgaXNPcGVuOiBvcGVuIH0pLAoJCQkJCQljbGFzc05hbWUsCgkJCQkJKX0KCQkJCQl7Li4ucHJvcHN9CgkJCQk+CgkJCQkJe2NoaWxkcmVufQoJCQkJPC9kaXY+CgkJCTwvQWNjb3JkaW9uSXRlbUNvbnRleHQuUHJvdmlkZXI+CgkJKTsKCX0sCik7CgpBY2NvcmRpb25JdGVtLmRpc3BsYXlOYW1lID0gJ0FjY29yZGlvbkl0ZW0nOwoKZXhwb3J0IGNvbnN0IEFjY29yZGlvblRyaWdnZXI6IFJlYWN0LkZDPEFjY29yZGlvblRyaWdnZXJQcm9wcz4gPSBSZWFjdC5tZW1vKAoJKHsKCQljaGlsZHJlbiwKCQljbGFzc05hbWUsCgkJZGlzYWJsZWQ6IGRpc2FibGVkUHJvcCwKCQl2YXJpYW50OiBfdmFyaWFudFByb3AsCgkJc2l6ZTogX3NpemVQcm9wLAoJCWlzT3BlbjogX2lzT3BlblByb3AsCgkJLi4ucHJvcHMKCX0pID0+IHsKCQljb25zdCB7IHZhcmlhbnQsIHNpemUgfSA9IHVzZUFjY29yZGlvblN0eWxlKCk7CgkJY29uc3QgeyBzdG9yZSwgZGlzYWJsZWQsIHRyaWdnZXJJZCwgY29udGVudElkIH0gPSB1c2VBY2NvcmRpb25JdGVtKCk7CgkJY29uc3QgaXNPcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAnb3BlbicpOwoJCWNvbnN0IG1lcmdlZERpc2FibGVkID0gQm9vbGVhbihkaXNhYmxlZCB8fCBkaXNhYmxlZFByb3ApOwoKCQljb25zdCBpY29uU2l6ZSA9IHVzZU1lbW8oKCkgPT4gewoJCQlyZXR1cm4gc2l6ZSA9PT0gJ3NtJyA/IDE0IDogc2l6ZSA9PT0gJ21kJyA/IDE2IDogMjA7CgkJfSwgW3NpemVdKTsKCgkJcmV0dXJuICgKCQkJPGgzPgoJCQkJPEFyaWFraXQuRGlzY2xvc3VyZQoJCQkJCXN0b3JlPXtzdG9yZX0KCQkJCQlpZD17dHJpZ2dlcklkfQoJCQkJCWRhdGEtYWNjb3JkaW9uLXRyaWdnZXIKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQlhY2NvcmRpb25UcmlnZ2VyVmFyaWFudHMoewoJCQkJCQkJdmFyaWFudCwKCQkJCQkJCXNpemUsCgkJCQkJCQlkaXNhYmxlZDogbWVyZ2VkRGlzYWJsZWQsCgkJCQkJCQlpc09wZW4sCgkJCQkJCX0pLAoJCQkJCQljbGFzc05hbWUsCgkJCQkJKX0KCQkJCQlhcmlhLWNvbnRyb2xzPXtjb250ZW50SWR9CgkJCQkJYXJpYS1kaXNhYmxlZD17bWVyZ2VkRGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCQkJCWRpc2FibGVkPXttZXJnZWREaXNhYmxlZH0KCQkJCQl7Li4ucHJvcHN9CgkJCQk+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJmb250LW1lZGl1bSI+e2NoaWxkcmVufTwvc3Bhbj4KCQkJCQk8SWNvbnMuQ2hldnJvbkRvd24KCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQknbWwtMiBzaHJpbmstMCB0ZXh0LWZvcmVncm91bmQvNzAgdHJhbnNpdGlvbi1bcm90YXRlXSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggd2lsbC1jaGFuZ2UtdHJhbnNmb3JtJywKCQkJCQkJCWlzT3BlbiA/ICdyb3RhdGUtMTgwJyA6ICdyb3RhdGUtMCcsCgkJCQkJCSl9CgkJCQkJCXN0eWxlPXt7IHdpZHRoOiBpY29uU2l6ZSwgaGVpZ2h0OiBpY29uU2l6ZSB9fQoJCQkJCS8+CgkJCQk8L0FyaWFraXQuRGlzY2xvc3VyZT4KCQkJPC9oMz4KCQkpOwoJfSwKKTsKCkFjY29yZGlvblRyaWdnZXIuZGlzcGxheU5hbWUgPSAnQWNjb3JkaW9uVHJpZ2dlcic7CgpleHBvcnQgY29uc3QgQWNjb3JkaW9uQ29udGVudDogUmVhY3QuRkM8QWNjb3JkaW9uQ29udGVudFByb3BzPiA9IFJlYWN0Lm1lbW8oCgkoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCAuLi5wcm9wcyB9KSA9PiB7CgkJY29uc3QgeyB2YXJpYW50LCBzaXplIH0gPSB1c2VBY2NvcmRpb25TdHlsZSgpOwoJCWNvbnN0IHsgc3RvcmUsIHRyaWdnZXJJZCwgY29udGVudElkIH0gPSB1c2VBY2NvcmRpb25JdGVtKCk7CgkJY29uc3QgaXNPcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAnb3BlbicpOwoKCQljb25zdCBjb250ZW50UmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCQljb25zdCBpbm5lclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7CgkJY29uc3QgW2hlaWdodCwgc2V0SGVpZ2h0XSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4oMCk7CgkJY29uc3QgcmFmUmVmID0gUmVhY3QudXNlUmVmPG51bWJlciB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTsKCgkJY29uc3QgdXBkYXRlSGVpZ2h0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCQlpZiAocmFmUmVmLmN1cnJlbnQpIHsKCQkJCWNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZlJlZi5jdXJyZW50KTsKCQkJfQoKCQkJcmFmUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewoJCQkJaWYgKGlubmVyUmVmLmN1cnJlbnQpIHsKCQkJCQljb25zdCBuZXdIZWlnaHQgPSBpbm5lclJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDsKCQkJCQlzZXRIZWlnaHQobmV3SGVpZ2h0KTsKCQkJCX0KCQkJfSk7CgkJfSwgW10pOwoKCQlSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAoIWlubmVyUmVmLmN1cnJlbnQpIHJldHVybjsKCgkJCWNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHsKCQkJCXVwZGF0ZUhlaWdodCgpOwoJCQl9KTsKCgkJCXJlc2l6ZU9ic2VydmVyLm9ic2VydmUoaW5uZXJSZWYuY3VycmVudCk7CgkJCXVwZGF0ZUhlaWdodCgpOwoKCQkJcmV0dXJuICgpID0+IHsKCQkJCXJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCQkJCWlmIChyYWZSZWYuY3VycmVudCkgewoJCQkJCWNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZlJlZi5jdXJyZW50KTsKCQkJCX0KCQkJfTsKCQl9LCBbdXBkYXRlSGVpZ2h0XSk7CgoJCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJCXVwZGF0ZUhlaWdodCgpOwoJCX0sIFt1cGRhdGVIZWlnaHRdKTsKCgkJY29uc3QgY29udGVudFN0eWxlID0gdXNlTWVtbygKCQkJKCkgPT4gKHsKCQkJCWhlaWdodDogaXNPcGVuID8gYCR7aGVpZ2h0fXB4YCA6ICcwcHgnLAoJCQkJb3BhY2l0eTogaXNPcGVuID8gMSA6IDAsCgkJCX0pLAoJCQlbaXNPcGVuLCBoZWlnaHRdLAoJCSk7CgoJCXJldHVybiAoCgkJCTxkaXYKCQkJCXJlZj17Y29udGVudFJlZn0KCQkJCWNsYXNzTmFtZT17Y24oYWNjb3JkaW9uQ29udGVudFZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJCXN0eWxlPXtjb250ZW50U3R5bGV9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCTxzZWN0aW9uCgkJCQkJaWQ9e2NvbnRlbnRJZH0KCQkJCQlhcmlhLWxhYmVsbGVkYnk9e3RyaWdnZXJJZH0KCQkJCQlhcmlhLWhpZGRlbj17IWlzT3Blbn0KCQkJCQlpbmVydD17IWlzT3Blbn0KCQkJCQlyZWY9e2lubmVyUmVmfQoJCQkJCWNsYXNzTmFtZT17Y24oYWNjb3JkaW9uQ29udGVudElubmVyVmFyaWFudHMoeyB2YXJpYW50LCBzaXplIH0pKX0KCQkJCT4KCQkJCQl7Y2hpbGRyZW59CgkJCQk8L3NlY3Rpb24+CgkJCTwvZGl2PgoJCSk7Cgl9LAopOwoKQWNjb3JkaW9uQ29udGVudC5kaXNwbGF5TmFtZSA9ICdBY2NvcmRpb25Db250ZW50Jzs="
,
  "alert.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvbGliL2ljb25zJzsKCmNvbnN0IGFsZXJ0VmFyaWFudHMgPSBjdmEoCgkncmVsYXRpdmUgZmxleCB3LWZpdCBpdGVtcy1zdGFydCBnYXAtMyByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgcHgtNCBweS0zIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCcsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ3RleHQtZm9yZWdyb3VuZCBbJl9bZGF0YS1zbG90PWFsZXJ0LWljb25dXTp0ZXh0LWZvcmVncm91bmQnLAoJCQkJZGVzdHJ1Y3RpdmU6CgkJCQkJJ3RleHQtZGVzdHJ1Y3RpdmUvOTAgWyZfW2RhdGEtc2xvdD1hbGVydC1pY29uXV06dGV4dC1kZXN0cnVjdGl2ZS85MCcsCgkJCQl3YXJuaW5nOiAndGV4dC13YXJuaW5nLzkwIFsmX1tkYXRhLXNsb3Q9YWxlcnQtaWNvbl1dOnRleHQtd2FybmluZy85MCcsCgkJCQlzdWNjZXNzOiAndGV4dC1zdWNjZXNzLzkwIFsmX1tkYXRhLXNsb3Q9YWxlcnQtaWNvbl1dOnRleHQtc3VjY2Vzcy85MCcsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAncHgtMyBweS0yJywKCQkJCW1kOiAncHgtNCBweS0zJywKCQkJCWxnOiAncHgtNiBweS00JywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBhbGVydFRpdGxlVmFyaWFudHMgPSBjdmEoCgknW2xpbmUtaGVpZ2h0OjFdIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCBtYi0xJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogJ3RleHQteHMnLAoJCQkJbWQ6ICd0ZXh0LXNtJywKCQkJCWxnOiAndGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgYWxlcnREZXNjcmlwdGlvblZhcmlhbnRzID0gY3ZhKAoJJ3RleHQtZm9yZWdyb3VuZC83MCBbJl9wXTpsZWFkaW5nLXNudWcgdGV4dC1iYWxhbmNlJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogJ3RleHQteHMnLAoJCQkJbWQ6ICd0ZXh0LXhzJywKCQkJCWxnOiAndGV4dC1zbScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCnR5cGUgQWxlcnRWYXJpYW50ID0gTm9uTnVsbGFibGU8VmFyaWFudFByb3BzPHR5cGVvZiBhbGVydFZhcmlhbnRzPlsndmFyaWFudCddPjsKCnR5cGUgSWNvbkNvbXBvbmVudCA9IHR5cGVvZiBJY29ucy5JbmZvOwoKY29uc3QgdmFyaWFudEljb25NYXA6IFJlY29yZDxBbGVydFZhcmlhbnQsIEljb25Db21wb25lbnQ+ID0gewoJZGVmYXVsdDogSWNvbnMuSW5mbywKCWRlc3RydWN0aXZlOiBJY29ucy5YLAoJd2FybmluZzogSWNvbnMuV2FybmluZywKCXN1Y2Nlc3M6IEljb25zLlN1Y2Nlc3MsCn07CgpleHBvcnQgaW50ZXJmYWNlIEFsZXJ0UHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgYWxlcnRWYXJpYW50cz4gewoJY2xhc3NOYW1lPzogc3RyaW5nOwoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCXNob3dJY29uPzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBBbGVydFRpdGxlUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTEhlYWRpbmdFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGFsZXJ0VGl0bGVWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWFzPzogUmVhY3QuRWxlbWVudFR5cGU7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQWxlcnREZXNjcmlwdGlvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGFsZXJ0RGVzY3JpcHRpb25WYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBBbGVydEljb25Qcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgQWxlcnQ6IFJlYWN0LkZDPEFsZXJ0UHJvcHM+ID0gKHsKCXZhcmlhbnQsCglzaXplLAoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCglzaG93SWNvbiA9IHRydWUsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB2YXJpYW50S2V5ID0gKHZhcmlhbnQgPz8gJ2RlZmF1bHQnKSBhcyBBbGVydFZhcmlhbnQ7Cgljb25zdCBEZWZhdWx0SWNvbiA9IHZhcmlhbnRJY29uTWFwW3ZhcmlhbnRLZXldID8/IEljb25zLkluZm87CgoJY29uc3QgY2hpbGRyZW5BcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pOwoJY29uc3QgaWNvbkluZGV4ID0gY2hpbGRyZW5BcnJheS5maW5kSW5kZXgoCgkJKGNoaWxkKSA9PiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkgJiYgY2hpbGQudHlwZSA9PT0gQWxlcnRJY29uLAoJKTsKCgljb25zdCBjb250ZW50Q2hpbGRyZW4gPSBjaGlsZHJlbkFycmF5LmZpbHRlcigKCQkoXywgaW5kZXgpID0+IGluZGV4ICE9PSBpY29uSW5kZXgsCgkpOwoKCWxldCBpY29uRWxlbWVudDogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbCA9IG51bGw7CgoJaWYgKHNob3dJY29uICYmIGljb25JbmRleCAhPT0gLTEpIHsKCQlpY29uRWxlbWVudCA9IGNoaWxkcmVuQXJyYXlbaWNvbkluZGV4XTsKCX0gZWxzZSBpZiAoc2hvd0ljb24gJiYgRGVmYXVsdEljb24pIHsKCQlpY29uRWxlbWVudCA9ICgKCQkJPGRpdgoJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQlkYXRhLXNsb3Q9ImFsZXJ0LWljb24iCgkJCQljbGFzc05hbWU9Im10LTAuNSBmbGV4IGgtNCB3LTQgc2hyaW5rLTAgdGV4dC1jdXJyZW50IgoJCQk+CgkJCQk8RGVmYXVsdEljb24gYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KCQkJPC9kaXY+CgkJKTsKCX0KCglyZXR1cm4gKAoJCTxkaXYKCQkJcm9sZT0iYWxlcnQiCgkJCWNsYXNzTmFtZT17Y24oYWxlcnRWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtpY29uRWxlbWVudH0KCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggbWluLXctMCBmbGV4LTEgZmxleC1jb2wiPntjb250ZW50Q2hpbGRyZW59PC9kaXY+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEFsZXJ0VGl0bGU6IFJlYWN0LkZDPEFsZXJ0VGl0bGVQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUsCglzaXplLAoJYXM6IENvbXBvbmVudCA9ICdoNScsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgKCQlDb21wb25lbnQsCgkJewoJCQljbGFzc05hbWU6IGNuKGFsZXJ0VGl0bGVWYXJpYW50cyh7IHNpemUgfSksIGNsYXNzTmFtZSksCgkJCS4uLnByb3BzLAoJCX0sCgkJY2hpbGRyZW4sCgkpOwp9OwoKZXhwb3J0IGNvbnN0IEFsZXJ0RGVzY3JpcHRpb246IFJlYWN0LkZDPEFsZXJ0RGVzY3JpcHRpb25Qcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUsCglzaXplLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2CgkJCWNsYXNzTmFtZT17Y24oYWxlcnREZXNjcmlwdGlvblZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBBbGVydEljb246IFJlYWN0LkZDPEFsZXJ0SWNvblByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCWRhdGEtc2xvdD0iYWxlcnQtaWNvbiIKCQkJY2xhc3NOYW1lPXtjbignbXQtMC41IGZsZXggaC00IHctNCBzaHJpbmstMCB0ZXh0LWN1cnJlbnQnLCBjbGFzc05hbWUpfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTs="
,
  "area-chart.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsKCWFyZWEsCgljdXJ2ZUxpbmVhciwKCWN1cnZlTW9ub3RvbmVYLAoJY3VydmVOYXR1cmFsLAoJY3VydmVTdGVwLAoJbGluZSwKfSBmcm9tICdkMy1zaGFwZSc7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgp0eXBlIENoYXJ0RGF0dW0gPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjsKCmNvbnN0IERFRkFVTFRfSEVJR0hUID0gMjIwOwpjb25zdCBERUZBVUxUX0NPTE9SUyA9IFsKCSd2YXIoLS1jb2xvci1jaGFydC0xKScsCgkndmFyKC0tY29sb3ItY2hhcnQtMiknLAoJJ3ZhcigtLWNvbG9yLWNoYXJ0LTMpJywKCSd2YXIoLS1jb2xvci1jaGFydC00KScsCgkndmFyKC0tY29sb3ItY2hhcnQtNSknLApdIGFzIGNvbnN0OwoKY29uc3QgQ0hBUlRfUEFERElORyA9IHsgdG9wOiAxNiwgcmlnaHQ6IDE2LCBib3R0b206IDI0LCBsZWZ0OiAxNiB9IGFzIGNvbnN0Owpjb25zdCBZX0FYSVNfQ0hBUlRfR0FQID0gODsKY29uc3QgRkFMTEJBQ0tfQ0hBUlRfRElNRU5TSU9OUyA9IHsgd2lkdGg6IDM2MCwgaGVpZ2h0OiAyNDAgfSBhcyBjb25zdDsKY29uc3QgREVGQVVMVF9ZX1RJQ0tfVEFSR0VUID0gNTsKCmNvbnN0IENVUlZFX0ZBQ1RPUklFUyA9IHsKCWxpbmVhcjogY3VydmVMaW5lYXIsCgltb25vdG9uZTogY3VydmVNb25vdG9uZVgsCgluYXR1cmFsOiBjdXJ2ZU5hdHVyYWwsCglzdGVwOiBjdXJ2ZVN0ZXAsCn0gYXMgY29uc3Q7CgpleHBvcnQgdHlwZSBBcmVhQ2hhcnRDdXJ2ZSA9IGtleW9mIHR5cGVvZiBDVVJWRV9GQUNUT1JJRVM7CgpleHBvcnQgdHlwZSBBcmVhQ2hhcnRQb2ludDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPiA9IHsKCWlkOiBzdHJpbmc7CglzZXJpZXNJZDogc3RyaW5nOwoJc2VyaWVzSW5kZXg6IG51bWJlcjsKCWRhdHVtOiBURGF0YTsKCWluZGV4OiBudW1iZXI7Cgl4OiBudW1iZXI7Cgl4UmF3OiB1bmtub3duOwoJeTogbnVtYmVyOwoJbGFiZWw6IHN0cmluZzsKCXZhbHVlOiBudW1iZXI7Cn07CgpleHBvcnQgaW50ZXJmYWNlIEFyZWFDaGFydEFkZGl0aW9uYWxTZXJpZXM8CglURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtLAo+IHsKCWlkPzogc3RyaW5nOwoJZGF0YT86IFREYXRhW107Cgl4S2V5PzogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCXlLZXk6IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47CgluYW1lS2V5PzogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCWNvbG9yPzogc3RyaW5nOwoJc2VyaWVzTGFiZWw/OiBzdHJpbmc7Cglzb3J0UG9pbnRzPzogYm9vbGVhbiB8ICgoYTogVERhdGEsIGI6IFREYXRhKSA9PiBudW1iZXIpOwoJeUZvcm1hdHRlcj86ICgKCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LAoJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXZhbHVlRm9ybWF0dGVyPzogKAoJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwp9CgppbnRlcmZhY2UgQXJlYUNoYXJ0U2VyaWVzU3RhdGU8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtPiB7CglpZDogc3RyaW5nOwoJc2VyaWVzSW5kZXg6IG51bWJlcjsKCXBvaW50czogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+W107Cgl0b3RhbDogbnVtYmVyOwoJc2VyaWVzTGFiZWw6IHN0cmluZzsKCXZhbHVlTGFiZWw6IHN0cmluZzsKCWNvbG9yOiBzdHJpbmc7Cglmb3JtYXRZOiAocG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPikgPT4gUmVhY3QuUmVhY3ROb2RlOwp9CgppbnRlcmZhY2UgQXJlYUNoYXJ0U2VyaWVzQ29tcHV0YXRpb248VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtPgoJZXh0ZW5kcyBPbWl0PEFyZWFDaGFydFNlcmllc1N0YXRlPFREYXRhPiwgJ2Zvcm1hdFknPiB7Cgl5Rm9ybWF0dGVyPzogKAoJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJdmFsdWVGb3JtYXR0ZXI/OiAoCgkJcG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPiwKCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IGRvbWFpbjogW251bWJlciwgbnVtYmVyXSB9LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmludGVyZmFjZSBBcmVhQ2hhcnRDb250ZXh0VmFsdWU8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtPiB7CglzZXJpZXM6IEFyZWFDaGFydFNlcmllc1N0YXRlPFREYXRhPltdOwoJcG9pbnRzOiBBcmVhQ2hhcnRQb2ludDxURGF0YT5bXTsKCXRvdGFsOiBudW1iZXI7CglzZXJpZXNMYWJlbDogc3RyaW5nOwoJY29sb3I6IHN0cmluZzsKCXhEb21haW46IFtudW1iZXIsIG51bWJlcl07Cgl5RG9tYWluOiBbbnVtYmVyLCBudW1iZXJdOwoJZm9ybWF0WDogKHBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4pID0+IFJlYWN0LlJlYWN0Tm9kZTsKCWZvcm1hdFk6IChwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+KSA9PiBSZWFjdC5SZWFjdE5vZGU7Cglmb3JtYXRZRm9yU2VyaWVzOiAoCgkJc2VyaWVzSWQ6IHN0cmluZywKCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZUxhYmVsOiBzdHJpbmc7Cgl4TGFiZWw6IHN0cmluZzsKCWFjdGl2ZVBvaW50SWQ6IHN0cmluZyB8IG51bGw7CglzZXRBY3RpdmVQb2ludElkOiAoaWQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7CglhY3RpdmVQb2ludFg6IG51bWJlciB8IG51bGw7CglzZXRBY3RpdmVQb2ludFg6ICh2YWx1ZTogbnVtYmVyIHwgbnVsbCkgPT4gdm9pZDsKfQoKY29uc3QgQXJlYUNoYXJ0Q29udGV4dCA9CglSZWFjdC5jcmVhdGVDb250ZXh0PEFyZWFDaGFydENvbnRleHRWYWx1ZTxDaGFydERhdHVtPiB8IG51bGw+KG51bGwpOwoKZXhwb3J0IGZ1bmN0aW9uIHVzZUFyZWFDaGFydENvbnRleHQ8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4oKSB7Cgljb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dCgKCQlBcmVhQ2hhcnRDb250ZXh0LAoJKSBhcyBBcmVhQ2hhcnRDb250ZXh0VmFsdWU8VERhdGE+IHwgbnVsbDsKCglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoCgkJCSd1c2VBcmVhQ2hhcnRDb250ZXh0IG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gPEFyZWFDaGFydD4gY29tcG9uZW50LicsCgkJKTsKCX0KCglyZXR1cm4gY29udGV4dDsKfQoKZnVuY3Rpb24gZ2V0TnVtZXJpY1ZhbHVlKGlucHV0OiB1bmtub3duKTogbnVtYmVyIHwgbnVsbCB7CglpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUoaW5wdXQpKSB7CgkJcmV0dXJuIGlucHV0OwoJfQoJaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHsKCQljb25zdCBwYXJzZWQgPSBOdW1iZXIucGFyc2VGbG9hdChpbnB1dCk7CgkJaWYgKE51bWJlci5pc0Zpbml0ZShwYXJzZWQpKSB7CgkJCXJldHVybiBwYXJzZWQ7CgkJfQoJfQoJcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIGdldFRlbXBvcmFsVmFsdWUoaW5wdXQ6IHVua25vd24pOiBudW1iZXIgfCBudWxsIHsKCWlmIChpbnB1dCBpbnN0YW5jZW9mIERhdGUgJiYgTnVtYmVyLmlzRmluaXRlKGlucHV0LnZhbHVlT2YoKSkpIHsKCQlyZXR1cm4gaW5wdXQuZ2V0VGltZSgpOwoJfQoJaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgJiYgTnVtYmVyLmlzRmluaXRlKGlucHV0KSkgewoJCXJldHVybiBpbnB1dDsKCX0KCWlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7CgkJY29uc3QgbnVtZXJpYyA9IE51bWJlci5wYXJzZUZsb2F0KGlucHV0KTsKCQlpZiAoTnVtYmVyLmlzRmluaXRlKG51bWVyaWMpKSB7CgkJCXJldHVybiBudW1lcmljOwoJCX0KCQljb25zdCBwYXJzZWREYXRlID0gbmV3IERhdGUoaW5wdXQpOwoJCWlmICghTnVtYmVyLmlzTmFOKHBhcnNlZERhdGUudmFsdWVPZigpKSkgewoJCQlyZXR1cm4gcGFyc2VkRGF0ZS5nZXRUaW1lKCk7CgkJfQoJfQoJcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIHRvS2V5TGFiZWwoa2V5OiBzdHJpbmcpOiBzdHJpbmcgewoJY29uc3Qgd29yZHMgPSBrZXkKCQkucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgJyQxICQyJykKCQkucmVwbGFjZSgvW18tXSsvZywgJyAnKQoJCS5zcGxpdCgnICcpCgkJLm1hcCgocGFydCkgPT4gcGFydC50cmltKCkpCgkJLmZpbHRlcihCb29sZWFuKQoJCS5tYXAoKHBhcnQpID0+IHBhcnQuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHBhcnQuc2xpY2UoMSkpOwoJcmV0dXJuIHdvcmRzLmxlbmd0aCA/IHdvcmRzLmpvaW4oJyAnKSA6IGtleTsKfQoKZnVuY3Rpb24gcmVzb2x2ZUNvbG9yKGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQsIGluZGV4OiBudW1iZXIpOiBzdHJpbmcgewoJaWYgKGNvbG9yICYmIGNvbG9yLnRyaW0oKS5sZW5ndGggPiAwKSByZXR1cm4gY29sb3I7Cgljb25zdCBmYWxsYmFja0luZGV4ID0KCQlERUZBVUxUX0NPTE9SUy5sZW5ndGggPiAwID8gaW5kZXggJSBERUZBVUxUX0NPTE9SUy5sZW5ndGggOiAwOwoJY29uc3QgZmFsbGJhY2sgPSBERUZBVUxUX0NPTE9SU1tmYWxsYmFja0luZGV4XTsKCWlmICghZmFsbGJhY2spIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGZhbGxiYWNrIGNvbG9yIGZvciBBcmVhQ2hhcnQuJyk7Cgl9CglyZXR1cm4gZmFsbGJhY2s7Cn0KCmZ1bmN0aW9uIGNyZWF0ZUxpbmVhclNjYWxlKAoJZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdLAoJcmFuZ2U6IFtudW1iZXIsIG51bWJlcl0sCik6ICh2YWx1ZTogbnVtYmVyKSA9PiBudW1iZXIgewoJY29uc3QgW2QwLCBkMV0gPSBkb21haW47Cgljb25zdCBbcjAsIHIxXSA9IHJhbmdlOwoJaWYgKCFOdW1iZXIuaXNGaW5pdGUoZDApIHx8ICFOdW1iZXIuaXNGaW5pdGUoZDEpKSB7CgkJcmV0dXJuICgpID0+IHIwOwoJfQoJaWYgKGQwID09PSBkMSkgewoJCXJldHVybiAoKSA9PiAocjAgKyByMSkgLyAyOwoJfQoJY29uc3Qgc2NhbGUgPSAodmFsdWU6IG51bWJlcikgPT4gewoJCWNvbnN0IHJhdGlvID0gKHZhbHVlIC0gZDApIC8gKGQxIC0gZDApOwoJCXJldHVybiByMCArIHJhdGlvICogKHIxIC0gcjApOwoJfTsKCXJldHVybiBzY2FsZTsKfQoKZnVuY3Rpb24gY2xhbXAodmFsdWU6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7CglyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7Cn0KCmZ1bmN0aW9uIHRvUGxhaW5UZXh0KHZhbHVlOiBSZWFjdC5SZWFjdE5vZGUsIGZhbGxiYWNrOiBzdHJpbmcpOiBzdHJpbmcgewoJaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTsKCWlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHsKCQlyZXR1cm4gdmFsdWUudG9TdHJpbmcoKTsKCX0KCXJldHVybiBmYWxsYmFjazsKfQoKZnVuY3Rpb24gZ2V0UG9pbnRMYWJlbFRleHQocG9pbnQ6IEFyZWFDaGFydFBvaW50KSB7CglyZXR1cm4gcG9pbnQubGFiZWwgPz8gU3RyaW5nKHBvaW50LnhSYXcgPz8gJycpOwp9CgpmdW5jdGlvbiBnZXRQb2ludFZhbHVlVGV4dChwb2ludDogQXJlYUNoYXJ0UG9pbnQpIHsKCWlmIChOdW1iZXIuaXNGaW5pdGUocG9pbnQudmFsdWUpKSB7CgkJcmV0dXJuIHBvaW50LnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7Cgl9CglyZXR1cm4gU3RyaW5nKHBvaW50LnZhbHVlKTsKfQoKZnVuY3Rpb24gbmljZU51bWJlcihyYW5nZTogbnVtYmVyLCByb3VuZDogYm9vbGVhbikgewoJaWYgKHJhbmdlID09PSAwKSByZXR1cm4gMDsKCWNvbnN0IGV4cG9uZW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZzEwKE1hdGguYWJzKHJhbmdlKSkpOwoJY29uc3QgZnJhY3Rpb24gPSBNYXRoLmFicyhyYW5nZSkgLyAxMCAqKiBleHBvbmVudDsKCWxldCBuaWNlRnJhY3Rpb246IG51bWJlcjsKCglpZiAocm91bmQpIHsKCQlpZiAoZnJhY3Rpb24gPCAxLjUpIHsKCQkJbmljZUZyYWN0aW9uID0gMTsKCQl9IGVsc2UgaWYgKGZyYWN0aW9uIDwgMykgewoJCQluaWNlRnJhY3Rpb24gPSAyOwoJCX0gZWxzZSBpZiAoZnJhY3Rpb24gPCA3KSB7CgkJCW5pY2VGcmFjdGlvbiA9IDU7CgkJfSBlbHNlIHsKCQkJbmljZUZyYWN0aW9uID0gMTA7CgkJfQoJfSBlbHNlIHsKCQlpZiAoZnJhY3Rpb24gPD0gMSkgewoJCQluaWNlRnJhY3Rpb24gPSAxOwoJCX0gZWxzZSBpZiAoZnJhY3Rpb24gPD0gMikgewoJCQluaWNlRnJhY3Rpb24gPSAyOwoJCX0gZWxzZSBpZiAoZnJhY3Rpb24gPD0gNSkgewoJCQluaWNlRnJhY3Rpb24gPSA1OwoJCX0gZWxzZSB7CgkJCW5pY2VGcmFjdGlvbiA9IDEwOwoJCX0KCX0KCglyZXR1cm4gTWF0aC5zaWduKHJhbmdlKSAqIG5pY2VGcmFjdGlvbiAqIDEwICoqIGV4cG9uZW50Owp9CgpmdW5jdGlvbiBnZW5lcmF0ZUxpbmVhclRpY2tzKAoJW21pbiwgbWF4XTogW251bWJlciwgbnVtYmVyXSwKCWRlc2lyZWRDb3VudDogbnVtYmVyLAopIHsKCWNvbnN0IHNhZmVDb3VudCA9IE51bWJlci5pc0Zpbml0ZShkZXNpcmVkQ291bnQpCgkJPyBNYXRoLm1heChkZXNpcmVkQ291bnQsIDIpCgkJOiAyOwoJaWYgKCFOdW1iZXIuaXNGaW5pdGUobWluKSB8fCAhTnVtYmVyLmlzRmluaXRlKG1heCkpIHJldHVybiBbXTsKCWlmIChtaW4gPT09IG1heCkgcmV0dXJuIFttaW5dOwoKCWNvbnN0IHJhbmdlID0gbWF4IC0gbWluOwoJY29uc3QgbmljZVJhbmdlID0gbmljZU51bWJlcihyYW5nZSwgZmFsc2UpOwoJY29uc3Qgc3RlcCA9IG5pY2VOdW1iZXIobmljZVJhbmdlIC8gKHNhZmVDb3VudCAtIDEpLCB0cnVlKTsKCWNvbnN0IG5pY2VNaW4gPSBNYXRoLmZsb29yKG1pbiAvIHN0ZXApICogc3RlcDsKCWNvbnN0IG5pY2VNYXggPSBNYXRoLmNlaWwobWF4IC8gc3RlcCkgKiBzdGVwOwoKCWNvbnN0IHRpY2tzOiBudW1iZXJbXSA9IFtdOwoJZm9yIChsZXQgdmFsdWUgPSBuaWNlTWluOyB2YWx1ZSA8PSBuaWNlTWF4ICsgc3RlcCAvIDI7IHZhbHVlICs9IHN0ZXApIHsKCQljb25zdCByb3VuZGVkID0gTnVtYmVyLnBhcnNlRmxvYXQodmFsdWUudG9GaXhlZCgxMikpOwoJCXRpY2tzLnB1c2gocm91bmRlZCk7Cgl9Cgljb25zdCBkb21haW5XaXRoUGFkZGluZyA9IHN0ZXAgKiAwLjU7Cgljb25zdCB3aXRoaW5Eb21haW4gPSB0aWNrcy5maWx0ZXIoCgkJKHZhbHVlKSA9PgoJCQl2YWx1ZSA+PSBtaW4gLSBkb21haW5XaXRoUGFkZGluZyAmJiB2YWx1ZSA8PSBtYXggKyBkb21haW5XaXRoUGFkZGluZywKCSk7CglyZXR1cm4gd2l0aGluRG9tYWluLmxlbmd0aCA/IHdpdGhpbkRvbWFpbiA6IFttaW4sIG1heF07Cn0KCmZ1bmN0aW9uIGFsaWduRG9tYWluVG9OaWNlVmFsdWVzKAoJW21pbiwgbWF4XTogW251bWJlciwgbnVtYmVyXSwKCXRhcmdldENvdW50OiBudW1iZXIgPSBERUZBVUxUX1lfVElDS19UQVJHRVQsCik6IFtudW1iZXIsIG51bWJlcl0gewoJaWYgKCFOdW1iZXIuaXNGaW5pdGUobWluKSB8fCAhTnVtYmVyLmlzRmluaXRlKG1heCkpIHsKCQlyZXR1cm4gW21pbiwgbWF4XTsKCX0KCglpZiAobWluID09PSBtYXgpIHsKCQljb25zdCBwYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnMobWluKSAqIDAuNSwgMSk7CgkJcmV0dXJuIFttaW4gLSBwYWRkaW5nLCBtYXggKyBwYWRkaW5nXTsKCX0KCgljb25zdCBzYWZlQ291bnQgPSBOdW1iZXIuaXNGaW5pdGUodGFyZ2V0Q291bnQpCgkJPyBNYXRoLm1heChNYXRoLmZsb29yKHRhcmdldENvdW50KSwgMikKCQk6IERFRkFVTFRfWV9USUNLX1RBUkdFVDsKCWNvbnN0IHJhbmdlID0gbWF4IC0gbWluOwoJY29uc3QgcmF3U3RlcCA9IHJhbmdlIC8gKHNhZmVDb3VudCAtIDEpOwoJY29uc3Qgc3RlcCA9IG5pY2VOdW1iZXIocmF3U3RlcCwgdHJ1ZSk7CgoJaWYgKCFOdW1iZXIuaXNGaW5pdGUoc3RlcCkgfHwgc3RlcCA8PSAwKSB7CgkJcmV0dXJuIFttaW4sIG1heF07Cgl9CgoJbGV0IG5pY2VNaW4gPSBNYXRoLmZsb29yKG1pbiAvIHN0ZXApICogc3RlcDsKCWxldCBuaWNlTWF4ID0gTWF0aC5jZWlsKG1heCAvIHN0ZXApICogc3RlcDsKCgljb25zdCBtaW5pbXVtUGFkZGluZyA9IHN0ZXAgKiAwLjE7Cgljb25zdCBwYWRkaW5nQWJvdmUgPSBuaWNlTWF4IC0gbWF4OwoJY29uc3QgcGFkZGluZ0JlbG93ID0gbWluIC0gbmljZU1pbjsKCglpZiAobWluID49IDApIHsKCQluaWNlTWluID0gMDsKCX0gZWxzZSBpZiAocGFkZGluZ0JlbG93IDwgbWluaW11bVBhZGRpbmcpIHsKCQluaWNlTWluIC09IHN0ZXA7Cgl9CglpZiAobWF4IDw9IDApIHsKCQluaWNlTWF4ID0gMDsKCX0gZWxzZSBpZiAocGFkZGluZ0Fib3ZlIDwgbWluaW11bVBhZGRpbmcpIHsKCQluaWNlTWF4ICs9IHN0ZXA7Cgl9CgoJaWYgKG5pY2VNaW4gPT09IG5pY2VNYXgpIHsKCQlyZXR1cm4gW25pY2VNaW4gLSBzdGVwLCBuaWNlTWF4ICsgc3RlcF07Cgl9CgoJcmV0dXJuIFtuaWNlTWluLCBuaWNlTWF4XTsKfQoKZnVuY3Rpb24gc2VsZWN0UG9pbnRzRm9yVGlja3MocG9pbnRzOiBBcmVhQ2hhcnRQb2ludFtdLCBkZXNpcmVkQ291bnQ6IG51bWJlcikgewoJaWYgKCFwb2ludHMubGVuZ3RoKSByZXR1cm4gW107Cgljb25zdCB1bmlxdWVQb2ludHM6IEFyZWFDaGFydFBvaW50W10gPSBbXTsKCWNvbnN0IHNlZW4gPSBuZXcgU2V0PG51bWJlcj4oKTsKCWZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzKSB7CgkJaWYgKHNlZW4uaGFzKHBvaW50LngpKSBjb250aW51ZTsKCQlzZWVuLmFkZChwb2ludC54KTsKCQl1bmlxdWVQb2ludHMucHVzaChwb2ludCk7Cgl9Cgljb25zdCBzYWZlQ291bnQgPSBNYXRoLm1heCgyLCBNYXRoLm1pbihkZXNpcmVkQ291bnQsIHVuaXF1ZVBvaW50cy5sZW5ndGgpKTsKCWlmICh1bmlxdWVQb2ludHMubGVuZ3RoIDw9IHNhZmVDb3VudCkgewoJCXJldHVybiB1bmlxdWVQb2ludHM7Cgl9CgoJY29uc3QgbGFzdEluZGV4ID0gdW5pcXVlUG9pbnRzLmxlbmd0aCAtIDE7Cgljb25zdCBzdGVwID0gbGFzdEluZGV4IC8gKHNhZmVDb3VudCAtIDEpOwoJY29uc3Qgc2VsZWN0ZWRJbmRpY2VzID0gbmV3IFNldDxudW1iZXI+KCk7CgoJZm9yIChsZXQgaSA9IDA7IGkgPCBzYWZlQ291bnQ7IGkrKykgewoJCWNvbnN0IHJhd0luZGV4ID0gTWF0aC5yb3VuZChpICogc3RlcCk7CgkJY29uc3QgY2xhbXBlZEluZGV4ID0gY2xhbXAocmF3SW5kZXgsIDAsIGxhc3RJbmRleCk7CgkJc2VsZWN0ZWRJbmRpY2VzLmFkZChjbGFtcGVkSW5kZXgpOwoJfQoKCXNlbGVjdGVkSW5kaWNlcy5hZGQoMCk7CglzZWxlY3RlZEluZGljZXMuYWRkKGxhc3RJbmRleCk7CgoJY29uc3Qgc29ydGVkSW5kaWNlcyA9IEFycmF5LmZyb20oc2VsZWN0ZWRJbmRpY2VzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7CgoJaWYgKHNvcnRlZEluZGljZXMubGVuZ3RoIDwgc2FmZUNvdW50KSB7CgkJZm9yICgKCQkJbGV0IGluZGV4ID0gMDsKCQkJaW5kZXggPD0gbGFzdEluZGV4ICYmIHNvcnRlZEluZGljZXMubGVuZ3RoIDwgc2FmZUNvdW50OwoJCQlpbmRleCsrCgkJKSB7CgkJCWlmICghc2VsZWN0ZWRJbmRpY2VzLmhhcyhpbmRleCkpIHsKCQkJCXNvcnRlZEluZGljZXMucHVzaChpbmRleCk7CgkJCX0KCQl9CgkJc29ydGVkSW5kaWNlcy5zb3J0KChhLCBiKSA9PiBhIC0gYik7Cgl9CgoJcmV0dXJuIHNvcnRlZEluZGljZXMKCQkubWFwKChpbmRleCkgPT4gdW5pcXVlUG9pbnRzW2luZGV4XSkKCQkuZmlsdGVyKChwKTogcCBpcyBOb25OdWxsYWJsZTx0eXBlb2YgcD4gPT4gcCAhPT0gdW5kZWZpbmVkKTsKfQoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnRQcm9wczxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPgoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJZGF0YTogVERhdGFbXTsKCXhLZXk6IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47Cgl5S2V5OiBFeHRyYWN0PGtleW9mIFREYXRhLCBzdHJpbmc+OwoJbmFtZUtleT86IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47Cgljb2xvcj86IHN0cmluZzsKCXNlcmllc0xhYmVsPzogc3RyaW5nOwoJc29ydFBvaW50cz86IGJvb2xlYW4gfCAoKGE6IFREYXRhLCBiOiBURGF0YSkgPT4gbnVtYmVyKTsKCXhGb3JtYXR0ZXI/OiAocG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPikgPT4gUmVhY3QuUmVhY3ROb2RlOwoJeUZvcm1hdHRlcj86ICgKCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LAoJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXZhbHVlRm9ybWF0dGVyPzogKAoJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJYWRkaXRpb25hbFNlcmllcz86IEFyZWFDaGFydEFkZGl0aW9uYWxTZXJpZXM8VERhdGE+W107CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZnVuY3Rpb24gQXJlYUNoYXJ0Um9vdElubmVyPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bT4oCgl7CgkJZGF0YSwKCQl4S2V5LAoJCXlLZXksCgkJbmFtZUtleSwKCQljb2xvciwKCQlzZXJpZXNMYWJlbCwKCQlzb3J0UG9pbnRzID0gdHJ1ZSwKCQl4Rm9ybWF0dGVyLAoJCXlGb3JtYXR0ZXIsCgkJdmFsdWVGb3JtYXR0ZXIsCgkJYWRkaXRpb25hbFNlcmllcyA9IFtdLAoJCWNsYXNzTmFtZSwKCQljaGlsZHJlbiwKCQkuLi5yZXN0Cgl9OiBBcmVhQ2hhcnRQcm9wczxURGF0YT4sCglyZWY6IFJlYWN0LkZvcndhcmRlZFJlZjxIVE1MRGl2RWxlbWVudD4sCikgewoJY29uc3QgW2FjdGl2ZVBvaW50SWQsIHNldEFjdGl2ZVBvaW50SWRdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7Cgljb25zdCBbYWN0aXZlUG9pbnRYLCBzZXRBY3RpdmVQb2ludFhdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7CgoJY29uc3QgeExhYmVsID0gUmVhY3QudXNlTWVtbygoKSA9PiB0b0tleUxhYmVsKFN0cmluZyh4S2V5KSksIFt4S2V5XSk7CgoJY29uc3QgeyBzZXJpZXNDb2xsZWN0aW9uLCB4RG9tYWluLCB5RG9tYWluIH0gPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCBidWlsZFNlcmllcyA9IChzb3VyY2U6IHsKCQkJaWQ6IHN0cmluZzsKCQkJc2VyaWVzSW5kZXg6IG51bWJlcjsKCQkJZGF0YTogVERhdGFbXTsKCQkJeEtleTogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCQkJeUtleTogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCQkJbmFtZUtleT86IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47CgkJCWNvbG9yPzogc3RyaW5nOwoJCQlzZXJpZXNMYWJlbD86IHN0cmluZzsKCQkJc29ydFBvaW50czogYm9vbGVhbiB8ICgoYTogVERhdGEsIGI6IFREYXRhKSA9PiBudW1iZXIpOwoJCQl5Rm9ybWF0dGVyPzogKAoJCQkJcG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPiwKCQkJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkJCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJCQl2YWx1ZUZvcm1hdHRlcj86ICgKCQkJCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4sCgkJCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IGRvbWFpbjogW251bWJlciwgbnVtYmVyXSB9LAoJCQkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCQl9KTogQXJlYUNoYXJ0U2VyaWVzQ29tcHV0YXRpb248VERhdGE+ID0+IHsKCQkJY29uc3QgcmVzb2x2ZWRYTGFiZWwgPSB0b0tleUxhYmVsKFN0cmluZyhzb3VyY2UueEtleSkpOwoJCQljb25zdCByZXNvbHZlZFBvaW50cyA9IHNvdXJjZS5kYXRhCgkJCQkubWFwPEFyZWFDaGFydFBvaW50PFREYXRhPiB8IG51bGw+KChkYXR1bSwgaW5kZXgpID0+IHsKCQkJCQljb25zdCBudW1lcmljVmFsdWUgPSBnZXROdW1lcmljVmFsdWUoZGF0dW1bc291cmNlLnlLZXldKTsKCQkJCQlpZiAobnVtZXJpY1ZhbHVlID09PSBudWxsKSByZXR1cm4gbnVsbDsKCQkJCQljb25zdCByYXdYID0gZGF0dW1bc291cmNlLnhLZXldOwoJCQkJCWNvbnN0IHRlbXBvcmFsID0gZ2V0VGVtcG9yYWxWYWx1ZShyYXdYKTsKCQkJCQljb25zdCByZXNvbHZlZFggPSB0ZW1wb3JhbCA/PyBpbmRleDsKCQkJCQljb25zdCBsYWJlbCA9CgkJCQkJCXNvdXJjZS5uYW1lS2V5ICYmIGRhdHVtW3NvdXJjZS5uYW1lS2V5XSAhPSBudWxsCgkJCQkJCQk/IFN0cmluZyhkYXR1bVtzb3VyY2UubmFtZUtleV0pCgkJCQkJCQk6IHR5cGVvZiByYXdYID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmF3WCA9PT0gJ251bWJlcicKCQkJCQkJCQk/IFN0cmluZyhyYXdYKQoJCQkJCQkJCTogYCR7cmVzb2x2ZWRYTGFiZWx9ICR7aW5kZXggKyAxfWA7CgkJCQkJcmV0dXJuIHsKCQkJCQkJaWQ6IGAke3NvdXJjZS5pZH0tJHtyZXNvbHZlZFh9LSR7aW5kZXh9YCwKCQkJCQkJc2VyaWVzSWQ6IHNvdXJjZS5pZCwKCQkJCQkJc2VyaWVzSW5kZXg6IHNvdXJjZS5zZXJpZXNJbmRleCwKCQkJCQkJZGF0dW0sCgkJCQkJCWluZGV4LAoJCQkJCQl4OiByZXNvbHZlZFgsCgkJCQkJCXhSYXc6IHJhd1gsCgkJCQkJCXk6IG51bWVyaWNWYWx1ZSwKCQkJCQkJbGFiZWwsCgkJCQkJCXZhbHVlOiBudW1lcmljVmFsdWUsCgkJCQkJfTsKCQkJCX0pCgkJCQkuZmlsdGVyKChwb2ludCk6IHBvaW50IGlzIEFyZWFDaGFydFBvaW50PFREYXRhPiA9PiBCb29sZWFuKHBvaW50KSk7CgoJCQljb25zdCBzb3J0ZWRQb2ludHMgPSAoKCkgPT4gewoJCQkJaWYgKHR5cGVvZiBzb3VyY2Uuc29ydFBvaW50cyA9PT0gJ2Z1bmN0aW9uJykgewoJCQkJCWNvbnN0IHNvcnRGbiA9IHNvdXJjZS5zb3J0UG9pbnRzOwoJCQkJCXJldHVybiBbLi4ucmVzb2x2ZWRQb2ludHNdLnNvcnQoKGEsIGIpID0+IHNvcnRGbihhLmRhdHVtLCBiLmRhdHVtKSk7CgkJCQl9CgkJCQlpZiAoc291cmNlLnNvcnRQb2ludHMpIHsKCQkJCQlyZXR1cm4gWy4uLnJlc29sdmVkUG9pbnRzXS5zb3J0KChhLCBiKSA9PiBhLnggLSBiLngpOwoJCQkJfQoJCQkJcmV0dXJuIHJlc29sdmVkUG9pbnRzOwoJCQl9KSgpOwoKCQkJY29uc3QgdG90YWxWYWx1ZSA9IHNvcnRlZFBvaW50cy5yZWR1Y2UoCgkJCQkoc3VtLCBwb2ludCkgPT4gc3VtICsgKE51bWJlci5pc0Zpbml0ZShwb2ludC52YWx1ZSkgPyBwb2ludC52YWx1ZSA6IDApLAoJCQkJMCwKCQkJKTsKCgkJCWNvbnN0IHJlc29sdmVkU2VyaWVzTGFiZWwgPSBzb3VyY2Uuc2VyaWVzTGFiZWw/LnRyaW0oKS5sZW5ndGgKCQkJCT8gc291cmNlLnNlcmllc0xhYmVsCgkJCQk6IHNvdXJjZS5uYW1lS2V5CgkJCQkJPyB0b0tleUxhYmVsKFN0cmluZyhzb3VyY2UubmFtZUtleSkpCgkJCQkJOiB0b0tleUxhYmVsKFN0cmluZyhzb3VyY2UueUtleSkpOwoKCQkJcmV0dXJuIHsKCQkJCWlkOiBzb3VyY2UuaWQsCgkJCQlzZXJpZXNJbmRleDogc291cmNlLnNlcmllc0luZGV4LAoJCQkJcG9pbnRzOiBzb3J0ZWRQb2ludHMsCgkJCQl0b3RhbDogdG90YWxWYWx1ZSwKCQkJCXNlcmllc0xhYmVsOiByZXNvbHZlZFNlcmllc0xhYmVsLAoJCQkJdmFsdWVMYWJlbDogdG9LZXlMYWJlbChTdHJpbmcoc291cmNlLnlLZXkpKSwKCQkJCWNvbG9yOiByZXNvbHZlQ29sb3Ioc291cmNlLmNvbG9yLCBzb3VyY2Uuc2VyaWVzSW5kZXgpLAoJCQkJLi4uKHNvdXJjZS55Rm9ybWF0dGVyID8geyB5Rm9ybWF0dGVyOiBzb3VyY2UueUZvcm1hdHRlciB9IDoge30pLAoJCQkJLi4uKHNvdXJjZS52YWx1ZUZvcm1hdHRlcgoJCQkJCT8geyB2YWx1ZUZvcm1hdHRlcjogc291cmNlLnZhbHVlRm9ybWF0dGVyIH0KCQkJCQk6IHt9KSwKCQkJfTsKCQl9OwoKCQljb25zdCBwcm92aXNpb25hbFNlcmllczogQXJlYUNoYXJ0U2VyaWVzQ29tcHV0YXRpb248VERhdGE+W10gPSBbCgkJCWJ1aWxkU2VyaWVzKHsKCQkJCWlkOiAnc2VyaWVzLTAnLAoJCQkJc2VyaWVzSW5kZXg6IDAsCgkJCQlkYXRhLAoJCQkJeEtleSwKCQkJCXlLZXksCgkJCQlzb3J0UG9pbnRzLAoJCQkJLi4uKG5hbWVLZXkgIT09IHVuZGVmaW5lZCA/IHsgbmFtZUtleSB9IDoge30pLAoJCQkJLi4uKGNvbG9yICE9PSB1bmRlZmluZWQgPyB7IGNvbG9yIH0gOiB7fSksCgkJCQkuLi4oc2VyaWVzTGFiZWwgIT09IHVuZGVmaW5lZCA/IHsgc2VyaWVzTGFiZWwgfSA6IHt9KSwKCQkJCS4uLih5Rm9ybWF0dGVyID8geyB5Rm9ybWF0dGVyIH0gOiB7fSksCgkJCQkuLi4odmFsdWVGb3JtYXR0ZXIgPyB7IHZhbHVlRm9ybWF0dGVyIH0gOiB7fSksCgkJCX0pLAoJCQkuLi5hZGRpdGlvbmFsU2VyaWVzLm1hcCgoY29uZmlnLCBpbmRleCkgPT4gewoJCQkJY29uc3QgcmVzb2x2ZWROYW1lS2V5ID0gY29uZmlnLm5hbWVLZXkgPz8gbmFtZUtleTsKCQkJCXJldHVybiBidWlsZFNlcmllcyh7CgkJCQkJaWQ6IGNvbmZpZy5pZCA/PyBgc2VyaWVzLSR7aW5kZXggKyAxfWAsCgkJCQkJc2VyaWVzSW5kZXg6IGluZGV4ICsgMSwKCQkJCQlkYXRhOiBjb25maWcuZGF0YSA/PyBkYXRhLAoJCQkJCXhLZXk6IGNvbmZpZy54S2V5ID8/IHhLZXksCgkJCQkJeUtleTogY29uZmlnLnlLZXksCgkJCQkJc29ydFBvaW50czogY29uZmlnLnNvcnRQb2ludHMgPz8gc29ydFBvaW50cywKCQkJCQkuLi4ocmVzb2x2ZWROYW1lS2V5ICE9PSB1bmRlZmluZWQKCQkJCQkJPyB7IG5hbWVLZXk6IHJlc29sdmVkTmFtZUtleSB9CgkJCQkJCToge30pLAoJCQkJCS4uLihjb25maWcuY29sb3IgIT09IHVuZGVmaW5lZCA/IHsgY29sb3I6IGNvbmZpZy5jb2xvciB9IDoge30pLAoJCQkJCS4uLihjb25maWcuc2VyaWVzTGFiZWwgIT09IHVuZGVmaW5lZAoJCQkJCQk/IHsgc2VyaWVzTGFiZWw6IGNvbmZpZy5zZXJpZXNMYWJlbCB9CgkJCQkJCToge30pLAoJCQkJCS4uLihjb25maWcueUZvcm1hdHRlciA/IHsgeUZvcm1hdHRlcjogY29uZmlnLnlGb3JtYXR0ZXIgfSA6IHt9KSwKCQkJCQkuLi4oY29uZmlnLnZhbHVlRm9ybWF0dGVyCgkJCQkJCT8geyB2YWx1ZUZvcm1hdHRlcjogY29uZmlnLnZhbHVlRm9ybWF0dGVyIH0KCQkJCQkJOiB7fSksCgkJCQl9KTsKCQkJfSksCgkJXTsKCgkJY29uc3QgYWxsUG9pbnRzID0gcHJvdmlzaW9uYWxTZXJpZXMuZmxhdE1hcCgoc2VyaWVzKSA9PiBzZXJpZXMucG9pbnRzKTsKCQljb25zdCB4VmFsdWVzID0gYWxsUG9pbnRzLm1hcCgocG9pbnQpID0+IHBvaW50LngpOwoJCWNvbnN0IHlWYWx1ZXMgPSBhbGxQb2ludHMubWFwKChwb2ludCkgPT4gcG9pbnQudmFsdWUpOwoKCQljb25zdCBtaW5YID0geFZhbHVlcy5sZW5ndGggPyBNYXRoLm1pbiguLi54VmFsdWVzKSA6IDA7CgkJY29uc3QgbWF4WCA9IHhWYWx1ZXMubGVuZ3RoID8gTWF0aC5tYXgoLi4ueFZhbHVlcykgOiAxOwoJCWNvbnN0IG1pblkgPSB5VmFsdWVzLmxlbmd0aCA/IE1hdGgubWluKC4uLnlWYWx1ZXMsIDApIDogMDsKCQljb25zdCBtYXhZID0geVZhbHVlcy5sZW5ndGggPyBNYXRoLm1heCguLi55VmFsdWVzLCAwKSA6IDE7CgoJCWNvbnN0IHJlc29sdmVkWERvbWFpbjogW251bWJlciwgbnVtYmVyXSA9CgkJCW1pblggPT09IG1heFggPyBbbWluWCAtIDEsIG1heFggKyAxXSA6IFttaW5YLCBtYXhYXTsKCgkJY29uc3QgcmF3WVJhbmdlID0gbWF4WSAtIG1pblk7CgkJY29uc3QgbWFnbml0dWRlRmFsbGJhY2sgPSBNYXRoLm1heChNYXRoLmFicyhtYXhZKSwgTWF0aC5hYnMobWluWSksIDEpOwoJCWNvbnN0IHlQYWRkaW5nID0KCQkJTnVtYmVyLmlzRmluaXRlKHJhd1lSYW5nZSkgJiYgcmF3WVJhbmdlID4gMAoJCQkJPyByYXdZUmFuZ2UgKiAwLjEKCQkJCTogbWFnbml0dWRlRmFsbGJhY2sgKiAwLjE7CgoJCWNvbnN0IHBhZGRlZE1heFkgPSBOdW1iZXIuaXNGaW5pdGUobWF4WSkgPyBtYXhZICsgeVBhZGRpbmcgOiBtYXhZOwoJCWxldCBwYWRkZWRNaW5ZID0gTnVtYmVyLmlzRmluaXRlKG1pblkpID8gbWluWSA6IDA7CgoJCWlmIChtaW5ZIDwgMCkgewoJCQlwYWRkZWRNaW5ZIC09IHlQYWRkaW5nOwoJCX0gZWxzZSB7CgkJCXBhZGRlZE1pblkgPSBNYXRoLm1pbihtaW5ZLCAwKTsKCQl9CgoJCWNvbnN0IHBhZGRlZFlEb21haW46IFtudW1iZXIsIG51bWJlcl0gPQoJCQltaW5ZID09PSBtYXhZCgkJCQk/IFttaW5ZIC0gbWFnbml0dWRlRmFsbGJhY2ssIG1heFkgKyBtYWduaXR1ZGVGYWxsYmFja10KCQkJCTogW3BhZGRlZE1pblksIHBhZGRlZE1heFldOwoKCQljb25zdCByZXNvbHZlZFlEb21haW4gPSBhbGlnbkRvbWFpblRvTmljZVZhbHVlcygKCQkJcGFkZGVkWURvbWFpbiwKCQkJREVGQVVMVF9ZX1RJQ0tfVEFSR0VULAoJCSk7CgoJCWNvbnN0IHNlcmllc0NvbGxlY3Rpb24gPSBwcm92aXNpb25hbFNlcmllcy5tYXAoCgkJCSh7CgkJCQl5Rm9ybWF0dGVyOiBzZXJpZXNZRm9ybWF0dGVyLAoJCQkJdmFsdWVGb3JtYXR0ZXI6IHNlcmllc1ZhbHVlRm9ybWF0dGVyLAoJCQkJLi4ucmVzdAoJCQl9KSA9PiAoewoJCQkJLi4ucmVzdCwKCQkJCWZvcm1hdFk6IChwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+KSA9PiB7CgkJCQkJaWYgKHNlcmllc1ZhbHVlRm9ybWF0dGVyKSB7CgkJCQkJCXJldHVybiBzZXJpZXNWYWx1ZUZvcm1hdHRlcihwb2ludCwgewoJCQkJCQkJdG90YWw6IHJlc3QudG90YWwsCgkJCQkJCQlkb21haW46IHJlc29sdmVkWURvbWFpbiwKCQkJCQkJfSk7CgkJCQkJfQoJCQkJCWlmIChzZXJpZXNZRm9ybWF0dGVyKSB7CgkJCQkJCXJldHVybiBzZXJpZXNZRm9ybWF0dGVyKHBvaW50LCB7CgkJCQkJCQl0b3RhbDogcmVzdC50b3RhbCwKCQkJCQkJCWRvbWFpbjogcmVzb2x2ZWRZRG9tYWluLAoJCQkJCQl9KTsKCQkJCQl9CgkJCQkJcmV0dXJuIHBvaW50LnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7CgkJCQl9LAoJCQl9KSwKCQkpOwoKCQlyZXR1cm4gewoJCQlzZXJpZXNDb2xsZWN0aW9uLAoJCQl4RG9tYWluOiByZXNvbHZlZFhEb21haW4sCgkJCXlEb21haW46IHJlc29sdmVkWURvbWFpbiwKCQl9OwoJfSwgWwoJCWFkZGl0aW9uYWxTZXJpZXMsCgkJY29sb3IsCgkJZGF0YSwKCQluYW1lS2V5LAoJCXNlcmllc0xhYmVsLAoJCXNvcnRQb2ludHMsCgkJdmFsdWVGb3JtYXR0ZXIsCgkJeEtleSwKCQl5Rm9ybWF0dGVyLAoJCXlLZXksCgldKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmIChhY3RpdmVQb2ludElkKSB7CgkJCWNvbnN0IG1hdGNoZXMgPSBzZXJpZXNDb2xsZWN0aW9uLnNvbWUoKHNlcmllcykgPT4KCQkJCXNlcmllcy5wb2ludHMuc29tZSgocG9pbnQpID0+IHBvaW50LmlkID09PSBhY3RpdmVQb2ludElkKSwKCQkJKTsKCQkJaWYgKCFtYXRjaGVzKSB7CgkJCQlzZXRBY3RpdmVQb2ludElkKG51bGwpOwoJCQkJc2V0QWN0aXZlUG9pbnRYKG51bGwpOwoJCQl9CgkJfQoJCWlmIChhY3RpdmVQb2ludFggIT09IG51bGwpIHsKCQkJY29uc3QgaGFzWCA9IHNlcmllc0NvbGxlY3Rpb24uc29tZSgoc2VyaWVzKSA9PgoJCQkJc2VyaWVzLnBvaW50cy5zb21lKChwb2ludCkgPT4gcG9pbnQueCA9PT0gYWN0aXZlUG9pbnRYKSwKCQkJKTsKCQkJaWYgKCFoYXNYKSB7CgkJCQlzZXRBY3RpdmVQb2ludFgobnVsbCk7CgkJCX0KCQl9Cgl9LCBbYWN0aXZlUG9pbnRJZCwgYWN0aXZlUG9pbnRYLCBzZXJpZXNDb2xsZWN0aW9uXSk7CgoJY29uc3QgcHJpbWFyeVNlcmllcyA9IFJlYWN0LnVzZU1lbW88QXJlYUNoYXJ0U2VyaWVzU3RhdGU8VERhdGE+PigoKSA9PiB7CgkJY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNDb2xsZWN0aW9uWzBdOwoJCWlmIChmaXJzdFNlcmllcykgewoJCQlyZXR1cm4gZmlyc3RTZXJpZXM7CgkJfQoJCWNvbnN0IGZhbGxiYWNrTGFiZWwgPSBzZXJpZXNMYWJlbD8udHJpbSgpLmxlbmd0aAoJCQk/IHNlcmllc0xhYmVsCgkJCTogbmFtZUtleQoJCQkJPyB0b0tleUxhYmVsKFN0cmluZyhuYW1lS2V5KSkKCQkJCTogdG9LZXlMYWJlbChTdHJpbmcoeUtleSkpOwoKCQlyZXR1cm4gewoJCQlpZDogJ3Nlcmllcy0wJywKCQkJc2VyaWVzSW5kZXg6IDAsCgkJCXBvaW50czogW10sCgkJCXRvdGFsOiAwLAoJCQlzZXJpZXNMYWJlbDogZmFsbGJhY2tMYWJlbCwKCQkJdmFsdWVMYWJlbDogdG9LZXlMYWJlbChTdHJpbmcoeUtleSkpLAoJCQljb2xvcjogcmVzb2x2ZUNvbG9yKGNvbG9yLCAwKSwKCQkJZm9ybWF0WTogKCkgPT4gJzAnLAoJCX0gc2F0aXNmaWVzIEFyZWFDaGFydFNlcmllc1N0YXRlPFREYXRhPjsKCX0sIFtzZXJpZXNDb2xsZWN0aW9uLCBjb2xvciwgbmFtZUtleSwgc2VyaWVzTGFiZWwsIHlLZXldKTsKCgljb25zdCBzZXJpZXNCeUlkID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJY29uc3QgbWFwID0gbmV3IE1hcDxzdHJpbmcsIEFyZWFDaGFydFNlcmllc1N0YXRlPFREYXRhPj4oKTsKCQlmb3IgKGNvbnN0IHNlcmllcyBvZiBzZXJpZXNDb2xsZWN0aW9uKSB7CgkJCW1hcC5zZXQoc2VyaWVzLmlkLCBzZXJpZXMpOwoJCX0KCQlyZXR1cm4gbWFwOwoJfSwgW3Nlcmllc0NvbGxlY3Rpb25dKTsKCgljb25zdCBmb3JtYXRYID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT4pID0+CgkJCXhGb3JtYXR0ZXIgPyB4Rm9ybWF0dGVyKHBvaW50KSA6IGdldFBvaW50TGFiZWxUZXh0KHBvaW50KSwKCQlbeEZvcm1hdHRlcl0sCgkpOwoKCWNvbnN0IGZvcm1hdFkgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkocG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPikgPT4gcHJpbWFyeVNlcmllcy5mb3JtYXRZKHBvaW50KSwKCQlbcHJpbWFyeVNlcmllc10sCgkpOwoKCWNvbnN0IGZvcm1hdFlGb3JTZXJpZXMgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoc2VyaWVzSWQ6IHN0cmluZywgcG9pbnQ6IEFyZWFDaGFydFBvaW50PFREYXRhPikgPT4gewoJCQljb25zdCB0YXJnZXQgPSBzZXJpZXNCeUlkLmdldChzZXJpZXNJZCkgPz8gcHJpbWFyeVNlcmllczsKCQkJcmV0dXJuIHRhcmdldC5mb3JtYXRZKHBvaW50KTsKCQl9LAoJCVtzZXJpZXNCeUlkLCBwcmltYXJ5U2VyaWVzXSwKCSk7CgoJY29uc3QgY29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbzxBcmVhQ2hhcnRDb250ZXh0VmFsdWU8VERhdGE+PigKCQkoKSA9PiAoewoJCQlzZXJpZXM6IHNlcmllc0NvbGxlY3Rpb24sCgkJCXBvaW50czogcHJpbWFyeVNlcmllcy5wb2ludHMsCgkJCXRvdGFsOiBwcmltYXJ5U2VyaWVzLnRvdGFsLAoJCQlzZXJpZXNMYWJlbDogcHJpbWFyeVNlcmllcy5zZXJpZXNMYWJlbCwKCQkJY29sb3I6IHByaW1hcnlTZXJpZXMuY29sb3IsCgkJCXhEb21haW4sCgkJCXlEb21haW4sCgkJCWZvcm1hdFgsCgkJCWZvcm1hdFksCgkJCWZvcm1hdFlGb3JTZXJpZXMsCgkJCXZhbHVlTGFiZWw6IHByaW1hcnlTZXJpZXMudmFsdWVMYWJlbCwKCQkJeExhYmVsLAoJCQlhY3RpdmVQb2ludElkLAoJCQlzZXRBY3RpdmVQb2ludElkLAoJCQlhY3RpdmVQb2ludFgsCgkJCXNldEFjdGl2ZVBvaW50WCwKCQl9KSwKCQlbCgkJCWFjdGl2ZVBvaW50SWQsCgkJCWZvcm1hdFgsCgkJCWZvcm1hdFksCgkJCWZvcm1hdFlGb3JTZXJpZXMsCgkJCXByaW1hcnlTZXJpZXMsCgkJCXNlcmllc0NvbGxlY3Rpb24sCgkJCXhEb21haW4sCgkJCXhMYWJlbCwKCQkJeURvbWFpbiwKCQkJYWN0aXZlUG9pbnRYLAoJCV0sCgkpOwoKCXJldHVybiAoCgkJPEFyZWFDaGFydENvbnRleHQuUHJvdmlkZXIKCQkJdmFsdWU9e2NvbnRleHRWYWx1ZSBhcyBBcmVhQ2hhcnRDb250ZXh0VmFsdWU8Q2hhcnREYXR1bT59CgkJPgoJCQk8ZGl2CgkJCQlyZWY9e3JlZn0KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ3JlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCcsCgkJCQkJY2xhc3NOYW1lLAoJCQkJKX0KCQkJCXsuLi5yZXN0fQoJCQk+CgkJCQl7Y2hpbGRyZW59CgkJCTwvZGl2PgoJCTwvQXJlYUNoYXJ0Q29udGV4dC5Qcm92aWRlcj4KCSk7Cn0KCnR5cGUgQXJlYUNoYXJ0Q29tcG9uZW50ID0gPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+KAoJcHJvcHM6IEFyZWFDaGFydFByb3BzPFREYXRhPiAmIHsgcmVmPzogUmVhY3QuUmVmPEhUTUxEaXZFbGVtZW50PiB9LAopID0+IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGw7Cgpjb25zdCBBcmVhQ2hhcnRSb290ID0gUmVhY3QuZm9yd2FyZFJlZigKCUFyZWFDaGFydFJvb3RJbm5lciwKKSBhcyBBcmVhQ2hhcnRDb21wb25lbnQ7Cgpjb25zdCBBUkVBX0NIQVJUX0FDVElPTlNfTUFSS0VSID0gU3ltYm9sKCdBcmVhQ2hhcnRBY3Rpb25zJyk7CmNvbnN0IEFSRUFfQ0hBUlRfVElUTEVfTUFSS0VSID0gU3ltYm9sKCdBcmVhQ2hhcnRUaXRsZScpOwpjb25zdCBBUkVBX0NIQVJUX0RFU0NSSVBUSU9OX01BUktFUiA9IFN5bWJvbCgnQXJlYUNoYXJ0RGVzY3JpcHRpb24nKTsKCmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNoYXJ0VGl0bGVQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJYXM/OiBSZWFjdC5FbGVtZW50VHlwZTsKfQoKdHlwZSBBcmVhQ2hhcnRUaXRsZUNvbXBvbmVudCA9IFJlYWN0LkZDPEFyZWFDaGFydFRpdGxlUHJvcHM+ICYgewoJW0FSRUFfQ0hBUlRfVElUTEVfTUFSS0VSXTogdHJ1ZTsKfTsKCmV4cG9ydCBjb25zdCBBcmVhQ2hhcnRUaXRsZSA9ICgoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCWFzOiBDb21wb25lbnQgPSAnaDMnLAoJLi4ucHJvcHMKfTogQXJlYUNoYXJ0VGl0bGVQcm9wcykgPT4gewoJcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoCgkJQ29tcG9uZW50LAoJCXsKCQkJY2xhc3NOYW1lOiBjbigKCQkJCSd0ZXh0LWJhc2UgZm9udC1tZWRpdW0gbGVhZGluZy1ub25lIHRleHQtZm9yZWdyb3VuZCcsCgkJCQljbGFzc05hbWUsCgkJCSksCgkJCS4uLnByb3BzLAoJCX0sCgkJY2hpbGRyZW4sCgkpOwp9KSBhcyBBcmVhQ2hhcnRUaXRsZUNvbXBvbmVudDsKQXJlYUNoYXJ0VGl0bGUuZGlzcGxheU5hbWUgPSAnQXJlYUNoYXJ0VGl0bGUnOwpBcmVhQ2hhcnRUaXRsZVtBUkVBX0NIQVJUX1RJVExFX01BUktFUl0gPSB0cnVlOwoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnREZXNjcmlwdGlvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgp0eXBlIEFyZWFDaGFydERlc2NyaXB0aW9uQ29tcG9uZW50ID0gUmVhY3QuRkM8QXJlYUNoYXJ0RGVzY3JpcHRpb25Qcm9wcz4gJiB7CglbQVJFQV9DSEFSVF9ERVNDUklQVElPTl9NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydERlc2NyaXB0aW9uID0gKCh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfTogQXJlYUNoYXJ0RGVzY3JpcHRpb25Qcm9wcykgPT4gewoJcmV0dXJuICgKCQk8cAoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ3RleHQtc20gbGVhZGluZy1zbnVnIHRleHQtZm9yZWdyb3VuZC80NSB0ZXh0LWJhbGFuY2UnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9wPgoJKTsKfSkgYXMgQXJlYUNoYXJ0RGVzY3JpcHRpb25Db21wb25lbnQ7CkFyZWFDaGFydERlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gJ0FyZWFDaGFydERlc2NyaXB0aW9uJzsKQXJlYUNoYXJ0RGVzY3JpcHRpb25bQVJFQV9DSEFSVF9ERVNDUklQVElPTl9NQVJLRVJdID0gdHJ1ZTsKCmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNoYXJ0QWN0aW9uc1Byb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgp0eXBlIEFyZWFDaGFydEFjdGlvbnNDb21wb25lbnQgPSBSZWFjdC5GQzxBcmVhQ2hhcnRBY3Rpb25zUHJvcHM+ICYgewoJW0FSRUFfQ0hBUlRfQUNUSU9OU19NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydEFjdGlvbnMgPSAoKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSA9ICcnLCAuLi5wcm9wcyB9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBzZWxmLXN0YXJ0IHNtOnNlbGYtYXV0bycsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn0pIGFzIEFyZWFDaGFydEFjdGlvbnNDb21wb25lbnQ7CkFyZWFDaGFydEFjdGlvbnMuZGlzcGxheU5hbWUgPSAnQXJlYUNoYXJ0QWN0aW9ucyc7CkFyZWFDaGFydEFjdGlvbnNbQVJFQV9DSEFSVF9BQ1RJT05TX01BUktFUl0gPSB0cnVlOwoKZnVuY3Rpb24gaGFzQXJlYUNoYXJ0TWFya2VyKAoJdGFyZ2V0OiB1bmtub3duLAoJbWFya2VyOiBzeW1ib2wsCik6IHRhcmdldCBpcyB7IFtrZXk6IHN5bWJvbF06IHVua25vd24gfSB7CglpZiAoIXRhcmdldCkgcmV0dXJuIGZhbHNlOwoJaWYgKAoJCSh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSAmJgoJCXRhcmdldCAhPT0gbnVsbCAmJgoJCVJlZmxlY3QuZ2V0KHRhcmdldCwgbWFya2VyKQoJKSB7CgkJcmV0dXJuIHRydWU7Cgl9CglpZiAoCgkJdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcgJiYKCQl0YXJnZXQgIT09IG51bGwgJiYKCQkndHlwZScgaW4gdGFyZ2V0ICYmCgkJKHRhcmdldCBhcyB7IHR5cGU/OiB1bmtub3duIH0pLnR5cGUKCSkgewoJCXJldHVybiBoYXNBcmVhQ2hhcnRNYXJrZXIoKHRhcmdldCBhcyB7IHR5cGU/OiB1bmtub3duIH0pLnR5cGUsIG1hcmtlcik7Cgl9CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGNsb25lRWxlbWVudFdpdGhDbGFzc05hbWU8VFByb3BzIGV4dGVuZHMgeyBjbGFzc05hbWU/OiBzdHJpbmcgfT4oCgllbGVtZW50OiBSZWFjdC5SZWFjdEVsZW1lbnQ8VFByb3BzPiwKCWFkZGl0aW9uYWxDbGFzc05hbWU/OiBzdHJpbmcsCikgewoJaWYgKCFhZGRpdGlvbmFsQ2xhc3NOYW1lKSB7CgkJcmV0dXJuIGVsZW1lbnQ7Cgl9Cgljb25zdCBtZXJnZWRDbGFzc05hbWUgPSBjbihlbGVtZW50LnByb3BzLmNsYXNzTmFtZSwgYWRkaXRpb25hbENsYXNzTmFtZSk7CglyZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHsKCQljbGFzc05hbWU6IG1lcmdlZENsYXNzTmFtZSwKCX0gYXMgUGFydGlhbDxUUHJvcHM+ICYgUmVhY3QuQXR0cmlidXRlcyk7Cn0KCmZ1bmN0aW9uIGlzQXJlYUNoYXJ0QWN0aW9uc0VsZW1lbnQoCgljaGlsZDogUmVhY3QuUmVhY3ROb2RlLAopOiBjaGlsZCBpcyBSZWFjdC5SZWFjdEVsZW1lbnQgewoJaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHJldHVybiBmYWxzZTsKCWNvbnN0IHsgdHlwZSB9ID0gY2hpbGQ7CglpZiAodHlwZSA9PT0gQXJlYUNoYXJ0QWN0aW9ucykgcmV0dXJuIHRydWU7CglpZiAoaGFzQXJlYUNoYXJ0TWFya2VyKHR5cGUsIEFSRUFfQ0hBUlRfQUNUSU9OU19NQVJLRVIpKSByZXR1cm4gdHJ1ZTsKCWNvbnN0IGRpc3BsYXlOYW1lID0KCQl0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpCgkJCT8gKHR5cGUgYXMgeyBkaXNwbGF5TmFtZT86IHN0cmluZyB9KS5kaXNwbGF5TmFtZQoJCQk6IHVuZGVmaW5lZDsKCXJldHVybiBkaXNwbGF5TmFtZSA9PT0gQXJlYUNoYXJ0QWN0aW9ucy5kaXNwbGF5TmFtZTsKfQoKZnVuY3Rpb24gaXNBcmVhQ2hhcnRUaXRsZUVsZW1lbnQoCgljaGlsZDogUmVhY3QuUmVhY3ROb2RlLAopOiBjaGlsZCBpcyBSZWFjdC5SZWFjdEVsZW1lbnQ8QXJlYUNoYXJ0VGl0bGVQcm9wcz4gewoJaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHJldHVybiBmYWxzZTsKCWNvbnN0IHsgdHlwZSB9ID0gY2hpbGQ7CglpZiAodHlwZSA9PT0gQXJlYUNoYXJ0VGl0bGUpIHJldHVybiB0cnVlOwoJaWYgKGhhc0FyZWFDaGFydE1hcmtlcih0eXBlLCBBUkVBX0NIQVJUX1RJVExFX01BUktFUikpIHJldHVybiB0cnVlOwoJY29uc3QgZGlzcGxheU5hbWUgPQoJCXR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkKCQkJPyAodHlwZSBhcyB7IGRpc3BsYXlOYW1lPzogc3RyaW5nIH0pLmRpc3BsYXlOYW1lCgkJCTogdW5kZWZpbmVkOwoJcmV0dXJuIGRpc3BsYXlOYW1lID09PSBBcmVhQ2hhcnRUaXRsZS5kaXNwbGF5TmFtZTsKfQoKZnVuY3Rpb24gaXNBcmVhQ2hhcnREZXNjcmlwdGlvbkVsZW1lbnQoCgljaGlsZDogUmVhY3QuUmVhY3ROb2RlLAopOiBjaGlsZCBpcyBSZWFjdC5SZWFjdEVsZW1lbnQ8QXJlYUNoYXJ0RGVzY3JpcHRpb25Qcm9wcz4gewoJaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHJldHVybiBmYWxzZTsKCWNvbnN0IHsgdHlwZSB9ID0gY2hpbGQ7CglpZiAodHlwZSA9PT0gQXJlYUNoYXJ0RGVzY3JpcHRpb24pIHJldHVybiB0cnVlOwoJaWYgKGhhc0FyZWFDaGFydE1hcmtlcih0eXBlLCBBUkVBX0NIQVJUX0RFU0NSSVBUSU9OX01BUktFUikpIHJldHVybiB0cnVlOwoJY29uc3QgZGlzcGxheU5hbWUgPQoJCXR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkKCQkJPyAodHlwZSBhcyB7IGRpc3BsYXlOYW1lPzogc3RyaW5nIH0pLmRpc3BsYXlOYW1lCgkJCTogdW5kZWZpbmVkOwoJcmV0dXJuIGRpc3BsYXlOYW1lID09PSBBcmVhQ2hhcnREZXNjcmlwdGlvbi5kaXNwbGF5TmFtZTsKfQoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnRIZWFkZXJQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY29udGVudENsYXNzTmFtZT86IHN0cmluZzsKCXRpdGxlQ2xhc3NOYW1lPzogc3RyaW5nOwoJZGVzY3JpcHRpb25DbGFzc05hbWU/OiBzdHJpbmc7CglhY3Rpb25zQ2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgQXJlYUNoYXJ0SGVhZGVyID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxEaXZFbGVtZW50LAoJQXJlYUNoYXJ0SGVhZGVyUHJvcHMKPigKCSgKCQl7CgkJCWNsYXNzTmFtZSA9ICcnLAoJCQljaGlsZHJlbiwKCQkJY29udGVudENsYXNzTmFtZSwKCQkJdGl0bGVDbGFzc05hbWUsCgkJCWRlc2NyaXB0aW9uQ2xhc3NOYW1lLAoJCQlhY3Rpb25zQ2xhc3NOYW1lLAoJCQkuLi5wcm9wcwoJCX0sCgkJcmVmLAoJKSA9PiB7CgkJY29uc3QgY2hpbGRyZW5BcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pOwoJCWNvbnN0IG1haW5DaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlW10gPSBbXTsKCQljb25zdCBhY3Rpb25DaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlW10gPSBbXTsKCgkJY2hpbGRyZW5BcnJheS5mb3JFYWNoKChjaGlsZCkgPT4gewoJCQlpZiAoaXNBcmVhQ2hhcnRBY3Rpb25zRWxlbWVudChjaGlsZCkpIHsKCQkJCWFjdGlvbkNoaWxkcmVuLnB1c2goY2hpbGQpOwoJCQl9IGVsc2UgaWYgKGNoaWxkICE9PSBudWxsKSB7CgkJCQltYWluQ2hpbGRyZW4ucHVzaChjaGlsZCk7CgkJCX0KCQl9KTsKCgkJY29uc3QgZW5oYW5jZWRNYWluQ2hpbGRyZW4gPSBtYWluQ2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gewoJCQlpZiAoaXNBcmVhQ2hhcnRUaXRsZUVsZW1lbnQoY2hpbGQpKSB7CgkJCQlyZXR1cm4gY2xvbmVFbGVtZW50V2l0aENsYXNzTmFtZSgKCQkJCQljaGlsZCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT4sCgkJCQkJdGl0bGVDbGFzc05hbWUsCgkJCQkpOwoJCQl9CgkJCWlmIChpc0FyZWFDaGFydERlc2NyaXB0aW9uRWxlbWVudChjaGlsZCkpIHsKCQkJCXJldHVybiBjbG9uZUVsZW1lbnRXaXRoQ2xhc3NOYW1lKAoJCQkJCWNoaWxkIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx7IGNsYXNzTmFtZT86IHN0cmluZyB9PiwKCQkJCQlkZXNjcmlwdGlvbkNsYXNzTmFtZSwKCQkJCSk7CgkJCX0KCQkJcmV0dXJuIGNoaWxkOwoJCX0pOwoKCQljb25zdCBlbmhhbmNlZEFjdGlvbkNoaWxkcmVuID0gYWN0aW9uQ2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gewoJCQlpZiAoaXNBcmVhQ2hhcnRBY3Rpb25zRWxlbWVudChjaGlsZCkpIHsKCQkJCXJldHVybiBjbG9uZUVsZW1lbnRXaXRoQ2xhc3NOYW1lKAoJCQkJCWNoaWxkIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx7IGNsYXNzTmFtZT86IHN0cmluZyB9PiwKCQkJCQlhY3Rpb25zQ2xhc3NOYW1lLAoJCQkJKTsKCQkJfQoJCQlyZXR1cm4gY2hpbGQ7CgkJfSk7CgoJCXJldHVybiAoCgkJCTxkaXYKCQkJCXJlZj17cmVmfQoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQknZmxleCBmbGV4LWNvbCBnYXAtMyBweC00IHB0LTQgc206ZmxleC1yb3cgc206aXRlbXMtc3RhcnQgc206anVzdGlmeS1iZXR3ZWVuIHNtOmdhcC00JywKCQkJCQljbGFzc05hbWUsCgkJCQkpfQoJCQkJey4uLnByb3BzfQoJCQk+CgkJCQl7ZW5oYW5jZWRNYWluQ2hpbGRyZW4ubGVuZ3RoID8gKAoJCQkJCTxkaXYgY2xhc3NOYW1lPXtjbignc3BhY2UteS0xIHNtOmZsZXgtMScsIGNvbnRlbnRDbGFzc05hbWUpfT4KCQkJCQkJe2VuaGFuY2VkTWFpbkNoaWxkcmVufQoJCQkJCTwvZGl2PgoJCQkJKSA6IG51bGx9CgkJCQl7ZW5oYW5jZWRBY3Rpb25DaGlsZHJlbi5sZW5ndGggPyBlbmhhbmNlZEFjdGlvbkNoaWxkcmVuIDogbnVsbH0KCQkJPC9kaXY+CgkJKTsKCX0sCik7CkFyZWFDaGFydEhlYWRlci5kaXNwbGF5TmFtZSA9ICdBcmVhQ2hhcnRIZWFkZXInOwoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnRUb29sdGlwU2VyaWVzRW50cnk8CglURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtLAo+IHsKCXNlcmllc0lkOiBzdHJpbmc7CglzZXJpZXNMYWJlbDogc3RyaW5nOwoJc2VyaWVzQ29sb3I6IHN0cmluZzsKCXZhbHVlTGFiZWw6IHN0cmluZzsKCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT47Cgl2YWx1ZTogbnVtYmVyOwoJZm9ybWF0dGVkVmFsdWU6IFJlYWN0LlJlYWN0Tm9kZTsKCWZvcm1hdHRlZFZhbHVlVGV4dDogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIEFyZWFDaGFydFRvb2x0aXBJbmZvPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+IHsKCXBvaW50OiBBcmVhQ2hhcnRQb2ludDxURGF0YT47Cgl2YWx1ZTogbnVtYmVyOwoJc2VyaWVzSWQ6IHN0cmluZzsKCXNlcmllc0xhYmVsOiBzdHJpbmc7CglzZXJpZXNDb2xvcjogc3RyaW5nOwoJdmFsdWVMYWJlbDogc3RyaW5nOwoJZm9ybWF0dGVkWDogUmVhY3QuUmVhY3ROb2RlOwoJZm9ybWF0dGVkWTogUmVhY3QuUmVhY3ROb2RlOwoJZm9ybWF0dGVkWFRleHQ6IHN0cmluZzsKCWZvcm1hdHRlZFlUZXh0OiBzdHJpbmc7CglzZXJpZXNFbnRyaWVzOiBBcmVhQ2hhcnRUb29sdGlwU2VyaWVzRW50cnk8VERhdGE+W107Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNoYXJ0R3JhcGhQcm9wczxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPgoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJaGVpZ2h0PzogbnVtYmVyIHwgc3RyaW5nOwoJY3VydmU/OiBBcmVhQ2hhcnRDdXJ2ZTsKCXNob3dUb29sdGlwPzogYm9vbGVhbjsKCXRvb2x0aXBSZW5kZXI/OiAoaW5mbzogQXJlYUNoYXJ0VG9vbHRpcEluZm88VERhdGE+KSA9PiBSZWFjdC5SZWFjdE5vZGU7CglzaG93RG90cz86IGJvb2xlYW47Cglsb2FkaW5nPzogYm9vbGVhbjsKCWxvYWRpbmdTdGF0ZT86IFJlYWN0LlJlYWN0Tm9kZTsKCWVtcHR5U3RhdGU/OiBSZWFjdC5SZWFjdE5vZGU7CgllcnJvcj86IFJlYWN0LlJlYWN0Tm9kZTsKCWFyaWFMYWJlbD86IHN0cmluZzsKCXNob3dHcmlkPzogYm9vbGVhbjsKCXNob3dYQXhpc1ZhbHVlcz86IGJvb2xlYW47CglzaG93WUF4aXNWYWx1ZXM/OiBib29sZWFuOwoJeFRpY2tDb3VudD86IG51bWJlcjsKCXlUaWNrQ291bnQ/OiBudW1iZXI7CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZnVuY3Rpb24gQXJlYUNoYXJ0U3RhdGUoewoJbGFiZWwsCglkZXNjcmlwdGlvbiwKfTogewoJbGFiZWw6IHN0cmluZzsKCWRlc2NyaXB0aW9uPzogUmVhY3QuUmVhY3ROb2RlOwp9KSB7CglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1kYXNoZWQgYm9yZGVyLWJvcmRlci82MCBiZy1bY29sb3ItbWl4KGluX29rbGNoLHZhcigtLWNvbG9yLWNhcmQpXzcwJSx2YXIoLS1jb2xvci1jYXJkLW11dGVkKV8zMCUpXSBweC00IHB5LTEwIHRleHQtY2VudGVyIj4KCQkJPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMiI+CgkJCQk8cCBjbGFzc05hbWU9InRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIj57bGFiZWx9PC9wPgoJCQkJe2Rlc2NyaXB0aW9uID8gKAoJCQkJCTxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LWZvcmVncm91bmQvNDUgdGV4dC1iYWxhbmNlIj4KCQkJCQkJe2Rlc2NyaXB0aW9ufQoJCQkJCTwvcD4KCQkJCSkgOiBudWxsfQoJCQk8L2Rpdj4KCQk8L2Rpdj4KCSk7Cn0KCmV4cG9ydCBjb25zdCBBcmVhQ2hhcnRHcmFwaEJhc2UgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglBcmVhQ2hhcnRHcmFwaFByb3BzPENoYXJ0RGF0dW0+Cj4oZnVuY3Rpb24gQXJlYUNoYXJ0R3JhcGhJbm5lcigKCXsKCQloZWlnaHQsCgkJY3VydmUgPSAnbW9ub3RvbmUnLAoJCXNob3dUb29sdGlwID0gdHJ1ZSwKCQl0b29sdGlwUmVuZGVyLAoJCXNob3dEb3RzID0gdHJ1ZSwKCQlsb2FkaW5nID0gZmFsc2UsCgkJbG9hZGluZ1N0YXRlLAoJCWVtcHR5U3RhdGUsCgkJZXJyb3IsCgkJYXJpYUxhYmVsLAoJCXNob3dHcmlkID0gdHJ1ZSwKCQlzaG93WEF4aXNWYWx1ZXMgPSB0cnVlLAoJCXNob3dZQXhpc1ZhbHVlcyA9IHRydWUsCgkJeFRpY2tDb3VudCA9IDQsCgkJeVRpY2tDb3VudCA9IERFRkFVTFRfWV9USUNLX1RBUkdFVCwKCQljaGlsZHJlbiwKCQljbGFzc05hbWUsCgkJc3R5bGUsCgkJLi4ucmVzdAoJfTogQXJlYUNoYXJ0R3JhcGhQcm9wczxDaGFydERhdHVtPiwKCXJlZiwKKSB7Cgljb25zdCB7CgkJc2VyaWVzLAoJCWZvcm1hdFgsCgkJZm9ybWF0WUZvclNlcmllcywKCQl4RG9tYWluLAoJCXlEb21haW4sCgkJYWN0aXZlUG9pbnRJZCwKCQlzZXRBY3RpdmVQb2ludElkLAoJCWFjdGl2ZVBvaW50WCwKCQlzZXRBY3RpdmVQb2ludFgsCgl9ID0gdXNlQXJlYUNoYXJ0Q29udGV4dCgpOwoKCWNvbnN0IHN2Z1JlZiA9IFJlYWN0LnVzZVJlZjxTVkdTVkdFbGVtZW50IHwgbnVsbD4obnVsbCk7Cgljb25zdCBvdXRlclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoJY29uc3QgY2hhcnRDb250YWluZXJSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTsKCWNvbnN0IFtjaGFydERpbWVuc2lvbnMsIHNldENoYXJ0RGltZW5zaW9uc10gPSBSZWFjdC51c2VTdGF0ZSh7CgkJd2lkdGg6IDAsCgkJaGVpZ2h0OiAwLAoJfSk7Cgljb25zdCBjb21iaW5lZFJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShub2RlOiBIVE1MRGl2RWxlbWVudCB8IG51bGwpID0+IHsKCQkJb3V0ZXJSZWYuY3VycmVudCA9IG5vZGU7CgkJCWlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7CgkJCQlyZWYobm9kZSk7CgkJCX0gZWxzZSBpZiAocmVmKSB7CgkJCQkocmVmIGFzIFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudCB8IG51bGw+KS5jdXJyZW50ID0gbm9kZTsKCQkJfQoJCX0sCgkJW3JlZl0sCgkpOwoKCWNvbnN0IHJlc29sdmVkSGVpZ2h0ID0KCQl0eXBlb2YgaGVpZ2h0ID09PSAnbnVtYmVyJwoJCQk/IGAke2hlaWdodH1weGAKCQkJOiAoaGVpZ2h0ID8/IGAke0RFRkFVTFRfSEVJR0hUfXB4YCk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQljb25zdCBub2RlID0gY2hhcnRDb250YWluZXJSZWYuY3VycmVudDsKCQlpZiAoIW5vZGUpIHsKCQkJcmV0dXJuOwoJCX0KCQljb25zdCByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQlzZXRDaGFydERpbWVuc2lvbnMoKHByZXZpb3VzKSA9PiB7CgkJCWlmICgKCQkJCU1hdGguYWJzKHByZXZpb3VzLndpZHRoIC0gcmVjdC53aWR0aCkgPCAwLjUgJiYKCQkJCU1hdGguYWJzKHByZXZpb3VzLmhlaWdodCAtIHJlY3QuaGVpZ2h0KSA8IDAuNQoJCQkpIHsKCQkJCXJldHVybiBwcmV2aW91czsKCQkJfQoJCQlyZXR1cm4gewoJCQkJd2lkdGg6IHJlY3Qud2lkdGggfHwgRkFMTEJBQ0tfQ0hBUlRfRElNRU5TSU9OUy53aWR0aCwKCQkJCWhlaWdodDogcmVjdC5oZWlnaHQgfHwgRkFMTEJBQ0tfQ0hBUlRfRElNRU5TSU9OUy5oZWlnaHQsCgkJCX07CgkJfSk7CgoJCWlmICh0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnKSB7CgkJCXJldHVybjsKCQl9CgkJY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKFtlbnRyeV0pID0+IHsKCQkJaWYgKCFlbnRyeSkgcmV0dXJuOwoJCQljb25zdCB7IHdpZHRoLCBoZWlnaHQ6IG9ic2VydmVkSGVpZ2h0IH0gPSBlbnRyeS5jb250ZW50UmVjdDsKCQkJc2V0Q2hhcnREaW1lbnNpb25zKChwcmV2aW91cykgPT4gewoJCQkJaWYgKAoJCQkJCU1hdGguYWJzKHByZXZpb3VzLndpZHRoIC0gd2lkdGgpIDwgMC41ICYmCgkJCQkJTWF0aC5hYnMocHJldmlvdXMuaGVpZ2h0IC0gb2JzZXJ2ZWRIZWlnaHQpIDwgMC41CgkJCQkpIHsKCQkJCQlyZXR1cm4gcHJldmlvdXM7CgkJCQl9CgkJCQlyZXR1cm4geyB3aWR0aCwgaGVpZ2h0OiBvYnNlcnZlZEhlaWdodCB9OwoJCQl9KTsKCQl9KTsKCQlvYnNlcnZlci5vYnNlcnZlKG5vZGUpOwoJCXJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7Cgl9LCBbXSk7CgoJY29uc3QgdHJpbW1lZEFyaWFMYWJlbCA9IGFyaWFMYWJlbD8udHJpbSgpOwoJY29uc3Qgc3ZnVGl0bGVJZCA9IFJlYWN0LnVzZUlkKCk7Cgljb25zdCBzdmdUaXRsZSA9CgkJdHJpbW1lZEFyaWFMYWJlbCAmJiB0cmltbWVkQXJpYUxhYmVsLmxlbmd0aCA+IDAKCQkJPyB0cmltbWVkQXJpYUxhYmVsCgkJCTogJ0FyZWEgY2hhcnQgdmlzdWFsaXphdGlvbic7CgoJY29uc3QgbWVhc3VyZWRXaWR0aCA9CgkJY2hhcnREaW1lbnNpb25zLndpZHRoIHx8IEZBTExCQUNLX0NIQVJUX0RJTUVOU0lPTlMud2lkdGg7Cgljb25zdCBtZWFzdXJlZEhlaWdodCA9CgkJY2hhcnREaW1lbnNpb25zLmhlaWdodCB8fCBGQUxMQkFDS19DSEFSVF9ESU1FTlNJT05TLmhlaWdodDsKCgljb25zdCBheGlzVGlja0xlbmd0aCA9IDA7Cgljb25zdCBzaG93WEF4aXNMYWJlbHMgPSBzaG93WEF4aXNWYWx1ZXM7Cgljb25zdCBzaG93WUF4aXNMYWJlbHMgPSBzaG93WUF4aXNWYWx1ZXM7Cgljb25zdCBjaGFydEhvcml6b250YWxHYXAgPSBzaG93WUF4aXNMYWJlbHMgPyBZX0FYSVNfQ0hBUlRfR0FQIDogMDsKCWNvbnN0IFt5QXhpc0xhYmVsV2lkdGgsIHNldFlBeGlzTGFiZWxXaWR0aF0gPSBSZWFjdC51c2VTdGF0ZSgwKTsKCWNvbnN0IHBhZGRpbmcgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+ICh7CgkJCS4uLkNIQVJUX1BBRERJTkcsCgkJCWxlZnQ6IE1hdGgubWF4KAoJCQkJQ0hBUlRfUEFERElORy5sZWZ0LAoJCQkJTWF0aC5jZWlsKHlBeGlzTGFiZWxXaWR0aCkgKyBheGlzVGlja0xlbmd0aCArIDYsCgkJCSksCgkJfSksCgkJW3lBeGlzTGFiZWxXaWR0aF0sCgkpOwoKCWNvbnN0IHZpZXdCb3hXaWR0aCA9IE1hdGgubWF4KAoJCW1lYXN1cmVkV2lkdGgsCgkJcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodCArIDEsCgkpOwoJY29uc3Qgdmlld0JveEhlaWdodCA9IE1hdGgubWF4KAoJCW1lYXN1cmVkSGVpZ2h0LAoJCXBhZGRpbmcudG9wICsgcGFkZGluZy5ib3R0b20gKyAxLAoJKTsKCgljb25zdCBhdmFpbGFibGVDaGFydFdpZHRoID0gTWF0aC5tYXgoCgkJMSwKCQl2aWV3Qm94V2lkdGggLSBwYWRkaW5nLmxlZnQgLSBwYWRkaW5nLnJpZ2h0LAoJKTsKCWNvbnN0IGNoYXJ0V2lkdGggPSBNYXRoLm1heCgxLCBhdmFpbGFibGVDaGFydFdpZHRoIC0gY2hhcnRIb3Jpem9udGFsR2FwKTsKCWNvbnN0IGNoYXJ0U3RhcnRYID0gcGFkZGluZy5sZWZ0ICsgY2hhcnRIb3Jpem9udGFsR2FwOwoJY29uc3QgY2hhcnRIZWlnaHQgPSBNYXRoLm1heCgxLCB2aWV3Qm94SGVpZ2h0IC0gcGFkZGluZy50b3AgLSBwYWRkaW5nLmJvdHRvbSk7Cgljb25zdCBjaGFydFJpZ2h0ID0gY2hhcnRTdGFydFggKyBjaGFydFdpZHRoOwoJY29uc3QgY2hhcnRCb3R0b20gPSBwYWRkaW5nLnRvcCArIGNoYXJ0SGVpZ2h0OwoJY29uc3QgeVRpY2tMYWJlbFggPSBNYXRoLm1heCgKCQljaGFydFN0YXJ0WCAtIGNoYXJ0SG9yaXpvbnRhbEdhcCAtIGF4aXNUaWNrTGVuZ3RoIC0gNCwKCQk0LAoJKTsKCgljb25zdCBzY2FsZVggPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+IGNyZWF0ZUxpbmVhclNjYWxlKHhEb21haW4sIFswLCBjaGFydFdpZHRoXSksCgkJW2NoYXJ0V2lkdGgsIHhEb21haW5dLAoJKTsKCWNvbnN0IHNjYWxlWSA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gY3JlYXRlTGluZWFyU2NhbGUoeURvbWFpbiwgW2NoYXJ0SGVpZ2h0LCAwXSksCgkJW2NoYXJ0SGVpZ2h0LCB5RG9tYWluXSwKCSk7CgoJY29uc3QgemVyb1lDb29yZGluYXRlID0gc2NhbGVZKDApOwoKCWNvbnN0IGN1cnZlRmFjdG9yeSA9IENVUlZFX0ZBQ1RPUklFU1tjdXJ2ZV0gPz8gY3VydmVNb25vdG9uZVg7CgoJdHlwZSBQb3NpdGlvbmVkU2VyaWVzID0gQXJlYUNoYXJ0U2VyaWVzU3RhdGU8Q2hhcnREYXR1bT4gJiB7CgkJZ3JhZGllbnRJZDogc3RyaW5nOwoJCXBvc2l0aW9uZWRQb2ludHM6IEFycmF5PHsKCQkJcG9pbnQ6IEFyZWFDaGFydFBvaW50OwoJCQl4OiBudW1iZXI7CgkJCXk6IG51bWJlcjsKCQl9PjsKCQlhcmVhUGF0aD86IHN0cmluZzsKCQlsaW5lUGF0aD86IHN0cmluZzsKCX07CgoJY29uc3QgZ3JhZGllbnRCYXNlSWQgPSBSZWFjdC51c2VJZCgpOwoKCWNvbnN0IGNvbXB1dGVkU2VyaWVzID0gUmVhY3QudXNlTWVtbzxQb3NpdGlvbmVkU2VyaWVzW10+KCgpID0+IHsKCQlyZXR1cm4gc2VyaWVzLm1hcCgoc2VyaWVzSXRlbSwgaW5kZXgpID0+IHsKCQkJY29uc3QgcG9zaXRpb25lZFBvaW50cyA9IHNlcmllc0l0ZW0ucG9pbnRzLm1hcCgocG9pbnQpID0+ICh7CgkJCQlwb2ludCwKCQkJCXg6IGNoYXJ0U3RhcnRYICsgc2NhbGVYKHBvaW50LngpLAoJCQkJeTogcGFkZGluZy50b3AgKyBzY2FsZVkocG9pbnQueSksCgkJCX0pKTsKCgkJCWxldCBhcmVhUGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkOwoJCQlsZXQgbGluZVBhdGg6IHN0cmluZyB8IHVuZGVmaW5lZDsKCgkJCWlmIChzZXJpZXNJdGVtLnBvaW50cy5sZW5ndGggPiAxKSB7CgkJCQljb25zdCBhcmVhR2VuZXJhdG9yID0gYXJlYTxBcmVhQ2hhcnRQb2ludD4oKQoJCQkJCS54KChwb2ludDogQXJlYUNoYXJ0UG9pbnQpID0+IGNoYXJ0U3RhcnRYICsgc2NhbGVYKHBvaW50LngpKQoJCQkJCS55MChwYWRkaW5nLnRvcCArIGNsYW1wKHplcm9ZQ29vcmRpbmF0ZSwgMCwgY2hhcnRIZWlnaHQpKQoJCQkJCS55MSgocG9pbnQ6IEFyZWFDaGFydFBvaW50KSA9PiBwYWRkaW5nLnRvcCArIHNjYWxlWShwb2ludC55KSkKCQkJCQkuY3VydmUoY3VydmVGYWN0b3J5KTsKCQkJCWNvbnN0IGxpbmVHZW5lcmF0b3IgPSBsaW5lPEFyZWFDaGFydFBvaW50PigpCgkJCQkJLngoKHBvaW50OiBBcmVhQ2hhcnRQb2ludCkgPT4gY2hhcnRTdGFydFggKyBzY2FsZVgocG9pbnQueCkpCgkJCQkJLnkoKHBvaW50OiBBcmVhQ2hhcnRQb2ludCkgPT4gcGFkZGluZy50b3AgKyBzY2FsZVkocG9pbnQueSkpCgkJCQkJLmN1cnZlKGN1cnZlRmFjdG9yeSk7CgkJCQlhcmVhUGF0aCA9IGFyZWFHZW5lcmF0b3Ioc2VyaWVzSXRlbS5wb2ludHMpID8/IHVuZGVmaW5lZDsKCQkJCWxpbmVQYXRoID0gbGluZUdlbmVyYXRvcihzZXJpZXNJdGVtLnBvaW50cykgPz8gdW5kZWZpbmVkOwoJCQl9CgoJCQlyZXR1cm4gewoJCQkJLi4uc2VyaWVzSXRlbSwKCQkJCWdyYWRpZW50SWQ6IGAke2dyYWRpZW50QmFzZUlkfS0ke2luZGV4fWAsCgkJCQlwb3NpdGlvbmVkUG9pbnRzLAoJCQkJLi4uKGFyZWFQYXRoID8geyBhcmVhUGF0aCB9IDoge30pLAoJCQkJLi4uKGxpbmVQYXRoID8geyBsaW5lUGF0aCB9IDoge30pLAoJCQl9OwoJCX0pOwoJfSwgWwoJCWNoYXJ0SGVpZ2h0LAoJCWNoYXJ0U3RhcnRYLAoJCWN1cnZlRmFjdG9yeSwKCQlzZXJpZXMsCgkJcGFkZGluZy50b3AsCgkJc2NhbGVYLAoJCXNjYWxlWSwKCQl6ZXJvWUNvb3JkaW5hdGUsCgkJZ3JhZGllbnRCYXNlSWQsCgldKTsKCgljb25zdCBoYXNFbm91Z2hQb2ludHMgPSBjb21wdXRlZFNlcmllcy5zb21lKAoJCShzZXJpZXNJdGVtKSA9PiBzZXJpZXNJdGVtLnBvaW50cy5sZW5ndGggPiAxLAoJKTsKCWNvbnN0IHNob3dDaGFydCA9ICFsb2FkaW5nICYmICFlcnJvciAmJiBoYXNFbm91Z2hQb2ludHM7CgoJY29uc3QgcG9zaXRpb25lZFBvaW50c0FsbCA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4KCQkJY29tcHV0ZWRTZXJpZXMuZmxhdE1hcCgoc2VyaWVzSXRlbSkgPT4KCQkJCXNlcmllc0l0ZW0ucG9zaXRpb25lZFBvaW50cy5tYXAoKGVudHJ5KSA9PiAoewoJCQkJCXNlcmllczogc2VyaWVzSXRlbSwKCQkJCQkuLi5lbnRyeSwKCQkJCX0pKSwKCQkJKSwKCQlbY29tcHV0ZWRTZXJpZXNdLAoJKTsKCWNvbnN0IHNob3VsZENvbXB1dGVYVGlja3MgPSBzaG93WEF4aXNMYWJlbHM7Cgljb25zdCBzaG91bGRDb21wdXRlWVRpY2tzID0gc2hvd0dyaWQgfHwgc2hvd1lBeGlzTGFiZWxzOwoKCWNvbnN0IHhBeGlzVGlja3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCBiYXNlUG9pbnRzID0gc2VyaWVzWzBdPy5wb2ludHMgPz8gW107CgkJaWYgKCFzaG91bGRDb21wdXRlWFRpY2tzIHx8IGJhc2VQb2ludHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107CgkJY29uc3Qgc2VsZWN0ZWQgPSBzZWxlY3RQb2ludHNGb3JUaWNrcyhiYXNlUG9pbnRzLCB4VGlja0NvdW50KTsKCQlyZXR1cm4gc2VsZWN0ZWQubWFwKChwb2ludCkgPT4gewoJCQljb25zdCBsYWJlbCA9IHRvUGxhaW5UZXh0KGZvcm1hdFgocG9pbnQpLCBnZXRQb2ludExhYmVsVGV4dChwb2ludCkpOwoJCQlyZXR1cm4gewoJCQkJaWQ6IHBvaW50LmlkLAoJCQkJcG9zaXRpb246IGNoYXJ0U3RhcnRYICsgc2NhbGVYKHBvaW50LngpLAoJCQkJbGFiZWwsCgkJCX07CgkJfSk7Cgl9LCBbY2hhcnRTdGFydFgsIGZvcm1hdFgsIHNjYWxlWCwgc2VyaWVzLCBzaG91bGRDb21wdXRlWFRpY2tzLCB4VGlja0NvdW50XSk7CgoJY29uc3QgeUF4aXNUaWNrcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWlmICghc2hvdWxkQ29tcHV0ZVlUaWNrcykgcmV0dXJuIFtdOwoJCWNvbnN0IHRpY2tzID0gZ2VuZXJhdGVMaW5lYXJUaWNrcyh5RG9tYWluLCB5VGlja0NvdW50KTsKCQlyZXR1cm4gdGlja3MubWFwKCh2YWx1ZSkgPT4gewoJCQljb25zdCByZWxhdGl2ZVBvc2l0aW9uID0gY2xhbXAoc2NhbGVZKHZhbHVlKSwgMCwgY2hhcnRIZWlnaHQpOwoJCQlyZXR1cm4gewoJCQkJdmFsdWUsCgkJCQlwb3NpdGlvbjogcGFkZGluZy50b3AgKyByZWxhdGl2ZVBvc2l0aW9uLAoJCQkJbGFiZWw6IE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkKCQkJCQk/IHZhbHVlLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgewoJCQkJCQkJbWF4aW11bUZyYWN0aW9uRGlnaXRzOiBNYXRoLmFicyh2YWx1ZSkgPj0gMTAwID8gMCA6IDIsCgkJCQkJCX0pCgkJCQkJOiBTdHJpbmcodmFsdWUpLAoJCQl9OwoJCX0pOwoJfSwgWwoJCWNoYXJ0SGVpZ2h0LAoJCXBhZGRpbmcudG9wLAoJCXNjYWxlWSwKCQlzaG91bGRDb21wdXRlWVRpY2tzLAoJCXlEb21haW4sCgkJeVRpY2tDb3VudCwKCV0pOwoKCVJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJaWYgKCFzaG93WUF4aXNMYWJlbHMpIHsKCQkJc2V0WUF4aXNMYWJlbFdpZHRoKChwcmV2aW91cykgPT4gKHByZXZpb3VzID09PSAwID8gcHJldmlvdXMgOiAwKSk7CgkJCXJldHVybjsKCQl9CgoJCWlmICghc3ZnUmVmLmN1cnJlbnQpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgbGFiZWxOb2RlcyA9IHN2Z1JlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHVGV4dEVsZW1lbnQ+KAoJCQknW2RhdGEtYXJlYS1jaGFydC15LWxhYmVsXScsCgkJKTsKCQlsZXQgbWF4V2lkdGggPSAwOwoJCWxhYmVsTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4gewoJCQljb25zdCBib3ggPSBub2RlLmdldEJCb3goKTsKCQkJaWYgKE51bWJlci5pc0Zpbml0ZShib3gud2lkdGgpKSB7CgkJCQltYXhXaWR0aCA9IE1hdGgubWF4KG1heFdpZHRoLCBib3gud2lkdGgpOwoJCQl9CgkJfSk7CgoJCXNldFlBeGlzTGFiZWxXaWR0aCgocHJldmlvdXMpID0+CgkJCU1hdGguYWJzKHByZXZpb3VzIC0gbWF4V2lkdGgpID4gMC41ID8gbWF4V2lkdGggOiBwcmV2aW91cywKCQkpOwoJfSwgW3Nob3dZQXhpc0xhYmVsc10pOwoKCWNvbnN0IHRvb2x0aXBSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTsKCWNvbnN0IFt0b29sdGlwRGltZW5zaW9ucywgc2V0VG9vbHRpcERpbWVuc2lvbnNdID0gUmVhY3QudXNlU3RhdGUoewoJCXdpZHRoOiAwLAoJCWhlaWdodDogMCwKCX0pOwoJY29uc3QgW3Rvb2x0aXAsIHNldFRvb2x0aXBdID0gUmVhY3QudXNlU3RhdGU8ewoJCWluZm86IEFyZWFDaGFydFRvb2x0aXBJbmZvOwoJCXg6IG51bWJlcjsKCQl5OiBudW1iZXI7CgkJaG9yaXpvbnRhbDogJ2xlZnQnIHwgJ3JpZ2h0JzsKCQl2ZXJ0aWNhbDogJ3RvcCcgfCAnYm90dG9tJzsKCQl2aXNpYmxlOiBib29sZWFuOwoJCWVudGVyaW5nOiBib29sZWFuOwoJfSB8IG51bGw+KG51bGwpOwoJY29uc3QgaGlkZVRvb2x0aXBUaW1lb3V0UmVmID0gUmVhY3QudXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpOwoKCWNvbnN0IGNhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCWlmIChoaWRlVG9vbHRpcFRpbWVvdXRSZWYuY3VycmVudCAhPT0gbnVsbCkgewoJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KGhpZGVUb29sdGlwVGltZW91dFJlZi5jdXJyZW50KTsKCQkJaGlkZVRvb2x0aXBUaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsOwoJCX0KCX0sIFtdKTsKCgljb25zdCBjbGVhclRvb2x0aXAgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUoKTsKCQlzZXRUb29sdGlwKChwcmV2aW91cykgPT4KCQkJcHJldmlvdXMgPyB7IC4uLnByZXZpb3VzLCB2aXNpYmxlOiBmYWxzZSwgZW50ZXJpbmc6IGZhbHNlIH0gOiBudWxsLAoJCSk7CgkJc2V0QWN0aXZlUG9pbnRJZChudWxsKTsKCQlzZXRBY3RpdmVQb2ludFgobnVsbCk7Cgl9LCBbY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUsIHNldEFjdGl2ZVBvaW50SWQsIHNldEFjdGl2ZVBvaW50WF0pOwoKCWNvbnN0IHNjaGVkdWxlVG9vbHRpcEhpZGUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZGVsYXkgPSAxNDApID0+IHsKCQkJY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUoKTsKCQkJaGlkZVRvb2x0aXBUaW1lb3V0UmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CgkJCQljbGVhclRvb2x0aXAoKTsKCQkJfSwgZGVsYXkpOwoJCX0sCgkJW2NhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlLCBjbGVhclRvb2x0aXBdLAoJKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICghdG9vbHRpcCB8fCB0b29sdGlwLnZpc2libGUgfHwgdG9vbHRpcC5lbnRlcmluZykgcmV0dXJuOwoJCWNvbnN0IHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsKCQkJc2V0VG9vbHRpcChudWxsKTsKCQl9LCAyMDApOwoJCXJldHVybiAoKSA9PiB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7Cgl9LCBbdG9vbHRpcF0pOwoKCVJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJaWYgKCF0b29sdGlwUmVmLmN1cnJlbnQgfHwgdHlwZW9mIFJlc2l6ZU9ic2VydmVyID09PSAndW5kZWZpbmVkJykgcmV0dXJuOwoJCWNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChbZW50cnldKSA9PiB7CgkJCWlmICghZW50cnkpIHJldHVybjsKCQkJY29uc3QgeyB3aWR0aCwgaGVpZ2h0OiBvYnNIZWlnaHQgfSA9IGVudHJ5LmNvbnRlbnRSZWN0OwoJCQlzZXRUb29sdGlwRGltZW5zaW9ucygocHJldmlvdXMpID0+CgkJCQlNYXRoLmFicyhwcmV2aW91cy53aWR0aCAtIHdpZHRoKSA8IDAuNSAmJgoJCQkJTWF0aC5hYnMocHJldmlvdXMuaGVpZ2h0IC0gb2JzSGVpZ2h0KSA8IDAuNQoJCQkJCT8gcHJldmlvdXMKCQkJCQk6IHsgd2lkdGgsIGhlaWdodDogb2JzSGVpZ2h0IH0sCgkJCSk7CgkJfSk7CgkJb2JzZXJ2ZXIub2JzZXJ2ZSh0b29sdGlwUmVmLmN1cnJlbnQpOwoJCXJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7Cgl9LCBbXSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQlpZiAoIXRvb2x0aXAgfHwgIXRvb2x0aXAuZW50ZXJpbmcpIHJldHVybjsKCQljb25zdCBmcmFtZUlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CgkJCXNldFRvb2x0aXAoKHByZXZpb3VzKSA9PgoJCQkJcHJldmlvdXM/LmVudGVyaW5nCgkJCQkJPyB7IC4uLnByZXZpb3VzLCB2aXNpYmxlOiB0cnVlLCBlbnRlcmluZzogZmFsc2UgfQoJCQkJCTogcHJldmlvdXMsCgkJCSk7CgkJfSk7CgkJcmV0dXJuICgpID0+IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTsKCX0sIFt0b29sdGlwXSk7CgoJUmVhY3QudXNlRWZmZWN0KAoJCSgpID0+ICgpID0+IHsKCQkJY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUoKTsKCQl9LAoJCVtjYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZV0sCgkpOwoKCWNvbnN0IGNhbGN1bGF0ZVRvb2x0aXBQb3NpdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCSh2aWV3Qm94UG9pbnQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4gewoJCQlpZiAoIW91dGVyUmVmLmN1cnJlbnQgfHwgIXN2Z1JlZi5jdXJyZW50KSByZXR1cm4gbnVsbDsKCQkJY29uc3QgY29udGFpbmVyUmVjdCA9IG91dGVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkJCWNvbnN0IHN2Z1JlY3QgPSBzdmdSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJY29uc3Qgc2NhbGVYID0gdmlld0JveFdpZHRoID4gMCA/IHN2Z1JlY3Qud2lkdGggLyB2aWV3Qm94V2lkdGggOiAxOwoJCQljb25zdCBzY2FsZVkgPSB2aWV3Qm94SGVpZ2h0ID4gMCA/IHN2Z1JlY3QuaGVpZ2h0IC8gdmlld0JveEhlaWdodCA6IDE7CgkJCWNvbnN0IGFuY2hvclggPQoJCQkJc3ZnUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0ICsgdmlld0JveFBvaW50LnggKiBzY2FsZVg7CgkJCWNvbnN0IGFuY2hvclkgPSBzdmdSZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wICsgdmlld0JveFBvaW50LnkgKiBzY2FsZVk7CgkJCWNvbnN0IHRvb2x0aXBQYWRkaW5nID0gMTI7CgkJCWNvbnN0IHRvb2x0aXBPZmZzZXQgPSAwOwoJCQljb25zdCBwb2ludEdhcCA9IDA7CgkJCWNvbnN0IGVzdGltYXRlZFdpZHRoID0gdG9vbHRpcERpbWVuc2lvbnMud2lkdGggfHwgMjAwOwoJCQljb25zdCBlc3RpbWF0ZWRIZWlnaHQgPSB0b29sdGlwRGltZW5zaW9ucy5oZWlnaHQgfHwgODQ7CgoJCQljb25zdCBtaW5YID0gdG9vbHRpcFBhZGRpbmc7CgkJCWNvbnN0IG1heFggPSBjb250YWluZXJSZWN0LndpZHRoIC0gZXN0aW1hdGVkV2lkdGggLSB0b29sdGlwUGFkZGluZzsKCQkJY29uc3QgbWluWSA9IHRvb2x0aXBQYWRkaW5nOwoJCQljb25zdCBtYXhZID0gY29udGFpbmVyUmVjdC5oZWlnaHQgLSBlc3RpbWF0ZWRIZWlnaHQgLSB0b29sdGlwUGFkZGluZzsKCgkJCXR5cGUgUGxhY2VtZW50ID0gewoJCQkJaG9yaXpvbnRhbDogJ2xlZnQnIHwgJ3JpZ2h0JzsKCQkJCXZlcnRpY2FsOiAndG9wJyB8ICdib3R0b20nOwoJCQl9OwoKCQkJY29uc3QgcGxhY2VtZW50czogUGxhY2VtZW50W10gPSBbCgkJCQl7IGhvcml6b250YWw6ICdsZWZ0JywgdmVydGljYWw6ICd0b3AnIH0sCgkJCQl7IGhvcml6b250YWw6ICdyaWdodCcsIHZlcnRpY2FsOiAndG9wJyB9LAoJCQkJeyBob3Jpem9udGFsOiAnbGVmdCcsIHZlcnRpY2FsOiAnYm90dG9tJyB9LAoJCQkJeyBob3Jpem9udGFsOiAncmlnaHQnLCB2ZXJ0aWNhbDogJ2JvdHRvbScgfSwKCQkJXTsKCgkJCWNvbnN0IHRyeVBsYWNlbWVudCA9ICgKCQkJCXBsYWNlbWVudDogUGxhY2VtZW50LAoJCQkJYWxsb3dPdmVyZmxvdzogYm9vbGVhbiwKCQkJKTogewoJCQkJeDogbnVtYmVyOwoJCQkJeTogbnVtYmVyOwoJCQkJaG9yaXpvbnRhbDogUGxhY2VtZW50Wydob3Jpem9udGFsJ107CgkJCQl2ZXJ0aWNhbDogUGxhY2VtZW50Wyd2ZXJ0aWNhbCddOwoJCQl9IHwgbnVsbCA9PiB7CgkJCQljb25zdCBjYW5kaWRhdGVYID0KCQkJCQlwbGFjZW1lbnQuaG9yaXpvbnRhbCA9PT0gJ2xlZnQnCgkJCQkJCT8gYW5jaG9yWCAtIGVzdGltYXRlZFdpZHRoIC0gdG9vbHRpcE9mZnNldAoJCQkJCQk6IGFuY2hvclggKyB0b29sdGlwT2Zmc2V0OwoJCQkJY29uc3QgY2FuZGlkYXRlWSA9CgkJCQkJcGxhY2VtZW50LnZlcnRpY2FsID09PSAndG9wJwoJCQkJCQk/IGFuY2hvclkgLSBlc3RpbWF0ZWRIZWlnaHQgLSB0b29sdGlwT2Zmc2V0CgkJCQkJCTogYW5jaG9yWSArIHRvb2x0aXBPZmZzZXQ7CgoJCQkJaWYgKCFhbGxvd092ZXJmbG93KSB7CgkJCQkJaWYgKGNhbmRpZGF0ZVggPCBtaW5YIHx8IGNhbmRpZGF0ZVggPiBtYXhYKSByZXR1cm4gbnVsbDsKCQkJCQlpZiAoY2FuZGlkYXRlWSA8IG1pblkgfHwgY2FuZGlkYXRlWSA+IG1heFkpIHJldHVybiBudWxsOwoJCQkJfQoKCQkJCWxldCB4ID0gY2xhbXAoY2FuZGlkYXRlWCwgbWluWCwgbWF4WCk7CgkJCQlsZXQgeSA9IGNsYW1wKGNhbmRpZGF0ZVksIG1pblksIG1heFkpOwoKCQkJCWlmIChwbGFjZW1lbnQuaG9yaXpvbnRhbCA9PT0gJ2xlZnQnKSB7CgkJCQkJeCA9IE1hdGgubWluKHgsIGFuY2hvclggLSBwb2ludEdhcCAtIGVzdGltYXRlZFdpZHRoKTsKCQkJCX0gZWxzZSB7CgkJCQkJeCA9IE1hdGgubWF4KHgsIGFuY2hvclggKyBwb2ludEdhcCk7CgkJCQl9CgkJCQl4ID0gY2xhbXAoeCwgbWluWCwgbWF4WCk7CgoJCQkJaWYgKHBsYWNlbWVudC52ZXJ0aWNhbCA9PT0gJ3RvcCcpIHsKCQkJCQl5ID0gTWF0aC5taW4oeSwgYW5jaG9yWSAtIHBvaW50R2FwIC0gZXN0aW1hdGVkSGVpZ2h0KTsKCQkJCX0gZWxzZSB7CgkJCQkJeSA9IE1hdGgubWF4KHksIGFuY2hvclkgKyBwb2ludEdhcCk7CgkJCQl9CgkJCQl5ID0gY2xhbXAoeSwgbWluWSwgbWF4WSk7CgoJCQkJY29uc3QgY292ZXJzUG9pbnQgPQoJCQkJCWFuY2hvclggPj0geCAmJgoJCQkJCWFuY2hvclggPD0geCArIGVzdGltYXRlZFdpZHRoICYmCgkJCQkJYW5jaG9yWSA+PSB5ICYmCgkJCQkJYW5jaG9yWSA8PSB5ICsgZXN0aW1hdGVkSGVpZ2h0OwoKCQkJCWlmIChjb3ZlcnNQb2ludCkgcmV0dXJuIG51bGw7CgoJCQkJcmV0dXJuIHsKCQkJCQl4LAoJCQkJCXksCgkJCQkJaG9yaXpvbnRhbDogcGxhY2VtZW50Lmhvcml6b250YWwsCgkJCQkJdmVydGljYWw6IHBsYWNlbWVudC52ZXJ0aWNhbCwKCQkJCX07CgkJCX07CgoJCQlmb3IgKGNvbnN0IHBsYWNlbWVudCBvZiBwbGFjZW1lbnRzKSB7CgkJCQljb25zdCBwb3NpdGlvbiA9IHRyeVBsYWNlbWVudChwbGFjZW1lbnQsIGZhbHNlKTsKCQkJCWlmIChwb3NpdGlvbikgcmV0dXJuIHBvc2l0aW9uOwoJCQl9CgoJCQlmb3IgKGNvbnN0IHBsYWNlbWVudCBvZiBwbGFjZW1lbnRzKSB7CgkJCQljb25zdCBwb3NpdGlvbiA9IHRyeVBsYWNlbWVudChwbGFjZW1lbnQsIHRydWUpOwoJCQkJaWYgKHBvc2l0aW9uKSByZXR1cm4gcG9zaXRpb247CgkJCX0KCgkJCWNvbnN0IGZhbGxiYWNrSG9yaXpvbnRhbCA9CgkJCQlhbmNob3JYICsgcG9pbnRHYXAgPD0gbWF4WCA/ICgncmlnaHQnIGFzIGNvbnN0KSA6ICgnbGVmdCcgYXMgY29uc3QpOwoJCQljb25zdCBmYWxsYmFja1ZlcnRpY2FsID0KCQkJCWFuY2hvclkgLSBwb2ludEdhcCAtIGVzdGltYXRlZEhlaWdodCA+PSBtaW5ZCgkJCQkJPyAoJ3RvcCcgYXMgY29uc3QpCgkJCQkJOiBhbmNob3JZICsgcG9pbnRHYXAgPD0gbWF4WQoJCQkJCQk/ICgnYm90dG9tJyBhcyBjb25zdCkKCQkJCQkJOiAoJ3RvcCcgYXMgY29uc3QpOwoKCQkJbGV0IGZhbGxiYWNrWCA9CgkJCQlmYWxsYmFja0hvcml6b250YWwgPT09ICdyaWdodCcKCQkJCQk/IGFuY2hvclggKyBwb2ludEdhcAoJCQkJCTogYW5jaG9yWCAtIGVzdGltYXRlZFdpZHRoIC0gcG9pbnRHYXA7CgkJCWxldCBmYWxsYmFja1kgPQoJCQkJZmFsbGJhY2tWZXJ0aWNhbCA9PT0gJ3RvcCcKCQkJCQk/IGFuY2hvclkgLSBlc3RpbWF0ZWRIZWlnaHQgLSBwb2ludEdhcAoJCQkJCTogYW5jaG9yWSArIHBvaW50R2FwOwoKCQkJZmFsbGJhY2tYID0gY2xhbXAoZmFsbGJhY2tYLCBtaW5YLCBtYXhYKTsKCQkJZmFsbGJhY2tZID0gY2xhbXAoZmFsbGJhY2tZLCBtaW5ZLCBtYXhZKTsKCgkJCXJldHVybiB7CgkJCQl4OiBmYWxsYmFja1gsCgkJCQl5OiBmYWxsYmFja1ksCgkJCQlob3Jpem9udGFsOiBmYWxsYmFja0hvcml6b250YWwsCgkJCQl2ZXJ0aWNhbDogZmFsbGJhY2tWZXJ0aWNhbCwKCQkJfTsKCQl9LAoJCVsKCQkJdG9vbHRpcERpbWVuc2lvbnMuaGVpZ2h0LAoJCQl0b29sdGlwRGltZW5zaW9ucy53aWR0aCwKCQkJdmlld0JveEhlaWdodCwKCQkJdmlld0JveFdpZHRoLAoJCV0sCgkpOwoKCWNvbnN0IHVwZGF0ZVRvb2x0aXBGb3JQb2ludCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCSgKCQkJc2VyaWVzSXRlbTogUG9zaXRpb25lZFNlcmllcywKCQkJcG9pbnQ6IEFyZWFDaGFydFBvaW50LAoJCQl2aWV3Qm94UG9pbnQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSwKCQkpID0+IHsKCQkJY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUoKTsKCQkJc2V0QWN0aXZlUG9pbnRJZChwb2ludC5pZCk7CgkJCXNldEFjdGl2ZVBvaW50WChwb2ludC54KTsKCgkJCWlmICghc2hvd1Rvb2x0aXApIHJldHVybjsKCgkJCWNvbnN0IHBvc2l0aW9uID0gY2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uKHZpZXdCb3hQb2ludCk7CgkJCWlmICghcG9zaXRpb24pIHJldHVybjsKCgkJCWNvbnN0IGZvcm1hdHRlZFhOb2RlID0gZm9ybWF0WChwb2ludCk7CgkJCWNvbnN0IGZvcm1hdHRlZFlOb2RlID0gZm9ybWF0WUZvclNlcmllcyhzZXJpZXNJdGVtLmlkLCBwb2ludCk7CgkJCWNvbnN0IGZvcm1hdHRlZFhUZXh0ID0gdG9QbGFpblRleHQoCgkJCQlmb3JtYXR0ZWRYTm9kZSwKCQkJCWdldFBvaW50TGFiZWxUZXh0KHBvaW50KSwKCQkJKTsKCQkJY29uc3QgZm9ybWF0dGVkWVRleHQgPSB0b1BsYWluVGV4dCgKCQkJCWZvcm1hdHRlZFlOb2RlLAoJCQkJZ2V0UG9pbnRWYWx1ZVRleHQocG9pbnQpLAoJCQkpOwoKCQkJY29uc3Qgc2VyaWVzRW50cmllcyA9IGNvbXB1dGVkU2VyaWVzLmZsYXRNYXA8QXJlYUNoYXJ0VG9vbHRpcFNlcmllc0VudHJ5PigKCQkJCShjYW5kaWRhdGUpID0+IHsKCQkJCQljb25zdCBtYXRjaGVkID0gY2FuZGlkYXRlLnBvaW50cy5maW5kKAoJCQkJCQkoY2FuZGlkYXRlUG9pbnQpID0+IGNhbmRpZGF0ZVBvaW50LnggPT09IHBvaW50LngsCgkJCQkJKTsKCQkJCQlpZiAoIW1hdGNoZWQpIHJldHVybiBbXTsKCQkJCQljb25zdCBmb3JtYXR0ZWRWYWx1ZU5vZGUgPSBmb3JtYXRZRm9yU2VyaWVzKGNhbmRpZGF0ZS5pZCwgbWF0Y2hlZCk7CgkJCQkJY29uc3QgZm9ybWF0dGVkVmFsdWVUZXh0ID0gdG9QbGFpblRleHQoCgkJCQkJCWZvcm1hdHRlZFZhbHVlTm9kZSwKCQkJCQkJZ2V0UG9pbnRWYWx1ZVRleHQobWF0Y2hlZCksCgkJCQkJKTsKCQkJCQlyZXR1cm4gWwoJCQkJCQl7CgkJCQkJCQlzZXJpZXNJZDogY2FuZGlkYXRlLmlkLAoJCQkJCQkJc2VyaWVzTGFiZWw6IGNhbmRpZGF0ZS5zZXJpZXNMYWJlbCwKCQkJCQkJCXNlcmllc0NvbG9yOiBjYW5kaWRhdGUuY29sb3IsCgkJCQkJCQl2YWx1ZUxhYmVsOiBjYW5kaWRhdGUudmFsdWVMYWJlbCwKCQkJCQkJCXBvaW50OiBtYXRjaGVkLAoJCQkJCQkJdmFsdWU6IG1hdGNoZWQudmFsdWUsCgkJCQkJCQlmb3JtYXR0ZWRWYWx1ZTogZm9ybWF0dGVkVmFsdWVOb2RlLAoJCQkJCQkJZm9ybWF0dGVkVmFsdWVUZXh0LAoJCQkJCQl9LAoJCQkJCV07CgkJCQl9LAoJCQkpOwoKCQkJc2V0VG9vbHRpcCgocHJldmlvdXMpID0+IHsKCQkJCWNvbnN0IHNob3VsZEFuaW1hdGVJbiA9ICFwcmV2aW91cyB8fCAhcHJldmlvdXMudmlzaWJsZTsKCQkJCWNvbnN0IG5leHQgPSB7CgkJCQkJaW5mbzogewoJCQkJCQlwb2ludCwKCQkJCQkJdmFsdWU6IHBvaW50LnZhbHVlLAoJCQkJCQlzZXJpZXNJZDogc2VyaWVzSXRlbS5pZCwKCQkJCQkJc2VyaWVzTGFiZWw6IHNlcmllc0l0ZW0uc2VyaWVzTGFiZWwsCgkJCQkJCXNlcmllc0NvbG9yOiBzZXJpZXNJdGVtLmNvbG9yLAoJCQkJCQl2YWx1ZUxhYmVsOiBzZXJpZXNJdGVtLnZhbHVlTGFiZWwsCgkJCQkJCWZvcm1hdHRlZFg6IGZvcm1hdHRlZFhOb2RlLAoJCQkJCQlmb3JtYXR0ZWRZOiBmb3JtYXR0ZWRZTm9kZSwKCQkJCQkJZm9ybWF0dGVkWFRleHQsCgkJCQkJCWZvcm1hdHRlZFlUZXh0LAoJCQkJCQlzZXJpZXNFbnRyaWVzLAoJCQkJCX0sCgkJCQkJeDogcG9zaXRpb24ueCwKCQkJCQl5OiBwb3NpdGlvbi55LAoJCQkJCWhvcml6b250YWw6IHBvc2l0aW9uLmhvcml6b250YWwsCgkJCQkJdmVydGljYWw6IHBvc2l0aW9uLnZlcnRpY2FsLAoJCQkJCXZpc2libGU6ICFzaG91bGRBbmltYXRlSW4sCgkJCQkJZW50ZXJpbmc6IHNob3VsZEFuaW1hdGVJbiwKCQkJCX07CgoJCQkJaWYgKAoJCQkJCXByZXZpb3VzICYmCgkJCQkJcHJldmlvdXMuaW5mby5wb2ludC5pZCA9PT0gcG9pbnQuaWQgJiYKCQkJCQlNYXRoLmFicyhwcmV2aW91cy54IC0gbmV4dC54KSA8IDAuNSAmJgoJCQkJCU1hdGguYWJzKHByZXZpb3VzLnkgLSBuZXh0LnkpIDwgMC41ICYmCgkJCQkJcHJldmlvdXMuaG9yaXpvbnRhbCA9PT0gbmV4dC5ob3Jpem9udGFsICYmCgkJCQkJcHJldmlvdXMudmVydGljYWwgPT09IG5leHQudmVydGljYWwKCQkJCSkgewoJCQkJCWlmIChzaG91bGRBbmltYXRlSW4pIHsKCQkJCQkJcmV0dXJuIG5leHQ7CgkJCQkJfQoJCQkJCWlmICghcHJldmlvdXMudmlzaWJsZSkgewoJCQkJCQlyZXR1cm4geyAuLi5wcmV2aW91cywgdmlzaWJsZTogdHJ1ZSwgZW50ZXJpbmc6IGZhbHNlIH07CgkJCQkJfQoJCQkJCXJldHVybiBwcmV2aW91czsKCQkJCX0KCQkJCXJldHVybiBuZXh0OwoJCQl9KTsKCQl9LAoJCVsKCQkJY2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uLAoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSwKCQkJZm9ybWF0WCwKCQkJZm9ybWF0WUZvclNlcmllcywKCQkJY29tcHV0ZWRTZXJpZXMsCgkJCXNldEFjdGl2ZVBvaW50SWQsCgkJCXNldEFjdGl2ZVBvaW50WCwKCQkJc2hvd1Rvb2x0aXAsCgkJXSwKCSk7CgoJY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxTVkdSZWN0RWxlbWVudD4pID0+IHsKCQkJY29uc3QgdGFyZ2V0UmVjdCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkJCWlmICh0YXJnZXRSZWN0LndpZHRoID09PSAwIHx8IGNoYXJ0V2lkdGggPT09IDApIHJldHVybjsKCQkJY29uc3QgbG9jYWxYID0gZXZlbnQuY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDsKCQkJY29uc3Qgc2NhbGUgPSBjaGFydFdpZHRoIC8gdGFyZ2V0UmVjdC53aWR0aDsKCQkJY29uc3QgcG9pbnRlclZpZXdCb3hYID0gY2hhcnRTdGFydFggKyBsb2NhbFggKiBzY2FsZTsKCgkJCWxldCBjbG9zZXN0ID0gbnVsbCBhcyB7CgkJCQlzZXJpZXM6IFBvc2l0aW9uZWRTZXJpZXM7CgkJCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ7CgkJCQl2aWV3Qm94OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07CgkJCQlkaXN0YW5jZTogbnVtYmVyOwoJCQl9IHwgbnVsbDsKCgkJCXBvc2l0aW9uZWRQb2ludHNBbGwuZm9yRWFjaCgoeyBzZXJpZXM6IHNlcmllc0l0ZW0sIHBvaW50LCB4LCB5IH0pID0+IHsKCQkJCWNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoeCAtIHBvaW50ZXJWaWV3Qm94WCk7CgkJCQlpZiAoY2xvc2VzdCA9PT0gbnVsbCB8fCBkaXN0YW5jZSA8IGNsb3Nlc3QuZGlzdGFuY2UpIHsKCQkJCQljbG9zZXN0ID0geyBzZXJpZXM6IHNlcmllc0l0ZW0sIHBvaW50LCB2aWV3Qm94OiB7IHgsIHkgfSwgZGlzdGFuY2UgfTsKCQkJCX0KCQkJfSk7CgoJCQlpZiAoIWNsb3Nlc3QpIHJldHVybjsKCgkJCXVwZGF0ZVRvb2x0aXBGb3JQb2ludChjbG9zZXN0LnNlcmllcywgY2xvc2VzdC5wb2ludCwgY2xvc2VzdC52aWV3Qm94KTsKCQl9LAoJCVtjaGFydFN0YXJ0WCwgY2hhcnRXaWR0aCwgcG9zaXRpb25lZFBvaW50c0FsbCwgdXBkYXRlVG9vbHRpcEZvclBvaW50XSwKCSk7CgoJY29uc3QgaGFuZGxlUG9pbnRlckxlYXZlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8RWxlbWVudD4pID0+IHsKCQkJaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykgewoJCQkJcmV0dXJuOwoJCQl9CgkJCXNjaGVkdWxlVG9vbHRpcEhpZGUoKTsKCQl9LAoJCVtzY2hlZHVsZVRvb2x0aXBIaWRlXSwKCSk7CgoJY29uc3QgcmVuZGVyVG9vbHRpcCA9CgkJc2hvd1Rvb2x0aXAgJiYgdG9vbHRpcCAmJiB0b29sdGlwUmVuZGVyCgkJCT8gdG9vbHRpcFJlbmRlcih0b29sdGlwLmluZm8gYXMgQXJlYUNoYXJ0VG9vbHRpcEluZm8pCgkJCTogdG9vbHRpcCAmJiAoCgkJCQkJPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMiI+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCI+CgkJCQkJCQl7dG9vbHRpcC5pbmZvLmZvcm1hdHRlZFh9CgkJCQkJCTwvZGl2PgoJCQkJCQk8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0xIj4KCQkJCQkJCXt0b29sdGlwLmluZm8uc2VyaWVzRW50cmllcy5tYXAoKGVudHJ5KSA9PiB7CgkJCQkJCQkJcmV0dXJuICgKCQkJCQkJCQkJPGRpdgoJCQkJCQkJCQkJa2V5PXtlbnRyeS5zZXJpZXNJZH0KCQkJCQkJCQkJCWNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zIgoJCQkJCQkJCQk+CgkJCQkJCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCQkJCQkJCTxzcGFuCgkJCQkJCQkJCQkJCWNsYXNzTmFtZT0iaW5saW5lLWZsZXggaC0yLjUgdy0xIHNocmluay0wIHJvdW5kZWQtWzFweF0iCgkJCQkJCQkJCQkJCXN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogZW50cnkuc2VyaWVzQ29sb3IgfX0KCQkJCQkJCQkJCQkvPgoJCQkJCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT17Y24oJ3RleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwJyl9PgoJCQkJCQkJCQkJCQl7ZW50cnkuc2VyaWVzTGFiZWx9CgkJCQkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQk8c3BhbiBjbGFzc05hbWU9e2NuKCd0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC80NScpfT4KCQkJCQkJCQkJCQl7ZW50cnkuZm9ybWF0dGVkVmFsdWV9CgkJCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCSk7CgkJCQkJCQl9KX0KCQkJCQkJPC9kaXY+CgkJCQkJPC9kaXY+CgkJCQkpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFzaG93Q2hhcnQpIHsKCQkJc2V0VG9vbHRpcChudWxsKTsKCQl9Cgl9LCBbc2hvd0NoYXJ0XSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIXRvb2x0aXApIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgaGFuZGxlUG9pbnRlckRvd24gPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4gewoJCQljb25zdCBjb250YWluZXIgPSBvdXRlclJlZi5jdXJyZW50OwoJCQlpZiAoIWNvbnRhaW5lcikgcmV0dXJuOwoJCQljb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7CgkJCWlmICh0YXJnZXQgaW5zdGFuY2VvZiBOb2RlICYmIGNvbnRhaW5lci5jb250YWlucyh0YXJnZXQpKSB7CgkJCQlyZXR1cm47CgkJCX0KCQkJY2xlYXJUb29sdGlwKCk7CgkJfTsKCgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlUG9pbnRlckRvd24pOwoKCQlyZXR1cm4gKCkgPT4gewoJCQl3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBoYW5kbGVQb2ludGVyRG93bik7CgkJfTsKCX0sIFtjbGVhclRvb2x0aXAsIHRvb2x0aXBdKTsKCglsZXQgYm9keTogUmVhY3QuUmVhY3ROb2RlID0gbnVsbDsKCglpZiAoZXJyb3IpIHsKCQlib2R5ID0KCQkJdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJyA/ICgKCQkJCTxBcmVhQ2hhcnRTdGF0ZQoJCQkJCWxhYmVsPSJUaGVyZSB3YXMgYSBwcm9ibGVtIHJlbmRlcmluZyB0aGUgY2hhcnQuIgoJCQkJCWRlc2NyaXB0aW9uPXtlcnJvcn0KCQkJCS8+CgkJCSkgOiAoCgkJCQllcnJvcgoJCQkpOwoJfSBlbHNlIGlmIChsb2FkaW5nKSB7CgkJYm9keSA9IGxvYWRpbmdTdGF0ZSA/PyAoCgkJCTxBcmVhQ2hhcnRTdGF0ZSBsYWJlbD0iTG9hZGluZyBjaGFydCBkYXRh4oCmIiBkZXNjcmlwdGlvbj17dW5kZWZpbmVkfSAvPgoJCSk7Cgl9IGVsc2UgaWYgKCFoYXNFbm91Z2hQb2ludHMpIHsKCQlib2R5ID0gZW1wdHlTdGF0ZSA/PyAoCgkJCTxBcmVhQ2hhcnRTdGF0ZQoJCQkJbGFiZWw9Ik5vdCBlbm91Z2ggZGF0YSB0byBkaXNwbGF5IHlldC4iCgkJCQlkZXNjcmlwdGlvbj0iUHJvdmlkZSBhdCBsZWFzdCB0d28gZGF0YSBwb2ludHMgb3IgYWRqdXN0IHlvdXIgZmlsdGVycy4iCgkJCS8+CgkJKTsKCX0gZWxzZSB7CgkJYm9keSA9ICgKCQkJLyogYmlvbWUtaWdub3JlIGxpbnQvYTExeS9ub1N2Z1dpdGhvdXRUaXRsZTogaGFuZGxlZCB2aWEgYXJpYS1sYWJlbCAqLwoJCQk8c3ZnCgkJCQlyZWY9e3N2Z1JlZn0KCQkJCWNsYXNzTmFtZT0iaC1mdWxsIHctZnVsbCB0ZXh0LWZvcmVncm91bmQvNDUiCgkJCQl2aWV3Qm94PXtgMCAwICR7dmlld0JveFdpZHRofSAke3ZpZXdCb3hIZWlnaHR9YH0KCQkJCWFyaWEtbGFiZWw9e3N2Z1RpdGxlfQoJCQkJcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIKCQkJCXN0eWxlPXt7IG92ZXJmbG93OiAndmlzaWJsZScgfX0KCQkJCXNoYXBlUmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iCgkJCQlvblBvaW50ZXJMZWF2ZT17aGFuZGxlUG9pbnRlckxlYXZlfQoJCQkJey4uLih0cmltbWVkQXJpYUxhYmVsCgkJCQkJPyB7IHJvbGU6ICdpbWcnLCAnYXJpYS1sYWJlbGxlZGJ5Jzogc3ZnVGl0bGVJZCB9CgkJCQkJOiB7IHJvbGU6ICdpbWcnLCAnYXJpYS1oaWRkZW4nOiB0cnVlIH0pfQoJCQk+CgkJCQk8ZGVmcz4KCQkJCQl7Y29tcHV0ZWRTZXJpZXMubWFwKChzZXJpZXNJdGVtKSA9PiAoCgkJCQkJCTxsaW5lYXJHcmFkaWVudAoJCQkJCQkJa2V5PXtzZXJpZXNJdGVtLmdyYWRpZW50SWR9CgkJCQkJCQlpZD17c2VyaWVzSXRlbS5ncmFkaWVudElkfQoJCQkJCQkJeDE9IjAiCgkJCQkJCQl4Mj0iMCIKCQkJCQkJCXkxPSIwIgoJCQkJCQkJeTI9IjEiCgkJCQkJCT4KCQkJCQkJCTxzdG9wCgkJCQkJCQkJb2Zmc2V0PSIwJSIKCQkJCQkJCQlzdG9wQ29sb3I9e3Nlcmllc0l0ZW0uY29sb3J9CgkJCQkJCQkJc3RvcE9wYWNpdHk9ezAuMjh9CgkJCQkJCQkvPgoJCQkJCQkJPHN0b3AKCQkJCQkJCQlvZmZzZXQ9IjEwMCUiCgkJCQkJCQkJc3RvcENvbG9yPXtzZXJpZXNJdGVtLmNvbG9yfQoJCQkJCQkJCXN0b3BPcGFjaXR5PXswfQoJCQkJCQkJLz4KCQkJCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJCQkpKX0KCQkJCTwvZGVmcz4KCQkJCTxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InRyYW5zcGFyZW50IiAvPgoJCQkJPGc+CgkJCQkJe3Nob3dHcmlkID8gKAoJCQkJCQk8ZyBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlT3BhY2l0eT17MC4xfSBzdHJva2VXaWR0aD17MX0+CgkJCQkJCQl7eUF4aXNUaWNrcy5tYXAoKHRpY2spID0+ICgKCQkJCQkJCQk8bGluZQoJCQkJCQkJCQlrZXk9e2BncmlkLXktJHt0aWNrLnZhbHVlfWB9CgkJCQkJCQkJCXgxPXtjaGFydFN0YXJ0WH0KCQkJCQkJCQkJeTE9e3RpY2sucG9zaXRpb259CgkJCQkJCQkJCXgyPXtjaGFydFJpZ2h0fQoJCQkJCQkJCQl5Mj17dGljay5wb3NpdGlvbn0KCQkJCQkJCQkvPgoJCQkJCQkJKSl9CgkJCQkJCTwvZz4KCQkJCQkpIDogbnVsbH0KCQkJCQl7Y29tcHV0ZWRTZXJpZXMubWFwKChzZXJpZXNJdGVtKSA9PiAoCgkJCQkJCTxnIGtleT17YHNlcmllcy0ke3Nlcmllc0l0ZW0uaWR9YH0+CgkJCQkJCQl7c2VyaWVzSXRlbS5hcmVhUGF0aCA/ICgKCQkJCQkJCQk8cGF0aAoJCQkJCQkJCQlkPXtzZXJpZXNJdGVtLmFyZWFQYXRofQoJCQkJCQkJCQlmaWxsPXtgdXJsKCMke3Nlcmllc0l0ZW0uZ3JhZGllbnRJZH0pYH0KCQkJCQkJCQkJc3Ryb2tlPSJub25lIgoJCQkJCQkJCS8+CgkJCQkJCQkpIDogbnVsbH0KCQkJCQkJCXtzZXJpZXNJdGVtLmxpbmVQYXRoID8gKAoJCQkJCQkJCTxwYXRoCgkJCQkJCQkJCWQ9e3Nlcmllc0l0ZW0ubGluZVBhdGh9CgkJCQkJCQkJCWZpbGw9Im5vbmUiCgkJCQkJCQkJCXN0cm9rZT17c2VyaWVzSXRlbS5jb2xvcn0KCQkJCQkJCQkJc3Ryb2tlV2lkdGg9ezJ9CgkJCQkJCQkJCXN0cm9rZUxpbmVqb2luPSJyb3VuZCIKCQkJCQkJCQkJc3Ryb2tlTGluZWNhcD0icm91bmQiCgkJCQkJCQkJLz4KCQkJCQkJCSkgOiBudWxsfQoJCQkJCQk8L2c+CgkJCQkJKSl9CgkJCQkJPGcgY2xhc3NOYW1lPSJ0ZXh0LVsxMHB4XSBmb250LW5vcm1hbCB0ZXh0LWZvcmVncm91bmQvNDUiPgoJCQkJCQl7c2hvd1hBeGlzTGFiZWxzCgkJCQkJCQk/IHhBeGlzVGlja3MubWFwKCh0aWNrKSA9PiAoCgkJCQkJCQkJCTxnIGtleT17YGF4aXMteC0ke3RpY2suaWR9YH0+CgkJCQkJCQkJCQk8dGV4dAoJCQkJCQkJCQkJCXg9e3RpY2sucG9zaXRpb259CgkJCQkJCQkJCQkJeT17TWF0aC5taW4oCgkJCQkJCQkJCQkJCXZpZXdCb3hIZWlnaHQgKyA0LAoJCQkJCQkJCQkJCQljaGFydEJvdHRvbSArIGF4aXNUaWNrTGVuZ3RoICsgMjAsCgkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCQl0ZXh0QW5jaG9yPSJtaWRkbGUiCgkJCQkJCQkJCQkJZmlsbD0iY3VycmVudENvbG9yIgoJCQkJCQkJCQkJCWNsYXNzTmFtZT0idGV4dC1bMTFweF0iCgkJCQkJCQkJCQk+CgkJCQkJCQkJCQkJe3RpY2subGFiZWx9CgkJCQkJCQkJCQk8L3RleHQ+CgkJCQkJCQkJCTwvZz4KCQkJCQkJCQkpKQoJCQkJCQkJOiBudWxsfQoJCQkJCQl7c2hvd1lBeGlzTGFiZWxzCgkJCQkJCQk/IHlBeGlzVGlja3MubWFwKCh0aWNrKSA9PiAoCgkJCQkJCQkJCTxnIGtleT17YGF4aXMteS0ke3RpY2sudmFsdWV9LSR7TWF0aC5yb3VuZCh0aWNrLnBvc2l0aW9uKX1gfT4KCQkJCQkJCQkJCTx0ZXh0CgkJCQkJCQkJCQkJZGF0YS1hcmVhLWNoYXJ0LXktbGFiZWwKCQkJCQkJCQkJCQl4PXt5VGlja0xhYmVsWH0KCQkJCQkJCQkJCQl5PXt0aWNrLnBvc2l0aW9uICsgM30KCQkJCQkJCQkJCQl0ZXh0QW5jaG9yPSJlbmQiCgkJCQkJCQkJCQkJZmlsbD0iY3VycmVudENvbG9yIgoJCQkJCQkJCQkJCWNsYXNzTmFtZT0idGV4dC1bMTFweF0iCgkJCQkJCQkJCQk+CgkJCQkJCQkJCQkJe3RpY2subGFiZWx9CgkJCQkJCQkJCQk8L3RleHQ+CgkJCQkJCQkJCTwvZz4KCQkJCQkJCQkpKQoJCQkJCQkJOiBudWxsfQoJCQkJCTwvZz4KCQkJCQl7c2hvd0RvdHMKCQkJCQkJPyBjb21wdXRlZFNlcmllcy5mbGF0TWFwKChzZXJpZXNJdGVtKSA9PgoJCQkJCQkJCXNlcmllc0l0ZW0ucG9zaXRpb25lZFBvaW50cy5tYXAoKHsgcG9pbnQsIHgsIHkgfSkgPT4gewoJCQkJCQkJCQljb25zdCBpc0FjdGl2ZSA9CgkJCQkJCQkJCQlhY3RpdmVQb2ludElkID09PSBwb2ludC5pZCB8fAoJCQkJCQkJCQkJKGFjdGl2ZVBvaW50WCAhPT0gbnVsbCAmJiBwb2ludC54ID09PSBhY3RpdmVQb2ludFgpOwoJCQkJCQkJCQljb25zdCBmb3JtYXR0ZWRYTm9kZSA9IGZvcm1hdFgocG9pbnQpOwoJCQkJCQkJCQljb25zdCBmb3JtYXR0ZWRZTm9kZSA9IGZvcm1hdFlGb3JTZXJpZXMoc2VyaWVzSXRlbS5pZCwgcG9pbnQpOwoJCQkJCQkJCQljb25zdCBmb3JtYXR0ZWRYVGV4dCA9IHRvUGxhaW5UZXh0KAoJCQkJCQkJCQkJZm9ybWF0dGVkWE5vZGUsCgkJCQkJCQkJCQlnZXRQb2ludExhYmVsVGV4dChwb2ludCksCgkJCQkJCQkJCSk7CgkJCQkJCQkJCWNvbnN0IGZvcm1hdHRlZFlUZXh0ID0gdG9QbGFpblRleHQoCgkJCQkJCQkJCQlmb3JtYXR0ZWRZTm9kZSwKCQkJCQkJCQkJCWdldFBvaW50VmFsdWVUZXh0KHBvaW50KSwKCQkJCQkJCQkJKTsKCQkJCQkJCQkJcmV0dXJuICgKCQkJCQkJCQkJCTxnIGtleT17YCR7c2VyaWVzSXRlbS5pZH0tJHtwb2ludC5pZH1gfT4KCQkJCQkJCQkJCQl7LyogYmlvbWUtaWdub3JlIGxpbnQvYTExeS91c2VTZW1hbnRpY0VsZW1lbnRzOiBBIDxjaXJjbGU+IGNhbm5vdCBiZSByZXBsYWNlZCB3aXRoIDxidXR0b24+IGluc2lkZSBTVkcsIHNvIHdlIHByb3ZpZGUgYnV0dG9uIHNlbWFudGljcyB2aWEgcm9sZS4gKi99CgkJCQkJCQkJCQkJPGNpcmNsZQoJCQkJCQkJCQkJCQljeD17eH0KCQkJCQkJCQkJCQkJY3k9e3l9CgkJCQkJCQkJCQkJCXI9e2lzQWN0aXZlID8gNSA6IDR9CgkJCQkJCQkJCQkJCWZpbGw9e3Nlcmllc0l0ZW0uY29sb3J9CgkJCQkJCQkJCQkJCWZpbGxPcGFjaXR5PXtpc0FjdGl2ZSA/IDEgOiAwfQoJCQkJCQkJCQkJCQlzdHJva2U9e3Nlcmllc0l0ZW0uY29sb3J9CgkJCQkJCQkJCQkJCXN0cm9rZU9wYWNpdHk9e2lzQWN0aXZlID8gMSA6IDB9CgkJCQkJCQkJCQkJCXN0cm9rZVdpZHRoPXswLjV9CgkJCQkJCQkJCQkJCXN0eWxlPXt7CgkJCQkJCQkJCQkJCQlvcGFjaXR5OiBpc0FjdGl2ZSA/IDEgOiAwLAoJCQkJCQkJCQkJCQl9fQoJCQkJCQkJCQkJCQlyb2xlPSJidXR0b24iCgkJCQkJCQkJCQkJCXRhYkluZGV4PXswfQoJCQkJCQkJCQkJCQlhcmlhLXByZXNzZWQ9e2lzQWN0aXZlfQoJCQkJCQkJCQkJCQlhcmlhLWxhYmVsPXtgJHtzZXJpZXNJdGVtLnNlcmllc0xhYmVsfSAke2Zvcm1hdHRlZFhUZXh0fTogJHtmb3JtYXR0ZWRZVGV4dH1gfQoJCQkJCQkJCQkJCQlvblBvaW50ZXJFbnRlcj17KCkgPT4KCQkJCQkJCQkJCQkJCXVwZGF0ZVRvb2x0aXBGb3JQb2ludChzZXJpZXNJdGVtLCBwb2ludCwgeyB4LCB5IH0pCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJb25Qb2ludGVyTGVhdmU9eyhldmVudCkgPT4gewoJCQkJCQkJCQkJCQkJaWYgKAoJCQkJCQkJCQkJCQkJCWV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnIHx8CgkJCQkJCQkJCQkJCQkJZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nCgkJCQkJCQkJCQkJCQkpIHsKCQkJCQkJCQkJCQkJCQlyZXR1cm47CgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCQlzY2hlZHVsZVRvb2x0aXBIaWRlKCk7CgkJCQkJCQkJCQkJCX19CgkJCQkJCQkJCQkJCW9uRm9jdXM9eygpID0+CgkJCQkJCQkJCQkJCQl1cGRhdGVUb29sdGlwRm9yUG9pbnQoc2VyaWVzSXRlbSwgcG9pbnQsIHsgeCwgeSB9KQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCW9uQmx1cj17Y2xlYXJUb29sdGlwfQoJCQkJCQkJCQkJCQlvbkNsaWNrPXsoKSA9PgoJCQkJCQkJCQkJCQkJdXBkYXRlVG9vbHRpcEZvclBvaW50KHNlcmllc0l0ZW0sIHBvaW50LCB7IHgsIHkgfSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlvbktleURvd249eyhldmVudCkgPT4gewoJCQkJCQkJCQkJCQkJaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykgewoJCQkJCQkJCQkJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJCQkJCQkJdXBkYXRlVG9vbHRpcEZvclBvaW50KHNlcmllc0l0ZW0sIHBvaW50LCB7CgkJCQkJCQkJCQkJCQkJCXgsCgkJCQkJCQkJCQkJCQkJCXksCgkJCQkJCQkJCQkJCQkJfSk7CgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCQlpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykgewoJCQkJCQkJCQkJCQkJCWNsZWFyVG9vbHRpcCgpOwoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQl9fQoJCQkJCQkJCQkJCS8+CgkJCQkJCQkJCQk8L2c+CgkJCQkJCQkJCSk7CgkJCQkJCQkJfSksCgkJCQkJCQkpCgkJCQkJCTogbnVsbH0KCQkJCQk8cmVjdAoJCQkJCQl4PXtjaGFydFN0YXJ0WH0KCQkJCQkJeT17cGFkZGluZy50b3B9CgkJCQkJCXdpZHRoPXtjaGFydFdpZHRofQoJCQkJCQloZWlnaHQ9e2NoYXJ0SGVpZ2h0fQoJCQkJCQlmaWxsPSJ0cmFuc3BhcmVudCIKCQkJCQkJb25Qb2ludGVyTW92ZT17aGFuZGxlUG9pbnRlck1vdmV9CgkJCQkJCW9uUG9pbnRlckxlYXZlPXtoYW5kbGVQb2ludGVyTGVhdmV9CgkJCQkJCW9uUG9pbnRlckRvd249eyhldmVudCkgPT4gewoJCQkJCQkJaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7CgkJCQkJCQkJaGFuZGxlUG9pbnRlck1vdmUoZXZlbnQpOwoJCQkJCQkJfQoJCQkJCQl9fQoJCQkJCS8+CgkJCQk8L2c+CgkJCTwvc3ZnPgoJCSk7Cgl9CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17Y29tYmluZWRSZWZ9CgkJCWNsYXNzTmFtZT17Y24oJ3JlbGF0aXZlIHctZnVsbCBwLTQnLCBjbGFzc05hbWUpfQoJCQlzdHlsZT17eyAuLi5zdHlsZSwgaGVpZ2h0OiByZXNvbHZlZEhlaWdodCwgbWluSGVpZ2h0OiByZXNvbHZlZEhlaWdodCB9fQoJCQl7Li4ucmVzdH0KCQk+CgkJCTxkaXYKCQkJCXJlZj17KG5vZGUpID0+IHsKCQkJCQljaGFydENvbnRhaW5lclJlZi5jdXJyZW50ID0gbm9kZTsKCQkJCX19CgkJCQljbGFzc05hbWU9InJlbGF0aXZlIGgtZnVsbCB3LWZ1bGwiCgkJCT4KCQkJCXtib2R5fQoJCQkJe3Nob3dDaGFydCAmJiBjaGlsZHJlbiA/ICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT0icG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KCQkJCQkJe2NoaWxkcmVufQoJCQkJCTwvZGl2PgoJCQkJKSA6IG51bGx9CgkJCQl7c2hvd1Rvb2x0aXAgJiYgdG9vbHRpcCAmJiByZW5kZXJUb29sdGlwID8gKAoJCQkJCTxkaXYKCQkJCQkJcmVmPXt0b29sdGlwUmVmfQoJCQkJCQlkYXRhLXZpc2libGU9e3Rvb2x0aXAudmlzaWJsZSA/ICcnIDogdW5kZWZpbmVkfQoJCQkJCQljbGFzc05hbWU9InBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgbGVmdC0wIHRvcC0wIHotNTAiCgkJCQkJCXN0eWxlPXt7CgkJCQkJCQl0cmFuc2Zvcm1PcmlnaW46IGAke3Rvb2x0aXAuaG9yaXpvbnRhbH0gJHt0b29sdGlwLnZlcnRpY2FsfWAsCgkJCQkJCQl0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke3Rvb2x0aXAueH1weCwgJHt0b29sdGlwLnl9cHgsIDApIHNjYWxlKCR7dG9vbHRpcC52aXNpYmxlID8gMSA6IDAuOTV9KWAsCgkJCQkJCQlvcGFjaXR5OiB0b29sdGlwLnZpc2libGUgPyAxIDogMCwKCQkJCQkJCXRyYW5zaXRpb246CgkJCQkJCQkJJ3RyYW5zZm9ybSA0NTBtcyB2YXIoLS1lYXNlLXNtb290aCksIG9wYWNpdHkgMzAwbXMgdmFyKC0tZWFzZS1zbW9vdGgpJywKCQkJCQkJCXdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0sIG9wYWNpdHknLAoJCQkJCQl9fQoJCQkJCT4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIG1pbi13LTMyIG1heC13LXhzIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctcG9wb3ZlciBwLTIgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQgc2hhZG93LW1kIGNhcmQtaGlnaGxpZ2h0Ij4KCQkJCQkJCXtyZW5kZXJUb29sdGlwfQoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCSkgOiBudWxsfQoJCQk8L2Rpdj4KCQk8L2Rpdj4KCSk7Cn0pOwpBcmVhQ2hhcnRHcmFwaEJhc2UuZGlzcGxheU5hbWUgPSAnQXJlYUNoYXJ0R3JhcGgnOwoKdHlwZSBBcmVhQ2hhcnRHcmFwaENvbXBvbmVudCA9IDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPigKCXByb3BzOiBBcmVhQ2hhcnRHcmFwaFByb3BzPFREYXRhPiAmIHsgcmVmPzogUmVhY3QuUmVmPEhUTUxEaXZFbGVtZW50PiB9LAopID0+IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGw7CgpleHBvcnQgY29uc3QgQXJlYUNoYXJ0R3JhcGggPSBBcmVhQ2hhcnRHcmFwaEJhc2UgYXMgQXJlYUNoYXJ0R3JhcGhDb21wb25lbnQ7CgpleHBvcnQgaW50ZXJmYWNlIEFyZWFDaGFydExlZ2VuZFByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7fQoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydExlZ2VuZCA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCUFyZWFDaGFydExlZ2VuZFByb3BzCj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCWNvbnN0IHsgc2VyaWVzIH0gPSB1c2VBcmVhQ2hhcnRDb250ZXh0KCk7CgoJaWYgKCFzZXJpZXMubGVuZ3RoKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17cmVmfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2ZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMyBweC00IHBiLTQgcHQtMiB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtzZXJpZXMubWFwKChzZXJpZXNJdGVtKSA9PiAoCgkJCQk8ZGl2IGtleT17c2VyaWVzSXRlbS5pZH0gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CgkJCQkJPHNwYW4KCQkJCQkJY2xhc3NOYW1lPSJpbmxpbmUtZmxleCBoLTIuNSB3LTEgc2hyaW5rLTAgcm91bmRlZC1bMXB4XSIKCQkJCQkJc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBzZXJpZXNJdGVtLmNvbG9yIH19CgkJCQkJLz4KCQkJCQk8c3BhbiBjbGFzc05hbWU9InRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIj4KCQkJCQkJe3Nlcmllc0l0ZW0uc2VyaWVzTGFiZWx9CgkJCQkJPC9zcGFuPgoJCQkJPC9kaXY+CgkJCSkpfQoJCTwvZGl2PgoJKTsKfSk7CkFyZWFDaGFydExlZ2VuZC5kaXNwbGF5TmFtZSA9ICdBcmVhQ2hhcnRMZWdlbmQnOwoKZXhwb3J0IGludGVyZmFjZSBBcmVhQ2hhcnREYXRhVGFibGVQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IEFyZWFDaGFydERhdGFUYWJsZSA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCUFyZWFDaGFydERhdGFUYWJsZVByb3BzCj4oKHsgY2xhc3NOYW1lID0gJycsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQlyZWY9e3JlZn0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdiZy1jYXJkLW11dGVkLzMwIHNwYWNlLXktMiBib3JkZXItdCBib3JkZXItYm9yZGVyLzYwIHAtNCB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn0pOwpBcmVhQ2hhcnREYXRhVGFibGUuZGlzcGxheU5hbWUgPSAnQXJlYUNoYXJ0RGF0YVRhYmxlJzsKCmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNoYXJ0RGF0YVRhYmxlQ29udGVudFByb3BzPAoJVERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bSwKPiB7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglyb3dDbGFzc05hbWU/OiBzdHJpbmc7CglsYWJlbENsYXNzTmFtZT86IHN0cmluZzsKCXZhbHVlQ2xhc3NOYW1lPzogc3RyaW5nOwoJZGVsdGFDbGFzc05hbWU/OiBzdHJpbmc7CglzaG93RGVsdGE/OiBib29sZWFuOwoJZGVsdGFGb3JtYXR0ZXI/OiAoCgkJY3VycmVudDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LAoJCXByZXZpb3VzOiBBcmVhQ2hhcnRQb2ludDxURGF0YT4gfCBudWxsLAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZUZvcm1hdHRlcj86ICgKCQlwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LAoJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXNob3dUb3RhbFJvdz86IGJvb2xlYW47CglhdmVyYWdlTGFiZWw/OiBSZWFjdC5SZWFjdE5vZGU7CglhdmVyYWdlRm9ybWF0dGVyPzogKGF2ZXJhZ2U6IG51bWJlcikgPT4gUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgZnVuY3Rpb24gQXJlYUNoYXJ0RGF0YVRhYmxlQ29udGVudDwKCVREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0sCj4oewoJY2xhc3NOYW1lID0gJycsCglyb3dDbGFzc05hbWUsCglsYWJlbENsYXNzTmFtZSwKCXZhbHVlQ2xhc3NOYW1lLAoJZGVsdGFDbGFzc05hbWUsCglzaG93RGVsdGEgPSB0cnVlLAoJZGVsdGFGb3JtYXR0ZXIsCgl2YWx1ZUZvcm1hdHRlciwKCXNob3dUb3RhbFJvdyA9IHRydWUsCglhdmVyYWdlTGFiZWwgPSAnQXZlcmFnZScsCglhdmVyYWdlRm9ybWF0dGVyLAp9OiBBcmVhQ2hhcnREYXRhVGFibGVDb250ZW50UHJvcHM8VERhdGE+KSB7Cgljb25zdCB7IHBvaW50cywgdG90YWwsIGZvcm1hdFgsIGZvcm1hdFksIHlEb21haW4gfSA9CgkJdXNlQXJlYUNoYXJ0Q29udGV4dDxURGF0YT4oKTsKCglpZiAoIXBvaW50cy5sZW5ndGgpIHsKCQlyZXR1cm4gbnVsbDsKCX0KCgljb25zdCBhdmVyYWdlID0gdG90YWwgLyBwb2ludHMubGVuZ3RoOwoKCWNvbnN0IGJhc2VSb3dDbGFzcyA9IHNob3dEZWx0YQoJCT8gJ2dyaWQgZ3JpZC1jb2xzLVttaW5tYXgoMCwxZnIpX2F1dG9fYXV0b10gaXRlbXMtY2VudGVyIGdhcC0zJwoJCTogJ2dyaWQgZ3JpZC1jb2xzLVttaW5tYXgoMCwxZnIpX2F1dG9dIGl0ZW1zLWNlbnRlciBnYXAtMyc7CgoJdHlwZSBEZWx0YVRvbmUgPSAncG9zaXRpdmUnIHwgJ25lZ2F0aXZlJyB8ICduZXV0cmFsJyB8ICdjdXN0b20nOwoKCWNvbnN0IGZvcm1hdERlbHRhUGVyY2VudGFnZSA9IChyYXRpbzogbnVtYmVyKSA9PiB7CgkJY29uc3QgYWJzb2x1dGVSYXRpbyA9IE1hdGguYWJzKHJhdGlvKTsKCQljb25zdCBtYXhpbXVtRnJhY3Rpb25EaWdpdHMgPSBhYnNvbHV0ZVJhdGlvID49IDEwMCA/IDAgOiAxOwoJCWNvbnN0IG1pbmltdW1GcmFjdGlvbkRpZ2l0cyA9CgkJCWFic29sdXRlUmF0aW8gPiAwICYmIGFic29sdXRlUmF0aW8gPCAxID8gMSA6IDA7CgkJY29uc3QgZm9ybWF0dGVkTWFnbml0dWRlID0gYWJzb2x1dGVSYXRpby50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsKCQkJbWF4aW11bUZyYWN0aW9uRGlnaXRzLAoJCQltaW5pbXVtRnJhY3Rpb25EaWdpdHMsCgkJfSk7CgkJY29uc3QgcHJlZml4ID0gcmF0aW8gPiAwID8gJysnIDogcmF0aW8gPCAwID8gJ+KIkicgOiAnJzsKCQlyZXR1cm4gYCR7cHJlZml4fSR7Zm9ybWF0dGVkTWFnbml0dWRlfSVgOwoJfTsKCgljb25zdCByZXNvbHZlRGVsdGFUb25lQ2xhc3MgPSAodG9uZTogRGVsdGFUb25lKSA9PgoJCXRvbmUgPT09ICdwb3NpdGl2ZScKCQkJPyAndGV4dC1zdWNjZXNzLzkwJwoJCQk6IHRvbmUgPT09ICduZWdhdGl2ZScKCQkJCT8gJ3RleHQtZGVzdHJ1Y3RpdmUvOTAnCgkJCQk6ICd0ZXh0LWZvcmVncm91bmQvNDUnOwoKCWNvbnN0IHJvd3MgPSBwb2ludHMubWFwKChwb2ludDogQXJlYUNoYXJ0UG9pbnQ8VERhdGE+LCBpbmRleCkgPT4gewoJCWNvbnN0IHByZXZpb3VzID0gaW5kZXggPiAwID8gKHBvaW50c1tpbmRleCAtIDFdID8/IG51bGwpIDogbnVsbDsKCQljb25zdCByZXNvbHZlZFZhbHVlID0gdmFsdWVGb3JtYXR0ZXIKCQkJPyB2YWx1ZUZvcm1hdHRlcihwb2ludCwgeyB0b3RhbCwgZG9tYWluOiB5RG9tYWluIH0pCgkJCTogZm9ybWF0WShwb2ludCk7CgkJY29uc3QgZGVsdGE6IHsKCQkJY29udGVudDogUmVhY3QuUmVhY3ROb2RlOwoJCQl0b25lOiBEZWx0YVRvbmU7CgkJCXJhdGlvOiBudW1iZXIgfCBudWxsOwoJCX0gPSAoKCkgPT4gewoJCQlpZiAoIXNob3dEZWx0YSkgewoJCQkJcmV0dXJuIHsgY29udGVudDogbnVsbCwgdG9uZTogJ25ldXRyYWwnLCByYXRpbzogbnVsbCB9OwoJCQl9CgkJCWlmIChkZWx0YUZvcm1hdHRlcikgewoJCQkJcmV0dXJuIHsKCQkJCQljb250ZW50OiBkZWx0YUZvcm1hdHRlcihwb2ludCwgcHJldmlvdXMpLAoJCQkJCXRvbmU6ICdjdXN0b20nLAoJCQkJCXJhdGlvOiBudWxsLAoJCQkJfTsKCQkJfQoJCQlpZiAoCgkJCQkhcHJldmlvdXMgfHwKCQkJCSFOdW1iZXIuaXNGaW5pdGUocHJldmlvdXMudmFsdWUpIHx8CgkJCQlwcmV2aW91cy52YWx1ZSA9PT0gMAoJCQkpIHsKCQkJCXJldHVybiB7IGNvbnRlbnQ6ICfigJQnLCB0b25lOiAnbmV1dHJhbCcsIHJhdGlvOiBudWxsIH07CgkJCX0KCQkJY29uc3QgY2hhbmdlID0gcG9pbnQudmFsdWUgLSBwcmV2aW91cy52YWx1ZTsKCQkJY29uc3QgcmF0aW8gPSAoY2hhbmdlIC8gTWF0aC5hYnMocHJldmlvdXMudmFsdWUpKSAqIDEwMDsKCQkJaWYgKCFOdW1iZXIuaXNGaW5pdGUocmF0aW8pKSB7CgkJCQlyZXR1cm4geyBjb250ZW50OiAn4oCUJywgdG9uZTogJ25ldXRyYWwnLCByYXRpbzogbnVsbCB9OwoJCQl9CgkJCWNvbnN0IHRvbmUgPQoJCQkJcmF0aW8gPiAwCgkJCQkJPyAoJ3Bvc2l0aXZlJyBhcyBjb25zdCkKCQkJCQk6IHJhdGlvIDwgMAoJCQkJCQk/ICgnbmVnYXRpdmUnIGFzIGNvbnN0KQoJCQkJCQk6ICgnbmV1dHJhbCcgYXMgY29uc3QpOwoJCQlyZXR1cm4gewoJCQkJY29udGVudDogZm9ybWF0RGVsdGFQZXJjZW50YWdlKHJhdGlvKSwKCQkJCXRvbmUsCgkJCQlyYXRpbywKCQkJfTsKCQl9KSgpOwoKCQlyZXR1cm4gewoJCQlwb2ludCwKCQkJcmVzb2x2ZWRWYWx1ZSwKCQkJZGVsdGEsCgkJfTsKCX0pOwoKCWNvbnN0IHsgc3VtOiBkZWx0YVN1bSwgY291bnQ6IGRlbHRhQ291bnQgfSA9IHNob3dEZWx0YQoJCT8gcm93cy5yZWR1Y2U8eyBzdW06IG51bWJlcjsgY291bnQ6IG51bWJlciB9PigKCQkJCShhY2MsIHJvdykgPT4gewoJCQkJCWlmIChyb3cuZGVsdGEucmF0aW8gIT09IG51bGwpIHsKCQkJCQkJYWNjLnN1bSArPSByb3cuZGVsdGEucmF0aW87CgkJCQkJCWFjYy5jb3VudCArPSAxOwoJCQkJCX0KCQkJCQlyZXR1cm4gYWNjOwoJCQkJfSwKCQkJCXsgc3VtOiAwLCBjb3VudDogMCB9LAoJCQkpCgkJOiB7IHN1bTogMCwgY291bnQ6IDAgfTsKCgljb25zdCBhdmVyYWdlRGVsdGEgPQoJCXNob3dEZWx0YSAmJiBkZWx0YUNvdW50ID4gMCA/IGRlbHRhU3VtIC8gZGVsdGFDb3VudCA6IG51bGw7CgoJY29uc3QgYXZlcmFnZURlbHRhVG9uZSA9CgkJYXZlcmFnZURlbHRhICE9PSBudWxsCgkJCT8gYXZlcmFnZURlbHRhID4gMAoJCQkJPyAoJ3Bvc2l0aXZlJyBhcyBjb25zdCkKCQkJCTogYXZlcmFnZURlbHRhIDwgMAoJCQkJCT8gKCduZWdhdGl2ZScgYXMgY29uc3QpCgkJCQkJOiAoJ25ldXRyYWwnIGFzIGNvbnN0KQoJCQk6ICgnbmV1dHJhbCcgYXMgY29uc3QpOwoKCWNvbnN0IGF2ZXJhZ2VEZWx0YUNvbnRlbnQgPQoJCXNob3dEZWx0YSAmJiBhdmVyYWdlRGVsdGEgIT09IG51bGwKCQkJPyBmb3JtYXREZWx0YVBlcmNlbnRhZ2UoYXZlcmFnZURlbHRhKQoJCQk6IHNob3dEZWx0YQoJCQkJPyAn4oCUJwoJCQkJOiBudWxsOwoKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NuKCdzcGFjZS15LTInLCBjbGFzc05hbWUpfT4KCQkJe3Jvd3MubWFwKCh7IHBvaW50LCByZXNvbHZlZFZhbHVlLCBkZWx0YSB9KSA9PiB7CgkJCQlyZXR1cm4gKAoJCQkJCTxkaXYga2V5PXtwb2ludC5pZH0gY2xhc3NOYW1lPXtjbihiYXNlUm93Q2xhc3MsIHJvd0NsYXNzTmFtZSl9PgoJCQkJCQk8ZGl2CgkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LWZvcmVncm91bmQvNzAnLAoJCQkJCQkJCWxhYmVsQ2xhc3NOYW1lLAoJCQkJCQkJKX0KCQkJCQkJPgoJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0cnVuY2F0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtIj4KCQkJCQkJCQl7Zm9ybWF0WChwb2ludCl9CgkJCQkJCQk8L3NwYW4+CgkJCQkJCTwvZGl2PgoJCQkJCQk8c3BhbgoJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQknaW5saW5lLWZsZXggbWluLXctMTAganVzdGlmeS1lbmQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1yaWdodCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCB0YWJ1bGFyLW51bXMnLAoJCQkJCQkJCXZhbHVlQ2xhc3NOYW1lLAoJCQkJCQkJKX0KCQkJCQkJPgoJCQkJCQkJe3Jlc29sdmVkVmFsdWV9CgkJCQkJCTwvc3Bhbj4KCQkJCQkJe3Nob3dEZWx0YSA/ICgKCQkJCQkJCTxzcGFuCgkJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQkJJ2lubGluZS1mbGV4IG1pbi13LTE0IGp1c3RpZnktZW5kIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtcmlnaHQgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0YWJ1bGFyLW51bXMnLAoJCQkJCQkJCQlyZXNvbHZlRGVsdGFUb25lQ2xhc3MoZGVsdGEudG9uZSksCgkJCQkJCQkJCWRlbHRhQ2xhc3NOYW1lLAoJCQkJCQkJCSl9CgkJCQkJCQk+CgkJCQkJCQkJe2RlbHRhLmNvbnRlbnR9CgkJCQkJCQk8L3NwYW4+CgkJCQkJCSkgOiBudWxsfQoJCQkJCTwvZGl2PgoJCQkJKTsKCQkJfSl9CgkJCXtzaG93VG90YWxSb3cgPyAoCgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJc2hvd0RlbHRhCgkJCQkJCQk/ICdncmlkIGdyaWQtY29scy1bbWlubWF4KDAsMWZyKV9hdXRvX2F1dG9dIGl0ZW1zLWNlbnRlciBnYXAtMyBib3JkZXItdCBib3JkZXItYm9yZGVyLzYwIHB0LTMgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQnCgkJCQkJCQk6ICdncmlkIGdyaWQtY29scy1bbWlubWF4KDAsMWZyKV9hdXRvXSBpdGVtcy1jZW50ZXIgZ2FwLTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBwdC0zIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJywKCQkJCQkJcm93Q2xhc3NOYW1lLAoJCQkJCSl9CgkJCQk+CgkJCQkJPHNwYW4+e2F2ZXJhZ2VMYWJlbH08L3NwYW4+CgkJCQkJPHNwYW4KCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCSdpbmxpbmUtZmxleCBtaW4tdy0xMCBqdXN0aWZ5LWVuZCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXJpZ2h0IHRhYnVsYXItbnVtcycsCgkJCQkJCQl2YWx1ZUNsYXNzTmFtZSwKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCXthdmVyYWdlRm9ybWF0dGVyPy4oYXZlcmFnZSkgPz8KCQkJCQkJCWF2ZXJhZ2UudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX0KCQkJCQk8L3NwYW4+CgkJCQkJe3Nob3dEZWx0YSA/ICgKCQkJCQkJPHNwYW4KCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJJ2lubGluZS1mbGV4IG1pbi13LTE0IGp1c3RpZnktZW5kIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtcmlnaHQgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0YWJ1bGFyLW51bXMnLAoJCQkJCQkJCXJlc29sdmVEZWx0YVRvbmVDbGFzcyhhdmVyYWdlRGVsdGFUb25lKSwKCQkJCQkJCQlkZWx0YUNsYXNzTmFtZSwKCQkJCQkJCSl9CgkJCQkJCT4KCQkJCQkJCXthdmVyYWdlRGVsdGFDb250ZW50fQoJCQkJCQk8L3NwYW4+CgkJCQkJKSA6IG51bGx9CgkJCQk8L2Rpdj4KCQkJKSA6IG51bGx9CgkJPC9kaXY+CgkpOwp9CgpleHBvcnQgY29uc3QgQXJlYUNoYXJ0ID0gQXJlYUNoYXJ0Um9vdDs="
,
  "avatar.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvbGliL2ljb25zJzsKCmNvbnN0IGF2YXRhclZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInLAoJCSdiZy1jYXJkLW11dGVkJywKCQkndGV4dC1mb3JlZ3JvdW5kLzcwJywKCQknZm9udC1tZWRpdW0gc2VsZWN0LW5vbmUnLAoJCSdub3QtcHJvc2UnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQljaXJjbGU6ICdyb3VuZGVkLWZ1bGwnLAoJCQkJc3F1YXJlOiAncm91bmRlZC1sZycsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXhzOiAnaC02IHctNicsCgkJCQlzbTogJ2gtOCB3LTgnLAoJCQkJbWQ6ICdoLTEwIHctMTAnLAoJCQkJbGc6ICdoLTEyIHctMTInLAoJCQkJeGw6ICdoLTE2IHctMTYnLAoJCQkJJzJ4bCc6ICdoLTIwIHctMjAnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdjaXJjbGUnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgdGV4dFZhcmlhbnRzID0gY3ZhKCdmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAnLCB7Cgl2YXJpYW50czogewoJCXNpemU6IHsKCQkJeHM6ICd0ZXh0LXhzJywKCQkJc206ICd0ZXh0LXhzJywKCQkJbWQ6ICd0ZXh0LXNtJywKCQkJbGc6ICd0ZXh0LWJhc2UnLAoJCQl4bDogJ3RleHQtbGcnLAoJCQknMnhsJzogJ3RleHQteGwnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKY29uc3QgaWNvblZhcmlhbnRzID0gY3ZhKCd0ZXh0LWZvcmVncm91bmQvNDUnLCB7Cgl2YXJpYW50czogewoJCXNpemU6IHsKCQkJeHM6ICdoLTMgdy0zJywKCQkJc206ICdoLTQgdy00JywKCQkJbWQ6ICdoLTUgdy01JywKCQkJbGc6ICdoLTYgdy02JywKCQkJeGw6ICdoLTggdy04JywKCQkJJzJ4bCc6ICdoLTEwIHctMTAnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKY29uc3Qgc3RhdHVzVmFyaWFudHMgPSBjdmEoJ2Fic29sdXRlIHJvdW5kZWQtZnVsbCByaW5nLXJpbmctb2Zmc2V0JywgewoJdmFyaWFudHM6IHsKCQlzdGF0dXM6IHsKCQkJb25saW5lOiAnYmctc3VjY2VzcycsCgkJCW9mZmxpbmU6ICdiZy1mb3JlZ3JvdW5kLXN1YnRsZScsCgkJCWF3YXk6ICdiZy13YXJuaW5nJywKCQkJYnVzeTogJ2JnLWRlc3RydWN0aXZlJywKCQl9LAoJCXNpemU6IHsKCQkJeHM6ICdyaWdodC0wIGJvdHRvbS0wIGgtMS41IHctMS41IHJpbmctMScsCgkJCXNtOiAncmlnaHQtMCBib3R0b20tMCBoLTIgdy0yIHJpbmctMScsCgkJCW1kOiAncmlnaHQtMC41IGJvdHRvbS0wLjUgaC0yLjUgdy0yLjUgcmluZy0xJywKCQkJbGc6ICdyaWdodC0wLjUgYm90dG9tLTAuNSBoLTMgdy0zIHJpbmctMScsCgkJCXhsOiAncmlnaHQtMSBib3R0b20tMSBoLTMuNSB3LTMuNSByaW5nLTEnLAoJCQknMnhsJzogJ3JpZ2h0LTEgYm90dG9tLTEgaC00IHctNCByaW5nLTEnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKZXhwb3J0IGludGVyZmFjZSBBdmF0YXJQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBhdmF0YXJWYXJpYW50cz4gewoJc3JjPzogc3RyaW5nOwoJYWx0Pzogc3RyaW5nOwoJZmFsbGJhY2s/OiBzdHJpbmc7CglzdGF0dXM/OiAnb25saW5lJyB8ICdvZmZsaW5lJyB8ICdhd2F5JyB8ICdidXN5JyB8IG51bGw7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBBdmF0YXI6IFJlYWN0LkZDPEF2YXRhclByb3BzPiA9ICh7CglzcmMsCglhbHQgPSAnJywKCWZhbGxiYWNrLAoJc2l6ZSA9ICdtZCcsCgl2YXJpYW50ID0gJ2NpcmNsZScsCglzdGF0dXMgPSBudWxsLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBbaW1hZ2VFcnJvciwgc2V0SW1hZ2VFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7CgoJdXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoc3JjKSB7CgkJCXNldEltYWdlRXJyb3IoZmFsc2UpOwoJCX0KCX0sIFtzcmNdKTsKCgljb25zdCBoYW5kbGVJbWFnZUVycm9yID0gKCkgPT4gewoJCXNldEltYWdlRXJyb3IodHJ1ZSk7Cgl9OwoKCWNvbnN0IGdldEluaXRpYWxzID0gKCkgPT4gewoJCWNvbnN0IHRleHQgPSBmYWxsYmFjayB8fCBhbHQgfHwgJyc7CgkJaWYgKCF0ZXh0KSByZXR1cm4gJyc7CgoJCWlmICh0ZXh0Lmxlbmd0aCA8PSAyICYmICF0ZXh0LmluY2x1ZGVzKCcgJykpIHsKCQkJcmV0dXJuIHRleHQudG9VcHBlckNhc2UoKTsKCQl9CgoJCXJldHVybiB0ZXh0CgkJCS5zcGxpdCgnICcpCgkJCS5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApKQoJCQkuam9pbignJykKCQkJLnRvVXBwZXJDYXNlKCkKCQkJLnNsaWNlKDAsIDIpOwoJfTsKCgljb25zdCBzaG93SW1hZ2UgPSBzcmMgJiYgIWltYWdlRXJyb3I7Cgljb25zdCBzaG93SW5pdGlhbHMgPSAhc2hvd0ltYWdlICYmIGdldEluaXRpYWxzKCk7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCWNsYXNzTmFtZT17Y24oYXZhdGFyVmFyaWFudHMoeyB2YXJpYW50LCBzaXplIH0pLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7c2hvd0ltYWdlICYmICgKCQkJCS8qIGJpb21lLWlnbm9yZSBsaW50L3BlcmZvcm1hbmNlL25vSW1nRWxlbWVudDogbmF0aXZlIGltZyBpcyBpbnRlbnRpb25hbCBoZXJlICovCgkJCQk8aW1nCgkJCQkJc3JjPXtzcmN9CgkJCQkJYWx0PXthbHR9CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ2gtZnVsbCB3LWZ1bGwgb2JqZWN0LWNvdmVyJywKCQkJCQkJdmFyaWFudCA9PT0gJ2NpcmNsZScgPyAncm91bmRlZC1mdWxsJyA6ICdyb3VuZGVkLWxnJywKCQkJCQkpfQoJCQkJCW9uRXJyb3I9e2hhbmRsZUltYWdlRXJyb3J9CgkJCQkJbG9hZGluZz0iZWFnZXIiCgkJCQkJc3R5bGU9e3sKCQkJCQkJdGV4dEluZGVudDogJy05OTk5cHgnLAoJCQkJCQlvdmVyZmxvdzogJ2hpZGRlbicsCgkJCQkJfX0KCQkJCS8+CgkJCSl9CgoJCQk8QXJpYWtpdC5WaXN1YWxseUhpZGRlbj57YCR7Z2V0SW5pdGlhbHMoKX0gQXZhdGFyYH08L0FyaWFraXQuVmlzdWFsbHlIaWRkZW4+CgoJCQl7c2hvd0luaXRpYWxzICYmICgKCQkJCTxzcGFuIGNsYXNzTmFtZT17dGV4dFZhcmlhbnRzKHsgc2l6ZSB9KX0+e2dldEluaXRpYWxzKCl9PC9zcGFuPgoJCQkpfQoKCQkJeyFzaG93SW1hZ2UgJiYgIXNob3dJbml0aWFscyAmJiAoCgkJCQk8SWNvbnMuVXNlciBhcmlhLWhpZGRlbj0idHJ1ZSIgY2xhc3NOYW1lPXtpY29uVmFyaWFudHMoeyBzaXplIH0pfSAvPgoJCQkpfQoKCQkJe3N0YXR1cyAmJiAoCgkJCQk8c3BhbiBjbGFzc05hbWU9e3N0YXR1c1ZhcmlhbnRzKHsgc3RhdHVzLCBzaXplIH0pfSBhcmlhLWhpZGRlbj0idHJ1ZSIgLz4KCQkJKX0KCQk8L2Rpdj4KCSk7Cn07"
,
  "badge.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBiYWRnZVZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGZvbnQtbWVkaXVtJywKCQknc2hyaW5rLTAgWyY+c3ZnXTpzaXplLTMgZ2FwLTEgWyY+c3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lJywKCQknd2hpdGVzcGFjZS1ub3dyYXAgc2hhZG93LXNtIGNhcmQtaGlnaGxpZ2h0JywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogWwoJCQkJCSdiZy1mb3JlZ3JvdW5kLzkwJywKCQkJCQkndGV4dC1iYWNrZ3JvdW5kJywKCQkJCQknaG92ZXI6YmctZm9yZWdyb3VuZC83NScsCgkJCQldLAoJCQkJc2Vjb25kYXJ5OiBbCgkJCQkJJ2JnLWNhcmQnLAoJCQkJCSd0ZXh0LWZvcmVncm91bmQnLAoJCQkJCSdob3ZlcjpiZy1jYXJkLW11dGVkJywKCQkJCQknYm9yZGVyIGJvcmRlci1ib3JkZXInLAoJCQkJXSwKCQkJCWRlc3RydWN0aXZlOiBbCgkJCQkJJ2JnLWRlc3RydWN0aXZlLzEwJywKCQkJCQkndGV4dC1kZXN0cnVjdGl2ZS85MCcsCgkJCQkJJ2hvdmVyOmJnLWRlc3RydWN0aXZlLzI1JywKCQkJCQknYm9yZGVyIGJvcmRlci1kZXN0cnVjdGl2ZS80MCcsCgkJCQldLAoJCQkJc3VjY2VzczogWwoJCQkJCSdiZy1zdWNjZXNzLzEwJywKCQkJCQkndGV4dC1zdWNjZXNzLzkwJywKCQkJCQknaG92ZXI6Ymctc3VjY2Vzcy8yNScsCgkJCQkJJ2JvcmRlciBib3JkZXItc3VjY2Vzcy80MCcsCgkJCQldLAoJCQkJd2FybmluZzogWwoJCQkJCSdiZy13YXJuaW5nLzEwJywKCQkJCQkndGV4dC13YXJuaW5nLzkwJywKCQkJCQknaG92ZXI6Ymctd2FybmluZy8yNScsCgkJCQkJJ2JvcmRlciBib3JkZXItd2FybmluZy80MCcsCgkJCQldLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ3B4LTEuNSBweS0wLjI1IHRleHQteHMnLAoJCQkJbWQ6ICdweC0yIHB5LTAuNSB0ZXh0LXhzJywKCQkJCWxnOiAncHgtMi41IHB5LTEgdGV4dC1zbScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBCYWRnZVByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxTcGFuRWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBiYWRnZVZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgQmFkZ2U6IFJlYWN0LkZDPEJhZGdlUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxzcGFuCgkJCWNsYXNzTmFtZT17Y24oYmFkZ2VWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L3NwYW4+CgkpOwp9Ow=="
,
  "breadcrumb.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhIH0gZnJvbSAnY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5JzsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBicmVhZGNydW1iVmFyaWFudHMgPSBjdmEoJ2ZsZXggaXRlbXMtY2VudGVyJywgewoJdmFyaWFudHM6IHsKCQlzaXplOiB7CgkJCXNtOiAndGV4dC14cycsCgkJCW1kOiAndGV4dC1zbScsCgkJCWxnOiAndGV4dC1iYXNlJywKCQl9LAoJfSwKCWRlZmF1bHRWYXJpYW50czogewoJCXNpemU6ICdtZCcsCgl9LAp9KTsKCmNvbnN0IGJyZWFkY3J1bWJMaXN0VmFyaWFudHMgPSBjdmEoJ2ZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlcicsIHsKCXZhcmlhbnRzOiB7CgkJc2l6ZTogewoJCQlzbTogJ2dhcC0xJywKCQkJbWQ6ICdnYXAtMS41JywKCQkJbGc6ICdnYXAtMicsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQlzaXplOiAnbWQnLAoJfSwKfSk7Cgpjb25zdCBicmVhZGNydW1iSXRlbVZhcmlhbnRzID0gY3ZhKCdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXInLCB7Cgl2YXJpYW50czogewoJCXNpemU6IHsKCQkJc206ICdnYXAtMScsCgkJCW1kOiAnZ2FwLTEuNScsCgkJCWxnOiAnZ2FwLTInLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKY29uc3QgYnJlYWRjcnVtYkxpbmtWYXJpYW50cyA9IGN2YSgKCVsKCQknaW5saW5lLWZsZXggaXRlbXMtY2VudGVyJywKCQkndGV4dC1mb3JlZ3JvdW5kLzcwIGhvdmVyOnRleHQtZm9yZWdyb3VuZCcsCgkJJ3RyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsY29sb3IsYm94LXNoYWRvdyxvcGFjaXR5LHRleHQtZGVjb3JhdGlvbi1jb2xvcl0gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAnLAoJCSdmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJJ3JvdW5kZWQtbWQnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiBbCgkJCQkJJ3VuZGVybGluZSB1bmRlcmxpbmUtb2Zmc2V0LTQgZGVjb3JhdGlvbi10cmFuc3BhcmVudCBob3ZlcjpkZWNvcmF0aW9uLWN1cnJlbnQnLAoJCQkJXSwKCQkJCWdob3N0OiBbJ2hvdmVyOmJnLWNhcmQtbXV0ZWQnLCAncm91bmRlZC1tZCBweC0yIHB5LTEnXSwKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICd0ZXh0LXhzJywKCQkJCW1kOiAndGV4dC1zbScsCgkJCQlsZzogJ3RleHQtYmFzZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgYnJlYWRjcnVtYlBhZ2VWYXJpYW50cyA9IGN2YSgnZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJywgewoJdmFyaWFudHM6IHsKCQlzaXplOiB7CgkJCXNtOiAndGV4dC14cycsCgkJCW1kOiAndGV4dC1zbScsCgkJCWxnOiAndGV4dC1iYXNlJywKCQl9LAoJfSwKCWRlZmF1bHRWYXJpYW50czogewoJCXNpemU6ICdtZCcsCgl9LAp9KTsKCmNvbnN0IGJyZWFkY3J1bWJTZXBhcmF0b3JWYXJpYW50cyA9IGN2YSgndGV4dC1mb3JlZ3JvdW5kLzQ1IHNlbGVjdC1ub25lJywgewoJdmFyaWFudHM6IHsKCQlzaXplOiB7CgkJCXNtOiAndGV4dC14cycsCgkJCW1kOiAndGV4dC1zbScsCgkJCWxnOiAndGV4dC1iYXNlJywKCQl9LAoJfSwKCWRlZmF1bHRWYXJpYW50czogewoJCXNpemU6ICdtZCcsCgl9LAp9KTsKCmV4cG9ydCBpbnRlcmZhY2UgQnJlYWRjcnVtYlByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCduYXYnPiwgJ3NpemUnPiB7CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJc2VwYXJhdG9yPzogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIEJyZWFkY3J1bWJMaXN0UHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8J29sJz4sICdzaXplJz4gewoJc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJzsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBCcmVhZGNydW1iSXRlbVByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCdsaSc+LCAnc2l6ZSc+IHsKCXNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQnJlYWRjcnVtYkxpbmtQcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnYSc+LCAnc2l6ZSc+IHsKCXZhcmlhbnQ/OiAnZGVmYXVsdCcgfCAnZ2hvc3QnOwoJc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJzsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWFzQ2hpbGQ/OiBib29sZWFuOwp9CgpleHBvcnQgaW50ZXJmYWNlIEJyZWFkY3J1bWJQYWdlUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8J3NwYW4nPiwgJ3NpemUnPiB7CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIEJyZWFkY3J1bWJTZXBhcmF0b3JQcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnbGknPiwgJ3NpemUnPiB7CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQnJlYWRjcnVtYkVsbGlwc2lzUHJvcHMKCWV4dGVuZHMgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCdzcGFuJz4gewoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgpjb25zdCBCcmVhZGNydW1iQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8ewoJc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJzsKCXNlcGFyYXRvcj86IFJlYWN0LlJlYWN0Tm9kZTsKfT4oe30pOwoKZXhwb3J0IGNvbnN0IEJyZWFkY3J1bWI6IFJlYWN0LkZDPEJyZWFkY3J1bWJQcm9wcz4gPSAoewoJc2l6ZSA9ICdtZCcsCglzZXBhcmF0b3IgPSAnLycsCgljbGFzc05hbWUsCgljaGlsZHJlbiwKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPEJyZWFkY3J1bWJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHNpemUsIHNlcGFyYXRvciB9fT4KCQkJPG5hdgoJCQkJYXJpYS1sYWJlbD0iQnJlYWRjcnVtYiIKCQkJCWNsYXNzTmFtZT17Y24oYnJlYWRjcnVtYlZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJCXsuLi5wcm9wc30KCQkJPgoJCQkJe2NoaWxkcmVufQoJCQk8L25hdj4KCQk8L0JyZWFkY3J1bWJDb250ZXh0LlByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBCcmVhZGNydW1iTGlzdDogUmVhY3QuRkM8QnJlYWRjcnVtYkxpc3RQcm9wcz4gPSAoewoJc2l6ZSwKCWNsYXNzTmFtZSwKCWNoaWxkcmVuLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQnJlYWRjcnVtYkNvbnRleHQpOwoJY29uc3QgZWZmZWN0aXZlU2l6ZSA9IHNpemUgPz8gY29udGV4dC5zaXplID8/ICdtZCc7CgoJcmV0dXJuICgKCQk8b2wKCQkJY2xhc3NOYW1lPXtjbihicmVhZGNydW1iTGlzdFZhcmlhbnRzKHsgc2l6ZTogZWZmZWN0aXZlU2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvb2w+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEJyZWFkY3J1bWJJdGVtOiBSZWFjdC5GQzxCcmVhZGNydW1iSXRlbVByb3BzPiA9ICh7CglzaXplLAoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChCcmVhZGNydW1iQ29udGV4dCk7Cgljb25zdCBlZmZlY3RpdmVTaXplID0gc2l6ZSA/PyBjb250ZXh0LnNpemUgPz8gJ21kJzsKCglyZXR1cm4gKAoJCTxsaQoJCQljbGFzc05hbWU9e2NuKGJyZWFkY3J1bWJJdGVtVmFyaWFudHMoeyBzaXplOiBlZmZlY3RpdmVTaXplIH0pLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9saT4KCSk7Cn07CgpleHBvcnQgY29uc3QgQnJlYWRjcnVtYkxpbms6IFJlYWN0LkZDPEJyZWFkY3J1bWJMaW5rUHJvcHM+ID0gKHsKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplLAoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChCcmVhZGNydW1iQ29udGV4dCk7Cgljb25zdCBlZmZlY3RpdmVTaXplID0gc2l6ZSA/PyBjb250ZXh0LnNpemUgPz8gJ21kJzsKCglyZXR1cm4gKAoJCTxhCgkJCWNsYXNzTmFtZT17Y24oCgkJCQlicmVhZGNydW1iTGlua1ZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZTogZWZmZWN0aXZlU2l6ZSB9KSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvYT4KCSk7Cn07CgpleHBvcnQgY29uc3QgQnJlYWRjcnVtYlBhZ2U6IFJlYWN0LkZDPEJyZWFkY3J1bWJQYWdlUHJvcHM+ID0gKHsKCXNpemUsCgljbGFzc05hbWUsCgljaGlsZHJlbiwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KEJyZWFkY3J1bWJDb250ZXh0KTsKCWNvbnN0IGVmZmVjdGl2ZVNpemUgPSBzaXplID8/IGNvbnRleHQuc2l6ZSA/PyAnbWQnOwoKCXJldHVybiAoCgkJPHNwYW4KCQkJYXJpYS1jdXJyZW50PSJwYWdlIgoJCQljbGFzc05hbWU9e2NuKGJyZWFkY3J1bWJQYWdlVmFyaWFudHMoeyBzaXplOiBlZmZlY3RpdmVTaXplIH0pLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9zcGFuPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBCcmVhZGNydW1iU2VwYXJhdG9yOiBSZWFjdC5GQzxCcmVhZGNydW1iU2VwYXJhdG9yUHJvcHM+ID0gKHsKCXNpemUsCgljbGFzc05hbWUsCgljaGlsZHJlbiwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KEJyZWFkY3J1bWJDb250ZXh0KTsKCWNvbnN0IGVmZmVjdGl2ZVNpemUgPSBzaXplID8/IGNvbnRleHQuc2l6ZSA/PyAnbWQnOwoJY29uc3Qgc2VwYXJhdG9yID0gY2hpbGRyZW4gPz8gY29udGV4dC5zZXBhcmF0b3IgPz8gJy8nOwoKCXJldHVybiAoCgkJPGxpCgkJCXJvbGU9InByZXNlbnRhdGlvbiIKCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCWNsYXNzTmFtZT17Y24oCgkJCQlicmVhZGNydW1iU2VwYXJhdG9yVmFyaWFudHMoeyBzaXplOiBlZmZlY3RpdmVTaXplIH0pLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7c2VwYXJhdG9yfQoJCTwvbGk+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEJyZWFkY3J1bWJFbGxpcHNpczogUmVhY3QuRkM8QnJlYWRjcnVtYkVsbGlwc2lzUHJvcHM+ID0gKHsKCWNsYXNzTmFtZSwKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPHNwYW4KCQkJY2xhc3NOYW1lPXtjbignZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlcicsIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCTxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+TW9yZTwvc3Bhbj4KCQkJPHNwYW4KCQkJCXJvbGU9InByZXNlbnRhdGlvbiIKCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJY2xhc3NOYW1lPSJmbGV4IGgtOSB3LTkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIgoJCQk+CgkJCQk8c3ZnCgkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJY2xhc3NOYW1lPSJoLTQgdy00IgoJCQkJCWZpbGw9Im5vbmUiCgkJCQkJc3Ryb2tlPSJjdXJyZW50Q29sb3IiCgkJCQkJdmlld0JveD0iMCAwIDI0IDI0IgoJCQkJCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKCQkJCT4KCQkJCQk8cGF0aAoJCQkJCQlzdHJva2VMaW5lY2FwPSJyb3VuZCIKCQkJCQkJc3Ryb2tlTGluZWpvaW49InJvdW5kIgoJCQkJCQlzdHJva2VXaWR0aD17Mn0KCQkJCQkJZD0iTTUgMTJoLjAxTTEyIDEyaC4wMU0xOSAxMmguMDEiCgkJCQkJLz4KCQkJCTwvc3ZnPgoJCQk8L3NwYW4+CgkJPC9zcGFuPgoJKTsKfTs="
,
  "button-group.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgYnV0dG9uR3JvdXBWYXJpYW50cyA9IGN2YSgKCVsKCQkndy1maXQgcmVsYXRpdmUgaW5saW5lLWZsZXggcm91bmRlZC1tZCBib3JkZXIgdGV4dC1zbSBmb250LW1lZGl1bSBiZy1jYXJkIHNoYWRvdy1zbSBjYXJkLWhpZ2hsaWdodCBzZWxlY3Qtbm9uZScsCgkJJ2Rpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgZGlzYWJsZWQ6b3BhY2l0eS01MCBmbGV4IHRleHQtZm9yZWdyb3VuZCBib3JkZXItYm9yZGVyJywKCQknWyY+W2RhdGEtYnV0dG9uLWdyb3VwLWl0ZW1dOmZpcnN0LW9mLXR5cGVdOnJvdW5kZWQtbC1tZCBbJj5bZGF0YS1idXR0b24tZ3JvdXAtaXRlbV06bGFzdC1vZi10eXBlXTpyb3VuZGVkLXItbWQnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogJ3RleHQteHMnLAoJCQkJbWQ6ICd0ZXh0LXNtJywKCQkJCWxnOiAndGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgQnV0dG9uR3JvdXBJdGVtVmFyaWFudHMgPSBjdmEoCglbCgkJJ2ZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1jYXJkLW11dGVkJywKCQkiWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNCBzaHJpbmstMCBbJl9zdmddOnNocmluay0wIiwKCQkndHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixib3gtc2hhZG93XSBlYXNlLW91dC1xdWFkIGR1cmF0aW9uLTEwMCcsCgkJJ2ZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQknYm9yZGVyLWwgYm9yZGVyLWJvcmRlciBmaXJzdDpib3JkZXItbC0wJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdoLTggcHgtMyBweS0xLjUgcHgtMyBnYXAtMS41IGhhcy1bPnN2Z106cHgtMi41JywKCQkJCW1kOiAnaC05IHB4LTQgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTMnLAoJCQkJbGc6ICdoLTEwIHB4LTYgZ2FwLTIgaGFzLVs+c3ZnXTpweC00JywKCQkJfSwKCQkJYWN0aXZlOiB7CgkJCQl0cnVlOiAnYmctY2FyZC1tdXRlZCcsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCnR5cGUgQnV0dG9uR3JvdXBTaXplID0gTm9uTnVsbGFibGU8CglWYXJpYW50UHJvcHM8dHlwZW9mIGJ1dHRvbkdyb3VwVmFyaWFudHM+WydzaXplJ10KPjsKCmludGVyZmFjZSBCdXR0b25Hcm91cENvbnRleHRWYWx1ZSB7CglzaXplOiBCdXR0b25Hcm91cFNpemU7CglkaXNhYmxlZDogYm9vbGVhbjsKfQoKY29uc3QgQnV0dG9uR3JvdXBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxCdXR0b25Hcm91cENvbnRleHRWYWx1ZSB8IG51bGw+KAoJbnVsbCwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uR3JvdXBQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CglzaXplPzogQnV0dG9uR3JvdXBTaXplOwoJZGlzYWJsZWQ/OiBib29sZWFuOwp9CgpleHBvcnQgY29uc3QgQnV0dG9uR3JvdXAgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBCdXR0b25Hcm91cFByb3BzPigKCSh7IHNpemUgPSAnbWQnLCBkaXNhYmxlZCA9IGZhbHNlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCQljb25zdCBjb250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKAoJCQkoKSA9PiAoewoJCQkJc2l6ZSwKCQkJCWRpc2FibGVkLAoJCQl9KSwKCQkJW3NpemUsIGRpc2FibGVkXSwKCQkpOwoKCQlyZXR1cm4gKAoJCQk8QnV0dG9uR3JvdXBDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWV9PgoJCQkJPGRpdgoJCQkJCXJlZj17cmVmfQoJCQkJCXJvbGU9InRvb2xiYXIiCgkJCQkJYXJpYS1kaXNhYmxlZD17ZGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCQkJCWNsYXNzTmFtZT17Y24oYnV0dG9uR3JvdXBWYXJpYW50cyh7IHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCQkJey4uLnByb3BzfQoJCQkJPgoJCQkJCXtjaGlsZHJlbn0KCQkJCTwvZGl2PgoJCQk8L0J1dHRvbkdyb3VwQ29udGV4dC5Qcm92aWRlcj4KCQkpOwoJfSwKKTsKQnV0dG9uR3JvdXAuZGlzcGxheU5hbWUgPSAnQnV0dG9uR3JvdXAnOwoKZXhwb3J0IGludGVyZmFjZSBCdXR0b25Hcm91cEl0ZW1Qcm9wcwoJZXh0ZW5kcyBPbWl0PEFyaWFraXQuQnV0dG9uUHJvcHMsICdjbGFzc05hbWUnIHwgJ2NoaWxkcmVuJyB8ICdyZW5kZXInPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJYXNDaGlsZD86IGJvb2xlYW47CglhY3RpdmU/OiBib29sZWFuOwp9CgpleHBvcnQgY29uc3QgQnV0dG9uR3JvdXBJdGVtID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxCdXR0b25FbGVtZW50LAoJQnV0dG9uR3JvdXBJdGVtUHJvcHMKPigKCSgKCQl7CgkJCWNoaWxkcmVuLAoJCQljbGFzc05hbWUsCgkJCWFzQ2hpbGQgPSBmYWxzZSwKCQkJYWN0aXZlID0gZmFsc2UsCgkJCWRpc2FibGVkLAoJCQkuLi5wcm9wcwoJCX0sCgkJcmVmLAoJKSA9PiB7CgkJY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQnV0dG9uR3JvdXBDb250ZXh0KTsKCQlpZiAoIWNvbnRleHQpIHsKCQkJdGhyb3cgbmV3IEVycm9yKCdCdXR0b25Hcm91cEl0ZW0gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIDxCdXR0b25Hcm91cD4uJyk7CgkJfQoKCQljb25zdCBpc0Rpc2FibGVkID0gZGlzYWJsZWQgPz8gY29udGV4dC5kaXNhYmxlZDsKCQljb25zdCBidXR0b25UeXBlID0gcHJvcHMudHlwZSA/PyAoYXNDaGlsZCA/IHVuZGVmaW5lZCA6ICdidXR0b24nKTsKCQljb25zdCBjbGFzc2VzID0gY24oCgkJCUJ1dHRvbkdyb3VwSXRlbVZhcmlhbnRzKHsKCQkJCXNpemU6IGNvbnRleHQuc2l6ZSwKCQkJCWFjdGl2ZSwKCQkJfSksCgkJCWNsYXNzTmFtZSwKCQkpOwoKCQlpZiAoYXNDaGlsZCAmJiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHsKCQkJY29uc3QgY2hpbGQgPSBjaGlsZHJlbiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8ewoJCQkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCQkJJ2RhdGEtYnV0dG9uLWdyb3VwLWl0ZW0nPzogc3RyaW5nOwoJCQl9PjsKCQkJY29uc3QgbWVyZ2VkQ2hpbGQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHsKCQkJCWNsYXNzTmFtZTogY24oY2hpbGQucHJvcHMuY2xhc3NOYW1lLCBjbGFzc2VzKSwKCQkJCSdkYXRhLWJ1dHRvbi1ncm91cC1pdGVtJzogY2hpbGQucHJvcHNbJ2RhdGEtYnV0dG9uLWdyb3VwLWl0ZW0nXSA/PyAnJywKCQkJfSk7CgoJCQlyZXR1cm4gKAoJCQkJPEFyaWFraXQuQnV0dG9uCgkJCQkJcmVuZGVyPXttZXJnZWRDaGlsZH0KCQkJCQl0eXBlPXtidXR0b25UeXBlfQoJCQkJCXJlZj17cmVmfQoJCQkJCWRpc2FibGVkPXtpc0Rpc2FibGVkfQoJCQkJCXsuLi5wcm9wc30KCQkJCS8+CgkJCSk7CgkJfQoKCQlyZXR1cm4gKAoJCQk8QXJpYWtpdC5CdXR0b24KCQkJCXJlZj17cmVmfQoJCQkJY2xhc3NOYW1lPXtjbGFzc2VzfQoJCQkJdHlwZT17YnV0dG9uVHlwZX0KCQkJCWRpc2FibGVkPXtpc0Rpc2FibGVkfQoJCQkJZGF0YS1idXR0b24tZ3JvdXAtaXRlbT0iIgoJCQkJey4uLnByb3BzfQoJCQk+CgkJCQl7Y2hpbGRyZW59CgkJCTwvQXJpYWtpdC5CdXR0b24+CgkJKTsKCX0sCik7CkJ1dHRvbkdyb3VwSXRlbS5kaXNwbGF5TmFtZSA9ICdCdXR0b25Hcm91cEl0ZW0nOw=="
,
  "button.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmV4cG9ydCBjb25zdCBidXR0b25WYXJpYW50cyA9IGN2YSgKCSJyZWxhdGl2ZSBpbmxpbmUtZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBmb250LW1lZGl1bSBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IHNocmluay0wIFsmX3N2Z106c2hyaW5rLTAgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixjb2xvcixib3gtc2hhZG93LGZpbHRlcl0gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAiLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6CgkJCQkJJ2JnLWxpbmVhci10by1iIGZyb20tZ3JhZGllbnQtZnJvbSB0by1ncmFkaWVudC10byBob3Zlcjpjb250cmFzdC05MCBzaGFkb3ctW2luc2V0XzBfMXB4XzBfMF9yZ2IoMjU1XzI1NV8yNTUvLjMyKSwwcHhfMXB4XzFweF8tMC41cHhfcmdiYSg5LDksMTEsMC4wNSksMHB4XzNweF8zcHhfLTEuNXB4X3JnYmEoOSw5LDExLDAuMDUpLDBweF82cHhfNnB4Xy0zcHhfcmdiYSg5LDksMTEsMC4wNSldIGRhcms6c2hhZG93LVtpbnNldF8wXzFweF8wXzBfcmdiKDI1NV8yNTVfMjU1Ly4xMiksMHB4XzFweF8xcHhfLTAuNXB4X3JnYmEoOSw5LDExLDAuMDUpLDBweF8zcHhfM3B4Xy0xLjVweF9yZ2JhKDksOSwxMSwwLjA1KSwwcHhfNnB4XzZweF8tM3B4X3JnYmEoOSw5LDExLDAuMDUpXSB0ZXh0LWNhcmQgZGFyazp0ZXh0LWZvcmVncm91bmQnLAoJCQkJc2Vjb25kYXJ5OgoJCQkJCSdib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIGhvdmVyOmJnLWNhcmQtbXV0ZWQgdGV4dC1mb3JlZ3JvdW5kIHNoYWRvdy1zbSBjYXJkLWhpZ2hsaWdodCcsCgkJCQlnaG9zdDogJ3RleHQtZm9yZWdyb3VuZCBob3ZlcjpiZy1jYXJkLW11dGVkJywKCQkJCWljb246ICd0ZXh0LWZvcmVncm91bmQgaG92ZXI6YmctY2FyZC1tdXRlZCcsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnaC04IHB4LTMgcHktMS41IHB4LTMgZ2FwLTEuNSBoYXMtWz5zdmddOnB4LTIuNSB0ZXh0LXNtJywKCQkJCW1kOiAnaC05IHB4LTQgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTMgdGV4dC1zbScsCgkJCQlsZzogJ2gtMTAgcHgtNiBweS0yIGdhcC0yIGhhcy1bPnN2Z106cHgtNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCX0sCgkJY29tcG91bmRWYXJpYW50czogWwoJCQl7CgkJCQl2YXJpYW50OiAnaWNvbicsCgkJCQlzaXplOiAnc20nLAoJCQkJY2xhc3M6ICdzaXplLTggcC0wIHRleHQtc20nLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAnaWNvbicsCgkJCQlzaXplOiAnbWQnLAoJCQkJY2xhc3M6ICdzaXplLTkgcC0wIHRleHQtc20nLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAnaWNvbicsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICdzaXplLTEwIHAtMCB0ZXh0LWJhc2UnLAoJCQl9LAoJCV0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uUHJvcHMKCWV4dGVuZHMgT21pdDxBcmlha2l0LkJ1dHRvblByb3BzLCAnY2xhc3NOYW1lJyB8ICdjaGlsZHJlbicgfCAncmVuZGVyJz4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBidXR0b25WYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWFzQ2hpbGQ/OiBib29sZWFuOwp9CgpleHBvcnQgY29uc3QgQnV0dG9uOiBSZWFjdC5GQzxCdXR0b25Qcm9wcz4gPSAoewoJY2hpbGRyZW4sCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJc2l6ZSA9ICdtZCcsCgljbGFzc05hbWUgPSAnJywKCXR5cGUsCglhc0NoaWxkID0gZmFsc2UsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBidXR0b25UeXBlID0gdHlwZSA/PyAoYXNDaGlsZCA/IHVuZGVmaW5lZCA6ICdidXR0b24nKTsKCWNvbnN0IGNsYXNzZXMgPSBjbigKCQlidXR0b25WYXJpYW50cyh7CgkJCXZhcmlhbnQsCgkJCXNpemUsCgkJfSksCgkJY2xhc3NOYW1lLAoJKTsKCglpZiAoYXNDaGlsZCAmJiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHsKCQljb25zdCBjaGlsZCA9IGNoaWxkcmVuIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx7IGNsYXNzTmFtZT86IHN0cmluZyB9PjsKCQljb25zdCBtZXJnZWRDaGlsZCA9IFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgewoJCQljbGFzc05hbWU6IGNuKGNoaWxkLnByb3BzLmNsYXNzTmFtZSwgY2xhc3NlcyksCgkJfSk7CgoJCXJldHVybiA8QXJpYWtpdC5CdXR0b24gcmVuZGVyPXttZXJnZWRDaGlsZH0gdHlwZT17YnV0dG9uVHlwZX0gey4uLnByb3BzfSAvPjsKCX0KCglyZXR1cm4gKAoJCTxBcmlha2l0LkJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzZXN9IHR5cGU9e2J1dHRvblR5cGV9IHsuLi5wcm9wc30+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuQnV0dG9uPgoJKTsKfTs="
,
  "calendar.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2xpYi9pY29ucyc7Cgpjb25zdCBjYWxlbmRhclZhcmlhbnRzID0gY3ZhKAoJJ3JlbGF0aXZlIHJvdW5kZWQtbGcgYmctY2FyZCBib3JkZXIgYm9yZGVyLWJvcmRlciBzaGFkb3ctbWQgY2FyZC1oaWdobGlnaHQgdGV4dC14cyB3LWZpdCBtYXgtdy1zbScsCgl7CgkJdmFyaWFudHM6IHsKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgZGF5QnV0dG9uVmFyaWFudHMgPSBjdmEoCglbCgkJJ3RleHQtY2VudGVyJywKCQkncm91bmRlZC1zbScsCgkJJ3RyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsY29sb3IsYm94LXNoYWRvd10gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAnLAoJCSdmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJJ3ctOCcsCgkJJ2gtOCcsCgkJJ3RleHQteHMnLAoJCSdmbGV4JywKCQknaXRlbXMtY2VudGVyJywKCQknanVzdGlmeS1jZW50ZXInLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQlzdGF0ZTogewoJCQkJZGVmYXVsdDogJ3RleHQtZm9yZWdyb3VuZC83MCBob3ZlcjpiZy1jYXJkLW11dGVkJywKCQkJCXNlbGVjdGVkOiAnYmctZm9yZWdyb3VuZCB0ZXh0LWJhY2tncm91bmQnLAoJCQkJdG9kYXk6ICdiZy1jYXJkLW11dGVkIHRleHQtZm9yZWdyb3VuZCcsCgkJCQlkaXNhYmxlZDogJ2N1cnNvci1ub3QtYWxsb3dlZCBsaW5lLXRocm91Z2ggb3BhY2l0eS01MCcsCgkJCQlvdXRzaWRlTW9udGg6ICd0ZXh0LWZvcmVncm91bmQvNDUnLAoJCQl9LAoJCQlpbnRlcmFjdGlvbjogewoJCQkJZW5hYmxlZDogJ2N1cnNvci1wb2ludGVyJywKCQkJCWRpc2FibGVkOiAnY3Vyc29yLW5vdC1hbGxvd2VkJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzdGF0ZTogJ2RlZmF1bHQnLAoJCQlpbnRlcmFjdGlvbjogJ2VuYWJsZWQnLAoJCX0sCgl9LAopOwoKY29uc3QgREFZU19JTl9XRUVLID0gNzsKY29uc3QgTU9OVEhTID0gWwoJJ0phbnVhcnknLAoJJ0ZlYnJ1YXJ5JywKCSdNYXJjaCcsCgknQXByaWwnLAoJJ01heScsCgknSnVuZScsCgknSnVseScsCgknQXVndXN0JywKCSdTZXB0ZW1iZXInLAoJJ09jdG9iZXInLAoJJ05vdmVtYmVyJywKCSdEZWNlbWJlcicsCl07CmNvbnN0IFdFRUtEQVlTID0gWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXTsKCmV4cG9ydCBpbnRlcmZhY2UgQ2FsZW5kYXJQcm9wcwoJZXh0ZW5kcyBPbWl0PAoJCQlSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJCSdvbkNoYW5nZScgfCAnZGVmYXVsdFZhbHVlJwoJCT4sCgkJT21pdDxWYXJpYW50UHJvcHM8dHlwZW9mIGNhbGVuZGFyVmFyaWFudHM+LCAnZGlzYWJsZWQnPiB7Cgl2YWx1ZT86IERhdGU7CglkZWZhdWx0VmFsdWU/OiBEYXRlOwoJb25DaGFuZ2U/OiAoZGF0ZTogRGF0ZSB8IHVuZGVmaW5lZCkgPT4gdm9pZDsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWRpc2FibGVkRGF0ZXM/OiBEYXRlW10gfCAoKGRhdGU6IERhdGUpID0+IGJvb2xlYW4pOwoJbWluRGF0ZT86IERhdGU7CgltYXhEYXRlPzogRGF0ZTsKCXNob3dXZWVrTnVtYmVycz86IGJvb2xlYW47CglzaG93T3V0c2lkZURheXM/OiBib29sZWFuOwoJd2Vla1N0YXJ0c09uPzogMCB8IDEgfCAyIHwgMyB8IDQgfCA1IHwgNjsKCWZvcm1hdE1vbnRoPzogKGRhdGU6IERhdGUpID0+IHN0cmluZzsKCWZvcm1hdFdlZWtkYXk/OiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nOwoJJ2FyaWEtbGFiZWwnPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgQ2FsZW5kYXI6IFJlYWN0LkZDPENhbGVuZGFyUHJvcHM+ID0gKHsKCXZhbHVlOiBjb250cm9sbGVkVmFsdWUsCglkZWZhdWx0VmFsdWUsCglvbkNoYW5nZSwKCWRpc2FibGVkID0gZmFsc2UsCglkaXNhYmxlZERhdGVzLAoJbWluRGF0ZSwKCW1heERhdGUsCglzaG93V2Vla051bWJlcnMgPSBmYWxzZSwKCXNob3dPdXRzaWRlRGF5cyA9IHRydWUsCgl3ZWVrU3RhcnRzT24gPSAwLAoJZm9ybWF0TW9udGggPSAoZGF0ZSkgPT4gYCR7TU9OVEhTW2RhdGUuZ2V0TW9udGgoKV19ICR7ZGF0ZS5nZXRGdWxsWWVhcigpfWAsCglmb3JtYXRXZWVrZGF5ID0gKGRhdGUpID0+IFdFRUtEQVlTW2RhdGUuZ2V0RGF5KCldLAoJY2xhc3NOYW1lID0gJycsCgknYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IHVzZVN0YXRlPERhdGUgfCB1bmRlZmluZWQ+KAoJCWRlZmF1bHRWYWx1ZSwKCSk7Cgljb25zdCBbY3VycmVudE1vbnRoLCBzZXRDdXJyZW50TW9udGhdID0gdXNlU3RhdGUoKCkgPT4gewoJCXJldHVybiBjb250cm9sbGVkVmFsdWUgfHwgZGVmYXVsdFZhbHVlIHx8IG5ldyBEYXRlKCk7Cgl9KTsKCgljb25zdCBpc0NvbnRyb2xsZWQgPSBjb250cm9sbGVkVmFsdWUgIT09IHVuZGVmaW5lZDsKCWNvbnN0IHNlbGVjdGVkRGF0ZSA9IGlzQ29udHJvbGxlZCA/IGNvbnRyb2xsZWRWYWx1ZSA6IGludGVybmFsVmFsdWU7Cgljb25zdCBoZWFkaW5nSWQgPSBSZWFjdC51c2VJZCgpOwoKCWNvbnN0IGlzU2FtZURheSA9IHVzZUNhbGxiYWNrKChkYXRlMTogRGF0ZSwgZGF0ZTI6IERhdGUpID0+IHsKCQlyZXR1cm4gKAoJCQlkYXRlMS5nZXREYXRlKCkgPT09IGRhdGUyLmdldERhdGUoKSAmJgoJCQlkYXRlMS5nZXRNb250aCgpID09PSBkYXRlMi5nZXRNb250aCgpICYmCgkJCWRhdGUxLmdldEZ1bGxZZWFyKCkgPT09IGRhdGUyLmdldEZ1bGxZZWFyKCkKCQkpOwoJfSwgW10pOwoKCWNvbnN0IGlzU2FtZU1vbnRoID0gdXNlQ2FsbGJhY2soKGRhdGUxOiBEYXRlLCBkYXRlMjogRGF0ZSkgPT4gewoJCXJldHVybiAoCgkJCWRhdGUxLmdldE1vbnRoKCkgPT09IGRhdGUyLmdldE1vbnRoKCkgJiYKCQkJZGF0ZTEuZ2V0RnVsbFllYXIoKSA9PT0gZGF0ZTIuZ2V0RnVsbFllYXIoKQoJCSk7Cgl9LCBbXSk7CgoJY29uc3QgaXNEYXRlRGlzYWJsZWQgPSB1c2VDYWxsYmFjaygKCQkoZGF0ZTogRGF0ZSkgPT4gewoJCQlpZiAoZGlzYWJsZWQpIHJldHVybiB0cnVlOwoKCQkJaWYgKG1pbkRhdGUgJiYgZGF0ZSA8IG1pbkRhdGUpIHJldHVybiB0cnVlOwoJCQlpZiAobWF4RGF0ZSAmJiBkYXRlID4gbWF4RGF0ZSkgcmV0dXJuIHRydWU7CgoJCQlpZiAoZGlzYWJsZWREYXRlcykgewoJCQkJaWYgKHR5cGVvZiBkaXNhYmxlZERhdGVzID09PSAnZnVuY3Rpb24nKSB7CgkJCQkJcmV0dXJuIGRpc2FibGVkRGF0ZXMoZGF0ZSk7CgkJCQl9CgkJCQlyZXR1cm4gZGlzYWJsZWREYXRlcy5zb21lKChkaXNhYmxlZERhdGUpID0+CgkJCQkJaXNTYW1lRGF5KGRhdGUsIGRpc2FibGVkRGF0ZSksCgkJCQkpOwoJCQl9CgoJCQlyZXR1cm4gZmFsc2U7CgkJfSwKCQlbZGlzYWJsZWQsIG1pbkRhdGUsIG1heERhdGUsIGRpc2FibGVkRGF0ZXMsIGlzU2FtZURheV0sCgkpOwoKCWNvbnN0IGNhbGVuZGFyRGF5cyA9IHVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IHllYXIgPSBjdXJyZW50TW9udGguZ2V0RnVsbFllYXIoKTsKCQljb25zdCBtb250aCA9IGN1cnJlbnRNb250aC5nZXRNb250aCgpOwoKCQljb25zdCBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSk7CgkJY29uc3QgbGFzdERheU9mTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCArIDEsIDApOwoKCQljb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShmaXJzdERheU9mTW9udGgpOwoJCXN0YXJ0RGF0ZS5zZXREYXRlKAoJCQlzdGFydERhdGUuZ2V0RGF0ZSgpIC0gKChmaXJzdERheU9mTW9udGguZ2V0RGF5KCkgLSB3ZWVrU3RhcnRzT24gKyA3KSAlIDcpLAoJCSk7CgoJCWNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShsYXN0RGF5T2ZNb250aCk7CgkJY29uc3QgZGF5c1RvQWRkID0gNiAtICgobGFzdERheU9mTW9udGguZ2V0RGF5KCkgLSB3ZWVrU3RhcnRzT24gKyA3KSAlIDcpOwoJCWVuZERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSArIGRheXNUb0FkZCk7CgoJCWNvbnN0IGRheXM6IERhdGVbXSA9IFtdOwoJCWNvbnN0IGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpOwoKCQl3aGlsZSAoY3VycmVudCA8PSBlbmREYXRlKSB7CgkJCWRheXMucHVzaChuZXcgRGF0ZShjdXJyZW50KSk7CgkJCWN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSArIDEpOwoJCX0KCgkJcmV0dXJuIGRheXM7Cgl9LCBbY3VycmVudE1vbnRoLCB3ZWVrU3RhcnRzT25dKTsKCgljb25zdCBnb1RvUHJldmlvdXNNb250aCA9IHVzZUNhbGxiYWNrKCgpID0+IHsKCQlzZXRDdXJyZW50TW9udGgoCgkJCShwcmV2KSA9PiBuZXcgRGF0ZShwcmV2LmdldEZ1bGxZZWFyKCksIHByZXYuZ2V0TW9udGgoKSAtIDEsIDEpLAoJCSk7Cgl9LCBbXSk7CgoJY29uc3QgZ29Ub05leHRNb250aCA9IHVzZUNhbGxiYWNrKCgpID0+IHsKCQlzZXRDdXJyZW50TW9udGgoCgkJCShwcmV2KSA9PiBuZXcgRGF0ZShwcmV2LmdldEZ1bGxZZWFyKCksIHByZXYuZ2V0TW9udGgoKSArIDEsIDEpLAoJCSk7Cgl9LCBbXSk7CgoJY29uc3QgZ29Ub1RvZGF5ID0gdXNlQ2FsbGJhY2soKCkgPT4gewoJCWNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsKCQlzZXRDdXJyZW50TW9udGgodG9kYXkpOwoKCQlpZiAoIWlzRGF0ZURpc2FibGVkKHRvZGF5KSkgewoJCQlpZiAoIWlzQ29udHJvbGxlZCkgewoJCQkJc2V0SW50ZXJuYWxWYWx1ZSh0b2RheSk7CgkJCX0KCQkJb25DaGFuZ2U/Lih0b2RheSk7CgkJfQoJfSwgW2lzQ29udHJvbGxlZCwgaXNEYXRlRGlzYWJsZWQsIG9uQ2hhbmdlXSk7CgoJY29uc3QgZ2V0SVNPV2Vla051bWJlciA9IHVzZUNhbGxiYWNrKChkYXRlOiBEYXRlKSA9PiB7CgkJY29uc3QgZCA9IG5ldyBEYXRlKAoJCQlEYXRlLlVUQyhkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpLAoJCSk7CgkJY29uc3QgZGF5TnVtID0gZC5nZXRVVENEYXkoKSB8fCA3OwoJCWQuc2V0VVRDRGF0ZShkLmdldFVUQ0RhdGUoKSArIDQgLSBkYXlOdW0pOwoJCWNvbnN0IHllYXJTdGFydCA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0VVRDRnVsbFllYXIoKSwgMCwgMSkpOwoJCXJldHVybiBNYXRoLmNlaWwoKChkLmdldFRpbWUoKSAtIHllYXJTdGFydC5nZXRUaW1lKCkpIC8gODY0MDAwMDAgKyAxKSAvIDcpOwoJfSwgW10pOwoKCWNvbnN0IGhhbmRsZURhdGVTZWxlY3QgPSB1c2VDYWxsYmFjaygKCQkoZGF0ZTogRGF0ZSkgPT4gewoJCQlpZiAoaXNEYXRlRGlzYWJsZWQoZGF0ZSkpIHJldHVybjsKCgkJCWlmICghaXNDb250cm9sbGVkKSB7CgkJCQlzZXRJbnRlcm5hbFZhbHVlKGRhdGUpOwoJCQl9CgoJCQlvbkNoYW5nZT8uKGRhdGUpOwoJCX0sCgkJW2lzRGF0ZURpc2FibGVkLCBpc0NvbnRyb2xsZWQsIG9uQ2hhbmdlXSwKCSk7CgoJY29uc3Qgd2Vla2RheXMgPSB1c2VNZW1vKCgpID0+IHsKCQljb25zdCBkYXlzID0gW107CgkJZm9yIChsZXQgaSA9IDA7IGkgPCBEQVlTX0lOX1dFRUs7IGkrKykgewoJCQljb25zdCBkYXlJbmRleCA9ICh3ZWVrU3RhcnRzT24gKyBpKSAlIERBWVNfSU5fV0VFSzsKCQkJY29uc3QgZGF0ZSA9IG5ldyBEYXRlKDIwMjMsIDAsIGRheUluZGV4ICsgMSk7CgkJCWNvbnN0IGRheU5hbWUgPQoJCQkJZm9ybWF0V2Vla2RheT8uKGRhdGUpID8/IFdFRUtEQVlTW2RheUluZGV4XSA/PyBXRUVLREFZU1tpXSA/PyAnJzsKCQkJZGF5cy5wdXNoKGRheU5hbWUuc2xpY2UoMCwgMikpOwoJCX0KCQlyZXR1cm4gZGF5czsKCX0sIFt3ZWVrU3RhcnRzT24sIGZvcm1hdFdlZWtkYXldKTsKCgljb25zdCBmb2N1c0RhdGVJU08gPSB1c2VNZW1vKCgpID0+IHsKCQljb25zdCB0b0lTTyA9IChkOiBEYXRlKSA9PiBkLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsKCQljb25zdCBpc1Zpc2libGUgPSAoZDogRGF0ZSkgPT4KCQkJc2hvd091dHNpZGVEYXlzIHx8IGlzU2FtZU1vbnRoKGQsIGN1cnJlbnRNb250aCk7CgoJCWlmIChzZWxlY3RlZERhdGUpIHsKCQkJY29uc3QgZm91bmQgPSBjYWxlbmRhckRheXMuZmluZCgKCQkJCShkKSA9PiBpc1Zpc2libGUoZCkgJiYgaXNTYW1lRGF5KGQsIHNlbGVjdGVkRGF0ZSkgJiYgIWlzRGF0ZURpc2FibGVkKGQpLAoJCQkpOwoJCQlpZiAoZm91bmQpIHJldHVybiB0b0lTTyhmb3VuZCk7CgkJfQoKCQljb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7CgkJY29uc3QgdG9kYXlJblZpZXcgPSBjYWxlbmRhckRheXMuZmluZCgKCQkJKGQpID0+IGlzVmlzaWJsZShkKSAmJiBpc1NhbWVEYXkoZCwgdG9kYXkpICYmICFpc0RhdGVEaXNhYmxlZChkKSwKCQkpOwoJCWlmICh0b2RheUluVmlldykgcmV0dXJuIHRvSVNPKHRvZGF5SW5WaWV3KTsKCgkJY29uc3QgZmlyc3RFbmFibGVkQ3VycmVudE1vbnRoID0gY2FsZW5kYXJEYXlzLmZpbmQoCgkJCShkKSA9PiBpc1NhbWVNb250aChkLCBjdXJyZW50TW9udGgpICYmIGlzVmlzaWJsZShkKSAmJiAhaXNEYXRlRGlzYWJsZWQoZCksCgkJKTsKCQlpZiAoZmlyc3RFbmFibGVkQ3VycmVudE1vbnRoKSByZXR1cm4gdG9JU08oZmlyc3RFbmFibGVkQ3VycmVudE1vbnRoKTsKCgkJY29uc3QgZmlyc3RFbmFibGVkQW55ID0gY2FsZW5kYXJEYXlzLmZpbmQoCgkJCShkKSA9PiBpc1Zpc2libGUoZCkgJiYgIWlzRGF0ZURpc2FibGVkKGQpLAoJCSk7CgkJcmV0dXJuIGZpcnN0RW5hYmxlZEFueSA/IHRvSVNPKGZpcnN0RW5hYmxlZEFueSkgOiB1bmRlZmluZWQ7Cgl9LCBbCgkJY2FsZW5kYXJEYXlzLAoJCWN1cnJlbnRNb250aCwKCQlpc0RhdGVEaXNhYmxlZCwKCQlpc1NhbWVEYXksCgkJaXNTYW1lTW9udGgsCgkJc2VsZWN0ZWREYXRlLAoJCXNob3dPdXRzaWRlRGF5cywKCV0pOwoKCWNvbnN0IGNvbXBvc2l0ZSA9IEFyaWFraXQudXNlQ29tcG9zaXRlU3RvcmUoewoJCW9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsCgkJZm9jdXNMb29wOiBmYWxzZSwKCX0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKGZvY3VzRGF0ZUlTTykgewoJCQljb21wb3NpdGUuc2V0QWN0aXZlSWQoYGQtJHtmb2N1c0RhdGVJU099YCk7CgkJfQoJfSwgW2NvbXBvc2l0ZSwgZm9jdXNEYXRlSVNPXSk7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCWNsYXNzTmFtZT17Y24oCgkJCQljYWxlbmRhclZhcmlhbnRzKHsKCQkJCQlkaXNhYmxlZCwKCQkJCX0pLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbicsICdweC00IHB0LTQnKX0+CgkJCQk8YnV0dG9uCgkJCQkJdHlwZT0iYnV0dG9uIgoJCQkJCW9uQ2xpY2s9e2dvVG9QcmV2aW91c01vbnRofQoJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQknY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1zbSB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6YmctY2FyZC1tdXRlZCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yLGJveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwJywKCQkJCQkJJ3AtMS41JywKCQkJCQkpfQoJCQkJPgoJCQkJCTxJY29ucy5DaGV2cm9uTGVmdCBhcmlhLWhpZGRlbj0idHJ1ZSIgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgoJCQkJCTxBcmlha2l0LlZpc3VhbGx5SGlkZGVuPlByZXZpb3VzIE1vbnRoPC9Bcmlha2l0LlZpc3VhbGx5SGlkZGVuPgoJCQkJPC9idXR0b24+CgoJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyI+CgkJCQkJPGgyCgkJCQkJCWlkPXtoZWFkaW5nSWR9CgkJCQkJCWFyaWEtbGl2ZT0icG9saXRlIgoJCQkJCQlhcmlhLWF0b21pYz0idHJ1ZSIKCQkJCQkJY2xhc3NOYW1lPXtjbignZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJywgJ3RleHQtc20nKX0KCQkJCQk+CgkJCQkJCXtmb3JtYXRNb250aChjdXJyZW50TW9udGgpfQoJCQkJCTwvaDI+CgkJCQkJPGJ1dHRvbgoJCQkJCQl0eXBlPSJidXR0b24iCgkJCQkJCW9uQ2xpY2s9e2dvVG9Ub2RheX0KCQkJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ2N1cnNvci1wb2ludGVyIHJvdW5kZWQtc20gYmctY2FyZCB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6YmctY2FyZC1tdXRlZCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yLGJveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwJywKCQkJCQkJCSdweC0yIHB5LTEgdGV4dC14cycsCgkJCQkJCSl9CgkJCQkJPgoJCQkJCQlUb2RheQoJCQkJCQk8QXJpYWtpdC5WaXN1YWxseUhpZGRlbj5Ub2RheTwvQXJpYWtpdC5WaXN1YWxseUhpZGRlbj4KCQkJCQk8L2J1dHRvbj4KCQkJCTwvZGl2PgoKCQkJCTxidXR0b24KCQkJCQl0eXBlPSJidXR0b24iCgkJCQkJb25DbGljaz17Z29Ub05leHRNb250aH0KCQkJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ2N1cnNvci1wb2ludGVyIHJvdW5kZWQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIGhvdmVyOmJnLWNhcmQtbXV0ZWQgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixjb2xvcixib3gtc2hhZG93XSBlYXNlLW91dC1xdWFkIGR1cmF0aW9uLTEwMCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCcsCgkJCQkJCSdwLTEuNScsCgkJCQkJKX0KCQkJCT4KCQkJCQk8SWNvbnMuQ2hldnJvblJpZ2h0IGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCQkJPEFyaWFraXQuVmlzdWFsbHlIaWRkZW4+TmV4dCBNb250aDwvQXJpYWtpdC5WaXN1YWxseUhpZGRlbj4KCQkJCTwvYnV0dG9uPgoJCQk8L2Rpdj4KCgkJCTxkaXYgY2xhc3NOYW1lPSJwLTQiPgoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdtYi0zIGdyaWQnLAoJCQkJCQlzaG93V2Vla051bWJlcnMgPyAnZ3JpZC1jb2xzLTgnIDogJ2dyaWQtY29scy03JywKCQkJCQkJJ2dhcC0xJywKCQkJCQkpfQoJCQkJPgoJCQkJCXtzaG93V2Vla051bWJlcnMgJiYgKAoJCQkJCQk8ZGl2CgkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWNlbnRlciBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNDUnLAoJCQkJCQkJCSdoLTggdy04IHRleHQteHMnLAoJCQkJCQkJKX0KCQkJCQkJPgoJCQkJCQkJV2sKCQkJCQkJPC9kaXY+CgkJCQkJKX0KCQkJCQl7d2Vla2RheXMubWFwKChkYXkpID0+IHsKCQkJCQkJcmV0dXJuICgKCQkJCQkJCTxkaXYKCQkJCQkJCQlrZXk9e2RheX0KCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQknZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1jZW50ZXIgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQkJCQkJJ2gtOCB3LTggdGV4dC14cycsCgkJCQkJCQkJKX0KCQkJCQkJCT4KCQkJCQkJCQl7ZGF5fQoJCQkJCQkJPC9kaXY+CgkJCQkJCSk7CgkJCQkJfSl9CgkJCQk8L2Rpdj4KCgkJCQk8QXJpYWtpdC5Db21wb3NpdGUKCQkJCQlzdG9yZT17Y29tcG9zaXRlfQoJCQkJCXJvbGU9ImdyaWQiCgkJCQkJey4uLihhcmlhTGFiZWwKCQkJCQkJPyB7ICdhcmlhLWxhYmVsJzogYXJpYUxhYmVsIH0KCQkJCQkJOiB7ICdhcmlhLWxhYmVsbGVkYnknOiBoZWFkaW5nSWQgfSl9CgkJCQkJY2xhc3NOYW1lPSJzcGFjZS15LTEiCgkJCQk+CgkJCQkJe0FycmF5LmZyb20oCgkJCQkJCXsgbGVuZ3RoOiBNYXRoLmNlaWwoY2FsZW5kYXJEYXlzLmxlbmd0aCAvIERBWVNfSU5fV0VFSykgfSwKCQkJCQkJKF8sIHdlZWtJbmRleCkgPT4gewoJCQkJCQkJY29uc3Qgd2Vla1N0YXJ0RGF0ZSA9IGNhbGVuZGFyRGF5c1t3ZWVrSW5kZXggKiBEQVlTX0lOX1dFRUtdOwoKCQkJCQkJCWlmICghd2Vla1N0YXJ0RGF0ZSkgewoJCQkJCQkJCXJldHVybiBudWxsOwoJCQkJCQkJfQoKCQkJCQkJCXJldHVybiAoCgkJCQkJCQkJPEFyaWFraXQuQ29tcG9zaXRlUm93CgkJCQkJCQkJCWtleT17d2Vla1N0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19CgkJCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJCQknZ3JpZCcsCgkJCQkJCQkJCQlzaG93V2Vla051bWJlcnMgPyAnZ3JpZC1jb2xzLTgnIDogJ2dyaWQtY29scy03JywKCQkJCQkJCQkJCSdnYXAtMScsCgkJCQkJCQkJCSl9CgkJCQkJCQkJPgoJCQkJCQkJCQl7c2hvd1dlZWtOdW1iZXJzICYmICgKCQkJCQkJCQkJCTxkaXYKCQkJCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQkJCQknZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1jZW50ZXIgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQkJCQkJCQkJJ2gtOCB3LTggdGV4dC14cycsCgkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQl7Z2V0SVNPV2Vla051bWJlcih3ZWVrU3RhcnREYXRlKX0KCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkpfQoJCQkJCQkJCQl7Y2FsZW5kYXJEYXlzCgkJCQkJCQkJCQkuc2xpY2UoCgkJCQkJCQkJCQkJd2Vla0luZGV4ICogREFZU19JTl9XRUVLLAoJCQkJCQkJCQkJCSh3ZWVrSW5kZXggKyAxKSAqIERBWVNfSU5fV0VFSywKCQkJCQkJCQkJCSkKCQkJCQkJCQkJCS5tYXAoKGRhdGUsIF9kYXlJbmRleCkgPT4gewoJCQkJCQkJCQkJCWNvbnN0IGlzU2VsZWN0ZWQgPQoJCQkJCQkJCQkJCQlzZWxlY3RlZERhdGUgJiYgaXNTYW1lRGF5KGRhdGUsIHNlbGVjdGVkRGF0ZSk7CgkJCQkJCQkJCQkJY29uc3QgaXNDdXJyZW50TW9udGggPSBpc1NhbWVNb250aChkYXRlLCBjdXJyZW50TW9udGgpOwoJCQkJCQkJCQkJCWNvbnN0IGlzVG9kYXkgPSBpc1NhbWVEYXkoZGF0ZSwgbmV3IERhdGUoKSk7CgkJCQkJCQkJCQkJY29uc3QgaXNEaXNhYmxlZCA9IGlzRGF0ZURpc2FibGVkKGRhdGUpOwoJCQkJCQkJCQkJCWNvbnN0IHNob3VsZFNob3cgPSBzaG93T3V0c2lkZURheXMgfHwgaXNDdXJyZW50TW9udGg7CgoJCQkJCQkJCQkJCWlmICghc2hvdWxkU2hvdykgewoJCQkJCQkJCQkJCQlyZXR1cm4gKAoJCQkJCQkJCQkJCQkJPGRpdiBrZXk9e2RhdGUudG9JU09TdHJpbmcoKX0gY2xhc3NOYW1lPSJoLTggdy04IiAvPgoJCQkJCQkJCQkJCQkpOwoJCQkJCQkJCQkJCX0KCgkJCQkJCQkJCQkJcmV0dXJuICgKCQkJCQkJCQkJCQkJPEFyaWFraXQuQ29tcG9zaXRlSXRlbQoJCQkJCQkJCQkJCQkJaWQ9e2BkLSR7ZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19YH0KCQkJCQkJCQkJCQkJCWtleT17ZGF0ZS50b0lTT1N0cmluZygpfQoJCQkJCQkJCQkJCQkJb25DbGljaz17KCkgPT4gaGFuZGxlRGF0ZVNlbGVjdChkYXRlKX0KCQkJCQkJCQkJCQkJCW9uS2V5RG93bj17KGUpID0+IHsKCQkJCQkJCQkJCQkJCQlpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykgewoJCQkJCQkJCQkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJCQkJCQkJCWhhbmRsZURhdGVTZWxlY3QoZGF0ZSk7CgkJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkJCXJvbGU9ImdyaWRjZWxsIgoJCQkJCQkJCQkJCQkJYXJpYS1zZWxlY3RlZD17Qm9vbGVhbihpc1NlbGVjdGVkKX0KCQkJCQkJCQkJCQkJCWFyaWEtZGlzYWJsZWQ9e2lzRGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCQkJCQkJCQkJCQkJZGF0YS1kYXRlPXtkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0KCQkJCQkJCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJCQkJCQkJZGF5QnV0dG9uVmFyaWFudHMoewoJCQkJCQkJCQkJCQkJCQlzdGF0ZTogaXNTZWxlY3RlZAoJCQkJCQkJCQkJCQkJCQkJPyAnc2VsZWN0ZWQnCgkJCQkJCQkJCQkJCQkJCQk6IGlzVG9kYXkKCQkJCQkJCQkJCQkJCQkJCQk/ICd0b2RheScKCQkJCQkJCQkJCQkJCQkJCQk6IGlzRGlzYWJsZWQKCQkJCQkJCQkJCQkJCQkJCQkJPyAnZGlzYWJsZWQnCgkJCQkJCQkJCQkJCQkJCQkJCTogIWlzQ3VycmVudE1vbnRoCgkJCQkJCQkJCQkJCQkJCQkJCQk/ICdvdXRzaWRlTW9udGgnCgkJCQkJCQkJCQkJCQkJCQkJCQk6ICdkZWZhdWx0JywKCQkJCQkJCQkJCQkJCQkJaW50ZXJhY3Rpb246IGlzRGlzYWJsZWQgPyAnZGlzYWJsZWQnIDogJ2VuYWJsZWQnLAoJCQkJCQkJCQkJCQkJCX0pLAoJCQkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCQkJCWFyaWEtbGFiZWw9e2Ake2RhdGUuZ2V0RGF0ZSgpfSAke01PTlRIU1tkYXRlLmdldE1vbnRoKCldfSAke2RhdGUuZ2V0RnVsbFllYXIoKX1gfQoJCQkJCQkJCQkJCQkJYXJpYS1jdXJyZW50PXtpc1RvZGF5ID8gJ2RhdGUnIDogdW5kZWZpbmVkfQoJCQkJCQkJCQkJCQk+CgkJCQkJCQkJCQkJCQl7ZGF0ZS5nZXREYXRlKCl9CgkJCQkJCQkJCQkJCTwvQXJpYWtpdC5Db21wb3NpdGVJdGVtPgoJCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQl9KX0KCQkJCQkJCQk8L0FyaWFraXQuQ29tcG9zaXRlUm93PgoJCQkJCQkJKTsKCQkJCQkJfSwKCQkJCQkpfQoJCQkJPC9Bcmlha2l0LkNvbXBvc2l0ZT4KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "card.tsx": "aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CgpleHBvcnQgaW50ZXJmYWNlIENhcmRQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIENhcmRIZWFkZXJQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIENhcmRUaXRsZVByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhcz86IFJlYWN0LkVsZW1lbnRUeXBlOwp9CgpleHBvcnQgaW50ZXJmYWNlIENhcmREZXNjcmlwdGlvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIENhcmRDb250ZW50UHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDYXJkRm9vdGVyUHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDYXJkQWN0aW9uc1Byb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBDYXJkID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgQ2FyZFByb3BzPigKCSh7IGNoaWxkcmVuLCBjbGFzc05hbWUgPSAnJywgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CgkJcmV0dXJuICgKCQkJPGRpdgoJCQkJcmVmPXtyZWZ9CgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSdyZWxhdGl2ZSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgc2hhZG93LW1kIGNhcmQtaGlnaGxpZ2h0JywKCQkJCQljbGFzc05hbWUsCgkJCQkpfQoJCQkJey4uLnByb3BzfQoJCQk+CgkJCQl7Y2hpbGRyZW59CgkJCTwvZGl2PgoJCSk7Cgl9LAopOwoKQ2FyZC5kaXNwbGF5TmFtZSA9ICdDYXJkJzsKCmV4cG9ydCBjb25zdCBDYXJkSGVhZGVyOiBSZWFjdC5GQzxDYXJkSGVhZGVyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPXtjbigncHgtNCBwdC00JywgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDYXJkVGl0bGU6IFJlYWN0LkZDPENhcmRUaXRsZVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXM6IENvbXBvbmVudCA9ICdoMycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgKCQlDb21wb25lbnQsCgkJewoJCQljbGFzc05hbWU6IGNuKAoJCQkJJ3RleHQtYmFzZSBsZWFkaW5nLW5vbmUgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJywKCQkJCWNsYXNzTmFtZSwKCQkJKSwKCQkJLi4ucHJvcHMsCgkJfSwKCQljaGlsZHJlbiwKCSk7Cn07CgpleHBvcnQgY29uc3QgQ2FyZERlc2NyaXB0aW9uOiBSZWFjdC5GQzxDYXJkRGVzY3JpcHRpb25Qcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPHAKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdtdC0xIHRleHQtc20gbGVhZGluZy1zbnVnIHRleHQtZm9yZWdyb3VuZC80NSB0ZXh0LWJhbGFuY2UnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9wPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDYXJkQ29udGVudDogUmVhY3QuRkM8Q2FyZENvbnRlbnRQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKCd0ZXh0LXNtIHAtNCB0ZXh0LWZvcmVncm91bmQvNzAgbGVhZGluZy1zbnVnJywgY2xhc3NOYW1lKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDYXJkRm9vdGVyOiBSZWFjdC5GQzxDYXJkRm9vdGVyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCByb3VuZGVkLWItbGcgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBiZy1bY29sb3ItbWl4KGluX29rbGNoLHZhcigtLWNvbG9yLWNhcmQpXzcwJSx2YXIoLS1jb2xvci1jYXJkLW11dGVkKV8zMCUpXSBwLTQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IENhcmRBY3Rpb25zOiBSZWFjdC5GQzxDYXJkQWN0aW9uc1Byb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJywgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTs="
,
  "chat.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9saWIvaWNvbnMnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEnOwoKY29uc3QgY2hhdFZhcmlhbnRzID0gY3ZhKAoJJ3JlbGF0aXZlIGJvcmRlciByb3VuZGVkLWxnIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCBub3QtcHJvc2UnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6ICdiZy1jYXJkIGJvcmRlci1ib3JkZXInLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQl9LAoJfSwKKTsKCmNvbnN0IG1lc3NhZ2VWYXJpYW50cyA9IGN2YSgKCVsndy1maXQgbWF4LXctWzgwJV0gcm91bmRlZC1sZyBweC0zIHB5LTIgdGV4dC1zbScsICdvdmVyZmxvdy1oaWRkZW4nXSwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQl1c2VyOiAnYmctZm9yZWdyb3VuZC85MCB0ZXh0LWNhcmQnLAoJCQkJYXNzaXN0YW50OiAnYmctY2FyZC1tdXRlZCB0ZXh0LWZvcmVncm91bmQnLAoJCQkJc3lzdGVtOiAnbXgtYXV0byBiZy1jYXJkLW11dGVkIHRleHQtY2VudGVyIHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAndXNlcicsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIENoYXRNZXNzYWdlIHsKCWlkOiBzdHJpbmc7Cgljb250ZW50OiBzdHJpbmc7CglzZW5kZXI6ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbSc7Cgl0aW1lc3RhbXA6IERhdGU7CglhdmF0YXI/OiBzdHJpbmc7CgluYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIFR5cGluZ1VzZXIgewoJaWQ6IHN0cmluZzsKCW5hbWU/OiBzdHJpbmc7CglhdmF0YXI/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQ2hhdFByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGNoYXRWYXJpYW50cz4gewoJbWVzc2FnZXM/OiBDaGF0TWVzc2FnZVtdOwoJb25TZW5kTWVzc2FnZT86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7CglwbGFjZWhvbGRlcj86IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWF1dG9Gb2N1cz86IGJvb2xlYW47CgltYXhMZW5ndGg/OiBudW1iZXI7CglzaG93VGltZXN0YW1wcz86IGJvb2xlYW47CglzaG93QXZhdGFycz86IGJvb2xlYW47CglhbGxvd011bHRpbGluZT86IGJvb2xlYW47Cgl0eXBpbmdVc2Vycz86IFR5cGluZ1VzZXJbXTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDaGF0TWVzc2FnZXNQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJbWVzc2FnZXM6IENoYXRNZXNzYWdlW107CglzaG93VGltZXN0YW1wcz86IGJvb2xlYW47CglzaG93QXZhdGFycz86IGJvb2xlYW47Cgl0eXBpbmdVc2Vycz86IFR5cGluZ1VzZXJbXTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDaGF0TWVzc2FnZVByb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCW1lc3NhZ2U6IENoYXRNZXNzYWdlOwoJc2hvd1RpbWVzdGFtcD86IGJvb2xlYW47CglzaG93QXZhdGFyPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBUeXBpbmdJbmRpY2F0b3JQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJdHlwaW5nVXNlcnM/OiBUeXBpbmdVc2VyW107CglzaG93QXZhdGFycz86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgQ2hhdElucHV0UHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJb25TZW5kTWVzc2FnZTogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDsKCXBsYWNlaG9sZGVyPzogc3RyaW5nOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJYXV0b0ZvY3VzPzogYm9vbGVhbjsKCW1heExlbmd0aD86IG51bWJlcjsKCWFsbG93TXVsdGlsaW5lPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDaGF0QWN0aW9uc1Byb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBUeXBpbmdJbmRpY2F0b3I6IFJlYWN0LkZDPFR5cGluZ0luZGljYXRvclByb3BzPiA9ICh7Cgl0eXBpbmdVc2VycywKCXNob3dBdmF0YXJzID0gZmFsc2UsCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHNhZmVUeXBpbmdVc2VycyA9IHR5cGluZ1VzZXJzID8/IFtdOwoJaWYgKHNhZmVUeXBpbmdVc2Vycy5sZW5ndGggPT09IDApIHJldHVybiBudWxsOwoKCWNvbnN0IGdldFR5cGluZ1RleHQgPSAoKSA9PiB7CgkJY29uc3QgW2ZpcnN0VXNlciwgc2Vjb25kVXNlcl0gPSBzYWZlVHlwaW5nVXNlcnM7CgkJaWYgKHNhZmVUeXBpbmdVc2Vycy5sZW5ndGggPT09IDEpIHsKCQkJcmV0dXJuIGAke2ZpcnN0VXNlcj8ubmFtZSB8fCAnU29tZW9uZSd9IGlzIHR5cGluZ2A7CgkJfSBlbHNlIGlmIChzYWZlVHlwaW5nVXNlcnMubGVuZ3RoID09PSAyKSB7CgkJCXJldHVybiBgJHtmaXJzdFVzZXI/Lm5hbWUgfHwgJ1NvbWVvbmUnfSBhbmQgJHtzZWNvbmRVc2VyPy5uYW1lIHx8ICdzb21lb25lIGVsc2UnfSBhcmUgdHlwaW5nYDsKCQl9IGVsc2UgewoJCQlyZXR1cm4gYCR7Zmlyc3RVc2VyPy5uYW1lIHx8ICdTb21lb25lJ30gYW5kICR7CgkJCQlzYWZlVHlwaW5nVXNlcnMubGVuZ3RoIC0gMQoJCQl9IG90aGVycyBhcmUgdHlwaW5nYDsKCQl9Cgl9OwoJcmV0dXJuICgKCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L3VzZVNlbWFudGljRWxlbWVudHM6IHR5cGluZyBpbmRpY2F0b3IgaW50ZW50aW9uYWxseSB1c2VzIGEgZGl2IHdpdGggcm9sZT0ic3RhdHVzIiBmb3IgYWNjZXNzaWJpbGl0eSAqLwoJCTxkaXYKCQkJcm9sZT0ic3RhdHVzIgoJCQljbGFzc05hbWU9e2NuKCdmbGV4IGl0ZW1zLWVuZCBnYXAtMicsIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtzaG93QXZhdGFycyAmJiAoCgkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLTggdy04IHNocmluay0wIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYmctY2FyZC1tdXRlZCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCI+CgkJCQkJe3NhZmVUeXBpbmdVc2Vyc1swXT8uYXZhdGFyID8gKAoJCQkJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9wZXJmb3JtYW5jZS9ub0ltZ0VsZW1lbnQ6IHByZWZlciBuYXRpdmUgaW1nIGhlcmUgKi8KCQkJCQkJPGltZwoJCQkJCQkJc3JjPXtzYWZlVHlwaW5nVXNlcnNbMF0/LmF2YXRhcn0KCQkJCQkJCWFsdD17c2FmZVR5cGluZ1VzZXJzWzBdPy5uYW1lIHx8ICd0eXBpbmcnfQoJCQkJCQkJY2xhc3NOYW1lPSJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtZnVsbCBvYmplY3QtY292ZXIiCgkJCQkJCS8+CgkJCQkJKSA6ICgKCQkJCQkJPHNwYW4+CgkJCQkJCQl7c2FmZVR5cGluZ1VzZXJzWzBdPy5uYW1lCgkJCQkJCQkJPyBzYWZlVHlwaW5nVXNlcnNbMF0/Lm5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkKCQkJCQkJCQk6ICc/J30KCQkJCQkJPC9zcGFuPgoJCQkJCSl9CgkJCQk8L2Rpdj4KCQkJKX0KCgkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IHctZnVsbCBmbGV4LWNvbCBpdGVtcy1zdGFydCBnYXAtMSI+CgkJCQk8ZGl2IGNsYXNzTmFtZT0idy1maXQgbWF4LXctWzgwJV0gcm91bmRlZC1sZyBiZy1jYXJkLW11dGVkIHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZCI+CgkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCI+CgkJCQkJCQl7Z2V0VHlwaW5nVGV4dCgpfQoJCQkJCQk8L3NwYW4+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGdhcC0xIj4KCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJoLTEuNSB3LTEuNSBhbmltYXRlLWJvdW5jZSByb3VuZGVkLWZ1bGwgYmctZm9yZWdyb3VuZC82MCBbYW5pbWF0aW9uLWRlbGF5Oi0wLjNzXSIgLz4KCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJoLTEuNSB3LTEuNSBhbmltYXRlLWJvdW5jZSByb3VuZGVkLWZ1bGwgYmctZm9yZWdyb3VuZC82MCBbYW5pbWF0aW9uLWRlbGF5Oi0wLjE1c10iIC8+CgkJCQkJCQk8ZGl2IGNsYXNzTmFtZT0iaC0xLjUgdy0xLjUgYW5pbWF0ZS1ib3VuY2Ugcm91bmRlZC1mdWxsIGJnLWZvcmVncm91bmQvNjAiIC8+CgkJCQkJCTwvZGl2PgoJCQkJCTwvZGl2PgoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDaGF0OiBSZWFjdC5GQzxDaGF0UHJvcHM+ID0gKHsKCW1lc3NhZ2VzID0gW10sCglvblNlbmRNZXNzYWdlLAoJcGxhY2Vob2xkZXIgPSAnVHlwZSBhIG1lc3NhZ2UuLi4nLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWF1dG9Gb2N1cyA9IGZhbHNlLAoJbWF4TGVuZ3RoID0gNTAwLAoJc2hvd1RpbWVzdGFtcHMgPSBmYWxzZSwKCXNob3dBdmF0YXJzID0gZmFsc2UsCglhbGxvd011bHRpbGluZSA9IHRydWUsCgl0eXBpbmdVc2VycyA9IFtdLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17Y24oY2hhdFZhcmlhbnRzKHsgdmFyaWFudCB9KSwgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaC1mdWxsIGZsZXgtY29sIHJvdW5kZWQtbGciPgoJCQkJPENoYXRNZXNzYWdlcwoJCQkJCW1lc3NhZ2VzPXttZXNzYWdlc30KCQkJCQlzaG93VGltZXN0YW1wcz17c2hvd1RpbWVzdGFtcHN9CgkJCQkJc2hvd0F2YXRhcnM9e3Nob3dBdmF0YXJzfQoJCQkJCXR5cGluZ1VzZXJzPXt0eXBpbmdVc2Vyc30KCQkJCQljbGFzc05hbWU9Im1heC1oLTk2IG1pbi1oLTAgZmxleC0xIgoJCQkJLz4KCQkJCXtvblNlbmRNZXNzYWdlICYmICgKCQkJCQk8Q2hhdElucHV0CgkJCQkJCW9uU2VuZE1lc3NhZ2U9e29uU2VuZE1lc3NhZ2V9CgkJCQkJCXBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn0KCQkJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJCQlhdXRvRm9jdXM9e2F1dG9Gb2N1c30KCQkJCQkJbWF4TGVuZ3RoPXttYXhMZW5ndGh9CgkJCQkJCWFsbG93TXVsdGlsaW5lPXthbGxvd011bHRpbGluZX0KCQkJCQkvPgoJCQkJKX0KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IENoYXRNZXNzYWdlczogUmVhY3QuRkM8Q2hhdE1lc3NhZ2VzUHJvcHM+ID0gKHsKCW1lc3NhZ2VzLAoJc2hvd1RpbWVzdGFtcHMgPSBmYWxzZSwKCXNob3dBdmF0YXJzID0gZmFsc2UsCgl0eXBpbmdVc2VycyA9IFtdLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7Cgljb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwoKCS8qIGJpb21lLWlnbm9yZSBsaW50L2NvcnJlY3RuZXNzL3VzZUV4aGF1c3RpdmVEZXBlbmRlbmNpZXM6IHNjcm9sbCBkZXBlbmRzIG9uIG1lc3NhZ2UgY29udGVudCBjaGFuZ2VzICovCgl1c2VFZmZlY3QoKCkgPT4gewoJCWlmIChjb250YWluZXJSZWYuY3VycmVudCAmJiBtZXNzYWdlc0VuZFJlZi5jdXJyZW50KSB7CgkJCWNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50OwoJCQljb25zdCBzY3JvbGxIZWlnaHQgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0OwoJCQljb25zdCBoZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0OwoJCQljb25zdCBtYXhTY3JvbGxUb3AgPSBzY3JvbGxIZWlnaHQgLSBoZWlnaHQ7CgoJCQljb250YWluZXIuc2Nyb2xsVG8oewoJCQkJdG9wOiBtYXhTY3JvbGxUb3AgPiAwID8gbWF4U2Nyb2xsVG9wIDogMCwKCQkJCWJlaGF2aW9yOiAnc21vb3RoJywKCQkJfSk7CgkJfQoJfSwgW21lc3NhZ2VzLmxlbmd0aCwgdHlwaW5nVXNlcnMubGVuZ3RoXSk7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17Y29udGFpbmVyUmVmfQoJCQlyb2xlPSJsb2ciCgkJCWFyaWEtbGl2ZT0icG9saXRlIgoJCQlhcmlhLXJlbGV2YW50PSJhZGRpdGlvbnMgdGV4dCIKCQkJYXJpYS1sYWJlbD0iQ2hhdCBtZXNzYWdlcyIKCQkJY2xhc3NOYW1lPXtjbignZmxleC0xIHNwYWNlLXktMyBvdmVyZmxvdy15LWF1dG8gcC00JywgY2xhc3NOYW1lKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe21lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKAoJCQkJPENoYXRNZXNzYWdlCgkJCQkJa2V5PXttZXNzYWdlLmlkfQoJCQkJCW1lc3NhZ2U9e21lc3NhZ2V9CgkJCQkJc2hvd1RpbWVzdGFtcD17c2hvd1RpbWVzdGFtcHN9CgkJCQkJc2hvd0F2YXRhcj17c2hvd0F2YXRhcnN9CgkJCQkvPgoJCQkpKX0KCQkJPFR5cGluZ0luZGljYXRvciB0eXBpbmdVc2Vycz17dHlwaW5nVXNlcnN9IHNob3dBdmF0YXJzPXtzaG93QXZhdGFyc30gLz4KCQkJPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPgoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDaGF0TWVzc2FnZTogUmVhY3QuRkM8Q2hhdE1lc3NhZ2VQcm9wcz4gPSAoewoJbWVzc2FnZSwKCXNob3dUaW1lc3RhbXAgPSBmYWxzZSwKCXNob3dBdmF0YXIgPSBmYWxzZSwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgaXNVc2VyID0gbWVzc2FnZS5zZW5kZXIgPT09ICd1c2VyJzsKCWNvbnN0IGlzU3lzdGVtID0gbWVzc2FnZS5zZW5kZXIgPT09ICdzeXN0ZW0nOwoKCXJldHVybiAoCgkJPGRpdgoJCQlyb2xlPXtpc1N5c3RlbSA/ICdzdGF0dXMnIDogJ2xpc3RpdGVtJ30KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdmbGV4IGl0ZW1zLWVuZCBnYXAtMicsCgkJCQlpc1VzZXIgPyAnZmxleC1yb3ctcmV2ZXJzZScgOiAnZmxleC1yb3cnLAoJCQkJaXNTeXN0ZW0gPyAnanVzdGlmeS1jZW50ZXInIDogJycsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtzaG93QXZhdGFyICYmICFpc1N5c3RlbSAmJiAoCgkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLTggdy04IHNocmluay0wIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYmctY2FyZC1tdXRlZCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCI+CgkJCQkJe21lc3NhZ2UuYXZhdGFyID8gKAoJCQkJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9wZXJmb3JtYW5jZS9ub0ltZ0VsZW1lbnQ6IHByZWZlciBuYXRpdmUgaW1nIGhlcmUgKi8KCQkJCQkJPGltZwoJCQkJCQkJc3JjPXttZXNzYWdlLmF2YXRhcn0KCQkJCQkJCWFsdD17bWVzc2FnZS5uYW1lIHx8IG1lc3NhZ2Uuc2VuZGVyfQoJCQkJCQkJY2xhc3NOYW1lPSJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtZnVsbCBvYmplY3QtY292ZXIiCgkJCQkJCS8+CgkJCQkJKSA6ICgKCQkJCQkJPHNwYW4+CgkJCQkJCQl7bWVzc2FnZS5uYW1lCgkJCQkJCQkJPyBtZXNzYWdlLm5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkKCQkJCQkJCQk6IG1lc3NhZ2Uuc2VuZGVyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfQoJCQkJCQk8L3NwYW4+CgkJCQkJKX0KCQkJCTwvZGl2PgoJCQkpfQoKCQkJPGRpdgoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQknZmxleCB3LWZ1bGwgZmxleC1jb2wgZ2FwLTEnLAoJCQkJCWlzVXNlciA/ICdpdGVtcy1lbmQnIDogJ2l0ZW1zLXN0YXJ0JywKCQkJCQlpc1N5c3RlbSA/ICdpdGVtcy1jZW50ZXInIDogJycsCgkJCQkpfQoJCQk+CgkJCQk8ZGl2IGNsYXNzTmFtZT17Y24obWVzc2FnZVZhcmlhbnRzKHsgdmFyaWFudDogbWVzc2FnZS5zZW5kZXIgfSkpfT4KCQkJCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2ZsZXggdy1mdWxsIGZsZXgtY29sIGdhcC0xJyl9PgoJCQkJCQk8ZGl2IGNsYXNzTmFtZT0id2hpdGVzcGFjZS1wcmUtd3JhcCI+e21lc3NhZ2UuY29udGVudH08L2Rpdj4KCQkJCQkJe3Nob3dUaW1lc3RhbXAgJiYgKAoJCQkJCQkJPHNwYW4KCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQkndGV4dC14cycsCgkJCQkJCQkJCWlzVXNlcgoJCQkJCQkJCQkJPyAndGV4dC1yaWdodCB0ZXh0LWJhY2tncm91bmQvNTAnCgkJCQkJCQkJCQk6ICd0ZXh0LWxlZnQgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQkJCQkJaXNTeXN0ZW0gPyAndGV4dC1jZW50ZXInIDogJycsCgkJCQkJCQkJKX0KCQkJCQkJCT4KCQkJCQkJCQl7bWVzc2FnZS50aW1lc3RhbXAudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7CgkJCQkJCQkJCWhvdXI6ICcyLWRpZ2l0JywKCQkJCQkJCQkJbWludXRlOiAnMi1kaWdpdCcsCgkJCQkJCQkJfSl9CgkJCQkJCQk8L3NwYW4+CgkJCQkJCSl9CgkJCQkJPC9kaXY+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IENoYXRJbnB1dDogUmVhY3QuRkM8Q2hhdElucHV0UHJvcHM+ID0gKHsKCW9uU2VuZE1lc3NhZ2UsCglwbGFjZWhvbGRlciA9ICdUeXBlIGEgbWVzc2FnZS4uLicsCglkaXNhYmxlZCA9IGZhbHNlLAoJYXV0b0ZvY3VzID0gZmFsc2UsCgltYXhMZW5ndGggPSA1MDAsCglhbGxvd011bHRpbGluZSA9IHRydWUsCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTsKCWNvbnN0IHRleHRhcmVhQ29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCgljb25zdCBnZXRUZXh0YXJlYUVsZW1lbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7CgkJcmV0dXJuIHRleHRhcmVhQ29udGFpbmVyUmVmLmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykgPz8gbnVsbDsKCX0sIFtdKTsKCgljb25zdCBhZGp1c3RUZXh0YXJlYUhlaWdodCA9IHVzZUNhbGxiYWNrKAoJCShlbGVtZW50PzogSFRNTFRleHRBcmVhRWxlbWVudCB8IG51bGwpID0+IHsKCQkJY29uc3QgdGV4dGFyZWEgPSBlbGVtZW50ID8/IGdldFRleHRhcmVhRWxlbWVudCgpOwoJCQlpZiAoIXRleHRhcmVhKSByZXR1cm47CgkJCXRleHRhcmVhLnN0eWxlLmhlaWdodCA9ICdhdXRvJzsKCQkJY29uc3QgbmV3SGVpZ2h0ID0gTWF0aC5taW4odGV4dGFyZWEuc2Nyb2xsSGVpZ2h0LCAxMjApOwoJCQl0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgOwoJCX0sCgkJW2dldFRleHRhcmVhRWxlbWVudF0sCgkpOwoKCXVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKGF1dG9Gb2N1cykgewoJCQlnZXRUZXh0YXJlYUVsZW1lbnQoKT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pOwoJCX0KCX0sIFthdXRvRm9jdXMsIGdldFRleHRhcmVhRWxlbWVudF0pOwoKCWNvbnN0IGhhbmRsZVN1Ym1pdCA9IHVzZUNhbGxiYWNrKAoJCShlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHsKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQlpZiAobWVzc2FnZS50cmltKCkgJiYgIWRpc2FibGVkKSB7CgkJCQlvblNlbmRNZXNzYWdlKG1lc3NhZ2UudHJpbSgpKTsKCQkJCXNldE1lc3NhZ2UoJycpOwoJCQkJY29uc3QgdGV4dGFyZWEgPSBnZXRUZXh0YXJlYUVsZW1lbnQoKTsKCQkJCWlmICh0ZXh0YXJlYSkgewoJCQkJCXRleHRhcmVhLnN0eWxlLmhlaWdodCA9ICdhdXRvJzsKCQkJCX0KCQkJfQoJCX0sCgkJW21lc3NhZ2UsIGRpc2FibGVkLCBvblNlbmRNZXNzYWdlLCBnZXRUZXh0YXJlYUVsZW1lbnRdLAoJKTsKCgljb25zdCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soCgkJKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHsKCQkJaWYgKGUua2V5ID09PSAnRW50ZXInKSB7CgkJCQlpZiAoYWxsb3dNdWx0aWxpbmUgJiYgZS5zaGlmdEtleSkgewoJCQkJCXJldHVybjsKCQkJCX0KCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCWhhbmRsZVN1Ym1pdChlKTsKCQkJfQoJCX0sCgkJW2FsbG93TXVsdGlsaW5lLCBoYW5kbGVTdWJtaXRdLAoJKTsKCgljb25zdCBoYW5kbGVUZXh0YXJlYUNoYW5nZSA9IHVzZUNhbGxiYWNrKAoJCShlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4gewoJCQljb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOwoJCQlpZiAobWF4TGVuZ3RoICYmIHZhbHVlLmxlbmd0aCA+IG1heExlbmd0aCkgcmV0dXJuOwoKCQkJc2V0TWVzc2FnZSh2YWx1ZSk7CgkJCWFkanVzdFRleHRhcmVhSGVpZ2h0KGUudGFyZ2V0KTsKCQl9LAoJCVttYXhMZW5ndGgsIGFkanVzdFRleHRhcmVhSGVpZ2h0XSwKCSk7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBiZy1jYXJkLW11dGVkLzMwIHAtNCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCTxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXgtMSIgcmVmPXt0ZXh0YXJlYUNvbnRhaW5lclJlZn0+CgkJCQkJPFRleHRhcmVhCgkJCQkJCXZhbHVlPXttZXNzYWdlfQoJCQkJCQlvbkNoYW5nZT17aGFuZGxlVGV4dGFyZWFDaGFuZ2V9CgkJCQkJCW9uS2V5RG93bj17aGFuZGxlS2V5RG93bn0KCQkJCQkJcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfQoJCQkJCQlhcmlhLWxhYmVsPXtwbGFjZWhvbGRlciB8fCAnVHlwZSBhIG1lc3NhZ2UnfQoJCQkJCQlhcmlhLW11bHRpbGluZT17YWxsb3dNdWx0aWxpbmV9CgkJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQkJcm93cz17MX0KCQkJCQkJcmVzaXplPSJub25lIgoJCQkJCQljb250YWluZXJDbGFzc05hbWU9ImZsZXgtMSIKCQkJCQkJd3JhcHBlckNsYXNzTmFtZT0iaC1mdWxsIgoJCQkJCQljbGFzc05hbWU9Im1pbi1oLTkiCgkJCQkJLz4KCQkJCTwvZGl2PgoJCQkJPEJ1dHRvbgoJCQkJCXR5cGU9InN1Ym1pdCIKCQkJCQlzaXplPSJtZCIKCQkJCQlhcmlhLWxhYmVsPSJTZW5kIG1lc3NhZ2UiCgkJCQkJZGlzYWJsZWQ9eyFtZXNzYWdlLnRyaW0oKSB8fCBkaXNhYmxlZH0KCQkJCT4KCQkJCQk8SWNvbnMuU2VuZE1lc3NhZ2UKCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCWNsYXNzTmFtZT0ibWItMC41IG1sLTEgc2l6ZS01IC1yb3RhdGUtNDUiCgkJCQkJLz4KCQkJCTwvQnV0dG9uPgoJCQk8L2Zvcm0+CgkJCXttYXhMZW5ndGggJiYgKAoJCQkJPGRpdiBjbGFzc05hbWU9Im10LTEgdGV4dC1yaWdodCB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC80NSBkYXJrOnRleHQtZm9yZWdyb3VuZC80NSI+CgkJCQkJe21lc3NhZ2UubGVuZ3RofS97bWF4TGVuZ3RofQoJCQkJPC9kaXY+CgkJCSl9CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IENoYXRBY3Rpb25zOiBSZWFjdC5GQzxDaGF0QWN0aW9uc1Byb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJywgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTs="
,
  "checkbox-card.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QsIHsgdXNlSWQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgY2hlY2tib3hDYXJkVmFyaWFudHMgPSBjdmEoCglbCgkJJ2dyb3VwIHJlbGF0aXZlIGZsZXggdy1mdWxsIGZsZXgtY29sIGdhcC0zIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBweC00IHB5LTMgdGV4dC1sZWZ0IHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCcsCgkJJ2hhcy1bOmZvY3VzLXZpc2libGVdOnJpbmctMSBoYXMtWzpmb2N1cy12aXNpYmxlXTpyaW5nLXJpbmcvNTAgaGFzLVs6Zm9jdXMtdmlzaWJsZV06cmluZy1vZmZzZXQtMSBoYXMtWzpmb2N1cy12aXNpYmxlXTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBoYXMtWzpmb2N1cy12aXNpYmxlXTpvdXRsaW5lLW5vbmUnLAoJCSd0cmFuc2l0aW9uLVtib3gtc2hhZG93XSBkdXJhdGlvbi0xMDAgZWFzZS1vdXQtcXVhZCcsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCWNoZWNrZWQ6IHsKCQkJCXRydWU6ICcnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCQlkaXNhYmxlZDogewoJCQkJdHJ1ZTogJ2N1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWZhbHNlOiAnY3Vyc29yLXBvaW50ZXInLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCWNoZWNrZWQ6IGZhbHNlLAoJCQlkaXNhYmxlZDogZmFsc2UsCgkJfSwKCX0sCik7Cgpjb25zdCBpbmRpY2F0b3JWYXJpYW50cyA9IGN2YSgKCSdmbGV4IGgtMyB3LTMgc2hyaW5rLTAgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHRyYW5zaXRpb24tW29wYWNpdHksYm9yZGVyLWNvbG9yXSBkdXJhdGlvbi0xMDAgZWFzZS1vdXQtcXVhZCcsCgl7CgkJdmFyaWFudHM6IHsKCQkJY2hlY2tlZDogewoJCQkJdHJ1ZTogJ2JvcmRlci1mb3JlZ3JvdW5kJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdvcGFjaXR5LTUwJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQljaGVja2VkOiBmYWxzZSwKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBDaGVja2JveENhcmRQcm9wcwoJZXh0ZW5kcyBPbWl0PAoJCQlPbWl0PFJlYWN0LklucHV0SFRNTEF0dHJpYnV0ZXM8SFRNTElucHV0RWxlbWVudD4sICdzaXplJz4sCgkJCSd0aXRsZScKCQk+LAoJCU9taXQ8VmFyaWFudFByb3BzPHR5cGVvZiBjaGVja2JveENhcmRWYXJpYW50cz4sICdjaGVja2VkJyB8ICdkaXNhYmxlZCc+IHsKCXRpdGxlOiBSZWFjdC5SZWFjdE5vZGU7CglkZXNjcmlwdGlvbj86IFJlYWN0LlJlYWN0Tm9kZTsKCW1ldGE/OiBSZWFjdC5SZWFjdE5vZGU7CgloZWxwZXI/OiBSZWFjdC5SZWFjdE5vZGU7CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKCWNoZWNrZWQ/OiBib29sZWFuOwoJZGVmYXVsdENoZWNrZWQ/OiBib29sZWFuOwoJb25DaGVja2VkQ2hhbmdlPzogKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHZvaWQ7CglkaXNhYmxlZD86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBDaGVja2JveENhcmQgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTExhYmVsRWxlbWVudCwKCUNoZWNrYm94Q2FyZFByb3BzCj4oCgkoCgkJewoJCQl0aXRsZSwKCQkJZGVzY3JpcHRpb24sCgkJCW1ldGEsCgkJCWhlbHBlciwKCQkJY2hpbGRyZW4sCgkJCWNsYXNzTmFtZSA9ICcnLAoJCQljaGVja2VkLAoJCQlvbkNoZWNrZWRDaGFuZ2UsCgkJCWRlZmF1bHRDaGVja2VkLAoJCQlkaXNhYmxlZCA9IGZhbHNlLAoJCQlpZDogaWRQcm9wLAoJCQkuLi5wcm9wcwoJCX0sCgkJcmVmLAoJKSA9PiB7CgkJY29uc3QgZ2VuZXJhdGVkSWQgPSB1c2VJZCgpOwoJCWNvbnN0IGlucHV0SWQgPSBpZFByb3AgPz8gZ2VuZXJhdGVkSWQ7CgoJCWxldCBzdG9yZVByb3BzOiBQYXJhbWV0ZXJzPHR5cGVvZiBBcmlha2l0LnVzZUNoZWNrYm94U3RvcmU8Ym9vbGVhbj4+WzBdOwoJCWlmICh0eXBlb2YgY2hlY2tlZCAhPT0gJ3VuZGVmaW5lZCcpIHsKCQkJc3RvcmVQcm9wcyA9IHsKCQkJCXZhbHVlOiBjaGVja2VkLAoJCQkJc2V0VmFsdWU6ICh2YWx1ZSkgPT4gewoJCQkJCWNvbnN0IGJvb2wgPSBBcnJheS5pc0FycmF5KHZhbHVlKQoJCQkJCQk/IHZhbHVlLnNvbWUoKGl0ZW0pID0+IEJvb2xlYW4oaXRlbSkpCgkJCQkJCTogQm9vbGVhbih2YWx1ZSk7CgkJCQkJb25DaGVja2VkQ2hhbmdlPy4oYm9vbCk7CgkJCQl9LAoJCQl9OwoJCX0gZWxzZSB7CgkJCXN0b3JlUHJvcHMgPSB7IGRlZmF1bHRWYWx1ZTogQm9vbGVhbihkZWZhdWx0Q2hlY2tlZCkgfTsKCQl9CgoJCWNvbnN0IHN0b3JlID0gQXJpYWtpdC51c2VDaGVja2JveFN0b3JlPGJvb2xlYW4+KHN0b3JlUHJvcHMpOwoJCWNvbnN0IHN0b3JlZFZhbHVlID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAndmFsdWUnKTsKCQljb25zdCBpc0NoZWNrZWQgPSBBcnJheS5pc0FycmF5KHN0b3JlZFZhbHVlKQoJCQk/IHN0b3JlZFZhbHVlLnNvbWUoKGl0ZW0pID0+IEJvb2xlYW4oaXRlbSkpCgkJCTogQm9vbGVhbihzdG9yZWRWYWx1ZSk7CgkJY29uc3QgeyBuYW1lLCBhdXRvRm9jdXMsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHM7CgkJY29uc3QgY2hlY2tib3hQcm9wcyA9IHsKCQkJLi4ucmVzdFByb3BzLAoJCQkuLi4odHlwZW9mIG5hbWUgPT09ICd1bmRlZmluZWQnID8ge30gOiB7IG5hbWUgfSksCgkJCS4uLih0eXBlb2YgYXV0b0ZvY3VzID09PSAndW5kZWZpbmVkJyA/IHt9IDogeyBhdXRvRm9jdXMgfSksCgkJfTsKCgkJcmV0dXJuICgKCQkJPGxhYmVsCgkJCQlyZWY9e3JlZn0KCQkJCWh0bWxGb3I9e2lucHV0SWR9CgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCWNoZWNrYm94Q2FyZFZhcmlhbnRzKHsgY2hlY2tlZDogaXNDaGVja2VkLCBkaXNhYmxlZCB9KSwKCQkJCQljbGFzc05hbWUsCgkJCQkpfQoJCQkJZGF0YS1kaXNhYmxlZD17ZGlzYWJsZWQgPyAnJyA6IHVuZGVmaW5lZH0KCQkJCWRhdGEtY2hlY2tlZD17aXNDaGVja2VkID8gJycgOiB1bmRlZmluZWR9CgkJCT4KCQkJCTxBcmlha2l0LkNoZWNrYm94CgkJCQkJc3RvcmU9e3N0b3JlfQoJCQkJCWNsYXNzTmFtZT0ic3Itb25seSIKCQkJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCQkJaWQ9e2lucHV0SWR9CgkJCQkJey4uLmNoZWNrYm94UHJvcHN9CgkJCQkvPgoJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggdy1mdWxsIGl0ZW1zLXN0YXJ0IGdhcC0zIj4KCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LTEgZmxleC1jb2wgZ2FwLTMiPgoJCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1zdGFydCBnYXAtMyI+CgkJCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBtaW4tdy0wIGZsZXgtMSBmbGV4LWNvbCI+CgkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0cnVuY2F0ZSB0ZXh0LXNtIGxlYWRpbmctbm9uZSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCQkJCQl7dGl0bGV9CgkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCXtkZXNjcmlwdGlvbiA/ICgKCQkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJtdC0xIHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwIGxlYWRpbmctc251ZyB0ZXh0LWJhbGFuY2UiPgoJCQkJCQkJCQkJe2Rlc2NyaXB0aW9ufQoJCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJKSA6IG51bGx9CgkJCQkJCQk8L2Rpdj4KCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IHNocmluay0wIGl0ZW1zLWNlbnRlciBnYXAtMiI+CgkJCQkJCQkJe21ldGEgPyAoCgkJCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0id2hpdGVzcGFjZS1ub3dyYXAgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAiPgoJCQkJCQkJCQkJe21ldGF9CgkJCQkJCQkJCTwvc3Bhbj4KCQkJCQkJCQkpIDogbnVsbH0KCQkJCQkJCQk8c3BhbgoJCQkJCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQkJCQkJY2xhc3NOYW1lPXtpbmRpY2F0b3JWYXJpYW50cyh7CgkJCQkJCQkJCQljaGVja2VkOiBpc0NoZWNrZWQsCgkJCQkJCQkJCQlkaXNhYmxlZCwKCQkJCQkJCQkJfSl9CgkJCQkJCQkJPgoJCQkJCQkJCQk8c3BhbgoJCQkJCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQkJCSdoLTIgdy0yIHJvdW5kZWQtZnVsbCBiZy1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tW3NjYWxlLG9wYWNpdHldIGR1cmF0aW9uLTEwMCBlYXNlLW91dC1xdWFkJywKCQkJCQkJCQkJCQlpc0NoZWNrZWQgPyAnc2NhbGUtMTAwIG9wYWNpdHktMTAwJyA6ICdzY2FsZS0wIG9wYWNpdHktMCcsCgkJCQkJCQkJCQkJZGlzYWJsZWQgPyAnb3BhY2l0eS02MCcgOiAnJywKCQkJCQkJCQkJCSl9CgkJCQkJCQkJCT48L3NwYW4+CgkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJPC9kaXY+CgkJCQkJCTwvZGl2PgoJCQkJCQl7Y2hpbGRyZW4gPyAoCgkJCQkJCQk8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIHRleHQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIj4KCQkJCQkJCQl7Y2hpbGRyZW59CgkJCQkJCQk8L2Rpdj4KCQkJCQkJKSA6IG51bGx9CgkJCQkJCXtoZWxwZXIgPyAoCgkJCQkJCQk8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwIj57aGVscGVyfTwvcD4KCQkJCQkJKSA6IG51bGx9CgkJCQkJPC9kaXY+CgkJCQk8L2Rpdj4KCQkJPC9sYWJlbD4KCQkpOwoJfSwKKTsKCkNoZWNrYm94Q2FyZC5kaXNwbGF5TmFtZSA9ICdDaGVja2JveENhcmQnOw=="
,
  "checkbox.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvbGliL2ljb25zJzsKCmNvbnN0IGNoZWNrYm94VmFyaWFudHMgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgY3Vyc29yLXBvaW50ZXInLAoJCSd0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJvcmRlci1jb2xvcixib3gtc2hhZG93XSBkdXJhdGlvbi0xMDAgZWFzZS1vdXQtcXVhZCcsCgkJJ2hhcy1bOmZvY3VzLXZpc2libGVdOnJpbmctMSBoYXMtWzpmb2N1cy12aXNpYmxlXTpyaW5nLW9mZnNldC0xIGhhcy1bOmZvY3VzLXZpc2libGVdOm91dGxpbmUtbm9uZScsCgkJJ2hhcy1bOmZvY3VzLXZpc2libGVdOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGhhcy1bOmZvY3VzLXZpc2libGVdOnJpbmctcmluZy81MCcsCgkJJ3NoYWRvdy1zbSBjYXJkLWhpZ2hsaWdodCcsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnaC00IHctNCcsCgkJCQltZDogJ2gtNSB3LTUnLAoJCQkJbGc6ICdoLTYgdy02JywKCQkJfSwKCQkJY2hlY2tlZDogewoJCQkJdHJ1ZTogJycsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWRpc2FibGVkOiB7CgkJCQl0cnVlOiAnY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTAnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCX0sCgkJY29tcG91bmRWYXJpYW50czogWwoJCQl7CgkJCQljaGVja2VkOiB0cnVlLAoJCQkJY2xhc3M6ICdiZy1mb3JlZ3JvdW5kIGJvcmRlci10cmFuc3BhcmVudCcsCgkJCX0sCgkJCXsKCQkJCWNoZWNrZWQ6IGZhbHNlLAoJCQkJY2xhc3M6ICdiZy1jYXJkIGJvcmRlci1ib3JkZXInLAoJCQl9LAoJCV0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJCWNoZWNrZWQ6IGZhbHNlLAoJCQlkaXNhYmxlZDogZmFsc2UsCgkJfSwKCX0sCik7Cgpjb25zdCBpY29uVmFyaWFudHMgPSBjdmEoCglbJ3RleHQtY2FyZCB0cmFuc2l0aW9uLW9wYWNpdHkgZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAgJ10sCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdoLTMgdy0zJywKCQkJCW1kOiAnaC00IHctNCcsCgkJCQlsZzogJ2gtNC41IHctNC41JywKCQkJfSwKCQkJY2hlY2tlZDogewoJCQkJdHJ1ZTogJ29wYWNpdHktMTAwJywKCQkJCWZhbHNlOiAnb3BhY2l0eS0wJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCQljaGVja2VkOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2tib3hQcm9wcwoJZXh0ZW5kcyBPbWl0PAoJCQlSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LAoJCQknc2l6ZScgfCAnZGlzYWJsZWQnCgkJPiwKCQlPbWl0PFZhcmlhbnRQcm9wczx0eXBlb2YgY2hlY2tib3hWYXJpYW50cz4sICdjaGVja2VkJz4gewoJY2hlY2tlZD86IGJvb2xlYW47CglvbkNoZWNrZWRDaGFuZ2U/OiAoY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZDsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWlkPzogc3RyaW5nOwoJZGVmYXVsdENoZWNrZWQ/OiBib29sZWFuOwp9CgpleHBvcnQgY29uc3QgQ2hlY2tib3g6IFJlYWN0LkZDPENoZWNrYm94UHJvcHM+ID0gKHsKCWNoZWNrZWQsCglvbkNoZWNrZWRDaGFuZ2UsCglkZWZhdWx0Q2hlY2tlZCwKCXNpemUgPSAnbWQnLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWNsYXNzTmFtZSA9ICcnLAoJaWQsCgkuLi5wcm9wcwp9KSA9PiB7CglsZXQgcHJvcHNGb3JTdG9yZTogUGFyYW1ldGVyczx0eXBlb2YgQXJpYWtpdC51c2VDaGVja2JveFN0b3JlPGJvb2xlYW4+PlswXTsKCWlmICh0eXBlb2YgY2hlY2tlZCAhPT0gJ3VuZGVmaW5lZCcpIHsKCQlpZiAob25DaGVja2VkQ2hhbmdlKSB7CgkJCXByb3BzRm9yU3RvcmUgPSB7CgkJCQl2YWx1ZTogY2hlY2tlZCwKCQkJCXNldFZhbHVlOiAodmFsdWUpID0+IHsKCQkJCQljb25zdCBib29sID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggPiAwIDogQm9vbGVhbih2YWx1ZSk7CgkJCQkJb25DaGVja2VkQ2hhbmdlKGJvb2wpOwoJCQkJfSwKCQkJfTsKCQl9IGVsc2UgewoJCQlwcm9wc0ZvclN0b3JlID0geyB2YWx1ZTogY2hlY2tlZCB9OwoJCX0KCX0gZWxzZSB7CgkJcHJvcHNGb3JTdG9yZSA9IHsgZGVmYXVsdFZhbHVlOiBCb29sZWFuKGRlZmF1bHRDaGVja2VkKSB9OwoJfQoJY29uc3Qgc3RvcmUgPSBBcmlha2l0LnVzZUNoZWNrYm94U3RvcmU8Ym9vbGVhbj4ocHJvcHNGb3JTdG9yZSk7CgoJY29uc3QgaXNDaGVja2VkID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAndmFsdWUnKTsKCWNvbnN0IHsgbmFtZSwgYXV0b0ZvY3VzLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzOwoJY29uc3QgY2hlY2tib3hQcm9wcyA9IHsKCQkuLi5yZXN0UHJvcHMsCgkJLi4uKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/IHt9IDogeyBuYW1lIH0pLAoJCS4uLih0eXBlb2YgYXV0b0ZvY3VzID09PSAndW5kZWZpbmVkJyA/IHt9IDogeyBhdXRvRm9jdXMgfSksCgl9OwoKCXJldHVybiAoCgkJPGxhYmVsCgkJCWNsYXNzTmFtZT17Y24oCgkJCQljaGVja2JveFZhcmlhbnRzKHsgc2l6ZSwgY2hlY2tlZDogaXNDaGVja2VkLCBkaXNhYmxlZCB9KSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJaHRtbEZvcj17aWR9CgkJPgoJCQk8QXJpYWtpdC5DaGVja2JveAoJCQkJc3RvcmU9e3N0b3JlfQoJCQkJY2xhc3NOYW1lPSJzci1vbmx5IgoJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJaWQ9e2lkfQoJCQkJey4uLmNoZWNrYm94UHJvcHN9CgkJCS8+CgkJCTxJY29ucy5DaGVjawoJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQljbGFzc05hbWU9e2ljb25WYXJpYW50cyh7IHNpemUsIGNoZWNrZWQ6IGlzQ2hlY2tlZCB9KX0KCQkJLz4KCQk8L2xhYmVsPgoJKTsKfTs="
,
  "combobox.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7CglzdGFydFRyYW5zaXRpb24sCgl1c2VDYWxsYmFjaywKCXVzZUVmZmVjdCwKCXVzZUlkLAoJdXNlTWVtbywKCXVzZVN0YXRlLAp9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9saWIvaWNvbnMnOwppbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhJzsKCmNvbnN0IGNvbWJvYm94VmFyaWFudHMgPSBjdmEoCglgcmVsYXRpdmUgaW5saW5lLWZsZXggdy1maXQgY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy1jYXJkIHRleHQtZm9yZWdyb3VuZCByb3VuZGVkLW1kIGJvcmRlciBzaGFkb3ctc20gY2FyZC1oaWdobGlnaHQgaG92ZXI6YmctY2FyZC1tdXRlZCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yLGJveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwYCwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiBgYm9yZGVyLWJvcmRlciBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MGAsCgkJCQllcnJvcjogYGJvcmRlci1kZXN0cnVjdGl2ZS80MCBmb2N1cy12aXNpYmxlOnJpbmctZGVzdHJ1Y3RpdmUvNTAgZGFyazpmb2N1cy12aXNpYmxlOnJpbmctZGVzdHJ1Y3RpdmUvNTBgLAoJCQkJc3VjY2VzczogYGJvcmRlci1zdWNjZXNzLzQwIGZvY3VzLXZpc2libGU6cmluZy1zdWNjZXNzLzUwIGRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLXN1Y2Nlc3MvNTBgLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ2gtOCBweC0yLjUgcHktMS41IHB4LTMgdGV4dC1zbScsCgkJCQltZDogJ2gtOSBweC0zIHB5LTIgdGV4dC1zbScsCgkJCQlsZzogJ2gtMTAgcHgtNCBweS0yIHRleHQtYmFzZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBDb21ib2JveE9wdGlvbiB7Cgl2YWx1ZTogc3RyaW5nOwoJbGFiZWw6IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBDb21ib2JveFByb3BzIGV4dGVuZHMgVmFyaWFudFByb3BzPHR5cGVvZiBjb21ib2JveFZhcmlhbnRzPiB7CglvcHRpb25zOiBDb21ib2JveE9wdGlvbltdOwoJdmFsdWU/OiBzdHJpbmc7CglkZWZhdWx0VmFsdWU/OiBzdHJpbmc7CglvblZhbHVlQ2hhbmdlPzogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7Cglwb3J0YWw/OiBib29sZWFuOwoJcGxhY2Vob2xkZXI/OiBzdHJpbmc7CglzZWFyY2hQbGFjZWhvbGRlcj86IHN0cmluZzsKCWVtcHR5TWVzc2FnZT86IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXBvcG92ZXJDbGFzc05hbWU/OiBzdHJpbmc7CgljbGVhcmFibGU/OiBib29sZWFuOwp9CgpleHBvcnQgY29uc3QgQ29tYm9ib3g6IFJlYWN0LkZDPENvbWJvYm94UHJvcHM+ID0gKHsKCW9wdGlvbnMsCgl2YWx1ZTogY29udHJvbGxlZFZhbHVlLAoJZGVmYXVsdFZhbHVlLAoJb25WYWx1ZUNoYW5nZSwKCXBvcnRhbCA9IHRydWUsCglwbGFjZWhvbGRlciA9ICdTZWxlY3Qgb3B0aW9uLi4uJywKCXNlYXJjaFBsYWNlaG9sZGVyID0gJ1NlYXJjaC4uLicsCgllbXB0eU1lc3NhZ2UgPSAnTm8gb3B0aW9ucyBmb3VuZCcsCglkaXNhYmxlZCA9IGZhbHNlLAoJc2l6ZSA9ICdtZCcsCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJY2xhc3NOYW1lID0gJycsCglwb3BvdmVyQ2xhc3NOYW1lID0gJycsCgljbGVhcmFibGUgPSB0cnVlLAp9KSA9PiB7Cgljb25zdCBiYXNlSWQgPSB1c2VJZCgpOwoJY29uc3QgW2ludGVybmFsVmFsdWUsIHNldEludGVybmFsVmFsdWVdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlID8/ICcnKTsKCWNvbnN0IFtzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWVdID0gdXNlU3RhdGUoJycpOwoKCWNvbnN0IGNvbWJvYm94U3RvcmUgPSBBcmlha2l0LnVzZUNvbWJvYm94U3RvcmUoewoJCXJlc2V0VmFsdWVPbkhpZGU6IHRydWUsCgl9KTsKCgljb25zdCBzZWxlY3RTdG9yZSA9IEFyaWFraXQudXNlU2VsZWN0U3RvcmUoewoJCXZhbHVlOiBjb250cm9sbGVkVmFsdWUgPz8gaW50ZXJuYWxWYWx1ZSwKCQkuLi4oZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyB7IGRlZmF1bHRWYWx1ZSB9IDoge30pLAoJCWFuaW1hdGVkOiB0cnVlLAoJCWNvbWJvYm94OiBjb21ib2JveFN0b3JlLAoJCXNldFZhbHVlOiAodmFsdWUpID0+IHsKCQkJY29uc3QgbmV4dFZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogU3RyaW5nKHZhbHVlKTsKCQkJaWYgKGNvbnRyb2xsZWRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7CgkJCQlzZXRJbnRlcm5hbFZhbHVlKG5leHRWYWx1ZSk7CgkJCX0KCQkJaWYgKG9uVmFsdWVDaGFuZ2UpIHsKCQkJCW9uVmFsdWVDaGFuZ2UobmV4dFZhbHVlKTsKCQkJfQoJCX0sCgl9KTsKCgljb25zdCBzZWxlY3RlZFZhbHVlID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHNlbGVjdFN0b3JlLCAoc3RhdGUpID0+IHsKCQljb25zdCB2YWx1ZSA9IHN0YXRlLnZhbHVlOwoJCWlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgewoJCQlyZXR1cm4gU3RyaW5nKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdID8/ICcnKTsKCQl9CgkJcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IFN0cmluZyh2YWx1ZSk7Cgl9KTsKCgljb25zdCBzZWxlY3RlZE9wdGlvbiA9IHVzZU1lbW8oCgkJKCkgPT4gb3B0aW9ucy5maW5kKChvcHRpb24pID0+IG9wdGlvbi52YWx1ZSA9PT0gc2VsZWN0ZWRWYWx1ZSksCgkJW29wdGlvbnMsIHNlbGVjdGVkVmFsdWVdLAoJKTsKCgljb25zdCBtYXRjaGVzID0gdXNlTWVtbygoKSA9PiB7CgkJY29uc3QgcXVlcnkgPSBzZWFyY2hWYWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTsKCQlpZiAoIXF1ZXJ5KSByZXR1cm4gb3B0aW9uczsKCQlyZXR1cm4gb3B0aW9ucy5maWx0ZXIoKG9wdGlvbikgPT4KCQkJb3B0aW9uLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpLAoJCSk7Cgl9LCBbb3B0aW9ucywgc2VhcmNoVmFsdWVdKTsKCgljb25zdCBsaXN0SWQgPSBgJHtiYXNlSWR9LWxpc3Rib3hgOwoJY29uc3QgaXNPcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHNlbGVjdFN0b3JlLCAoc3RhdGUpID0+IHN0YXRlLm9wZW4pOwoKCXVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFpc09wZW4pIHsKCQkJY29tYm9ib3hTdG9yZS5zZXRWYWx1ZSgnJyk7CgkJCXN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTZWFyY2hWYWx1ZSgnJykpOwoJCX0KCX0sIFtjb21ib2JveFN0b3JlLCBpc09wZW5dKTsKCgljb25zdCBoYW5kbGVDbGVhciA9IHVzZUNhbGxiYWNrKAoJCShldmVudDogUmVhY3QuU3ludGhldGljRXZlbnQpID0+IHsKCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCXNlbGVjdFN0b3JlLnNldFZhbHVlKCcnKTsKCQkJY29tYm9ib3hTdG9yZS5zZXRWYWx1ZSgnJyk7CgkJCXN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTZWFyY2hWYWx1ZSgnJykpOwoJCX0sCgkJW2NvbWJvYm94U3RvcmUsIHNlbGVjdFN0b3JlXSwKCSk7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Db21ib2JveFByb3ZpZGVyIHN0b3JlPXtjb21ib2JveFN0b3JlfSByZXNldFZhbHVlT25IaWRlPgoJCQk8QXJpYWtpdC5TZWxlY3RQcm92aWRlciBzdG9yZT17c2VsZWN0U3RvcmV9PgoJCQkJPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIj4KCQkJCQk8QXJpYWtpdC5TZWxlY3QKCQkJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJY29tYm9ib3hWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksCgkJCQkJCQlkaXNhYmxlZCAmJiAnY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTAnLAoJCQkJCQkJY2xhc3NOYW1lLAoJCQkJCQkpfQoJCQkJCT4KCQkJCQkJPHNwYW4KCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJJ2ZsZXgtMSB0cnVuY2F0ZSB0ZXh0LWxlZnQnLAoJCQkJCQkJCXNlbGVjdGVkT3B0aW9uID8gJycgOiAndGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQkJCSl9CgkJCQkJCT4KCQkJCQkJCXtzZWxlY3RlZE9wdGlvbiA/IHNlbGVjdGVkT3B0aW9uLmxhYmVsIDogcGxhY2Vob2xkZXJ9CgkJCQkJCTwvc3Bhbj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9Im1sLTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEiPgoJCQkJCQkJe2NsZWFyYWJsZSAmJiBzZWxlY3RlZE9wdGlvbiAmJiAhZGlzYWJsZWQgJiYgKAoJCQkJCQkJCTxidXR0b24KCQkJCQkJCQkJdHlwZT0iYnV0dG9uIgoJCQkJCQkJCQlvbk1vdXNlRG93bj17aGFuZGxlQ2xlYXJ9CgkJCQkJCQkJCW9uQ2xpY2s9e2hhbmRsZUNsZWFyfQoJCQkJCQkJCQlvbktleURvd249eyhlKSA9PiB7CgkJCQkJCQkJCQlpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykgewoJCQkJCQkJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQkJCQkJCQloYW5kbGVDbGVhcihlKTsKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfX0KCQkJCQkJCQkJdGFiSW5kZXg9ezB9CgkJCQkJCQkJCWNsYXNzTmFtZT0iY3Vyc29yLXBvaW50ZXIgcm91bmRlZCBwLTAuNSB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIgoJCQkJCQkJCT4KCQkJCQkJCQkJPEljb25zLlggYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC0zIHctMyIgLz4KCQkJCQkJCQkJPEFyaWFraXQuVmlzdWFsbHlIaWRkZW4+CgkJCQkJCQkJCQlDbGVhciBTZWxlY3Rpb24KCQkJCQkJCQkJPC9Bcmlha2l0LlZpc3VhbGx5SGlkZGVuPgoJCQkJCQkJCTwvYnV0dG9uPgoJCQkJCQkJKX0KCQkJCQkJCTxJY29ucy5DYXJldFNvcnQKCQkJCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQkJCQljbGFzc05hbWU9ImgtNC41IHctNC41IHRleHQtZm9yZWdyb3VuZC83MCIKCQkJCQkJCS8+CgkJCQkJCTwvZGl2PgoJCQkJCTwvQXJpYWtpdC5TZWxlY3Q+CgoJCQkJCTxBcmlha2l0LlNlbGVjdFBvcG92ZXIKCQkJCQkJcG9ydGFsPXtwb3J0YWx9CgkJCQkJCXNhbWVXaWR0aAoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ2Fic29sdXRlIHotOTk5IG15LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1wb3BvdmVyIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCcsCgkJCQkJCQknb3JpZ2luLXRvcCAtdHJhbnNsYXRlLXktMiBzY2FsZS05NSBvcGFjaXR5LTAgdHJhbnNpdGlvbi1bc2NhbGUsdHJhbnNsYXRlLG9wYWNpdHldIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTpvcGFjaXR5LTAnLAoJCQkJCQkJcG9wb3ZlckNsYXNzTmFtZSwKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJib3JkZXItYiBib3JkZXItYm9yZGVyLzYwIHAtMSBmbGV4IGp1c3RpZnktc3RhcnQgaXRlbXMtY2VudGVyIj4KCQkJCQkJCTxJY29ucy5TZWFyY2gKCQkJCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQkJCQljbGFzc05hbWU9InNpemUtNiB0ZXh0LWZvcmVncm91bmQvMzUgbWwtMiIKCQkJCQkJCS8+CgkJCQkJCQk8QXJpYWtpdC5Db21ib2JveAoJCQkJCQkJCWF1dG9TZWxlY3QKCQkJCQkJCQlwbGFjZWhvbGRlcj17c2VhcmNoUGxhY2Vob2xkZXJ9CgkJCQkJCQkJYXJpYS1jb250cm9scz17bGlzdElkfQoJCQkJCQkJCW9uQ2hhbmdlPXsoZXZlbnQpID0+CgkJCQkJCQkJCXN0YXJ0VHJhbnNpdGlvbigoKSA9PgoJCQkJCQkJCQkJc2V0U2VhcmNoVmFsdWUoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSksCgkJCQkJCQkJCSkKCQkJCQkJCQl9CgkJCQkJCQkJY2xhc3NOYW1lPSJ3LWZ1bGwgYm9yZGVyLTAgYmctdHJhbnNwYXJlbnQgcGwtMS41IHByLTIgcHktMS41IHRleHQtc20gcGxhY2Vob2xkZXI6dGV4dC1mb3JlZ3JvdW5kLzQ1IGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIgoJCQkJCQkJLz4KCQkJCQkJPC9kaXY+CgoJCQkJCQk8U2Nyb2xsQXJlYQoJCQkJCQkJdHlwZT0ic2Nyb2xsIgoJCQkJCQkJY2xhc3NOYW1lPSJ6LTUwIGZsZXggZmxleC1jb2wgaC1mdWxsIHctZnVsbCBtYXgtaC00MiIKCQkJCQkJPgoJCQkJCQkJPEFyaWFraXQuQ29tYm9ib3hMaXN0IGlkPXtsaXN0SWR9IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBweS0xIj4KCQkJCQkJCQk8ZGl2IGFyaWEtbGl2ZT0icG9saXRlIiBjbGFzc05hbWU9InNyLW9ubHkiPgoJCQkJCQkJCQl7bWF0Y2hlcy5sZW5ndGh9IHJlc3VsdHttYXRjaGVzLmxlbmd0aCA9PT0gMSA/ICcnIDogJ3MnfQoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCXttYXRjaGVzLmxlbmd0aCA9PT0gMCA/ICgKCQkJCQkJCQkJPG91dHB1dAoJCQkJCQkJCQkJYXJpYS1saXZlPSJwb2xpdGUiCgkJCQkJCQkJCQljbGFzc05hbWU9Im14LTEgcHgtMiBweS0xLjUgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQvNzAiCgkJCQkJCQkJCT4KCQkJCQkJCQkJCXtlbXB0eU1lc3NhZ2V9CgkJCQkJCQkJCTwvb3V0cHV0PgoJCQkJCQkJCSkgOiAoCgkJCQkJCQkJCW1hdGNoZXMubWFwKChvcHRpb24pID0+IHsKCQkJCQkJCQkJCWNvbnN0IGlzU2VsZWN0ZWQgPSBvcHRpb24udmFsdWUgPT09IHNlbGVjdGVkVmFsdWU7CgkJCQkJCQkJCQljb25zdCBpdGVtRGlzYWJsZWQgPSBvcHRpb24uZGlzYWJsZWQgPT09IHRydWU7CgkJCQkJCQkJCQlyZXR1cm4gKAoJCQkJCQkJCQkJCTxBcmlha2l0LlNlbGVjdEl0ZW0KCQkJCQkJCQkJCQkJa2V5PXtvcHRpb24udmFsdWV9CgkJCQkJCQkJCQkJCXZhbHVlPXtvcHRpb24udmFsdWV9CgkJCQkJCQkJCQkJCXsuLi4oaXRlbURpc2FibGVkID8geyBkaXNhYmxlZDogdHJ1ZSB9IDoge30pfQoJCQkJCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQkJCQkJJ3JlbGF0aXZlIG14LTEgZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQtc20gcHgtMiBweS0xLjUgdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQvNzAgc2VsZWN0LW5vbmUgb3V0bGluZS1ub25lJywKCQkJCQkJCQkJCQkJCSdob3ZlcjpiZy1wb3BvdmVyLW11dGVkIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBkYXRhLWFjdGl2ZS1pdGVtOmJnLXBvcG92ZXItbXV0ZWQgZGF0YS1hY3RpdmUtaXRlbTp0ZXh0LWZvcmVncm91bmQnLAoJCQkJCQkJCQkJCQkJIlsmX3N2Z106c2hyaW5rLTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNCBnYXAtMiIsCgkJCQkJCQkJCQkJCQlvcHRpb24uZGlzYWJsZWQgJiYKCQkJCQkJCQkJCQkJCQkncG9pbnRlci1ldmVudHMtbm9uZSBjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQkJCQkJCQkJCSl9CgkJCQkJCQkJCQkJCXJlbmRlcj17CgkJCQkJCQkJCQkJCQk8QXJpYWtpdC5Db21ib2JveEl0ZW0KCQkJCQkJCQkJCQkJCQl2YWx1ZT17b3B0aW9uLmxhYmVsfQoJCQkJCQkJCQkJCQkJCWZvY3VzT25Ib3ZlcgoJCQkJCQkJCQkJCQkJCXNldFZhbHVlT25DbGljawoJCQkJCQkJCQkJCQkJLz4KCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJmbGV4LTEiPntvcHRpb24ubGFiZWx9PC9zcGFuPgoJCQkJCQkJCQkJCQl7aXNTZWxlY3RlZCAmJiAoCgkJCQkJCQkJCQkJCQk8SWNvbnMuQ2hlY2sKCQkJCQkJCQkJCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQkJCQkJCQkJCQljbGFzc05hbWU9ImgtNCB3LTQgdGV4dC1mb3JlZ3JvdW5kLzcwIgoJCQkJCQkJCQkJCQkJLz4KCQkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCQk8L0FyaWFraXQuU2VsZWN0SXRlbT4KCQkJCQkJCQkJCSk7CgkJCQkJCQkJCX0pCgkJCQkJCQkJKX0KCQkJCQkJCTwvQXJpYWtpdC5Db21ib2JveExpc3Q+CgkJCQkJCTwvU2Nyb2xsQXJlYT4KCQkJCQk8L0FyaWFraXQuU2VsZWN0UG9wb3Zlcj4KCQkJCTwvZGl2PgoJCQk8L0FyaWFraXQuU2VsZWN0UHJvdmlkZXI+CgkJPC9Bcmlha2l0LkNvbWJvYm94UHJvdmlkZXI+CgkpOwp9Ow=="
,
  "command-k.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhIH0gZnJvbSAnY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5JzsKaW1wb3J0IHR5cGUgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgewoJdXNlQ2FsbGJhY2ssCgl1c2VFZmZlY3QsCgl1c2VJZCwKCXVzZU1lbW8sCgl1c2VSZWYsCgl1c2VTdGF0ZSwKfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvbGliL2ljb25zJzsKaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dDb250ZW50LCBEaWFsb2dTdXJmYWNlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2RpYWxvZyc7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JzsKaW1wb3J0IHsgS2JkIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2tiZCc7CgpleHBvcnQgdHlwZSBDb21tYW5kS0l0ZW0gPSB7CglpZD86IHN0cmluZzsKCWxhYmVsOiBzdHJpbmc7Cglncm91cD86IHN0cmluZzsKCWRlc2NyaXB0aW9uPzogc3RyaW5nOwoJa2V5d29yZHM/OiBzdHJpbmdbXTsKCWljb24/OiBSZWFjdC5SZWFjdE5vZGU7CglzaG9ydGN1dD86IHN0cmluZ1tdOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJYWN0aW9uPzogKCkgPT4gdm9pZDsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZEtQcm9wcyB7CglpdGVtczogQ29tbWFuZEtJdGVtW107CglvcGVuPzogYm9vbGVhbjsKCWRlZmF1bHRPcGVuPzogYm9vbGVhbjsKCW9uT3BlbkNoYW5nZT86IChvcGVuOiBib29sZWFuKSA9PiB2b2lkOwoJcGxhY2Vob2xkZXI/OiBzdHJpbmc7CgllbXB0eU1lc3NhZ2U/OiBzdHJpbmc7CgljbG9zZU9uQWN0aW9uPzogYm9vbGVhbjsKCXNpemU/OiAnc20nIHwgJ21kJyB8ICdsZycgfCAneGwnOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJbGlzdENsYXNzTmFtZT86IHN0cmluZzsKCWF1dG9Gb2N1cz86IGJvb2xlYW47Cglob3RrZXk/OiB7CgkJa2V5OiBzdHJpbmc7CgkJbWV0YUtleT86IGJvb2xlYW47CgkJY3RybEtleT86IGJvb2xlYW47Cgl9OwoJb25TZWxlY3Q/OiAoaXRlbTogQ29tbWFuZEtJdGVtKSA9PiB2b2lkOwp9Cgpjb25zdCBncm91cEhlYWRlckNsYXNzID0gY3ZhKAoJJ3B4LTMgcHQtMiBwYi0xIHRleHQteHMgZm9udC1tZWRpdW0gdHJhY2tpbmctd2lkZSB0ZXh0LWZvcmVncm91bmQvNDUnLAopOwoKY29uc3QgbGlzdEl0ZW1DbGFzcyA9IGN2YSgKCVsKCQkncmVsYXRpdmUgZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC1zbSBoLTkgcHgtMyBweS0yJywKCQkndGV4dC1zbSB0ZXh0LWZvcmVncm91bmQnLAoJCSdob3ZlcjpiZy1wb3BvdmVyLW11dGVkJywKCV0uam9pbignICcpLAoJewoJCXZhcmlhbnRzOiB7CgkJCWhpZ2hsaWdodGVkOiB7IHRydWU6ICdiZy1wb3BvdmVyLW11dGVkJywgZmFsc2U6ICcnIH0sCgkJCWRpc2FibGVkOiB7CgkJCQl0cnVlOiAncG9pbnRlci1ldmVudHMtbm9uZSBjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsgaGlnaGxpZ2h0ZWQ6IGZhbHNlLCBkaXNhYmxlZDogZmFsc2UgfSwKCX0sCik7Cgpjb25zdCB1c2VQbGF0Zm9ybU1ldGEgPSAoKSA9PiB7Cgljb25zdCBbaXNNYWMsIHNldElzTWFjXSA9IHVzZVN0YXRlKGZhbHNlKTsKCXVzZUVmZmVjdCgoKSA9PiB7CgkJY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CgkJc2V0SXNNYWMoL21hY3xpcGhvbmV8aXBhZHxpcG9kLy50ZXN0KHVhKSk7Cgl9LCBbXSk7CglyZXR1cm4gaXNNYWM7Cn07CgpleHBvcnQgY29uc3QgQ29tbWFuZEs6IFJlYWN0LkZDPENvbW1hbmRLUHJvcHM+ID0gKHsKCWl0ZW1zLAoJb3BlbjogY29udHJvbGxlZE9wZW4sCglkZWZhdWx0T3BlbiA9IGZhbHNlLAoJb25PcGVuQ2hhbmdlLAoJcGxhY2Vob2xkZXIgPSAnVHlwZSBhIGNvbW1hbmQgb3Igc2VhcmNoLi4uJywKCWVtcHR5TWVzc2FnZSA9ICdObyByZXN1bHRzJywKCWNsb3NlT25BY3Rpb24gPSB0cnVlLAoJc2l6ZSA9ICd4bCcsCgljbGFzc05hbWUgPSAnJywKCWxpc3RDbGFzc05hbWUgPSAnJywKCWF1dG9Gb2N1cyA9IHRydWUsCglob3RrZXkgPSB7IGtleTogJ2snIH0sCglvblNlbGVjdCwKfSkgPT4gewoJY29uc3QgW2ludGVybmFsT3Blbiwgc2V0SW50ZXJuYWxPcGVuXSA9IHVzZVN0YXRlKGRlZmF1bHRPcGVuKTsKCWNvbnN0IFtxdWVyeSwgc2V0UXVlcnldID0gdXNlU3RhdGUoJycpOwoJY29uc3QgW2hpZ2hsaWdodGVkSW5kZXgsIHNldEhpZ2hsaWdodGVkSW5kZXhdID0gdXNlU3RhdGUoMCk7Cgljb25zdCBzZWFyY2hDb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwoJY29uc3QgbGlzdFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7Cgljb25zdCBvcHRpb25SZWZzID0gdXNlUmVmPChIVE1MRGl2RWxlbWVudCB8IG51bGwpW10+KFtdKTsKCWNvbnN0IGlzTWFjID0gdXNlUGxhdGZvcm1NZXRhKCk7CgoJY29uc3Qgb3BlbiA9IGNvbnRyb2xsZWRPcGVuICE9PSB1bmRlZmluZWQgPyBjb250cm9sbGVkT3BlbiA6IGludGVybmFsT3BlbjsKCWNvbnN0IHNldE9wZW4gPSBvbk9wZW5DaGFuZ2UgfHwgc2V0SW50ZXJuYWxPcGVuOwoKCWNvbnN0IGJhc2VJZCA9IHVzZUlkKCk7CgoJY29uc3Qgbm9ybWFsaXplZCA9IHVzZU1lbW8oKCkgPT4gewoJCXJldHVybiBpdGVtcy5tYXAoKGl0LCBpZHgpID0+ICh7CgkJCWtleTogaXQuaWQgPz8gYCR7aXQuZ3JvdXAgPz8gJ18nfS0ke2l0LmxhYmVsfS0ke2lkeH1gLAoJCQlpdGVtOiBpdCwKCQl9KSk7Cgl9LCBbaXRlbXNdKTsKCgljb25zdCBmaWx0ZXJlZCA9IHVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IHEgPSBxdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTsKCQlpZiAoIXEpIHJldHVybiBub3JtYWxpemVkOwoJCXJldHVybiBub3JtYWxpemVkLmZpbHRlcigoeyBpdGVtIH0pID0+IHsKCQkJY29uc3QgaGF5ID0gW2l0ZW0ubGFiZWwsIGl0ZW0uZGVzY3JpcHRpb24gPz8gJycsIC4uLihpdGVtLmtleXdvcmRzID8/IFtdKV0KCQkJCS5qb2luKCcgJykKCQkJCS50b0xvd2VyQ2FzZSgpOwoJCQlyZXR1cm4gaGF5LmluY2x1ZGVzKHEpOwoJCX0pOwoJfSwgW25vcm1hbGl6ZWQsIHF1ZXJ5XSk7CgoJY29uc3QgZ3JvdXBlZCA9IHVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IGdyb3VwcyA9IG5ldyBNYXA8c3RyaW5nLCB7IGtleTogc3RyaW5nOyBpdGVtOiBDb21tYW5kS0l0ZW0gfVtdPigpOwoJCWZpbHRlcmVkLmZvckVhY2goKGVudHJ5KSA9PiB7CgkJCWNvbnN0IGcgPSBlbnRyeS5pdGVtLmdyb3VwID8/ICdHZW5lcmFsJzsKCQkJaWYgKCFncm91cHMuaGFzKGcpKSBncm91cHMuc2V0KGcsIFtdKTsKCQkJZ3JvdXBzLmdldChnKT8ucHVzaChlbnRyeSk7CgkJfSk7CgkJcmV0dXJuIGdyb3VwczsKCX0sIFtmaWx0ZXJlZF0pOwoKCWNvbnN0IGZsYXRTZWxlY3RhYmxlID0gdXNlTWVtbygKCQkoKSA9PiBBcnJheS5mcm9tKGdyb3VwZWQudmFsdWVzKCkpLmZsYXQoKSwKCQlbZ3JvdXBlZF0sCgkpOwoKCWNvbnN0IGdldE9wdGlvbklkID0gdXNlQ2FsbGJhY2soCgkJKGk6IG51bWJlcikgPT4gYCR7YmFzZUlkfS1jbWRrLW9wdGlvbi0ke2l9YCwKCQlbYmFzZUlkXSwKCSk7CgoJY29uc3QgY2xvc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7CgkJc2V0T3BlbihmYWxzZSk7CgkJc2V0UXVlcnkoJycpOwoJCXNldEhpZ2hsaWdodGVkSW5kZXgoMCk7Cgl9LCBbc2V0T3Blbl0pOwoKCWNvbnN0IGhhbmRsZVNlbGVjdCA9IHVzZUNhbGxiYWNrKAoJCShlbnRyeTogeyBrZXk6IHN0cmluZzsgaXRlbTogQ29tbWFuZEtJdGVtIH0pID0+IHsKCQkJaWYgKGVudHJ5Lml0ZW0uZGlzYWJsZWQpIHJldHVybjsKCQkJZW50cnkuaXRlbS5hY3Rpb24/LigpOwoJCQlvblNlbGVjdD8uKGVudHJ5Lml0ZW0pOwoJCQlpZiAoY2xvc2VPbkFjdGlvbikgY2xvc2UoKTsKCQl9LAoJCVtjbG9zZU9uQWN0aW9uLCBjbG9zZSwgb25TZWxlY3RdLAoJKTsKCgl1c2VFZmZlY3QoKCkgPT4gewoJCWNvbnN0IG9uS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7CgkJCWNvbnN0IGtleU1hdGNoID0gZS5rZXkudG9Mb3dlckNhc2UoKSA9PT0gaG90a2V5LmtleS50b0xvd2VyQ2FzZSgpOwoKCQkJY29uc3QgcmVxdWlyZXNNZXRhID0gaG90a2V5Lm1ldGFLZXkgPT09IHRydWU7CgkJCWNvbnN0IHJlcXVpcmVzQ3RybCA9IGhvdGtleS5jdHJsS2V5ID09PSB0cnVlOwoJCQlsZXQgbW9kaWZpZXJPazogYm9vbGVhbjsKCQkJaWYgKCFyZXF1aXJlc01ldGEgJiYgIXJlcXVpcmVzQ3RybCkgewoJCQkJbW9kaWZpZXJPayA9IGlzTWFjID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5OwoJCQl9IGVsc2UgaWYgKHJlcXVpcmVzTWV0YSAmJiByZXF1aXJlc0N0cmwpIHsKCQkJCW1vZGlmaWVyT2sgPSBlLm1ldGFLZXkgfHwgZS5jdHJsS2V5OwoJCQl9IGVsc2UgewoJCQkJbW9kaWZpZXJPayA9CgkJCQkJKHJlcXVpcmVzTWV0YSA/IGUubWV0YUtleSA6IHRydWUpICYmCgkJCQkJKHJlcXVpcmVzQ3RybCA/IGUuY3RybEtleSA6IHRydWUpOwoJCQl9CgoJCQljb25zdCBpc01vZGlmaWVyUHJlc3NlZCA9IGUubWV0YUtleSB8fCBlLmN0cmxLZXkgfHwgZS5hbHRLZXk7CgoJCQljb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudCB8IG51bGw7CgkJCWNvbnN0IGlzVHlwaW5nRWxlbWVudCA9CgkJCQkhIXRhcmdldCAmJgoJCQkJKHRhcmdldC50YWdOYW1lID09PSAnSU5QVVQnIHx8CgkJCQkJdGFyZ2V0LnRhZ05hbWUgPT09ICdURVhUQVJFQScgfHwKCQkJCQl0YXJnZXQuaXNDb250ZW50RWRpdGFibGUpOwoKCQkJaWYgKGtleU1hdGNoICYmIG1vZGlmaWVyT2spIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQlpZiAoaXNUeXBpbmdFbGVtZW50ICYmICFpc01vZGlmaWVyUHJlc3NlZCkgcmV0dXJuOwoJCQkJc2V0T3Blbighb3Blbik7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgb3BlbikgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJY2xvc2UoKTsKCQkJfQoJCX07CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93bik7CgkJcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd24pOwoJfSwgW2hvdGtleSwgb3Blbiwgc2V0T3BlbiwgY2xvc2UsIGlzTWFjXSk7CgoJdXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIW9wZW4gfHwgIWF1dG9Gb2N1cykgcmV0dXJuOwoJCWxldCByYWYxOiBudW1iZXIgfCBudWxsID0gbnVsbDsKCQlsZXQgcmFmMjogbnVtYmVyIHwgbnVsbCA9IG51bGw7CgkJbGV0IHQxOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGwgPSBudWxsOwoKCQljb25zdCBmb2N1c0lucHV0ID0gKCkgPT4gewoJCQljb25zdCBlbCA9IHNlYXJjaENvbnRhaW5lclJlZi5jdXJyZW50Py5xdWVyeVNlbGVjdG9yKAoJCQkJJ2lucHV0W3R5cGU9InRleHQiXSwgaW5wdXQ6bm90KFt0eXBlXSknLAoJCQkpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsOwoJCQlpZiAoZWwpIHsKCQkJCXRyeSB7CgkJCQkJZWwuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pOwoJCQkJCWNvbnN0IHZhbCA9IGVsLnZhbHVlOwoJCQkJCWVsLnZhbHVlID0gJyc7CgkJCQkJZWwudmFsdWUgPSB2YWw7CgkJCQl9IGNhdGNoIHt9CgkJCX0KCQl9OwoKCQlyYWYxID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJZm9jdXNJbnB1dCgpOwoJCQlyYWYyID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGZvY3VzSW5wdXQoKSk7CgkJfSk7CgkJdDEgPSBzZXRUaW1lb3V0KGZvY3VzSW5wdXQsIDIyMCk7CgoJCXJldHVybiAoKSA9PiB7CgkJCWlmIChyYWYxKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYxKTsKCQkJaWYgKHJhZjIpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZjIpOwoJCQlpZiAodDEpIGNsZWFyVGltZW91dCh0MSk7CgkJfTsKCX0sIFtvcGVuLCBhdXRvRm9jdXNdKTsKCgl1c2VFZmZlY3QoKCkgPT4gewoJCWNvbnN0IG5vZGUgPSBvcHRpb25SZWZzLmN1cnJlbnRbaGlnaGxpZ2h0ZWRJbmRleF07CgkJaWYgKG5vZGUpIG5vZGUuc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogJ25lYXJlc3QnIH0pOwoJfSwgW2hpZ2hsaWdodGVkSW5kZXhdKTsKCgl1c2VFZmZlY3QoKCkgPT4gewoJCWlmICghb3BlbikgcmV0dXJuOwoJCWNvbnN0IG9uU2hvcnRjdXQgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4gewoJCQljb25zdCBtb2RpZmllck9rID0gaXNNYWMgPyBlLm1ldGFLZXkgOiBlLmN0cmxLZXk7CgkJCWNvbnN0IGlzQ2hhciA9IGUua2V5Lmxlbmd0aCA9PT0gMSAmJiAvW2EtejAtOV0vaS50ZXN0KGUua2V5KTsKCQkJaWYgKCFtb2RpZmllck9rIHx8ICFpc0NoYXIpIHJldHVybjsKCgkJCWNvbnN0IHByZXNzZWRLZXkgPSBlLmtleS50b1VwcGVyQ2FzZSgpOwoJCQljb25zdCBub3JtYWxpemUgPSAodDogc3RyaW5nKSA9PiB0LnRyaW0oKS50b1VwcGVyQ2FzZSgpOwoJCQljb25zdCBpc1NoaWZ0VG9rZW4gPSAodDogc3RyaW5nKSA9PiAvXihTSElGVHzih6cpJC8udGVzdChub3JtYWxpemUodCkpOwoKCQkJY29uc3QgbWF0Y2ggPSBmbGF0U2VsZWN0YWJsZS5maW5kKChlbnRyeSkgPT4gewoJCQkJY29uc3Qgc2MgPSBlbnRyeS5pdGVtLnNob3J0Y3V0OwoJCQkJaWYgKCFzYyB8fCBzYy5sZW5ndGggPT09IDAgfHwgZW50cnkuaXRlbS5kaXNhYmxlZCkgcmV0dXJuIGZhbHNlOwoJCQkJY29uc3QgcmVxdWlyZXNTaGlmdCA9IHNjLnNvbWUoaXNTaGlmdFRva2VuKTsKCQkJCWlmIChyZXF1aXJlc1NoaWZ0ICYmICFlLnNoaWZ0S2V5KSByZXR1cm4gZmFsc2U7CgkJCQljb25zdCBsZXR0ZXIgPSBzYy5maW5kKCh0KSA9PiAvXlthLXowLTldJC9pLnRlc3QodCkpOwoJCQkJaWYgKCFsZXR0ZXIpIHJldHVybiBmYWxzZTsKCQkJCXJldHVybiBub3JtYWxpemUobGV0dGVyKSA9PT0gcHJlc3NlZEtleTsKCQkJfSk7CgkJCWlmIChtYXRjaCkgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCWhhbmRsZVNlbGVjdChtYXRjaCk7CgkJCX0KCQl9OwoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvblNob3J0Y3V0KTsKCQlyZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uU2hvcnRjdXQpOwoJfSwgW29wZW4sIGlzTWFjLCBmbGF0U2VsZWN0YWJsZSwgaGFuZGxlU2VsZWN0XSk7CgoJY29uc3Qgb25LZXlOYXYgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4gewoJCWlmICghb3BlbikgcmV0dXJuOwoJCWlmIChmbGF0U2VsZWN0YWJsZS5sZW5ndGggPT09IDApIHJldHVybjsKCQlzd2l0Y2ggKGUua2V5KSB7CgkJCWNhc2UgJ0Fycm93RG93bic6CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQlzZXRIaWdobGlnaHRlZEluZGV4KChpKSA9PiAoaSArIDEpICUgZmxhdFNlbGVjdGFibGUubGVuZ3RoKTsKCQkJCWJyZWFrOwoJCQljYXNlICdBcnJvd1VwJzoKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCXNldEhpZ2hsaWdodGVkSW5kZXgoCgkJCQkJKGkpID0+IChpIC0gMSArIGZsYXRTZWxlY3RhYmxlLmxlbmd0aCkgJSBmbGF0U2VsZWN0YWJsZS5sZW5ndGgsCgkJCQkpOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ0VudGVyJzoKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCXsKCQkJCQljb25zdCBlbnRyeSA9IGZsYXRTZWxlY3RhYmxlW2hpZ2hsaWdodGVkSW5kZXhdOwoJCQkJCWlmIChlbnRyeSkgaGFuZGxlU2VsZWN0KGVudHJ5KTsKCQkJCX0KCQkJCWJyZWFrOwoJCQljYXNlICdIb21lJzoKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCXNldEhpZ2hsaWdodGVkSW5kZXgoMCk7CgkJCQlicmVhazsKCQkJY2FzZSAnRW5kJzoKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCXNldEhpZ2hsaWdodGVkSW5kZXgoZmxhdFNlbGVjdGFibGUubGVuZ3RoIC0gMSk7CgkJCQlicmVhazsKCQl9Cgl9OwoKCWNvbnN0IHNob3J0Y3V0SGludCA9IHVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IGtleSA9IGhvdGtleS5rZXkudG9VcHBlckNhc2UoKTsKCQljb25zdCByZXF1aXJlc01ldGEgPSBob3RrZXkubWV0YUtleSA9PT0gdHJ1ZTsKCQljb25zdCByZXF1aXJlc0N0cmwgPSBob3RrZXkuY3RybEtleSA9PT0gdHJ1ZTsKCQlpZiAoIXJlcXVpcmVzTWV0YSAmJiAhcmVxdWlyZXNDdHJsKSB7CgkJCXJldHVybiBpc01hYyA/IGDijJggJHtrZXl9YCA6IGBDdHJsKyR7a2V5fWA7CgkJfQoJCWlmIChyZXF1aXJlc01ldGEgJiYgcmVxdWlyZXNDdHJsKSB7CgkJCXJldHVybiBpc01hYyA/IGDijJgke2tleX1gIDogYEN0cmwrJHtrZXl9YDsKCQl9CgkJaWYgKHJlcXVpcmVzTWV0YSkgcmV0dXJuIGDijJggJHtrZXl9YDsKCQlpZiAocmVxdWlyZXNDdHJsKSByZXR1cm4gYEN0cmwrJHtrZXl9YDsKCQlyZXR1cm4ga2V5OwoJfSwgW2hvdGtleSwgaXNNYWNdKTsKCglyZXR1cm4gKAoJCTxEaWFsb2cgb3Blbj17b3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRPcGVufT4KCQkJPERpYWxvZ1N1cmZhY2UKCQkJCXNpemU9e3NpemV9CgkJCQlzaG93Q2xvc2U9e2ZhbHNlfQoJCQkJY2xhc3NOYW1lPXtjbigncC0wIScsIGNsYXNzTmFtZSl9CgkJCT4KCQkJCTxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT0icC0wIj4KCQkJCQk8ZGl2IGNsYXNzTmFtZT0icHgtMC41IHB0LTIiIHJlZj17c2VhcmNoQ29udGFpbmVyUmVmfT4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIHB4LTEiPgoJCQkJCQkJPElucHV0CgkJCQkJCQkJcm9sZT0iY29tYm9ib3giCgkJCQkJCQkJYXJpYS1jb250cm9scz17YCR7YmFzZUlkfS1jb21tYW5kay1saXN0Ym94YH0KCQkJCQkJCQlhcmlhLWV4cGFuZGVkPXtvcGVufQoJCQkJCQkJCWFyaWEtYXV0b2NvbXBsZXRlPSJsaXN0IgoJCQkJCQkJCWFyaWEtYWN0aXZlZGVzY2VuZGFudD17CgkJCQkJCQkJCWZsYXRTZWxlY3RhYmxlW2hpZ2hsaWdodGVkSW5kZXhdCgkJCQkJCQkJCQk/IGdldE9wdGlvbklkKGhpZ2hsaWdodGVkSW5kZXgpCgkJCQkJCQkJCQk6IHVuZGVmaW5lZAoJCQkJCQkJCX0KCQkJCQkJCQl2YWx1ZT17cXVlcnl9CgkJCQkJCQkJb25DaGFuZ2U9eyhlKSA9PiB7CgkJCQkJCQkJCXNldFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKTsKCQkJCQkJCQkJc2V0SGlnaGxpZ2h0ZWRJbmRleCgwKTsKCQkJCQkJCQl9fQoJCQkJCQkJCW9uS2V5RG93bj17b25LZXlOYXZ9CgkJCQkJCQkJcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfQoJCQkJCQkJCXdyYXBwZXJDbGFzc05hbWU9InctZnVsbCBiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSEgcHItMTIgc2hhZG93LW5vbmUhIGJlZm9yZTohY29udGVudC1ub25lIGJlZm9yZTohc2hhZG93LW5vbmUgZm9jdXMtd2l0aGluOmJvcmRlci1ub25lIGZvY3VzLXdpdGhpbjpyaW5nLTAgZm9jdXMtd2l0aGluOnJpbmctb2Zmc2V0LTAiCgkJCQkJCQkJbGVmdEljb249ewoJCQkJCQkJCQk8SWNvbnMuU2VhcmNoCgkJCQkJCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQkJCQkJCWNsYXNzTmFtZT0ic2l6ZS01ISAtbXQtMC41IC1tbC0wLjUiCgkJCQkJCQkJCS8+CgkJCQkJCQkJfQoJCQkJCQkJLz4KCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIHRvcC0xLzIgcmlnaHQtMyBmbGV4IGgtZml0IC10cmFuc2xhdGUteS0xLzIgZ2FwLTEiPgoJCQkJCQkJCTxLYmQgc2l6ZT0ibWQiIGNsYXNzTmFtZT0iYmctcG9wb3Zlci1tdXRlZCI+CgkJCQkJCQkJCXtzaG9ydGN1dEhpbnR9CgkJCQkJCQkJPC9LYmQ+CgkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJzci1vbmx5Ij5TaG9ydGN1dDoge3Nob3J0Y3V0SGludH08L3NwYW4+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJPC9kaXY+CgkJCQkJPC9kaXY+CgoJCQkJCTxkaXYKCQkJCQkJcmVmPXtsaXN0UmVmfQoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ210LTIgbWF4LWgtODAgb3ZlcmZsb3ctYXV0byBweS0yJywKCQkJCQkJCSdib3JkZXItdCBib3JkZXItYm9yZGVyLzYwJywKCQkJCQkJCWxpc3RDbGFzc05hbWUsCgkJCQkJCSl9CgkJCQkJCWlkPXtgJHtiYXNlSWR9LWNvbW1hbmRrLWxpc3Rib3hgfQoJCQkJCQlyb2xlPSJsaXN0Ym94IgoJCQkJCQlhcmlhLWxhYmVsPSJDb21tYW5kIHJlc3VsdHMiCgkJCQkJCW9uS2V5RG93bj17b25LZXlOYXZ9CgkJCQkJPgoJCQkJCQk8ZGl2IGFyaWEtbGl2ZT0icG9saXRlIiBjbGFzc05hbWU9InNyLW9ubHkiPgoJCQkJCQkJe2ZpbHRlcmVkLmxlbmd0aH0gcmVzdWx0e2ZpbHRlcmVkLmxlbmd0aCA9PT0gMSA/ICcnIDogJ3MnfQoJCQkJCQk8L2Rpdj4KCQkJCQkJe2ZsYXRTZWxlY3RhYmxlLmxlbmd0aCA9PT0gMCA/ICgKCQkJCQkJCTxvdXRwdXQKCQkJCQkJCQlhcmlhLWxpdmU9InBvbGl0ZSIKCQkJCQkJCQljbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTMgcHktNiB0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC80NSIKCQkJCQkJCT4KCQkJCQkJCQl7ZW1wdHlNZXNzYWdlfQoJCQkJCQkJPC9vdXRwdXQ+CgkJCQkJCSkgOiAoCgkJCQkJCQlBcnJheS5mcm9tKGdyb3VwZWQuZW50cmllcygpKS5tYXAoKFtncm91cCwgZW50cmllc10pID0+ICgKCQkJCQkJCQk8ZGl2IGtleT17Z3JvdXB9IGNsYXNzTmFtZT0icHgtMiI+CgkJCQkJCQkJCTxmaWVsZHNldCBjbGFzc05hbWU9Im0tMCBtdC0xIGZsZXggZmxleC1jb2wgYm9yZGVyLTAgcC0wIj4KCQkJCQkJCQkJCTxsZWdlbmQgY2xhc3NOYW1lPXtncm91cEhlYWRlckNsYXNzKCl9Pntncm91cH08L2xlZ2VuZD4KCQkJCQkJCQkJCXtlbnRyaWVzLm1hcCgoZW50cnkpID0+IHsKCQkJCQkJCQkJCQljb25zdCBmbGF0SW5kZXggPSBmbGF0U2VsZWN0YWJsZS5maW5kSW5kZXgoCgkJCQkJCQkJCQkJCShmKSA9PiBmLmtleSA9PT0gZW50cnkua2V5LAoJCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQkJY29uc3QgaGlnaGxpZ2h0ZWQgPSBmbGF0SW5kZXggPT09IGhpZ2hsaWdodGVkSW5kZXg7CgkJCQkJCQkJCQkJcmV0dXJuICgKCQkJCQkJCQkJCQkJPGRpdgoJCQkJCQkJCQkJCQkJa2V5PXtlbnRyeS5rZXl9CgkJCQkJCQkJCQkJCQlyZWY9eyhlbCkgPT4gewoJCQkJCQkJCQkJCQkJCW9wdGlvblJlZnMuY3VycmVudFtmbGF0SW5kZXhdID0gZWw7CgkJCQkJCQkJCQkJCQl9fQoJCQkJCQkJCQkJCQkJY2xhc3NOYW1lPXtsaXN0SXRlbUNsYXNzKHsKCQkJCQkJCQkJCQkJCQloaWdobGlnaHRlZCwKCQkJCQkJCQkJCQkJCQlkaXNhYmxlZDogISFlbnRyeS5pdGVtLmRpc2FibGVkLAoJCQkJCQkJCQkJCQkJfSl9CgkJCQkJCQkJCQkJCQlpZD17Z2V0T3B0aW9uSWQoZmxhdEluZGV4KX0KCQkJCQkJCQkJCQkJCXJvbGU9Im9wdGlvbiIKCQkJCQkJCQkJCQkJCWFyaWEtc2VsZWN0ZWQ9e2hpZ2hsaWdodGVkfQoJCQkJCQkJCQkJCQkJYXJpYS1kaXNhYmxlZD17ZW50cnkuaXRlbS5kaXNhYmxlZCB8fCB1bmRlZmluZWR9CgkJCQkJCQkJCQkJCQl0YWJJbmRleD17LTF9CgkJCQkJCQkJCQkJCQlvbk1vdXNlRW50ZXI9eygpID0+IHNldEhpZ2hsaWdodGVkSW5kZXgoZmxhdEluZGV4KX0KCQkJCQkJCQkJCQkJCW9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbGVjdChlbnRyeSl9CgkJCQkJCQkJCQkJCQlvbktleURvd249eyhlKSA9PiB7CgkJCQkJCQkJCQkJCQkJaWYgKGVudHJ5Lml0ZW0uZGlzYWJsZWQpIHJldHVybjsKCQkJCQkJCQkJCQkJCQlpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykgewoJCQkJCQkJCQkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJCQkJCQkJCWhhbmRsZVNlbGVjdChlbnRyeSk7CgkJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkJPgoJCQkJCQkJCQkJCQkJe2VudHJ5Lml0ZW0uaWNvbiAmJiAoCgkJCQkJCQkJCQkJCQkJPHNwYW4KCQkJCQkJCQkJCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCQkJCQkJCQkJCWNsYXNzTmFtZT0ic2hyaW5rLTAgdGV4dC1mb3JlZ3JvdW5kLzQ1IgoJCQkJCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQkJCQkJe2VudHJ5Lml0ZW0uaWNvbn0KCQkJCQkJCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJCQkJCQkpfQoJCQkJCQkJCQkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggbWluLXctMCBmbGV4LTEgZmxleC1yb3cgZ2FwLTMiPgoJCQkJCQkJCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJ0cnVuY2F0ZSBmb250LW1lZGl1bSI+CgkJCQkJCQkJCQkJCQkJCXtlbnRyeS5pdGVtLmxhYmVsfQoJCQkJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJCQkJCXtlbnRyeS5pdGVtLmRlc2NyaXB0aW9uICYmICgKCQkJCQkJCQkJCQkJCQkJPGRpdiBjbGFzc05hbWU9Im10LTAuNSBoaWRkZW4gdHJ1bmNhdGUgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAgbWQ6YmxvY2siPgoJCQkJCQkJCQkJCQkJCQkJe2VudHJ5Lml0ZW0uZGVzY3JpcHRpb259CgkJCQkJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJCQkJCSl9CgkJCQkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCQkJCXtlbnRyeS5pdGVtLnNob3J0Y3V0ICYmCgkJCQkJCQkJCQkJCQkJZW50cnkuaXRlbS5zaG9ydGN1dC5sZW5ndGggPiAwICYmICgKCQkJCQkJCQkJCQkJCQkJPGRpdgoJCQkJCQkJCQkJCQkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJCQkJCQkJCQkJCQljbGFzc05hbWU9Im1sLTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEiCgkJCQkJCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQkJCQkJCXsoKCkgPT4gewoJCQkJCQkJCQkJCQkJCQkJCWNvbnN0IHNjID0gZW50cnkuaXRlbS5zaG9ydGN1dCA/PyBbXTsKCQkJCQkJCQkJCQkJCQkJCQljb25zdCBoYXNTaGlmdCA9IHNjLnNvbWUoKHQpID0+CgkJCQkJCQkJCQkJCQkJCQkJCS9eKHNoaWZ0fOKHpykkL2kudGVzdCh0LnRyaW0oKSksCgkJCQkJCQkJCQkJCQkJCQkJKTsKCQkJCQkJCQkJCQkJCQkJCQljb25zdCBsZXR0ZXJzID0gc2MKCQkJCQkJCQkJCQkJCQkJCQkJLmZpbHRlcigodCkgPT4gL15bYS16MC05XSQvaS50ZXN0KHQudHJpbSgpKSkKCQkJCQkJCQkJCQkJCQkJCQkJLm1hcCgodCkgPT4gdC50cmltKCkudG9VcHBlckNhc2UoKSk7CgkJCQkJCQkJCQkJCQkJCQkJY29uc3QgdG9rZW5zID0gWwoJCQkJCQkJCQkJCQkJCQkJCQlpc01hYyA/ICfijJgnIDogJ0N0cmwnLAoJCQkJCQkJCQkJCQkJCQkJCQkuLi4oaGFzU2hpZnQgPyBbJ+KHpyddIDogW10pLAoJCQkJCQkJCQkJCQkJCQkJCQkuLi5sZXR0ZXJzLAoJCQkJCQkJCQkJCQkJCQkJCV07CgkJCQkJCQkJCQkJCQkJCQkJcmV0dXJuIHRva2Vucy5tYXAoKHRvaykgPT4gKAoJCQkJCQkJCQkJCQkJCQkJCQk8S2JkCgkJCQkJCQkJCQkJCQkJCQkJCQlrZXk9e2Ake3Rva31gfQoJCQkJCQkJCQkJCQkJCQkJCQkJc2l6ZT0ibWQiCgkJCQkJCQkJCQkJCQkJCQkJCQljbGFzc05hbWU9ImJnLXBvcG92ZXItbXV0ZWQiCgkJCQkJCQkJCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQkJCQkJCQkJCXt0b2t9CgkJCQkJCQkJCQkJCQkJCQkJCTwvS2JkPgoJCQkJCQkJCQkJCQkJCQkJCSkpOwoJCQkJCQkJCQkJCQkJCQkJfSkoKX0KCQkJCQkJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQkJCQkJKX0KCQkJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQkJKTsKCQkJCQkJCQkJCX0pfQoJCQkJCQkJCQk8L2ZpZWxkc2V0PgoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJKSkKCQkJCQkJKX0KCQkJCQk8L2Rpdj4KCgkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkLWItbGcgZ2FwLTIgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBiZy1bY29sb3ItbWl4KGluX29rbGNoLHZhcigtLWNvbG9yLXBvcG92ZXIpXzcwJSx2YXIoLS1jb2xvci1wb3BvdmVyLW11dGVkKV8zMCUpXSBweC0zIHB5LTIgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAiPgoJCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJoaWRkZW4gc206aW5saW5lIj5OYXZpZ2F0ZTwvc3Bhbj4KCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSIgYXJpYS1oaWRkZW49InRydWUiPgoJCQkJCQkJCTxLYmQgc2l6ZT0ibWQiIGNsYXNzTmFtZT0iYmctcG9wb3Zlci1tdXRlZCI+CgkJCQkJCQkJCeKGkQoJCQkJCQkJCTwvS2JkPgoJCQkJCQkJCTxLYmQgc2l6ZT0ibWQiIGNsYXNzTmFtZT0iYmctcG9wb3Zlci1tdXRlZCI+CgkJCQkJCQkJCeKGkwoJCQkJCQkJCTwvS2JkPgoJCQkJCQkJPC9kaXY+CgkJCQkJCQk8c3BhbiBjbGFzc05hbWU9InNyLW9ubHkiPk5hdmlnYXRlIHdpdGggYXJyb3cga2V5czwvc3Bhbj4KCQkJCQkJPC9kaXY+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CgkJCQkJCQk8c3BhbiBjbGFzc05hbWU9ImhpZGRlbiBzbTppbmxpbmUiPlNlbGVjdDwvc3Bhbj4KCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSIgYXJpYS1oaWRkZW49InRydWUiPgoJCQkJCQkJCTxLYmQgc2l6ZT0ibWQiIGNsYXNzTmFtZT0iYmctcG9wb3Zlci1tdXRlZCI+CgkJCQkJCQkJCUVudGVyCgkJCQkJCQkJPC9LYmQ+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+U2VsZWN0IHdpdGggRW50ZXIga2V5PC9zcGFuPgoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCTwvRGlhbG9nQ29udGVudD4KCQkJPC9EaWFsb2dTdXJmYWNlPgoJCTwvRGlhbG9nPgoJKTsKfTsKCmV4cG9ydCBkZWZhdWx0IENvbW1hbmRLOw=="
,
  "context-menu.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgY29udGV4dE1lbnVDb250ZW50VmFyaWFudHMgPSBjdmEoCglgei01MCBvcmlnaW4tdG9wIC10cmFuc2xhdGUteS0yIHNjYWxlLTk1IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctcG9wb3ZlciBvcGFjaXR5LTAgc2hhZG93LW1kIGNhcmQtaGlnaGxpZ2h0IHRyYW5zaXRpb24tW3NjYWxlLHRyYW5zbGF0ZSxvcGFjaXR5XSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggZGF0YS1lbnRlcjp0cmFuc2xhdGUteS0wIGRhdGEtZW50ZXI6c2NhbGUtMTAwIGRhdGEtZW50ZXI6b3BhY2l0eS0xMDAgZGF0YS1sZWF2ZTotdHJhbnNsYXRlLXktMiBkYXRhLWxlYXZlOnNjYWxlLTk1IGRhdGEtbGVhdmU6b3BhY2l0eS0wYCwKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogJ21pbi13LVs4cmVtXSBwLTEnLAoJCQkJbWQ6ICdtaW4tdy1bMTByZW1dIHAtMScsCgkJCQlsZzogJ21pbi13LVsxMnJlbV0gcC0yJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgY29udGV4dFN1Yk1lbnVDb250ZW50VmFyaWFudHMgPSBjdmEoCglgei01MCBvcmlnaW4tdG9wLWxlZnQgLXRyYW5zbGF0ZS15LTIgc2NhbGUtOTUgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1wb3BvdmVyIG9wYWNpdHktMCBzaGFkb3ctbWQgY2FyZC1oaWdobGlnaHQgdHJhbnNpdGlvbi1bc2NhbGUsdHJhbnNsYXRlLG9wYWNpdHldIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTpvcGFjaXR5LTBgLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnbWluLXctWzdyZW1dIHAtMScsCgkJCQltZDogJ21pbi13LVs4cmVtXSBwLTEnLAoJCQkJbGc6ICdtaW4tdy1bMTByZW1dIHAtMicsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IGNvbnRleHRNZW51SXRlbVZhcmlhbnRzID0gY3ZhKAoJYHJlbGF0aXZlIGdyb3VwIGZsZXggdy1mdWxsIGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB4LTIgcHktMS41IHRleHQtc20gWyZfc3ZnXTpzaHJpbmstMCBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IGdhcC0yIG91dGxpbmUtbm9uZSBzZWxlY3Qtbm9uZSB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6YmctcG9wb3Zlci1tdXRlZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpiZy1wb3BvdmVyLW11dGVkIGZvY3VzLXZpc2libGU6dGV4dC1mb3JlZ3JvdW5kIGFyaWEtZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBhcmlhLWRpc2FibGVkOm9wYWNpdHktNTBgLAoJewoJCXZhcmlhbnRzOiB7CgkJCWluc2V0OiB7CgkJCQl0cnVlOiAncGwtOCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWRlc3RydWN0aXZlOiB7CgkJCQl0cnVlOiAndGV4dC1kZXN0cnVjdGl2ZS85MCBob3ZlcjpiZy1kZXN0cnVjdGl2ZS8xMCBob3Zlcjp0ZXh0LWRlc3RydWN0aXZlJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlpbnNldDogZmFsc2UsCgkJCWRlc3RydWN0aXZlOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgQ29udGV4dE1lbnVQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgQ29udGV4dE1lbnU6IFJlYWN0LkZDPENvbnRleHRNZW51UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAp9KSA9PiB7Cgljb25zdCBtZW51ID0gQXJpYWtpdC51c2VNZW51U3RvcmUoeyBhbmltYXRlZDogdHJ1ZSB9KTsKCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnVQcm92aWRlciBzdG9yZT17bWVudX0+CgkJCTxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PntjaGlsZHJlbn08L2Rpdj4KCQk8L0FyaWFraXQuTWVudVByb3ZpZGVyPgoJKTsKfTsKCnR5cGUgTWVudUJ1dHRvbkVsZW1lbnRQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwKCXR5cGVvZiBBcmlha2l0Lk1lbnVCdXR0b24KPjsKCmV4cG9ydCBpbnRlcmZhY2UgQ29udGV4dE1lbnVUcmlnZ2VyUHJvcHMKCWV4dGVuZHMgT21pdDxNZW51QnV0dG9uRWxlbWVudFByb3BzLCAnc3RvcmUnIHwgJ2NoaWxkcmVuJz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZXhwb3J0IGNvbnN0IENvbnRleHRNZW51VHJpZ2dlcjogUmVhY3QuRkM8Q29udGV4dE1lbnVUcmlnZ2VyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJZGlzYWJsZWQsCglvbkNvbnRleHRNZW51LAoJb25LZXlEb3duLAoJdG9nZ2xlT25DbGljayA9IGZhbHNlLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgbWVudSA9IEFyaWFraXQudXNlTWVudUNvbnRleHQoKTsKCWlmICghbWVudSkgewoJCXRocm93IG5ldyBFcnJvcignQ29udGV4dE1lbnVUcmlnZ2VyIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBDb250ZXh0TWVudS4nKTsKCX0KCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnVCdXR0b24KCQkJc3RvcmU9e21lbnV9CgkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJdG9nZ2xlT25DbGljaz17dG9nZ2xlT25DbGlja30KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdhcHBlYXJhbmNlLW5vbmUgYmctdHJhbnNwYXJlbnQgcC0wIHRleHQtbGVmdCcsCgkJCQljbGFzc05hbWUsCgkJCQlkaXNhYmxlZCAmJiAnb3BhY2l0eS01MCcsCgkJCSl9CgkJCW9uQ29udGV4dE1lbnU9eyhldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudCAmIEhUTUxEaXZFbGVtZW50PikgPT4gewoJCQkJb25Db250ZXh0TWVudT8uKGV2ZW50KTsKCQkJCWlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47CgkJCQlpZiAoZGlzYWJsZWQpIHJldHVybjsKCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQltZW51LnNldERpc2Nsb3N1cmVFbGVtZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQpOwoJCQkJbWVudS5zZXRBbmNob3JFbGVtZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQpOwoJCQkJbWVudS5zaG93KCk7CgkJCX19CgkJCW9uS2V5RG93bj17KGV2ZW50OiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxCdXR0b25FbGVtZW50ICYgSFRNTERpdkVsZW1lbnQ+KSA9PiB7CgkJCQlvbktleURvd24/LihldmVudCk7CgkJCQlpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuOwoJCQkJaWYgKGRpc2FibGVkKSByZXR1cm47CgkJCQljb25zdCBpc0NvbnRleHRLZXkgPSBldmVudC5rZXkgPT09ICdDb250ZXh0TWVudSc7CgkJCQljb25zdCBpc1NoaWZ0RjEwID0gZXZlbnQua2V5ID09PSAnRjEwJyAmJiBldmVudC5zaGlmdEtleTsKCQkJCWlmIChpc0NvbnRleHRLZXkgfHwgaXNTaGlmdEYxMCkgewoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJbWVudS5zZXREaXNjbG9zdXJlRWxlbWVudChldmVudC5jdXJyZW50VGFyZ2V0KTsKCQkJCQltZW51LnNldEFuY2hvckVsZW1lbnQoZXZlbnQuY3VycmVudFRhcmdldCk7CgkJCQkJbWVudS5zaG93KCk7CgkJCQl9CgkJCX19CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuTWVudUJ1dHRvbj4KCSk7Cn07CgpleHBvcnQgY29uc3QgQ29udGV4dE1lbnVDb250ZW50OiBSZWFjdC5GQzwKCXsKCQljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJCWNsYXNzTmFtZT86IHN0cmluZzsKCQlzYW1lV2lkdGg/OiBib29sZWFuOwoJfSAmIFZhcmlhbnRQcm9wczx0eXBlb2YgY29udGV4dE1lbnVDb250ZW50VmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzYW1lV2lkdGggPSBmYWxzZSwgc2l6ZSB9KSA9PiAoCgk8QXJpYWtpdC5NZW51CgkJcG9ydGFsCgkJZ3V0dGVyPXs0fQoJCXNhbWVXaWR0aD17c2FtZVdpZHRofQoJCWNsYXNzTmFtZT17Y24oY29udGV4dE1lbnVDb250ZW50VmFyaWFudHMoeyBzaXplIH0pLCBjbGFzc05hbWUpfQoJPgoJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIj57Y2hpbGRyZW59PC9kaXY+Cgk8L0FyaWFraXQuTWVudT4KKTsKCmV4cG9ydCBjb25zdCBDb250ZXh0TWVudUl0ZW06IFJlYWN0LkZDPAoJewoJCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCWRpc2FibGVkPzogYm9vbGVhbjsKCQlpbnNldD86IGJvb2xlYW47CgkJZGVzdHJ1Y3RpdmU/OiBib29sZWFuOwoJCW9uQ2xpY2s/OiAoKSA9PiB2b2lkOwoJfSAmIFZhcmlhbnRQcm9wczx0eXBlb2YgY29udGV4dE1lbnVJdGVtVmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBkaXNhYmxlZCwgaW5zZXQsIGRlc3RydWN0aXZlLCBvbkNsaWNrIH0pID0+ICgKCTxBcmlha2l0Lk1lbnVJdGVtCgkJZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfQoJCW9uQ2xpY2s9e29uQ2xpY2t9CgkJY2xhc3NOYW1lPXtjbihjb250ZXh0TWVudUl0ZW1WYXJpYW50cyh7IGluc2V0LCBkZXN0cnVjdGl2ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQl7Y2hpbGRyZW59Cgk8L0FyaWFraXQuTWVudUl0ZW0+Cik7CgpleHBvcnQgY29uc3QgQ29udGV4dE1lbnVTZXBhcmF0b3I6IFJlYWN0LkZDPHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+ID0gKHsKCWNsYXNzTmFtZSwKfSkgPT4gKAoJPEFyaWFraXQuTWVudVNlcGFyYXRvcgoJCWNsYXNzTmFtZT17Y24oJy1teC0xIG15LTEgaC1weCBiZy1ib3JkZXIgb3BhY2l0eS02MCcsIGNsYXNzTmFtZSl9CgkvPgopOwoKZXhwb3J0IGNvbnN0IENvbnRleHRNZW51U3ViOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoewoJY2hpbGRyZW4sCn0pID0+IHsKCWNvbnN0IHN1Yk1lbnUgPSBBcmlha2l0LnVzZU1lbnVTdG9yZSh7IGFuaW1hdGVkOiB0cnVlIH0pOwoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51UHJvdmlkZXIgc3RvcmU9e3N1Yk1lbnV9PntjaGlsZHJlbn08L0FyaWFraXQuTWVudVByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBDb250ZXh0TWVudVN1YlRyaWdnZXI6IFJlYWN0LkZDPAoJewoJCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCWRpc2FibGVkPzogYm9vbGVhbjsKCQlpbnNldD86IGJvb2xlYW47CgkJZGVzdHJ1Y3RpdmU/OiBib29sZWFuOwoJfSAmIFZhcmlhbnRQcm9wczx0eXBlb2YgY29udGV4dE1lbnVJdGVtVmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBkaXNhYmxlZCwgaW5zZXQsIGRlc3RydWN0aXZlIH0pID0+ICgKCTxBcmlha2l0Lk1lbnVCdXR0b24KCQlkaXNhYmxlZD17Qm9vbGVhbihkaXNhYmxlZCl9CgkJY2xhc3NOYW1lPXtjbihjb250ZXh0TWVudUl0ZW1WYXJpYW50cyh7IGluc2V0LCBkZXN0cnVjdGl2ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQl7Y2hpbGRyZW59CgkJPEFyaWFraXQuTWVudUJ1dHRvbkFycm93IGNsYXNzTmFtZT0ibWwtYXV0byB0ZXh0LWZvcmVncm91bmQvNzAgZ3JvdXAtaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIiAvPgoJPC9Bcmlha2l0Lk1lbnVCdXR0b24+Cik7CgpleHBvcnQgY29uc3QgQ29udGV4dE1lbnVTdWJDb250ZW50OiBSZWFjdC5GQzwKCXsKCQljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJCWNsYXNzTmFtZT86IHN0cmluZzsKCX0gJiBWYXJpYW50UHJvcHM8dHlwZW9mIGNvbnRleHRTdWJNZW51Q29udGVudFZhcmlhbnRzPgo+ID0gKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgc2l6ZSB9KSA9PiAoCgk8QXJpYWtpdC5NZW51CgkJcG9ydGFsCgkJY2xhc3NOYW1lPXtjbihjb250ZXh0U3ViTWVudUNvbnRlbnRWYXJpYW50cyh7IHNpemUgfSksIGNsYXNzTmFtZSl9Cgk+CgkJPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wiPntjaGlsZHJlbn08L2Rpdj4KCTwvQXJpYWtpdC5NZW51PgopOw=="
,
  "dialog.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2xpYi9pY29ucyc7Cgpjb25zdCBkaWFsb2dDb250ZW50VmFyaWFudHMgPSBjdmEoCglgcmVsYXRpdmUgbWF4LWgtWzcwdmhdIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctcG9wb3ZlciBjYXJkLWhpZ2hsaWdodCBzaGFkb3ctMnhsYCwKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogJ3ctWzUwdnddIG1kOm1heC13LXNtJywKCQkJCW1kOiAndy1bNjV2d10gbWQ6bWF4LXctbWQnLAoJCQkJbGc6ICd3LVs4MHZ3XSBtZDptYXgtdy1sZycsCgkJCQl4bDogJ3ctWzk1dnddIG1kOm1heC13LXhsJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBEaWFsb2dQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJb3Blbj86IGJvb2xlYW47Cglvbk9wZW5DaGFuZ2U/OiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDsKfQoKZXhwb3J0IGludGVyZmFjZSBEaWFsb2dUcmlnZ2VyUHJvcHMKCWV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cglhc0NoaWxkPzogYm9vbGVhbjsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBEaWFsb2dTdXJmYWNlUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgZGlhbG9nQ29udGVudFZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJc2hvd0Nsb3NlPzogYm9vbGVhbjsKCXBvcnRhbD86IGJvb2xlYW47Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nSGVhZGVyUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nVGl0bGVQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MSGVhZGluZ0VsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhcz86IFJlYWN0LkVsZW1lbnRUeXBlOwp9CgpleHBvcnQgaW50ZXJmYWNlIERpYWxvZ0Rlc2NyaXB0aW9uUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFBhcmFncmFwaEVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nRm9vdGVyUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nQWN0aW9uc1Byb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIERpYWxvZ0Nsb3NlUHJvcHMKCWV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+IHsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJYXNDaGlsZD86IGJvb2xlYW47Cn0KCmludGVyZmFjZSBEaWFsb2dDb250ZXh0VHlwZSB7CglzdG9yZTogQXJpYWtpdC5EaWFsb2dTdG9yZTsKfQoKY29uc3QgRGlhbG9nQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8RGlhbG9nQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KAoJdW5kZWZpbmVkLAopOwoKY29uc3QgdXNlRGlhbG9nID0gKCkgPT4gewoJY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRGlhbG9nQ29udGV4dCk7CglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ0RpYWxvZyBjb21wb25lbnRzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBEaWFsb2cnKTsKCX0KCXJldHVybiBjb250ZXh0Owp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZzogUmVhY3QuRkM8RGlhbG9nUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJb3BlbjogY29udHJvbGxlZE9wZW4sCglvbk9wZW5DaGFuZ2UsCn0pID0+IHsKCWNvbnN0IHN0b3JlID0gQXJpYWtpdC51c2VEaWFsb2dTdG9yZSgKCQljb250cm9sbGVkT3BlbiAhPT0gdW5kZWZpbmVkCgkJCT8gb25PcGVuQ2hhbmdlCgkJCQk/IHsgb3BlbjogY29udHJvbGxlZE9wZW4sIHNldE9wZW46IG9uT3BlbkNoYW5nZSB9CgkJCQk6IHsgb3BlbjogY29udHJvbGxlZE9wZW4gfQoJCQk6IHVuZGVmaW5lZCwKCSk7CgoJcmV0dXJuICgKCQk8RGlhbG9nQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBzdG9yZSB9fT4KCQkJe2NoaWxkcmVufQoJCTwvRGlhbG9nQ29udGV4dC5Qcm92aWRlcj4KCSk7Cn07CgpleHBvcnQgY29uc3QgRGlhbG9nVHJpZ2dlcjogUmVhY3QuRkM8RGlhbG9nVHJpZ2dlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXNDaGlsZCA9IGZhbHNlLAoJb25DbGljaywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsgc3RvcmUgfSA9IHVzZURpYWxvZygpOwoJY29uc3QgaXNPcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAnb3BlbicpOwoKCWNvbnN0IGhhbmRsZUNsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7CgkJc3RvcmUuc2hvdygpOwoJCW9uQ2xpY2s/LihlKTsKCX07CgoJaWYgKGFzQ2hpbGQgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7CgkJcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudCgKCQkJY2hpbGRyZW4gYXMgUmVhY3QuUmVhY3RFbGVtZW50PAoJCQkJUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+CgkJCT4sCgkJCXsKCQkJCW9uQ2xpY2s6IGhhbmRsZUNsaWNrLAoJCQkJJ2FyaWEtaGFzcG9wdXAnOiAnZGlhbG9nJywKCQkJCSdhcmlhLWV4cGFuZGVkJzogaXNPcGVuLAoJCQkJLi4uKGNoaWxkcmVuLnByb3BzIHx8IHt9KSwKCQkJfSwKCQkpOwoJfQoKCXJldHVybiAoCgkJPGJ1dHRvbgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJb25DbGljaz17aGFuZGxlQ2xpY2t9CgkJCWFyaWEtaGFzcG9wdXA9ImRpYWxvZyIKCQkJYXJpYS1leHBhbmRlZD17aXNPcGVufQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9idXR0b24+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ1N1cmZhY2U6IFJlYWN0LkZDPERpYWxvZ1N1cmZhY2VQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCXNpemUgPSAnbWQnLAoJc2hvd0Nsb3NlID0gdHJ1ZSwKCXBvcnRhbCA9IHRydWUsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IGF1dG9Gb2N1cywgLi4ucmVzdFByb3BzIH0gPSBwcm9wczsKCWNvbnN0IGRpYWxvZ1Byb3BzID0KCQl0eXBlb2YgYXV0b0ZvY3VzID09PSAndW5kZWZpbmVkJyA/IHJlc3RQcm9wcyA6IHsgLi4ucmVzdFByb3BzLCBhdXRvRm9jdXMgfTsKCWNvbnN0IHsgc3RvcmUgfSA9IHVzZURpYWxvZygpOwoJY29uc3Qgb3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ29wZW4nKTsKCWNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IFJlYWN0LnVzZVN0YXRlKG9wZW4pOwoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAob3BlbikgewoJCQlzZXRNb3VudGVkKHRydWUpOwoJCQlyZXR1cm47CgkJfQoJCWNvbnN0IHQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBzZXRNb3VudGVkKGZhbHNlKSwgMjAwKTsKCQlyZXR1cm4gKCkgPT4gd2luZG93LmNsZWFyVGltZW91dCh0KTsKCX0sIFtvcGVuXSk7CgoJaWYgKCFtb3VudGVkKSByZXR1cm4gbnVsbDsKCglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZwoJCQlzdG9yZT17c3RvcmV9CgkJCXBvcnRhbD17cG9ydGFsfQoJCQliYWNrZHJvcD17CgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ2ZpeGVkIGluc2V0LTAgei00MCBiZy1vdmVybGF5LzUwIGJhY2tkcm9wLWJsdXItc20nLAoJCQkJCQknb3BhY2l0eS0wIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGgnLAoJCQkJCQknZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOm9wYWNpdHktMCcsCgkJCQkJKX0KCQkJCS8+CgkJCX0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCWRpYWxvZ0NvbnRlbnRWYXJpYW50cyh7IHNpemUgfSksCgkJCQknZml4ZWQgdG9wLTEvMiBsZWZ0LTEvMiB6LTUwIC10cmFuc2xhdGUteC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0cmFuc2Zvcm0nLAoJCQkJJ3NjYWxlLTEwNSBvcGFjaXR5LTAgYmx1ci1zbSB0cmFuc2l0aW9uLVtzY2FsZSxvcGFjaXR5LGJsdXJdIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCcsCgkJCQknZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWVudGVyOmJsdXItbm9uZScsCgkJCQknZGF0YS1sZWF2ZTpzY2FsZS0xMDUgZGF0YS1sZWF2ZTpvcGFjaXR5LTAgZGF0YS1sZWF2ZTpibHVyLXNtJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLmRpYWxvZ1Byb3BzfQoJCT4KCQkJe3Nob3dDbG9zZSAmJiAoCgkJCQk8QXJpYWtpdC5EaWFsb2dEaXNtaXNzIGNsYXNzTmFtZT0iYWJzb2x1dGUgdG9wLTIgcmlnaHQtMiB6LTEwIGlubGluZS1mbGV4IGgtNiB3LTYgY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtc20gdGV4dC1mb3JlZ3JvdW5kLzQ1IGhvdmVyOmJnLXBvcG92ZXItbXV0ZWQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kLzcwIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsY29sb3IsYm94LXNoYWRvd10gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUiPgoJCQkJCTxJY29ucy5YIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCQkJPEFyaWFraXQuVmlzdWFsbHlIaWRkZW4+Q2xvc2U8L0FyaWFraXQuVmlzdWFsbHlIaWRkZW4+CgkJCQk8L0FyaWFraXQuRGlhbG9nRGlzbWlzcz4KCQkJKX0KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5EaWFsb2c+CgkpOwp9OwoKZXhwb3J0IGludGVyZmFjZSBEaWFsb2dDb250ZW50UHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBEaWFsb2dDb250ZW50OiBSZWFjdC5GQzxEaWFsb2dDb250ZW50UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigncC00IHRleHQtc20gbGVhZGluZy1zbnVnIHRleHQtZm9yZWdyb3VuZC83MCcsIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn07CgpleHBvcnQgY29uc3QgRGlhbG9nSGVhZGVyOiBSZWFjdC5GQzxEaWFsb2dIZWFkZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NuKCdweC00IHB0LTQnLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9PgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERpYWxvZ1RpdGxlOiBSZWFjdC5GQzxEaWFsb2dUaXRsZVByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXM6IENvbXBvbmVudCA9ICdoMicsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZ0hlYWRpbmcKCQkJcmVuZGVyPXsoaGVhZGluZ1Byb3BzKSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgaGVhZGluZ1Byb3BzKX0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSd0ZXh0LWJhc2UgbGVhZGluZy1ub25lIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuRGlhbG9nSGVhZGluZz4KCSk7Cn07CgpleHBvcnQgY29uc3QgRGlhbG9nRGVzY3JpcHRpb246IFJlYWN0LkZDPERpYWxvZ0Rlc2NyaXB0aW9uUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZ0Rlc2NyaXB0aW9uCgkJCWNsYXNzTmFtZT17Y24oCgkJCQknbXQtMSB0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNDUgdGV4dC1iYWxhbmNlJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5EaWFsb2dEZXNjcmlwdGlvbj4KCSk7Cn07CgpleHBvcnQgY29uc3QgRGlhbG9nRm9vdGVyOiBSZWFjdC5GQzxEaWFsb2dGb290ZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIHJvdW5kZWQtYi1sZyBib3JkZXItdCBib3JkZXItYm9yZGVyLzYwIGJnLVtjb2xvci1taXgoaW5fb2tsY2gsdmFyKC0tY29sb3ItcG9wb3ZlcilfNzAlLHZhcigtLWNvbG9yLXBvcG92ZXItbXV0ZWQpXzMwJSldIHAtNCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn07CgpleHBvcnQgY29uc3QgRGlhbG9nQWN0aW9uczogUmVhY3QuRkM8RGlhbG9nQWN0aW9uc1Byb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJywgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBEaWFsb2dDbG9zZTogUmVhY3QuRkM8RGlhbG9nQ2xvc2VQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCWFzQ2hpbGQgPSBmYWxzZSwKCWRpc2FibGVkLAoJYXV0b0ZvY3VzLAoJb25DbGljaywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsgc3RvcmUgfSA9IHVzZURpYWxvZygpOwoKCWlmIChhc0NoaWxkICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkgewoJCWNvbnN0IGNoaWxkID0gY2hpbGRyZW4gYXMgUmVhY3QuUmVhY3RFbGVtZW50PAoJCQlSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4KCQk+OwoJCWNvbnN0IGhhbmRsZUNsaWNrOiBSZWFjdC5Nb3VzZUV2ZW50SGFuZGxlcjxIVE1MQnV0dG9uRWxlbWVudD4gPSAoZSkgPT4gewoJCQlzdG9yZS5oaWRlKCk7CgkJCWNoaWxkLnByb3BzPy5vbkNsaWNrPy4oZSk7CgkJCW9uQ2xpY2s/LihlKTsKCQl9OwoJCXJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHsKCQkJb25DbGljazogaGFuZGxlQ2xpY2ssCgkJCS4uLihkaXNhYmxlZCAhPT0gdW5kZWZpbmVkID8geyBkaXNhYmxlZCB9IDoge30pLAoJCQkuLi4oYXV0b0ZvY3VzICE9PSB1bmRlZmluZWQgPyB7IGF1dG9Gb2N1cyB9IDoge30pLAoJCQkuLi5wcm9wcywKCQkJLi4uKGNoaWxkLnByb3BzIHx8IHt9KSwKCQl9KTsKCX0KCglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZ0Rpc21pc3MKCQkJc3RvcmU9e3N0b3JlfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJImlubGluZS1mbGV4IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLW1kIGJnLXRyYW5zcGFyZW50IGgtOSBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgc2hyaW5rLTAgWyZfc3ZnXTpzaHJpbmstMCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCBob3ZlcjpiZy1wb3BvdmVyLW11dGVkIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvd10gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUiLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl0eXBlPSJidXR0b24iCgkJCWRpc2FibGVkPXtCb29sZWFuKGRpc2FibGVkKX0KCQkJYXV0b0ZvY3VzPXtCb29sZWFuKGF1dG9Gb2N1cyl9CgkJCW9uQ2xpY2s9e29uQ2xpY2t9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuRGlhbG9nRGlzbWlzcz4KCSk7Cn07"
,
  "dropdown-menu.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgZHJvcGRvd25NZW51Q29udGVudFZhcmlhbnRzID0gY3ZhKAoJYHotNTAgb3JpZ2luLXRvcCAtdHJhbnNsYXRlLXktMiBzY2FsZS05NSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLXBvcG92ZXIgb3BhY2l0eS0wIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCB0cmFuc2l0aW9uLVtzY2FsZSx0cmFuc2xhdGUsb3BhY2l0eV0gZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoIGRhdGEtZW50ZXI6dHJhbnNsYXRlLXktMCBkYXRhLWVudGVyOnNjYWxlLTEwMCBkYXRhLWVudGVyOm9wYWNpdHktMTAwIGRhdGEtbGVhdmU6LXRyYW5zbGF0ZS15LTIgZGF0YS1sZWF2ZTpzY2FsZS05NSBkYXRhLWxlYXZlOm9wYWNpdHktMGAsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdtaW4tdy1bOHJlbV0gcC0xJywKCQkJCW1kOiAnbWluLXctWzEwcmVtXSBwLTEnLAoJCQkJbGc6ICdtaW4tdy1bMTJyZW1dIHAtMicsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IGRyb3Bkb3duU3ViTWVudUNvbnRlbnRWYXJpYW50cyA9IGN2YSgKCWB6LTUwIG9yaWdpbi10b3AtbGVmdCAtdHJhbnNsYXRlLXktMiBzY2FsZS05NSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLXBvcG92ZXIgb3BhY2l0eS0wIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCB0cmFuc2l0aW9uLVtzY2FsZSx0cmFuc2xhdGUsb3BhY2l0eV0gZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoIGRhdGEtZW50ZXI6dHJhbnNsYXRlLXktMCBkYXRhLWVudGVyOnNjYWxlLTEwMCBkYXRhLWVudGVyOm9wYWNpdHktMTAwIGRhdGEtbGVhdmU6LXRyYW5zbGF0ZS15LTIgZGF0YS1sZWF2ZTpzY2FsZS05NSBkYXRhLWxlYXZlOm9wYWNpdHktMGAsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdtaW4tdy1bN3JlbV0gcC0xJywKCQkJCW1kOiAnbWluLXctWzhyZW1dIHAtMScsCgkJCQlsZzogJ21pbi13LVsxMHJlbV0gcC0yJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgZHJvcGRvd25NZW51SXRlbVZhcmlhbnRzID0gY3ZhKAoJYHJlbGF0aXZlIGdyb3VwIGZsZXggdy1mdWxsIGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB4LTIgcHktMS41IHRleHQtc20gWyZfc3ZnXTpzaHJpbmstMCBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IGdhcC0yIG91dGxpbmUtbm9uZSBzZWxlY3Qtbm9uZSB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6YmctcG9wb3Zlci1tdXRlZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpiZy1wb3BvdmVyLW11dGVkIGZvY3VzLXZpc2libGU6dGV4dC1mb3JlZ3JvdW5kIGFyaWEtZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBhcmlhLWRpc2FibGVkOm9wYWNpdHktNTBgLAoJewoJCXZhcmlhbnRzOiB7CgkJCWluc2V0OiB7CgkJCQl0cnVlOiAncGwtOCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWRlc3RydWN0aXZlOiB7CgkJCQl0cnVlOiAndGV4dC1kZXN0cnVjdGl2ZS85MCBob3ZlcjpiZy1kZXN0cnVjdGl2ZS8xMCBob3Zlcjp0ZXh0LWRlc3RydWN0aXZlJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlpbnNldDogZmFsc2UsCgkJCWRlc3RydWN0aXZlOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25NZW51UHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IERyb3Bkb3duTWVudTogUmVhY3QuRkM8RHJvcGRvd25NZW51UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAp9KSA9PiB7Cgljb25zdCBtZW51ID0gQXJpYWtpdC51c2VNZW51U3RvcmUoeyBhbmltYXRlZDogdHJ1ZSB9KTsKCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnVQcm92aWRlciBzdG9yZT17bWVudX0+CgkJCTxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PntjaGlsZHJlbn08L2Rpdj4KCQk8L0FyaWFraXQuTWVudVByb3ZpZGVyPgoJKTsKfTsKCnR5cGUgTWVudUJ1dHRvbkVsZW1lbnRQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwKCXR5cGVvZiBBcmlha2l0Lk1lbnVCdXR0b24KPjsKCmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25NZW51VHJpZ2dlclByb3BzCglleHRlbmRzIE9taXQ8TWVudUJ1dHRvbkVsZW1lbnRQcm9wcywgJ3N0b3JlJyB8ICdjaGlsZHJlbic+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmV4cG9ydCBjb25zdCBEcm9wZG93bk1lbnVUcmlnZ2VyOiBSZWFjdC5GQzxEcm9wZG93bk1lbnVUcmlnZ2VyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJZGlzYWJsZWQsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBtZW51ID0gQXJpYWtpdC51c2VNZW51Q29udGV4dCgpOwoJaWYgKCFtZW51KSB7CgkJdGhyb3cgbmV3IEVycm9yKCdEcm9wZG93bk1lbnVUcmlnZ2VyIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBEcm9wZG93bk1lbnUuJyk7Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51QnV0dG9uCgkJCXN0b3JlPXttZW51fQoJCQlkaXNhYmxlZD17Qm9vbGVhbihkaXNhYmxlZCl9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknYXBwZWFyYW5jZS1ub25lIGJnLXRyYW5zcGFyZW50IHAtMCB0ZXh0LWxlZnQnLAoJCQkJY2xhc3NOYW1lLAoJCQkJZGlzYWJsZWQgJiYgJ29wYWNpdHktNTAnLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0Lk1lbnVCdXR0b24+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IERyb3Bkb3duTWVudUNvbnRlbnQ6IFJlYWN0LkZDPAoJewoJCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCXNhbWVXaWR0aD86IGJvb2xlYW47Cgl9ICYgVmFyaWFudFByb3BzPHR5cGVvZiBkcm9wZG93bk1lbnVDb250ZW50VmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzYW1lV2lkdGggPSBmYWxzZSwgc2l6ZSB9KSA9PiAoCgk8QXJpYWtpdC5NZW51CgkJcG9ydGFsCgkJZ3V0dGVyPXs0fQoJCXNhbWVXaWR0aD17c2FtZVdpZHRofQoJCWNsYXNzTmFtZT17Y24oZHJvcGRvd25NZW51Q29udGVudFZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCI+e2NoaWxkcmVufTwvZGl2PgoJPC9Bcmlha2l0Lk1lbnU+Cik7CgpleHBvcnQgY29uc3QgRHJvcGRvd25NZW51SXRlbTogUmVhY3QuRkM8Cgl7CgkJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCQljbGFzc05hbWU/OiBzdHJpbmc7CgkJZGlzYWJsZWQ/OiBib29sZWFuOwoJCWluc2V0PzogYm9vbGVhbjsKCQlkZXN0cnVjdGl2ZT86IGJvb2xlYW47CgkJb25DbGljaz86ICgpID0+IHZvaWQ7Cgl9ICYgVmFyaWFudFByb3BzPHR5cGVvZiBkcm9wZG93bk1lbnVJdGVtVmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBkaXNhYmxlZCwgaW5zZXQsIGRlc3RydWN0aXZlLCBvbkNsaWNrIH0pID0+ICgKCTxBcmlha2l0Lk1lbnVJdGVtCgkJZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfQoJCW9uQ2xpY2s9e29uQ2xpY2t9CgkJY2xhc3NOYW1lPXtjbihkcm9wZG93bk1lbnVJdGVtVmFyaWFudHMoeyBpbnNldCwgZGVzdHJ1Y3RpdmUgfSksIGNsYXNzTmFtZSl9Cgk+CgkJe2NoaWxkcmVufQoJPC9Bcmlha2l0Lk1lbnVJdGVtPgopOwoKZXhwb3J0IGNvbnN0IERyb3Bkb3duTWVudVNlcGFyYXRvcjogUmVhY3QuRkM8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT4gPSAoewoJY2xhc3NOYW1lLAp9KSA9PiAoCgk8QXJpYWtpdC5NZW51U2VwYXJhdG9yCgkJY2xhc3NOYW1lPXtjbignLW14LTEgbXktMSBoLXB4IGJnLWJvcmRlciBvcGFjaXR5LTYwJywgY2xhc3NOYW1lKX0KCS8+Cik7CgpleHBvcnQgY29uc3QgRHJvcGRvd25NZW51U3ViOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoewoJY2hpbGRyZW4sCn0pID0+IHsKCWNvbnN0IHN1Yk1lbnUgPSBBcmlha2l0LnVzZU1lbnVTdG9yZSh7IGFuaW1hdGVkOiB0cnVlIH0pOwoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51UHJvdmlkZXIgc3RvcmU9e3N1Yk1lbnV9PntjaGlsZHJlbn08L0FyaWFraXQuTWVudVByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBEcm9wZG93bk1lbnVTdWJUcmlnZ2VyOiBSZWFjdC5GQzwKCXsKCQljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJCWNsYXNzTmFtZT86IHN0cmluZzsKCQlkaXNhYmxlZD86IGJvb2xlYW47CgkJaW5zZXQ/OiBib29sZWFuOwoJCWRlc3RydWN0aXZlPzogYm9vbGVhbjsKCX0gJiBWYXJpYW50UHJvcHM8dHlwZW9mIGRyb3Bkb3duTWVudUl0ZW1WYXJpYW50cz4KPiA9ICh7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGRpc2FibGVkLCBpbnNldCwgZGVzdHJ1Y3RpdmUgfSkgPT4gKAoJPEFyaWFraXQuTWVudUJ1dHRvbgoJCWRpc2FibGVkPXtCb29sZWFuKGRpc2FibGVkKX0KCQljbGFzc05hbWU9e2NuKGRyb3Bkb3duTWVudUl0ZW1WYXJpYW50cyh7IGluc2V0LCBkZXN0cnVjdGl2ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQl7Y2hpbGRyZW59CgkJPEFyaWFraXQuTWVudUJ1dHRvbkFycm93IGNsYXNzTmFtZT0ibWwtYXV0byB0ZXh0LWZvcmVncm91bmQvNzAgZ3JvdXAtaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIiAvPgoJPC9Bcmlha2l0Lk1lbnVCdXR0b24+Cik7CgpleHBvcnQgY29uc3QgRHJvcGRvd25NZW51U3ViQ29udGVudDogUmVhY3QuRkM8Cgl7CgkJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCQljbGFzc05hbWU/OiBzdHJpbmc7Cgl9ICYgVmFyaWFudFByb3BzPHR5cGVvZiBkcm9wZG93blN1Yk1lbnVDb250ZW50VmFyaWFudHM+Cj4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzaXplIH0pID0+ICgKCTxBcmlha2l0Lk1lbnUKCQlwb3J0YWwKCQljbGFzc05hbWU9e2NuKGRyb3Bkb3duU3ViTWVudUNvbnRlbnRWYXJpYW50cyh7IHNpemUgfSksIGNsYXNzTmFtZSl9Cgk+CgkJPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wiPntjaGlsZHJlbn08L2Rpdj4KCTwvQXJpYWtpdC5NZW51PgopOw=="
,
  "file-upload.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvbGliL2ljb25zJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc3Bpbm5lcic7Cgpjb25zdCBmaWxlVXBsb2FkVmFyaWFudHMgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIGJvcmRlciByb3VuZGVkLWxnJywKCQknZm9jdXMtd2l0aGluOnJpbmctMSBmb2N1cy13aXRoaW46cmluZy1vZmZzZXQtMSBmb2N1cy13aXRoaW46b3V0bGluZS1ub25lJywKCQknZm9jdXMtd2l0aGluOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwJywKCQknZm9jdXMtd2l0aGluOnJpbmctcmluZy81MCcsCgkJJ3RyYW5zaXRpb24tW2JveC1zaGFkb3ddIGR1cmF0aW9uLTEwMCBlYXNlLW91dC1xdWFkJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ2JnLWNhcmQgYm9yZGVyLWRhc2hlZCBib3JkZXItYm9yZGVyJywKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICd3LXNtIHAtNCcsCgkJCQltZDogJ3ctbWQgcC02JywKCQkJCWxnOiAndy1sZyBwLTgnLAoJCQl9LAoJCQlzdGF0ZTogewoJCQkJaWRsZTogJycsCgkJCQlkcmFnb3ZlcjogWydib3JkZXItYmFja2dyb3VuZC82MCBzY2FsZS1bMS4wMl0nXSwKCQkJCWVycm9yOiBbJ2JvcmRlci1kZXN0cnVjdGl2ZS80MCddLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQkJc3RhdGU6ICdpZGxlJywKCQl9LAoJfSwKKTsKCmNvbnN0IGZpbGVJdGVtVmFyaWFudHMgPSBjdmEoCglbJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtbGcgYm9yZGVyIHAtMyBiZy1jYXJkIGJvcmRlci1ib3JkZXInXSwKCXsKCQl2YXJpYW50czogewoJCQlzdGF0dXM6IHsKCQkJCXBlbmRpbmc6ICcnLAoJCQkJdXBsb2FkaW5nOiAnJywKCQkJCXN1Y2Nlc3M6ICcnLAoJCQkJZXJyb3I6ICcnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ21heC13LXNtJywKCQkJCW1kOiAnbWF4LXctbWQnLAoJCQkJbGc6ICdtYXgtdy1sZycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc3RhdHVzOiAncGVuZGluZycsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIEZpbGVVcGxvYWRGaWxlIHsKCWlkOiBzdHJpbmc7CglmaWxlOiBGaWxlOwoJcHJldmlldz86IHN0cmluZzsKCXByb2dyZXNzPzogbnVtYmVyOwoJc3RhdHVzOiAncGVuZGluZycgfCAndXBsb2FkaW5nJyB8ICdzdWNjZXNzJyB8ICdlcnJvcic7CgllcnJvcj86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBGaWxlVXBsb2FkUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8J2Rpdic+LCAnb25DaGFuZ2UnPiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGZpbGVVcGxvYWRWYXJpYW50cz4gewoJbXVsdGlwbGU/OiBib29sZWFuOwoJYWNjZXB0Pzogc3RyaW5nOwoJbWF4U2l6ZT86IG51bWJlcjsKCW1heEZpbGVzPzogbnVtYmVyOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJZmlsZXM/OiBGaWxlVXBsb2FkRmlsZVtdOwoJb25GaWxlc0NoYW5nZT86IChmaWxlczogRmlsZVVwbG9hZEZpbGVbXSkgPT4gdm9pZDsKCW9uVXBsb2FkPzogKGZpbGVzOiBGaWxlVXBsb2FkRmlsZVtdKSA9PiBQcm9taXNlPHZvaWQ+OwoJc2hvd1Byb2dyZXNzPzogYm9vbGVhbjsKCXNob3dQcmV2aWV3PzogYm9vbGVhbjsKCXVwbG9hZFRleHQ/OiBzdHJpbmc7CglkcmFnVGV4dD86IHN0cmluZzsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBGaWxlVXBsb2FkWm9uZVByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCdidXR0b24nPiwgJ29uQ2hhbmdlJz4gewoJb25GaWxlc1NlbGVjdDogKGZpbGVzOiBGaWxlW10pID0+IHZvaWQ7CglhY2NlcHQ/OiBzdHJpbmc7CgltdWx0aXBsZT86IGJvb2xlYW47CglkaXNhYmxlZD86IGJvb2xlYW47CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgaW50ZXJmYWNlIEZpbGVVcGxvYWRJdGVtUHJvcHMgewoJZmlsZTogRmlsZVVwbG9hZEZpbGU7CglzaG93UHJldmlldz86IGJvb2xlYW47CglvblJlbW92ZT86IChpZDogc3RyaW5nKSA9PiB2b2lkOwoJc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJzsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBGaWxlVXBsb2FkUHJvZ3Jlc3NQcm9wcyB7Cglwcm9ncmVzczogbnVtYmVyOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgpjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChieXRlczogbnVtYmVyKTogc3RyaW5nID0+IHsKCWlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEJ5dGVzJzsKCWNvbnN0IGsgPSAxMDI0OwoJY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ107Cgljb25zdCBpID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSk7CglyZXR1cm4gYCR7cGFyc2VGbG9hdCgoYnl0ZXMgLyBrICoqIGkpLnRvRml4ZWQoMikpfSAke3NpemVzW2ldfWA7Cn07Cgpjb25zdCBjcmVhdGVGaWxlUHJldmlldyA9IChmaWxlOiBGaWxlKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7CglyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKCQlpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgewoJCQlyZXNvbHZlKG51bGwpOwoJCQlyZXR1cm47CgkJfQoKCQljb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoJCXJlYWRlci5vbmxvYWQgPSAoZSkgPT4gcmVzb2x2ZShlLnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZyk7CgkJcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZXNvbHZlKG51bGwpOwoJCXJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwoJfSk7Cn07CgpleHBvcnQgY29uc3QgRmlsZVVwbG9hZFpvbmU6IFJlYWN0LkZDPEZpbGVVcGxvYWRab25lUHJvcHM+ID0gKHsKCW9uRmlsZXNTZWxlY3QsCglhY2NlcHQsCgltdWx0aXBsZSA9IGZhbHNlLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7CgoJY29uc3QgaGFuZGxlRmlsZUlucHV0ID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7CgkJY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzIHx8IFtdKTsKCQlpZiAoZmlsZXMubGVuZ3RoID4gMCkgewoJCQlvbkZpbGVzU2VsZWN0KGZpbGVzKTsKCQl9CgkJaWYgKGlucHV0UmVmLmN1cnJlbnQpIHsKCQkJaW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnOwoJCX0KCX07CgoJY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7CgkJaWYgKCFkaXNhYmxlZCkgewoJCQlpbnB1dFJlZi5jdXJyZW50Py5jbGljaygpOwoJCX0KCX07CgoJcmV0dXJuICgKCQk8YnV0dG9uCgkJCXR5cGU9ImJ1dHRvbiIKCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ3ctZnVsbCBjdXJzb3ItcG9pbnRlciBmb2N1cy12aXNpYmxlOnJpbmctMCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQlkaXNhYmxlZCAmJiAnY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTAnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQlvbkNsaWNrPXtoYW5kbGVDbGlja30KCQkJYXJpYS1sYWJlbD17bXVsdGlwbGUgPyAnU2VsZWN0IGZpbGVzIHRvIHVwbG9hZCcgOiAnU2VsZWN0IGZpbGUgdG8gdXBsb2FkJ30KCQkJey4uLnByb3BzfQoJCT4KCQkJPGlucHV0CgkJCQlyZWY9e2lucHV0UmVmfQoJCQkJdHlwZT0iZmlsZSIKCQkJCWFjY2VwdD17YWNjZXB0fQoJCQkJbXVsdGlwbGU9e211bHRpcGxlfQoJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJb25DaGFuZ2U9e2hhbmRsZUZpbGVJbnB1dH0KCQkJCWNsYXNzTmFtZT0ic3Itb25seSIKCQkJLz4KCQkJe2NoaWxkcmVufQoJCTwvYnV0dG9uPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkUHJvZ3Jlc3M6IFJlYWN0LkZDPEZpbGVVcGxvYWRQcm9ncmVzc1Byb3BzPiA9ICh7Cglwcm9ncmVzcywKCWNsYXNzTmFtZSwKfSkgPT4gewoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17Y24oJ2gtMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLWNhcmQtbXV0ZWQnLCBjbGFzc05hbWUpfT4KCQkJPGRpdgoJCQkJY2xhc3NOYW1lPSJoLTIgcm91bmRlZC1mdWxsIGJnLWZvcmVncm91bmQgdHJhbnNpdGlvbi1bd2lkdGhdIGR1cmF0aW9uLTEwMCBlYXNlLW91dC1xdWFkIgoJCQkJc3R5bGU9e3sgd2lkdGg6IGAke01hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcHJvZ3Jlc3MpKX0lYCB9fQoJCQkJcm9sZT0icHJvZ3Jlc3NiYXIiCgkJCQlhcmlhLXZhbHVlbm93PXtwcm9ncmVzc30KCQkJCWFyaWEtdmFsdWVtaW49ezB9CgkJCQlhcmlhLXZhbHVlbWF4PXsxMDB9CgkJCS8+CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEZpbGVVcGxvYWRJdGVtOiBSZWFjdC5GQzxGaWxlVXBsb2FkSXRlbVByb3BzPiA9ICh7CglmaWxlLAoJc2hvd1ByZXZpZXcgPSB0cnVlLAoJb25SZW1vdmUsCglzaXplID0gJ21kJywKCWNsYXNzTmFtZSwKfSkgPT4gewoJY29uc3QgaGFuZGxlUmVtb3ZlID0gKCkgPT4gewoJCW9uUmVtb3ZlPy4oZmlsZS5pZCk7Cgl9OwoKCWNvbnN0IGlzVXBsb2FkaW5nID0KCQlmaWxlLnN0YXR1cyA9PT0gJ3VwbG9hZGluZycgJiYgdHlwZW9mIGZpbGUucHJvZ3Jlc3MgPT09ICdudW1iZXInOwoKCXJldHVybiAoCgkJPGxpCgkJCWNsYXNzTmFtZT17Y24oZmlsZUl0ZW1WYXJpYW50cyh7IHN0YXR1czogZmlsZS5zdGF0dXMsIHNpemUgfSksIGNsYXNzTmFtZSl9CgkJPgoJCQk8ZGl2IGNsYXNzTmFtZT0ic2hyaW5rLTAiPgoJCQkJe3Nob3dQcmV2aWV3ICYmIGZpbGUucHJldmlldyA/ICgKCQkJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9wZXJmb3JtYW5jZS9ub0ltZ0VsZW1lbnQ6IHByZWZlciBuYXRpdmUgaW1nIGhlcmUgKi8KCQkJCQk8aW1nCgkJCQkJCXNyYz17ZmlsZS5wcmV2aWV3fQoJCQkJCQlhbHQ9e2ZpbGUuZmlsZS5uYW1lfQoJCQkJCQljbGFzc05hbWU9ImgtMTAgdy0xMCByb3VuZGVkIG9iamVjdC1jb3ZlciIKCQkJCQkvPgoJCQkJKSA6ICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLTEwIHctMTAgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KCQkJCQkJPEljb25zLkZpbGVVcGxvYWQgYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC02IHctNiIgLz4KCQkJCQk8L2Rpdj4KCQkJCSl9CgkJCTwvZGl2PgoKCQkJPGRpdiBjbGFzc05hbWU9Im1pbi13LTAgZmxleC0xIj4KCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIiPgoJCQkJCTxwIGNsYXNzTmFtZT0ibWluLXctMCBmbGV4LTEgdHJ1bmNhdGUgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCQl7ZmlsZS5maWxlLm5hbWV9CgkJCQkJPC9wPgoJCQkJCXtvblJlbW92ZSAmJiAoCgkJCQkJCTxCdXR0b24KCQkJCQkJCWNsYXNzTmFtZT0ic2l6ZS02IHJvdW5kZWQtc20gY3Vyc29yLXBvaW50ZXIgdGV4dC1mb3JlZ3JvdW5kLzQ1IGhvdmVyOnRleHQtZm9yZWdyb3VuZC83MCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSIKCQkJCQkJCXZhcmlhbnQ9Imljb24iCgkJCQkJCQlvbkNsaWNrPXtoYW5kbGVSZW1vdmV9CgkJCQkJCQlhcmlhLWxhYmVsPXtgUmVtb3ZlICR7ZmlsZS5maWxlLm5hbWV9YH0KCQkJCQkJPgoJCQkJCQkJPEljb25zLlggYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KCQkJCQkJPC9CdXR0b24+CgkJCQkJKX0KCQkJCTwvZGl2PgoKCQkJCTxkaXYgY2xhc3NOYW1lPSJtdC0xIGZsZXggbWluLXctMCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCTxwIGNsYXNzTmFtZT0ic2hyaW5rLTAgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAiPgoJCQkJCQl7Zm9ybWF0RmlsZVNpemUoZmlsZS5maWxlLnNpemUpfQoJCQkJCTwvcD4KCgkJCQkJe2ZpbGUuc3RhdHVzID09PSAnZXJyb3InICYmIGZpbGUuZXJyb3IgJiYgKAoJCQkJCQk8cCBjbGFzc05hbWU9InRydW5jYXRlIHRleHQteHMgdGV4dC1kZXN0cnVjdGl2ZS85MCBmb250LW1lZGl1bSI+CgkJCQkJCQl7ZmlsZS5lcnJvcn0KCQkJCQkJPC9wPgoJCQkJCSl9CgoJCQkJCXtmaWxlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmICgKCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJmbGV4IHNocmluay0wIGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc3VjY2Vzcy85MCI+CgkJCQkJCQk8SWNvbnMuQ2hlY2sgYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KCQkJCQkJCVVwbG9hZGVkCgkJCQkJCTwvc3Bhbj4KCQkJCQkpfQoJCQkJPC9kaXY+CgoJCQkJPGRpdiBjbGFzc05hbWU9Im10LTIgaC0yIj4KCQkJCQk8ZGl2CgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkndHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTEwMCcsCgkJCQkJCQlpc1VwbG9hZGluZyA/ICdvcGFjaXR5LTEwMCcgOiAnb3BhY2l0eS0wJywKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCTxGaWxlVXBsb2FkUHJvZ3Jlc3MgcHJvZ3Jlc3M9e2ZpbGUucHJvZ3Jlc3MgfHwgMH0gLz4KCQkJCQk8L2Rpdj4KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQk8L2xpPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkOiBSZWFjdC5GQzxGaWxlVXBsb2FkUHJvcHM+ID0gKHsKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKCW11bHRpcGxlID0gZmFsc2UsCglhY2NlcHQsCgltYXhTaXplLAoJbWF4RmlsZXMsCglkaXNhYmxlZCA9IGZhbHNlLAoJZmlsZXMgPSBbXSwKCW9uRmlsZXNDaGFuZ2UsCglvblVwbG9hZCwKCXNob3dQcmV2aWV3ID0gdHJ1ZSwKCXVwbG9hZFRleHQgPSAnQ2xpY2sgdG8gdXBsb2FkIG9yIGRyYWcgYW5kIGRyb3AnLAoJZHJhZ1RleHQgPSAnRHJvcCBmaWxlcyBoZXJlJywKCWNsYXNzTmFtZSwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IFtpc0RyYWdPdmVyLCBzZXRJc0RyYWdPdmVyXSA9IHVzZVN0YXRlKGZhbHNlKTsKCWNvbnN0IFtkcmFnU3RhdGUsIHNldERyYWdTdGF0ZV0gPSB1c2VTdGF0ZTwnaWRsZScgfCAnZHJhZ292ZXInIHwgJ2Vycm9yJz4oCgkJJ2lkbGUnLAoJKTsKCgljb25zdCB2YWxpZGF0ZUZpbGUgPSB1c2VDYWxsYmFjaygKCQkoZmlsZTogRmlsZSk6IHN0cmluZyB8IG51bGwgPT4gewoJCQlpZiAobWF4U2l6ZSAmJiBmaWxlLnNpemUgPiBtYXhTaXplKSB7CgkJCQlyZXR1cm4gYEZpbGUgc2l6ZSBleGNlZWRzICR7Zm9ybWF0RmlsZVNpemUobWF4U2l6ZSl9YDsKCQkJfQoKCQkJaWYgKGFjY2VwdCkgewoJCQkJY29uc3QgYWNjZXB0ZWRUeXBlcyA9IGFjY2VwdC5zcGxpdCgnLCcpLm1hcCgodHlwZSkgPT4gdHlwZS50cmltKCkpOwoJCQkJY29uc3QgaXNWYWxpZFR5cGUgPSBhY2NlcHRlZFR5cGVzLnNvbWUoKHR5cGUpID0+IHsKCQkJCQlpZiAodHlwZS5zdGFydHNXaXRoKCcuJykpIHsKCQkJCQkJcmV0dXJuIGZpbGUubmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKHR5cGUudG9Mb3dlckNhc2UoKSk7CgkJCQkJfQoJCQkJCXJldHVybiBmaWxlLnR5cGUubWF0Y2godHlwZS5yZXBsYWNlKCcqJywgJy4qJykpOwoJCQkJfSk7CgoJCQkJaWYgKCFpc1ZhbGlkVHlwZSkgewoJCQkJCXJldHVybiBgRmlsZSB0eXBlIG5vdCBhY2NlcHRlZC4gQWNjZXB0ZWQgdHlwZXM6ICR7YWNjZXB0fWA7CgkJCQl9CgkJCX0KCgkJCXJldHVybiBudWxsOwoJCX0sCgkJW21heFNpemUsIGFjY2VwdF0sCgkpOwoKCWNvbnN0IGhhbmRsZUZpbGVzU2VsZWN0ID0gdXNlQ2FsbGJhY2soCgkJYXN5bmMgKG5ld0ZpbGVzOiBGaWxlW10pID0+IHsKCQkJY29uc3QgdmFsaWRGaWxlczogRmlsZVVwbG9hZEZpbGVbXSA9IFtdOwoKCQkJZm9yIChjb25zdCBmaWxlIG9mIG5ld0ZpbGVzKSB7CgkJCQlpZiAobWF4RmlsZXMgJiYgZmlsZXMubGVuZ3RoICsgdmFsaWRGaWxlcy5sZW5ndGggPj0gbWF4RmlsZXMpIHsKCQkJCQlicmVhazsKCQkJCX0KCgkJCQljb25zdCBlcnJvciA9IHZhbGlkYXRlRmlsZShmaWxlKTsKCQkJCWNvbnN0IHByZXZpZXcgPSBzaG93UHJldmlldyA/IGF3YWl0IGNyZWF0ZUZpbGVQcmV2aWV3KGZpbGUpIDogbnVsbDsKCgkJCQljb25zdCBmaWxlVXBsb2FkOiBGaWxlVXBsb2FkRmlsZSA9IHsKCQkJCQlpZDogYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCwKCQkJCQlmaWxlLAoJCQkJCXN0YXR1czogZXJyb3IgPyAnZXJyb3InIDogJ3BlbmRpbmcnLAoJCQkJCS4uLihwcmV2aWV3ICE9PSBudWxsID8geyBwcmV2aWV3IH0gOiB7fSksCgkJCQkJLi4uKGVycm9yID8geyBlcnJvciB9IDoge30pLAoJCQkJfTsKCgkJCQl2YWxpZEZpbGVzLnB1c2goZmlsZVVwbG9hZCk7CgkJCX0KCgkJCWNvbnN0IHVwZGF0ZWRGaWxlcyA9IG11bHRpcGxlID8gWy4uLmZpbGVzLCAuLi52YWxpZEZpbGVzXSA6IHZhbGlkRmlsZXM7CgkJCW9uRmlsZXNDaGFuZ2U/Lih1cGRhdGVkRmlsZXMpOwoKCQkJc2V0RHJhZ1N0YXRlKCdpZGxlJyk7CgkJCXNldElzRHJhZ092ZXIoZmFsc2UpOwoJCX0sCgkJW2ZpbGVzLCBtYXhGaWxlcywgdmFsaWRhdGVGaWxlLCBtdWx0aXBsZSwgc2hvd1ByZXZpZXcsIG9uRmlsZXNDaGFuZ2VdLAoJKTsKCgljb25zdCBoYW5kbGVSZW1vdmVGaWxlID0gdXNlQ2FsbGJhY2soCgkJKGlkOiBzdHJpbmcpID0+IHsKCQkJY29uc3QgdXBkYXRlZEZpbGVzID0gZmlsZXMuZmlsdGVyKChmaWxlKSA9PiBmaWxlLmlkICE9PSBpZCk7CgkJCW9uRmlsZXNDaGFuZ2U/Lih1cGRhdGVkRmlsZXMpOwoJCX0sCgkJW2ZpbGVzLCBvbkZpbGVzQ2hhbmdlXSwKCSk7CgoJY29uc3QgaGFuZGxlVXBsb2FkID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4gewoJCWlmICghb25VcGxvYWQpIHJldHVybjsKCgkJY29uc3QgcGVuZGluZ0ZpbGVzID0gZmlsZXMuZmlsdGVyKChmaWxlKSA9PiBmaWxlLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKTsKCQlpZiAocGVuZGluZ0ZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKCQljb25zdCB1cGRhdGVkRmlsZXMgPSBmaWxlcy5tYXAoKGZpbGUpID0+CgkJCWZpbGUuc3RhdHVzID09PSAncGVuZGluZycKCQkJCT8geyAuLi5maWxlLCBzdGF0dXM6ICd1cGxvYWRpbmcnIGFzIGNvbnN0LCBwcm9ncmVzczogMCB9CgkJCQk6IGZpbGUsCgkJKTsKCQlvbkZpbGVzQ2hhbmdlPy4odXBkYXRlZEZpbGVzKTsKCgkJdHJ5IHsKCQkJYXdhaXQgb25VcGxvYWQocGVuZGluZ0ZpbGVzKTsKCgkJCWNvbnN0IHN1Y2Nlc3NGaWxlcyA9IHVwZGF0ZWRGaWxlcy5tYXAoKGZpbGUpID0+CgkJCQlmaWxlLnN0YXR1cyA9PT0gJ3VwbG9hZGluZycKCQkJCQk/IHsgLi4uZmlsZSwgc3RhdHVzOiAnc3VjY2VzcycgYXMgY29uc3QsIHByb2dyZXNzOiAxMDAgfQoJCQkJCTogZmlsZSwKCQkJKTsKCQkJb25GaWxlc0NoYW5nZT8uKHN1Y2Nlc3NGaWxlcyk7CgkJfSBjYXRjaCB7CgkJCWNvbnN0IGVycm9yRmlsZXMgPSB1cGRhdGVkRmlsZXMubWFwKChmaWxlKSA9PgoJCQkJZmlsZS5zdGF0dXMgPT09ICd1cGxvYWRpbmcnCgkJCQkJPyB7IC4uLmZpbGUsIHN0YXR1czogJ2Vycm9yJyBhcyBjb25zdCwgZXJyb3I6ICdVcGxvYWQgZmFpbGVkJyB9CgkJCQkJOiBmaWxlLAoJCQkpOwoJCQlvbkZpbGVzQ2hhbmdlPy4oZXJyb3JGaWxlcyk7CgkJfQoJfSwgW2ZpbGVzLCBvblVwbG9hZCwgb25GaWxlc0NoYW5nZV0pOwoKCWNvbnN0IGhhbmRsZURyYWdFbnRlciA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHsKCQllLnByZXZlbnREZWZhdWx0KCk7CgkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQlpZiAoIWRpc2FibGVkKSB7CgkJCXNldElzRHJhZ092ZXIodHJ1ZSk7CgkJCXNldERyYWdTdGF0ZSgnZHJhZ292ZXInKTsKCQl9Cgl9OwoKCWNvbnN0IGhhbmRsZURyYWdMZWF2ZSA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHsKCQllLnByZXZlbnREZWZhdWx0KCk7CgkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQlpZiAoIWUuY3VycmVudFRhcmdldC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQgYXMgTm9kZSkpIHsKCQkJc2V0SXNEcmFnT3ZlcihmYWxzZSk7CgkJCXNldERyYWdTdGF0ZSgnaWRsZScpOwoJCX0KCX07CgoJY29uc3QgaGFuZGxlRHJhZ092ZXIgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7CgkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCWUuc3RvcFByb3BhZ2F0aW9uKCk7Cgl9OwoKCWNvbnN0IGhhbmRsZURyb3AgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7CgkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgoJCWlmIChkaXNhYmxlZCkgcmV0dXJuOwoKCQljb25zdCBkcm9wcGVkRmlsZXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTsKCQloYW5kbGVGaWxlc1NlbGVjdChkcm9wcGVkRmlsZXMpOwoJfTsKCgljb25zdCBzdGF0ZSA9IGRpc2FibGVkID8gJ2lkbGUnIDogZHJhZ1N0YXRlOwoJY29uc3QgaGFzRmlsZXMgPSBmaWxlcy5sZW5ndGggPiAwOwoJY29uc3QgcGVuZGluZ0ZpbGVzID0gZmlsZXMuZmlsdGVyKChmaWxlKSA9PiBmaWxlLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKTsKCWNvbnN0IHVwbG9hZGluZ0ZpbGVzID0gZmlsZXMuZmlsdGVyKChmaWxlKSA9PiBmaWxlLnN0YXR1cyA9PT0gJ3VwbG9hZGluZycpOwoJY29uc3QgaXNVcGxvYWRpbmcgPSB1cGxvYWRpbmdGaWxlcy5sZW5ndGggPiAwOwoKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NuKCdzcGFjZS15LTQnLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9PgoJCQk8c2VjdGlvbgoJCQkJYXJpYS1sYWJlbD0iRmlsZSB1cGxvYWQgZHJvcHpvbmUiCgkJCQljbGFzc05hbWU9e2NuKGZpbGVVcGxvYWRWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUsIHN0YXRlIH0pKX0KCQkJCW9uRHJhZ0VudGVyPXtoYW5kbGVEcmFnRW50ZXJ9CgkJCQlvbkRyYWdMZWF2ZT17aGFuZGxlRHJhZ0xlYXZlfQoJCQkJb25EcmFnT3Zlcj17aGFuZGxlRHJhZ092ZXJ9CgkJCQlvbkRyb3A9e2hhbmRsZURyb3B9CgkJCT4KCQkJCTxGaWxlVXBsb2FkWm9uZQoJCQkJCW9uRmlsZXNTZWxlY3Q9e2hhbmRsZUZpbGVzU2VsZWN0fQoJCQkJCW11bHRpcGxlPXttdWx0aXBsZX0KCQkJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCQkJey4uLihhY2NlcHQgIT09IHVuZGVmaW5lZCA/IHsgYWNjZXB0IH0gOiB7fSl9CgkJCQk+CgkJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtY2VudGVyIj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9Im1iLTMiPgoJCQkJCQkJPEljb25zLkZpbGVVcGxvYWQKCQkJCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQknbXgtYXV0byB0cmFuc2l0aW9uLVtjb2xvcl0nLAoJCQkJCQkJCQlzaXplID09PSAnc20nCgkJCQkJCQkJCQk/ICdzaXplLTUnCgkJCQkJCQkJCQk6IHNpemUgPT09ICdsZycKCQkJCQkJCQkJCQk/ICdzaXplLTcnCgkJCQkJCQkJCQkJOiAnc2l6ZS02JywKCQkJCQkJCQkJaXNEcmFnT3ZlciA/ICd0ZXh0LWZvcmVncm91bmQvNDUnIDogJ3RleHQtZm9yZWdyb3VuZC80NScsCgkJCQkJCQkJKX0KCQkJCQkJCS8+CgkJCQkJCTwvZGl2PgoKCQkJCQkJPGRpdiBjbGFzc05hbWU9InRleHQtc20iPgoJCQkJCQkJPHAKCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQknZm9udC1tZWRpdW0nLAoJCQkJCQkJCQlpc0RyYWdPdmVyID8gJ3RleHQtZm9yZWdyb3VuZC80NScgOiAndGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJCQkJCQkpfQoJCQkJCQkJPgoJCQkJCQkJCXtpc0RyYWdPdmVyID8gZHJhZ1RleHQgOiB1cGxvYWRUZXh0fQoJCQkJCQkJPC9wPgoJCQkJCQkJeyFpc0RyYWdPdmVyICYmICgKCQkJCQkJCQk8ZGl2IGNsYXNzTmFtZT0ibXQtMSBzcGFjZS15LTEiPgoJCQkJCQkJCQl7YWNjZXB0ICYmICgKCQkJCQkJCQkJCTxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNDUiPgoJCQkJCQkJCQkJCUFjY2VwdGVkIHR5cGVzOiB7YWNjZXB0fQoJCQkJCQkJCQkJPC9wPgoJCQkJCQkJCQkpfQoJCQkJCQkJCQl7bWF4U2l6ZSAmJiAoCgkJCQkJCQkJCQk8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzQ1Ij4KCQkJCQkJCQkJCQlNYXggc2l6ZToge2Zvcm1hdEZpbGVTaXplKG1heFNpemUpfQoJCQkJCQkJCQkJPC9wPgoJCQkJCQkJCQkpfQoJCQkJCQkJCQl7bXVsdGlwbGUgJiYgbWF4RmlsZXMgJiYgKAoJCQkJCQkJCQkJPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC80NSI+CgkJCQkJCQkJCQkJTWF4IGZpbGVzOiB7bWF4RmlsZXN9CgkJCQkJCQkJCQk8L3A+CgkJCQkJCQkJCSl9CgkJCQkJCQkJPC9kaXY+CgkJCQkJCQkpfQoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCTwvRmlsZVVwbG9hZFpvbmU+CgkJCTwvc2VjdGlvbj4KCgkJCXtoYXNGaWxlcyAmJiAoCgkJCQk8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIj4KCQkJCQkJPGg0IGNsYXNzTmFtZT0idGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCQkJRmlsZXMgKHtmaWxlcy5sZW5ndGh9CgkJCQkJCQl7bWF4RmlsZXMgPyBgLyR7bWF4RmlsZXN9YCA6ICcnfSkKCQkJCQkJPC9oND4KCQkJCQkJeyhwZW5kaW5nRmlsZXMubGVuZ3RoID4gMCB8fCBpc1VwbG9hZGluZykgJiYgb25VcGxvYWQgJiYgKAoJCQkJCQkJPEJ1dHRvbgoJCQkJCQkJCW9uQ2xpY2s9e2hhbmRsZVVwbG9hZH0KCQkJCQkJCQlzaXplPSJzbSIKCQkJCQkJCQl2YXJpYW50PSJnaG9zdCIKCQkJCQkJCQljbGFzc05hbWU9ImJnLWZvcmVncm91bmQgdGV4dC1jYXJkIGhvdmVyOmJnLWZvcmVncm91bmQvODAiCgkJCQkJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkIHx8IGlzVXBsb2FkaW5nfQoJCQkJCQkJPgoJCQkJCQkJCXtpc1VwbG9hZGluZyAmJiA8U3Bpbm5lciBzaXplPSJzbSIgdmFyaWFudD0iZGVmYXVsdCIgLz59CgkJCQkJCQkJe2lzVXBsb2FkaW5nCgkJCQkJCQkJCT8gYFVwbG9hZGluZyAke3VwbG9hZGluZ0ZpbGVzLmxlbmd0aH0gZmlsZSR7dXBsb2FkaW5nRmlsZXMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS4uLmAKCQkJCQkJCQkJOiBgVXBsb2FkICR7cGVuZGluZ0ZpbGVzLmxlbmd0aH0gZmlsZSR7cGVuZGluZ0ZpbGVzLmxlbmd0aCA+IDEgPyAncycgOiAnJ31gfQoJCQkJCQkJPC9CdXR0b24+CgkJCQkJCSl9CgkJCQkJPC9kaXY+CgoJCQkJCTx1bCBjbGFzc05hbWU9Im1heC1oLTYwIHNwYWNlLXktMiBvdmVyZmxvdy15LWF1dG8iPgoJCQkJCQl7ZmlsZXMubWFwKChmaWxlKSA9PiAoCgkJCQkJCQk8RmlsZVVwbG9hZEl0ZW0KCQkJCQkJCQlrZXk9e2ZpbGUuaWR9CgkJCQkJCQkJZmlsZT17ZmlsZX0KCQkJCQkJCQlzaG93UHJldmlldz17c2hvd1ByZXZpZXd9CgkJCQkJCQkJb25SZW1vdmU9e2hhbmRsZVJlbW92ZUZpbGV9CgkJCQkJCQkJc2l6ZT17c2l6ZSB8fCAnbWQnfQoJCQkJCQkJLz4KCQkJCQkJKSl9CgkJCQkJPC91bD4KCQkJCTwvZGl2PgoJCQkpfQoJCTwvZGl2PgoJKTsKfTs="
,
  "form.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VJZCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CgppbnRlcmZhY2UgRm9ybUZpZWxkQ29udGV4dFZhbHVlIHsKCWlkOiBzdHJpbmc7CgluYW1lOiBzdHJpbmc7CgllcnJvcj86IHN0cmluZzsKCWRlc2NyaXB0aW9uPzogc3RyaW5nOwp9Cgpjb25zdCBGb3JtRmllbGRDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxGb3JtRmllbGRDb250ZXh0VmFsdWUgfCBudWxsPihudWxsKTsKCmNvbnN0IHVzZUZvcm1GaWVsZCA9ICgpID0+IHsKCWNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEZvcm1GaWVsZENvbnRleHQpOwoJaWYgKCFjb250ZXh0KSB7CgkJdGhyb3cgbmV3IEVycm9yKCd1c2VGb3JtRmllbGQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEZvcm1GaWVsZCcpOwoJfQoJcmV0dXJuIGNvbnRleHQ7Cn07CgpleHBvcnQgaW50ZXJmYWNlIEZvcm1Qcm9wcyBleHRlbmRzIFJlYWN0LkZvcm1IVE1MQXR0cmlidXRlczxIVE1MRm9ybUVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglvblN1Ym1pdD86IChldmVudDogUmVhY3QuRm9ybUV2ZW50PEhUTUxGb3JtRWxlbWVudD4pID0+IHZvaWQ7CglzdG9yZT86IEFyaWFraXQuRm9ybVN0b3JlOwp9CgpleHBvcnQgaW50ZXJmYWNlIEZvcm1GaWVsZFByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgluYW1lOiBzdHJpbmc7CgllcnJvcj86IHN0cmluZzsKCWRlc2NyaXB0aW9uPzogc3RyaW5nOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIEZvcm1MYWJlbFByb3BzCglleHRlbmRzIFJlYWN0LkxhYmVsSFRNTEF0dHJpYnV0ZXM8SFRNTExhYmVsRWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXJlcXVpcmVkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBGb3JtQ29udHJvbFByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRm9ybURlc2NyaXB0aW9uUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFBhcmFncmFwaEVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgRm9ybU1lc3NhZ2VQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MUGFyYWdyYXBoRWxlbWVudD4gewoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cgl0eXBlPzogJ2Vycm9yJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJzsKfQoKZXhwb3J0IGludGVyZmFjZSBGb3JtQWN0aW9uc1Byb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglhbGlnbj86ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0JzsKfQoKZXhwb3J0IGNvbnN0IEZvcm06IFJlYWN0LkZDPEZvcm1Qcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCW9uU3VibWl0LAoJc3RvcmU6IHByb3ZpZGVkU3RvcmUsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBpbnRlcm5hbFN0b3JlID0gQXJpYWtpdC51c2VGb3JtU3RvcmUoe30pOwoJY29uc3Qgc3RvcmUgPSBwcm92aWRlZFN0b3JlID8/IGludGVybmFsU3RvcmU7CgoJY29uc3QgaGFuZGxlU3VibWl0ID0gKGV2ZW50OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50PikgPT4gewoJCWlmIChvblN1Ym1pdCkgewoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQlvblN1Ym1pdChldmVudCk7CgkJfQoJfTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LkZvcm0KCQkJc3RvcmU9e3N0b3JlfQoJCQljbGFzc05hbWU9e2NuKCdzcGFjZS15LTYnLCBjbGFzc05hbWUpfQoJCQlvblN1Ym1pdD17aGFuZGxlU3VibWl0fQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkZvcm0+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEZvcm1GaWVsZDogUmVhY3QuRkM8Rm9ybUZpZWxkUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJbmFtZSwKCWVycm9yLAoJZGVzY3JpcHRpb24sCgljbGFzc05hbWUgPSAnJywKfSkgPT4gewoJY29uc3QgaWQgPSB1c2VJZCgpOwoKCWNvbnN0IGNvbnRleHRWYWx1ZTogRm9ybUZpZWxkQ29udGV4dFZhbHVlID0gewoJCWlkOiBgZm9ybS1maWVsZC0ke2lkfWAsCgkJbmFtZSwKCQkuLi4oZXJyb3IgIT09IHVuZGVmaW5lZCA/IHsgZXJyb3IgfSA6IHt9KSwKCQkuLi4oZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCA/IHsgZGVzY3JpcHRpb24gfSA6IHt9KSwKCX07CgoJcmV0dXJuICgKCQk8Rm9ybUZpZWxkQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT4KCQkJPGRpdiBjbGFzc05hbWU9e2NuKCdzcGFjZS15LTInLCBjbGFzc05hbWUpfT57Y2hpbGRyZW59PC9kaXY+CgkJPC9Gb3JtRmllbGRDb250ZXh0LlByb3ZpZGVyPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBGb3JtTGFiZWw6IFJlYWN0LkZDPEZvcm1MYWJlbFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJcmVxdWlyZWQgPSBmYWxzZSwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsgbmFtZSB9ID0gdXNlRm9ybUZpZWxkKCk7Cgljb25zdCB7IGlkLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzOwoJY29uc3QgbGFiZWxQcm9wcyA9CgkJdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyA/IHJlc3RQcm9wcyA6IHsgLi4ucmVzdFByb3BzLCBpZCB9OwoKCXJldHVybiAoCgkJPEFyaWFraXQuRm9ybUxhYmVsCgkJCW5hbWU9e25hbWV9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknYmxvY2sgdGV4dC1zbSBsZWFkaW5nLW5vbmUgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIHBlZXItZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHBlZXItZGlzYWJsZWQ6b3BhY2l0eS03MCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5sYWJlbFByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCQl7cmVxdWlyZWQgJiYgPHNwYW4gY2xhc3NOYW1lPSJtbC0xIHRleHQtZGVzdHJ1Y3RpdmUvOTAiPio8L3NwYW4+fQoJCTwvQXJpYWtpdC5Gb3JtTGFiZWw+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEZvcm1Db250cm9sOiBSZWFjdC5GQzxGb3JtQ29udHJvbFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAp9KSA9PiB7CglyZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NuKCdyZWxhdGl2ZScsIGNsYXNzTmFtZSl9PntjaGlsZHJlbn08L2Rpdj47Cn07CgpleHBvcnQgY29uc3QgRm9ybURlc2NyaXB0aW9uOiBSZWFjdC5GQzxGb3JtRGVzY3JpcHRpb25Qcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsgbmFtZSB9ID0gdXNlRm9ybUZpZWxkKCk7Cgljb25zdCB7IGlkLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzOwoJY29uc3QgZGVzY3JpcHRpb25Qcm9wcyA9CgkJdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyA/IHJlc3RQcm9wcyA6IHsgLi4ucmVzdFByb3BzLCBpZCB9OwoJcmV0dXJuICgKCQk8QXJpYWtpdC5Gb3JtRGVzY3JpcHRpb24KCQkJbmFtZT17bmFtZX0KCQkJY2xhc3NOYW1lPXtjbigndGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1mb3JlZ3JvdW5kLzQ1JywgY2xhc3NOYW1lKX0KCQkJey4uLmRlc2NyaXB0aW9uUHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkZvcm1EZXNjcmlwdGlvbj4KCSk7Cn07CgpleHBvcnQgY29uc3QgRm9ybU1lc3NhZ2U6IFJlYWN0LkZDPEZvcm1NZXNzYWdlUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgl0eXBlID0gJ2Vycm9yJywKCS4uLnJlc3QKfSkgPT4gewoJY29uc3QgeyBuYW1lLCBlcnJvcjogY3R4RXJyb3IgfSA9IHVzZUZvcm1GaWVsZCgpOwoJY29uc3QgbWVzc2FnZSA9IGNoaWxkcmVuID8/IGN0eEVycm9yOwoJY29uc3QgeyBpZCwgLi4ucHJvcHMgfSA9IHJlc3Q7Cgljb25zdCBmb3J3YXJkZWRQcm9wcyA9IHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcgPyBwcm9wcyA6IHsgLi4ucHJvcHMsIGlkIH07CgoJY29uc3QgdmFyaWFudHMgPSB7CgkJZXJyb3I6ICd0ZXh0LWRlc3RydWN0aXZlLzkwJywKCQlzdWNjZXNzOiAndGV4dC1zdWNjZXNzLzkwJywKCQl3YXJuaW5nOiAndGV4dC13YXJuaW5nLzkwJywKCX0gYXMgY29uc3Q7CgoJaWYgKHR5cGUgIT09ICdlcnJvcicpIHsKCQlpZiAoIW1lc3NhZ2UpIHJldHVybiBudWxsOwoJCXJldHVybiAoCgkJCTxwCgkJCQljbGFzc05hbWU9e2NuKCd0ZXh0LXNtIGxlYWRpbmctbm9uZScsIHZhcmlhbnRzW3R5cGVdLCBjbGFzc05hbWUpfQoJCQkJey4uLmZvcndhcmRlZFByb3BzfQoJCQk+CgkJCQl7bWVzc2FnZX0KCQkJPC9wPgoJCSk7Cgl9CgoJaWYgKG1lc3NhZ2UpIHsKCQlyZXR1cm4gKAoJCQk8cAoJCQkJY2xhc3NOYW1lPXtjbigndGV4dC1zbSBsZWFkaW5nLW5vbmUnLCB2YXJpYW50cy5lcnJvciwgY2xhc3NOYW1lKX0KCQkJCXJvbGU9ImFsZXJ0IgoJCQkJey4uLmZvcndhcmRlZFByb3BzfQoJCQk+CgkJCQl7bWVzc2FnZX0KCQkJPC9wPgoJCSk7Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Gb3JtRXJyb3IKCQkJbmFtZT17bmFtZX0KCQkJY2xhc3NOYW1lPXtjbigndGV4dC1zbSBsZWFkaW5nLW5vbmUnLCB2YXJpYW50cy5lcnJvciwgY2xhc3NOYW1lKX0KCQkJcm9sZT0iYWxlcnQiCgkJCXsuLi5mb3J3YXJkZWRQcm9wc30KCQkvPgoJKTsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgRm9ybUlucHV0UHJvcHMKCWV4dGVuZHMgUmVhY3QuSW5wdXRIVE1MQXR0cmlidXRlczxIVE1MSW5wdXRFbGVtZW50PiB7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBGb3JtSW5wdXQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxJbnB1dEVsZW1lbnQsIEZvcm1JbnB1dFByb3BzPigKCSh7IGNsYXNzTmFtZSA9ICcnLCBuYW1lOiBfbmFtZSwgaWQsIGRpc2FibGVkLCBhdXRvRm9jdXMsIC4uLnJlc3QgfSwgcmVmKSA9PiB7CgkJY29uc3QgeyBuYW1lIH0gPSB1c2VGb3JtRmllbGQoKTsKCQlyZXR1cm4gKAoJCQk8QXJpYWtpdC5Gb3JtSW5wdXQKCQkJCXJlZj17cmVmfQoJCQkJbmFtZT17bmFtZX0KCQkJCWNsYXNzTmFtZT17Y2xhc3NOYW1lfQoJCQkJey4uLnJlc3R9CgkJCQl7Li4uKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IHsgaWQgfSl9CgkJCQl7Li4uKHR5cGVvZiBkaXNhYmxlZCA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IHsgZGlzYWJsZWQgfSl9CgkJCQl7Li4uKHR5cGVvZiBhdXRvRm9jdXMgPT09ICd1bmRlZmluZWQnID8ge30gOiB7IGF1dG9Gb2N1cyB9KX0KCQkJLz4KCQkpOwoJfSwKKTsKRm9ybUlucHV0LmRpc3BsYXlOYW1lID0gJ0Zvcm1JbnB1dCc7CgpleHBvcnQgaW50ZXJmYWNlIEZvcm1TdWJtaXRQcm9wcwoJZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4gewoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgRm9ybVN1Ym1pdDogUmVhY3QuRkM8Rm9ybVN1Ym1pdFByb3BzPiA9ICh7CgljbGFzc05hbWUgPSAnJywKCWNoaWxkcmVuLAoJZGlzYWJsZWQsCglhdXRvRm9jdXMsCgkuLi5yZXN0Cn0pID0+IHsKCWNvbnN0IHN1Ym1pdFByb3BzID0gewoJCS4uLnJlc3QsCgkJLi4uKHR5cGVvZiBkaXNhYmxlZCA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IHsgZGlzYWJsZWQgfSksCgkJLi4uKHR5cGVvZiBhdXRvRm9jdXMgPT09ICd1bmRlZmluZWQnID8ge30gOiB7IGF1dG9Gb2N1cyB9KSwKCX07CglyZXR1cm4gKAoJCTxBcmlha2l0LkZvcm1TdWJtaXQgY2xhc3NOYW1lPXtjbGFzc05hbWV9IHsuLi5zdWJtaXRQcm9wc30+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuRm9ybVN1Ym1pdD4KCSk7Cn07CgpleHBvcnQgY29uc3QgRm9ybUFjdGlvbnM6IFJlYWN0LkZDPEZvcm1BY3Rpb25zUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglhbGlnbiA9ICdyaWdodCcsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBhbGlnbm1lbnRzID0gewoJCWxlZnQ6ICdqdXN0aWZ5LXN0YXJ0JywKCQljZW50ZXI6ICdqdXN0aWZ5LWNlbnRlcicsCgkJcmlnaHQ6ICdqdXN0aWZ5LWVuZCcsCgl9OwoKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB0LTQnLAoJCQkJYWxpZ25tZW50c1thbGlnbl0sCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn07"
,
  "hovercard.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IGhvdmVyY2FyZFRyaWdnZXJWYXJpYW50cyA9IGN2YSgKCSJyZWxhdGl2ZSBpbmxpbmUtZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBib3JkZXIgc2hhZG93LXNtIGNhcmQtaGlnaGxpZ2h0IHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvdyxmaWx0ZXJdIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgc2hyaW5rLTAgWyZfc3ZnXTpzaHJpbmstMCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSIsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ2JnLWNhcmQgaG92ZXI6YmctY2FyZC1tdXRlZCBib3JkZXItYm9yZGVyIHRleHQtZm9yZWdyb3VuZCcsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnaC04IHB4LTMgcHktMS41IGdhcC0xLjUgaGFzLVs+c3ZnXTpweC0yLjUgdGV4dC1zbScsCgkJCQltZDogJ2gtOSBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIHRleHQtc20nLAoJCQkJbGc6ICdoLTEwIHB4LTYgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTQgdGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBob3ZlcmNhcmRDb250ZW50VmFyaWFudHMgPSBjdmEoCgkncmVsYXRpdmUgdy1maXQgcm91bmRlZC1sZyBib3JkZXIgc2hhZG93LW1kIGNhcmQtaGlnaGxpZ2h0JywKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAnYmctcG9wb3ZlciB0ZXh0LWZvcmVncm91bmQgYm9yZGVyLWJvcmRlcicsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAncHgtMyBweS0yIHRleHQtc20nLAoJCQkJbWQ6ICdweC00IHB5LTMgdGV4dC1zbScsCgkJCQlsZzogJ3B4LTYgcHktNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IGhvdmVyY2FyZE1vdGlvbiA9CgknZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoIHRyYW5zaXRpb24tW3RyYW5zbGF0ZSxvcGFjaXR5LHNjYWxlXSBvcGFjaXR5LTAgc2NhbGUtOTUgLXRyYW5zbGF0ZS15LTIgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWVudGVyOnNjYWxlLTEwMCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1sZWF2ZTpvcGFjaXR5LTAgZGF0YS1sZWF2ZTpzY2FsZS05NSBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yJzsKCnR5cGUgSG92ZXJjYXJkUGxhY2VtZW50ID0KCXwgJ3RvcCcKCXwgJ3RvcC1zdGFydCcKCXwgJ3RvcC1lbmQnCgl8ICdib3R0b20nCgl8ICdib3R0b20tc3RhcnQnCgl8ICdib3R0b20tZW5kJwoJfCAnbGVmdCcKCXwgJ2xlZnQtc3RhcnQnCgl8ICdsZWZ0LWVuZCcKCXwgJ3JpZ2h0JwoJfCAncmlnaHQtc3RhcnQnCgl8ICdyaWdodC1lbmQnOwoKdHlwZSBIb3ZlcmNhcmRJbnRlbnRIYW5kbGVyID0gYm9vbGVhbiB8ICgoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGJvb2xlYW4pOwoKZXhwb3J0IGludGVyZmFjZSBIb3ZlcmNhcmRQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJb3Blbj86IGJvb2xlYW47CglwbGFjZW1lbnQ/OiBIb3ZlcmNhcmRQbGFjZW1lbnQ7CglkZWZhdWx0T3Blbj86IGJvb2xlYW47Cgl0aW1lb3V0PzogbnVtYmVyOwoJb3BlbkRlbGF5PzogbnVtYmVyOwoJY2xvc2VEZWxheT86IG51bWJlcjsKCW9uT3BlbkNoYW5nZT86IChvcGVuOiBib29sZWFuKSA9PiB2b2lkOwp9CgpleHBvcnQgaW50ZXJmYWNlIEhvdmVyY2FyZFRyaWdnZXJQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIGhvdmVyY2FyZFRyaWdnZXJWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWFzQ2hpbGQ/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIEhvdmVyY2FyZENvbnRlbnRQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIGhvdmVyY2FyZENvbnRlbnRWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXBvcnRhbD86IGJvb2xlYW47CglmaXhlZD86IGJvb2xlYW47CglndXR0ZXI/OiBudW1iZXI7CglzaG93QXJyb3c/OiBib29sZWFuOwoJaGlkZU9uSG92ZXJPdXRzaWRlPzogSG92ZXJjYXJkSW50ZW50SGFuZGxlcjsKCWRpc2FibGVQb2ludGVyRXZlbnRzT25BcHByb2FjaD86IEhvdmVyY2FyZEludGVudEhhbmRsZXI7CglhdXRvRm9jdXNPblNob3c/OiBib29sZWFuOwp9CgpleHBvcnQgdHlwZSBIb3ZlcmNhcmRIZWFkaW5nUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8Cgl0eXBlb2YgQXJpYWtpdC5Ib3ZlcmNhcmRIZWFkaW5nCj47CgpleHBvcnQgdHlwZSBIb3ZlcmNhcmREZXNjcmlwdGlvblByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPAoJdHlwZW9mIEFyaWFraXQuSG92ZXJjYXJkRGVzY3JpcHRpb24KPjsKCnR5cGUgSG92ZXJjYXJkSGVhZGluZ0VsZW1lbnQgPSBSZWFjdC5Db21wb25lbnRSZWY8Cgl0eXBlb2YgQXJpYWtpdC5Ib3ZlcmNhcmRIZWFkaW5nCj47CnR5cGUgSG92ZXJjYXJkRGVzY3JpcHRpb25FbGVtZW50ID0gUmVhY3QuQ29tcG9uZW50UmVmPAoJdHlwZW9mIEFyaWFraXQuSG92ZXJjYXJkRGVzY3JpcHRpb24KPjsKCmNvbnN0IEhvdmVyY2FyZFN0b3JlQ29udGV4dCA9CglSZWFjdC5jcmVhdGVDb250ZXh0PEFyaWFraXQuSG92ZXJjYXJkU3RvcmUgfCBudWxsPihudWxsKTsKCmV4cG9ydCBjb25zdCBIb3ZlcmNhcmQ6IFJlYWN0LkZDPEhvdmVyY2FyZFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCW9wZW4sCglkZWZhdWx0T3BlbiA9IGZhbHNlLAoJb25PcGVuQ2hhbmdlLAoJcGxhY2VtZW50ID0gJ2JvdHRvbScsCgl0aW1lb3V0ID0gNDAwLAoJb3BlbkRlbGF5LAoJY2xvc2VEZWxheSwKfSkgPT4gewoJY29uc3Qgc3RvcmUgPSBBcmlha2l0LnVzZUhvdmVyY2FyZFN0b3JlKHsKCQlwbGFjZW1lbnQsCgkJdGltZW91dCwKCQkuLi4ob3BlbkRlbGF5ICE9PSB1bmRlZmluZWQgPyB7IHNob3dUaW1lb3V0OiBvcGVuRGVsYXkgfSA6IHt9KSwKCQkuLi4oY2xvc2VEZWxheSAhPT0gdW5kZWZpbmVkID8geyBoaWRlVGltZW91dDogY2xvc2VEZWxheSB9IDoge30pLAoJCS4uLihvcGVuICE9PSB1bmRlZmluZWQKCQkJPyBvbk9wZW5DaGFuZ2UKCQkJCT8geyBvcGVuLCBzZXRPcGVuOiBvbk9wZW5DaGFuZ2UgfQoJCQkJOiB7IG9wZW4gfQoJCQk6IHsgZGVmYXVsdE9wZW4gfSksCgl9KTsKCglyZXR1cm4gKAoJCTxIb3ZlcmNhcmRTdG9yZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3N0b3JlfT4KCQkJPEFyaWFraXQuSG92ZXJjYXJkUHJvdmlkZXIgc3RvcmU9e3N0b3JlfT4KCQkJCTxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSI+e2NoaWxkcmVufTwvZGl2PgoJCQk8L0FyaWFraXQuSG92ZXJjYXJkUHJvdmlkZXI+CgkJPC9Ib3ZlcmNhcmRTdG9yZUNvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEhvdmVyY2FyZFRyaWdnZXI6IFJlYWN0LkZDPEhvdmVyY2FyZFRyaWdnZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCglhc0NoaWxkID0gZmFsc2UsCgljbGFzc05hbWUgPSAnJywKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKfSkgPT4gewoJY29uc3Qgc3RvcmUgPSBSZWFjdC51c2VDb250ZXh0KEhvdmVyY2FyZFN0b3JlQ29udGV4dCk7CglpZiAoIXN0b3JlKQoJCXRocm93IG5ldyBFcnJvcignSG92ZXJjYXJkVHJpZ2dlciBtdXN0IGJlIHVzZWQgd2l0aGluIDxIb3ZlcmNhcmQ+Jyk7CgoJY29uc3QgdHJpZ2dlckNsYXNzTmFtZSA9IGNuKAoJCWhvdmVyY2FyZFRyaWdnZXJWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksCgkJJ2ZvbnQtbWVkaXVtJywKCQljbGFzc05hbWUsCgkpOwoKCWlmIChhc0NoaWxkICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkgewoJCWNvbnN0IGNoaWxkID0gY2hpbGRyZW4gYXMgUmVhY3QuUmVhY3RFbGVtZW50PHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+OwoJCWNvbnN0IG1lcmdlZCA9IFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgewoJCQljbGFzc05hbWU6IGNuKGNoaWxkLnByb3BzLmNsYXNzTmFtZSwgdHJpZ2dlckNsYXNzTmFtZSksCgkJfSk7CgoJCXJldHVybiA8QXJpYWtpdC5Ib3ZlcmNhcmRBbmNob3Igc3RvcmU9e3N0b3JlfSByZW5kZXI9e21lcmdlZH0gLz47Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Ib3ZlcmNhcmRBbmNob3IKCQkJc3RvcmU9e3N0b3JlfQoJCQlyZW5kZXI9ezxidXR0b24gdHlwZT0iYnV0dG9uIiAvPn0KCQkJY2xhc3NOYW1lPXt0cmlnZ2VyQ2xhc3NOYW1lfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5Ib3ZlcmNhcmRBbmNob3I+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IEhvdmVyY2FyZENvbnRlbnQ6IFJlYWN0LkZDPEhvdmVyY2FyZENvbnRlbnRQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKCXBvcnRhbCA9IHRydWUsCglmaXhlZCA9IGZhbHNlLAoJZ3V0dGVyID0gMCwKCXNob3dBcnJvdyA9IHRydWUsCgloaWRlT25Ib3Zlck91dHNpZGUgPSB0cnVlLAoJZGlzYWJsZVBvaW50ZXJFdmVudHNPbkFwcHJvYWNoID0gdHJ1ZSwKCWF1dG9Gb2N1c09uU2hvdyA9IGZhbHNlLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IFJlYWN0LnVzZUNvbnRleHQoSG92ZXJjYXJkU3RvcmVDb250ZXh0KTsKCWlmICghc3RvcmUpCgkJdGhyb3cgbmV3IEVycm9yKCdIb3ZlcmNhcmRDb250ZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gPEhvdmVyY2FyZD4nKTsKCWNvbnN0IGN1cnJlbnRQbGFjZW1lbnQgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc3RvcmUsICdjdXJyZW50UGxhY2VtZW50Jyk7Cgljb25zdCBzaG91bGRUaW50QXJyb3cgPSBjdXJyZW50UGxhY2VtZW50Py5zdGFydHNXaXRoKCdib3R0b20nKTsKCWNvbnN0IGFycm93U3R5bGUgPSBzaG91bGRUaW50QXJyb3cKCQk/IHsgc3Ryb2tlOiAndmFyKC0tYXJyb3ctaGlnaGxpZ2h0KScgfQoJCTogdW5kZWZpbmVkOwoKCXJldHVybiAoCgkJPEFyaWFraXQuSG92ZXJjYXJkCgkJCXN0b3JlPXtzdG9yZX0KCQkJcG9ydGFsPXtwb3J0YWx9CgkJCWZpeGVkPXtmaXhlZH0KCQkJZ3V0dGVyPXtndXR0ZXJ9CgkJCWhpZGVPbkhvdmVyT3V0c2lkZT17aGlkZU9uSG92ZXJPdXRzaWRlfQoJCQlkaXNhYmxlUG9pbnRlckV2ZW50c09uQXBwcm9hY2g9e2Rpc2FibGVQb2ludGVyRXZlbnRzT25BcHByb2FjaH0KCQkJYXV0b0ZvY3VzT25TaG93PXthdXRvRm9jdXNPblNob3d9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQlob3ZlcmNhcmRDb250ZW50VmFyaWFudHMoeyB2YXJpYW50LCBzaXplIH0pLAoJCQkJaG92ZXJjYXJkTW90aW9uLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCT4KCQkJe3Nob3dBcnJvdyA/IDxBcmlha2l0LkhvdmVyY2FyZEFycm93IHN0eWxlPXthcnJvd1N0eWxlfSAvPiA6IG51bGx9CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuSG92ZXJjYXJkPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBIb3ZlcmNhcmRIZWFkaW5nID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhvdmVyY2FyZEhlYWRpbmdFbGVtZW50LAoJSG92ZXJjYXJkSGVhZGluZ1Byb3BzCj4oKHsgY2xhc3NOYW1lID0gJycsIC4uLnByb3BzIH0sIHJlZikgPT4gKAoJPEFyaWFraXQuSG92ZXJjYXJkSGVhZGluZwoJCXJlZj17cmVmfQoJCWNsYXNzTmFtZT17Y24oCgkJCSd0ZXh0LXNtIGxlYWRpbmctbm9uZSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQnLAoJCQljbGFzc05hbWUsCgkJKX0KCQl7Li4ucHJvcHN9CgkvPgopKTsKCkhvdmVyY2FyZEhlYWRpbmcuZGlzcGxheU5hbWUgPSAnSG92ZXJjYXJkSGVhZGluZyc7CgpleHBvcnQgY29uc3QgSG92ZXJjYXJkRGVzY3JpcHRpb24gPSBSZWFjdC5mb3J3YXJkUmVmPAoJSG92ZXJjYXJkRGVzY3JpcHRpb25FbGVtZW50LAoJSG92ZXJjYXJkRGVzY3JpcHRpb25Qcm9wcwo+KCh7IGNsYXNzTmFtZSA9ICcnLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKCTxBcmlha2l0LkhvdmVyY2FyZERlc2NyaXB0aW9uCgkJcmVmPXtyZWZ9CgkJY2xhc3NOYW1lPXtjbigndGV4dC1zbSBsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzcwJywgY2xhc3NOYW1lKX0KCQl7Li4ucHJvcHN9CgkvPgopKTsKCkhvdmVyY2FyZERlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gJ0hvdmVyY2FyZERlc2NyaXB0aW9uJzs="
,
  "input.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qgd3JhcHBlclZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSBmbGV4IHctZml0IHJvdW5kZWQtbWQgYm9yZGVyJywKCQknYmctY2FyZCB0ZXh0LWZvcmVncm91bmQnLAoJCSdmb2N1cy13aXRoaW46cmluZy0xIGZvY3VzLXdpdGhpbjpyaW5nLW9mZnNldC0xJywKCQknZm9jdXMtd2l0aGluOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwJywKCQknaGFzLVs6ZGlzYWJsZWRdOmN1cnNvci1ub3QtYWxsb3dlZCBoYXMtWzpkaXNhYmxlZF06b3BhY2l0eS01MCcsCgkJJ3NoYWRvdy1zbSBjYXJkLWhpZ2hsaWdodCcsCgkJJ3RyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTEwMCBlYXNlLW91dC1xdWFkJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogWydib3JkZXItYm9yZGVyJywgJ2ZvY3VzLXdpdGhpbjpyaW5nLXJpbmcvNTAnXSwKCQkJCWVycm9yOiBbJ2JvcmRlci1kZXN0cnVjdGl2ZS80MCcsICdmb2N1cy13aXRoaW46cmluZy1kZXN0cnVjdGl2ZS81MCddLAoJCQkJc3VjY2VzczogWydib3JkZXItc3VjY2Vzcy80MCcsICdmb2N1cy13aXRoaW46cmluZy1zdWNjZXNzLzUwJ10sCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnaC04JywKCQkJCW1kOiAnaC05JywKCQkJCWxnOiAnaC0xMCcsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgaW5wdXRWYXJpYW50cyA9IGN2YSgKCVsKCQkndy1mdWxsIGJnLXRyYW5zcGFyZW50IG91dGxpbmUtbm9uZScsCgkJJ3BsYWNlaG9sZGVyOnRleHQtZm9yZWdyb3VuZC80NScsCgkJJ2Rpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCcsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAncHgtMi41IHB5LTAuNSB0ZXh0LXNtJywKCQkJCW1kOiAncHgtMyBweS0xIHRleHQtc20nLAoJCQkJbGc6ICdweC0zLjUgcHktMS41IHRleHQtYmFzZScsCgkJCX0sCgkJCWhhc0xlZnRJY29uOiB7CgkJCQl0cnVlOiAncGwtMTAnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCQloYXNSaWdodEljb246IHsKCQkJCXRydWU6ICdwci0xMCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQkJaGFzTGVmdEljb246IGZhbHNlLAoJCQloYXNSaWdodEljb246IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgaWNvblZhcmlhbnRzID0gY3ZhKAoJWydhYnNvbHV0ZSB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdHJhbnNmb3JtJywgJ3RleHQtZm9yZWdyb3VuZC80NSddLAoJewoJCXZhcmlhbnRzOiB7CgkJCXBvc2l0aW9uOiB7CgkJCQlsZWZ0OiAnbGVmdC0zJywKCQkJCXJpZ2h0OiAncmlnaHQtMycsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnaC00IHctNCcsCgkJCQltZDogJ2gtNCB3LTQnLAoJCQkJbGc6ICdoLTUgdy01JywKCQkJfSwKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdvcGFjaXR5LTUwJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCQlkaXNhYmxlZDogZmFsc2UsCgkJfSwKCX0sCik7Cgpjb25zdCBsYWJlbFZhcmlhbnRzID0gY3ZhKCdtYi0xLjUgYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQnLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJycsCgkJCWVycm9yOiAnJywKCQkJc3VjY2VzczogJycsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQl2YXJpYW50OiAnZGVmYXVsdCcsCgl9LAp9KTsKCmNvbnN0IG1lc3NhZ2VWYXJpYW50cyA9IGN2YSgnbXQtMS41IHRleHQtc20nLCB7Cgl2YXJpYW50czogewoJCXR5cGU6IHsKCQkJZXJyb3I6ICd0ZXh0LWRlc3RydWN0aXZlLzkwJywKCQkJc3VjY2VzczogJ3RleHQtc3VjY2Vzcy85MCcsCgkJCWhlbHBlcjogJ3RleHQtZm9yZWdyb3VuZC83MCcsCgkJfSwKCX0sCn0pOwoKZXhwb3J0IGludGVyZmFjZSBJbnB1dFByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuSW5wdXRIVE1MQXR0cmlidXRlczxIVE1MSW5wdXRFbGVtZW50PiwgJ3NpemUnPiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIGlucHV0VmFyaWFudHM+IHsKCWxhYmVsPzogc3RyaW5nOwoJaGVscGVyVGV4dD86IHN0cmluZzsKCXN1Y2Nlc3NNZXNzYWdlPzogc3RyaW5nOwoJZXJyb3JNZXNzYWdlPzogc3RyaW5nOwoJbGVmdEljb24/OiBSZWFjdC5SZWFjdE5vZGU7CglyaWdodEljb24/OiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cgljb250YWluZXJDbGFzc05hbWU/OiBzdHJpbmc7Cgl3cmFwcGVyQ2xhc3NOYW1lPzogc3RyaW5nOwoJdmFyaWFudD86ICdkZWZhdWx0JyB8ICdlcnJvcicgfCAnc3VjY2Vzcyc7Cn0KCmV4cG9ydCBjb25zdCBJbnB1dDogUmVhY3QuRkM8SW5wdXRQcm9wcz4gPSAoewoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAoJbGFiZWwsCgloZWxwZXJUZXh0LAoJc3VjY2Vzc01lc3NhZ2UsCgllcnJvck1lc3NhZ2UsCglsZWZ0SWNvbiwKCXJpZ2h0SWNvbiwKCWNsYXNzTmFtZSA9ICcnLAoJY29udGFpbmVyQ2xhc3NOYW1lID0gJycsCgl3cmFwcGVyQ2xhc3NOYW1lID0gJycsCglkaXNhYmxlZCwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGhhc0xlZnRJY29uID0gISFsZWZ0SWNvbjsKCWNvbnN0IGhhc1JpZ2h0SWNvbiA9ICEhcmlnaHRJY29uOwoJY29uc3QgZGlzcGxheUVycm9yTWVzc2FnZSA9IHZhcmlhbnQgPT09ICdlcnJvcicgJiYgZXJyb3JNZXNzYWdlOwoKCWNvbnN0IGF1dG9JZCA9IFJlYWN0LnVzZUlkKCk7Cgljb25zdCBpbnB1dElkID0gcHJvcHMuaWQgPz8gYXV0b0lkOwoJY29uc3QgZGVzY3JpYmVkQnk6IHN0cmluZ1tdID0gW107CgoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT17YCR7Y29udGFpbmVyQ2xhc3NOYW1lfWB9PgoJCQl7bGFiZWwgJiYgKAoJCQkJPGxhYmVsIGh0bWxGb3I9e2lucHV0SWR9IGNsYXNzTmFtZT17bGFiZWxWYXJpYW50cyh7IHZhcmlhbnQgfSl9PgoJCQkJCXtsYWJlbH0KCQkJCTwvbGFiZWw+CgkJCSl9CgoJCQk8ZGl2IGNsYXNzTmFtZT17Y24od3JhcHBlclZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwgd3JhcHBlckNsYXNzTmFtZSl9PgoJCQkJe2xlZnRJY29uICYmICgKCQkJCQk8ZGl2CgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQlpY29uVmFyaWFudHMoewoJCQkJCQkJCXBvc2l0aW9uOiAnbGVmdCcsCgkJCQkJCQkJc2l6ZSwKCQkJCQkJCQlkaXNhYmxlZDogISFkaXNhYmxlZCwKCQkJCQkJCX0pLAoJCQkJCQkJJ1smPnN2Z106aC1mdWxsIFsmPnN2Z106dy1mdWxsJywKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCXtsZWZ0SWNvbn0KCQkJCQk8L2Rpdj4KCQkJCSl9CgoJCQkJPGlucHV0CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJaW5wdXRWYXJpYW50cyh7IHNpemUsIGhhc0xlZnRJY29uLCBoYXNSaWdodEljb24gfSksCgkJCQkJCWNsYXNzTmFtZSwKCQkJCQkpfQoJCQkJCWlkPXtpbnB1dElkfQoJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQlhcmlhLWludmFsaWQ9e2Rpc3BsYXlFcnJvck1lc3NhZ2UgPyB0cnVlIDogdW5kZWZpbmVkfQoJCQkJCWFyaWEtZGVzY3JpYmVkYnk9eygoKSA9PiB7CgkJCQkJCWlmIChkaXNwbGF5RXJyb3JNZXNzYWdlKSBkZXNjcmliZWRCeS5wdXNoKGAke2lucHV0SWR9LWVycm9yYCk7CgkJCQkJCWVsc2UgaWYgKHN1Y2Nlc3NNZXNzYWdlKSBkZXNjcmliZWRCeS5wdXNoKGAke2lucHV0SWR9LXN1Y2Nlc3NgKTsKCQkJCQkJaWYgKGhlbHBlclRleHQpIGRlc2NyaWJlZEJ5LnB1c2goYCR7aW5wdXRJZH0taGVscGVyYCk7CgkJCQkJCXJldHVybiBkZXNjcmliZWRCeS5sZW5ndGggPyBkZXNjcmliZWRCeS5qb2luKCcgJykgOiB1bmRlZmluZWQ7CgkJCQkJfSkoKX0KCQkJCQl7Li4ucHJvcHN9CgkJCQkvPgoKCQkJCXtyaWdodEljb24gJiYgKAoJCQkJCTxkaXYKCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCWljb25WYXJpYW50cyh7CgkJCQkJCQkJcG9zaXRpb246ICdyaWdodCcsCgkJCQkJCQkJc2l6ZSwKCQkJCQkJCQlkaXNhYmxlZDogISFkaXNhYmxlZCwKCQkJCQkJCX0pLAoJCQkJCQkJJ1smPnN2Z106aC1mdWxsIFsmPnN2Z106dy1mdWxsJywKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCXtyaWdodEljb259CgkJCQkJPC9kaXY+CgkJCQkpfQoJCQk8L2Rpdj4KCgkJCXtkaXNwbGF5RXJyb3JNZXNzYWdlICYmICgKCQkJCTxwCgkJCQkJaWQ9e2Ake2lucHV0SWR9LWVycm9yYH0KCQkJCQljbGFzc05hbWU9e21lc3NhZ2VWYXJpYW50cyh7IHR5cGU6ICdlcnJvcicgfSl9CgkJCQk+CgkJCQkJe2Vycm9yTWVzc2FnZX0KCQkJCTwvcD4KCQkJKX0KCgkJCXshZGlzcGxheUVycm9yTWVzc2FnZSAmJiBzdWNjZXNzTWVzc2FnZSAmJiAoCgkJCQk8cAoJCQkJCWlkPXtgJHtpbnB1dElkfS1zdWNjZXNzYH0KCQkJCQljbGFzc05hbWU9e21lc3NhZ2VWYXJpYW50cyh7IHR5cGU6ICdzdWNjZXNzJyB9KX0KCQkJCT4KCQkJCQl7c3VjY2Vzc01lc3NhZ2V9CgkJCQk8L3A+CgkJCSl9CgoJCQl7aGVscGVyVGV4dCAmJiAoCgkJCQk8cAoJCQkJCWlkPXtgJHtpbnB1dElkfS1oZWxwZXJgfQoJCQkJCWNsYXNzTmFtZT17bWVzc2FnZVZhcmlhbnRzKHsgdHlwZTogJ2hlbHBlcicgfSl9CgkJCQk+CgkJCQkJe2hlbHBlclRleHR9CgkJCQk8L3A+CgkJCSl9CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "kbd.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKCmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qga2JkVmFyaWFudHMgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzZWxlY3Qtbm9uZScsCgkJJ3doaXRlc3BhY2Utbm93cmFwIHJvdW5kZWQtc20gYm9yZGVyIGZvbnQtbW9ubyBmb250LW1lZGl1bScsCgkJJ2JvcmRlci1ib3JkZXIgdGV4dC1mb3JlZ3JvdW5kLzcwIGNhcmQtaGlnaGxpZ2h0IHNoYWRvdy1zbScsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnaC00IG1pbi13LVsycmVtXSBweC0xIHRleHQtWzlweF0nLAoJCQkJbWQ6ICdoLTUgbWluLXctWzIuMnJlbV0gcHgtMS41IHRleHQtWzEwcHhdJywKCQkJCWxnOiAnaC02IG1pbi13LVsyLjVyZW1dIHB4LTIgdGV4dC1bMTFweF0nLAoJCQl9LAoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAnYmctY2FyZCcsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBLYmRQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBrYmRWYXJpYW50cz4gewoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgS2JkOiBSZWFjdC5GQzxLYmRQcm9wcz4gPSAoewoJc2l6ZSA9ICdtZCcsCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxrYmQgY2xhc3NOYW1lPXtjbihrYmRWYXJpYW50cyh7IHNpemUsIHZhcmlhbnQgfSksIGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz4KCSk7Cn07"
,
  "line-chart.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsKCWN1cnZlTGluZWFyLAoJY3VydmVNb25vdG9uZVgsCgljdXJ2ZU5hdHVyYWwsCgljdXJ2ZVN0ZXAsCglsaW5lLAp9IGZyb20gJ2QzLXNoYXBlJzsKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCnR5cGUgQ2hhcnREYXR1bSA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+OwoKY29uc3QgREVGQVVMVF9IRUlHSFQgPSAyMjA7CmNvbnN0IERFRkFVTFRfQ09MT1JTID0gWwoJJ3ZhcigtLWNvbG9yLWNoYXJ0LTEpJywKCSd2YXIoLS1jb2xvci1jaGFydC0yKScsCgkndmFyKC0tY29sb3ItY2hhcnQtMyknLAoJJ3ZhcigtLWNvbG9yLWNoYXJ0LTQpJywKCSd2YXIoLS1jb2xvci1jaGFydC01KScsCl0gYXMgY29uc3Q7Cgpjb25zdCBDSEFSVF9QQURESU5HID0geyB0b3A6IDE2LCByaWdodDogMTYsIGJvdHRvbTogMjQsIGxlZnQ6IDE2IH0gYXMgY29uc3Q7CmNvbnN0IFlfQVhJU19DSEFSVF9HQVAgPSA4Owpjb25zdCBGQUxMQkFDS19DSEFSVF9ESU1FTlNJT05TID0geyB3aWR0aDogMzYwLCBoZWlnaHQ6IDI0MCB9IGFzIGNvbnN0Owpjb25zdCBERUZBVUxUX1lfVElDS19UQVJHRVQgPSA1OwoKY29uc3QgQ1VSVkVfRkFDVE9SSUVTID0gewoJbGluZWFyOiBjdXJ2ZUxpbmVhciwKCW1vbm90b25lOiBjdXJ2ZU1vbm90b25lWCwKCW5hdHVyYWw6IGN1cnZlTmF0dXJhbCwKCXN0ZXA6IGN1cnZlU3RlcCwKfSBhcyBjb25zdDsKCmV4cG9ydCB0eXBlIExpbmVDaGFydEN1cnZlID0ga2V5b2YgdHlwZW9mIENVUlZFX0ZBQ1RPUklFUzsKCmV4cG9ydCB0eXBlIExpbmVDaGFydFBvaW50PFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+ID0gewoJaWQ6IHN0cmluZzsKCXNlcmllc0lkOiBzdHJpbmc7CglzZXJpZXNJbmRleDogbnVtYmVyOwoJZGF0dW06IFREYXRhOwoJaW5kZXg6IG51bWJlcjsKCXg6IG51bWJlcjsKCXhSYXc6IHVua25vd247Cgl5OiBudW1iZXI7CglsYWJlbDogc3RyaW5nOwoJdmFsdWU6IG51bWJlcjsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgTGluZUNoYXJ0QWRkaXRpb25hbFNlcmllczwKCVREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0sCj4gewoJaWQ/OiBzdHJpbmc7CglkYXRhPzogVERhdGFbXTsKCXhLZXk/OiBFeHRyYWN0PGtleW9mIFREYXRhLCBzdHJpbmc+OwoJeUtleTogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCW5hbWVLZXk/OiBFeHRyYWN0PGtleW9mIFREYXRhLCBzdHJpbmc+OwoJY29sb3I/OiBzdHJpbmc7CglzZXJpZXNMYWJlbD86IHN0cmluZzsKCXNvcnRQb2ludHM/OiBib29sZWFuIHwgKChhOiBURGF0YSwgYjogVERhdGEpID0+IG51bWJlcik7Cgl5Rm9ybWF0dGVyPzogKAoJCXBvaW50OiBMaW5lQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJdmFsdWVGb3JtYXR0ZXI/OiAoCgkJcG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPiwKCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IGRvbWFpbjogW251bWJlciwgbnVtYmVyXSB9LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmludGVyZmFjZSBMaW5lQ2hhcnRTZXJpZXNTdGF0ZTxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0+IHsKCWlkOiBzdHJpbmc7CglzZXJpZXNJbmRleDogbnVtYmVyOwoJcG9pbnRzOiBMaW5lQ2hhcnRQb2ludDxURGF0YT5bXTsKCXRvdGFsOiBudW1iZXI7CglzZXJpZXNMYWJlbDogc3RyaW5nOwoJdmFsdWVMYWJlbDogc3RyaW5nOwoJY29sb3I6IHN0cmluZzsKCWZvcm1hdFk6IChwb2ludDogTGluZUNoYXJ0UG9pbnQ8VERhdGE+KSA9PiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmludGVyZmFjZSBMaW5lQ2hhcnRTZXJpZXNDb21wdXRhdGlvbjxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0+CglleHRlbmRzIE9taXQ8TGluZUNoYXJ0U2VyaWVzU3RhdGU8VERhdGE+LCAnZm9ybWF0WSc+IHsKCXlGb3JtYXR0ZXI/OiAoCgkJcG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPiwKCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IGRvbWFpbjogW251bWJlciwgbnVtYmVyXSB9LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZUZvcm1hdHRlcj86ICgKCQlwb2ludDogTGluZUNoYXJ0UG9pbnQ8VERhdGE+LAoJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKfQoKaW50ZXJmYWNlIExpbmVDaGFydENvbnRleHRWYWx1ZTxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0+IHsKCXNlcmllczogTGluZUNoYXJ0U2VyaWVzU3RhdGU8VERhdGE+W107Cglwb2ludHM6IExpbmVDaGFydFBvaW50PFREYXRhPltdOwoJdG90YWw6IG51bWJlcjsKCXNlcmllc0xhYmVsOiBzdHJpbmc7Cgljb2xvcjogc3RyaW5nOwoJeERvbWFpbjogW251bWJlciwgbnVtYmVyXTsKCXlEb21haW46IFtudW1iZXIsIG51bWJlcl07Cglmb3JtYXRYOiAocG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPikgPT4gUmVhY3QuUmVhY3ROb2RlOwoJZm9ybWF0WTogKHBvaW50OiBMaW5lQ2hhcnRQb2ludDxURGF0YT4pID0+IFJlYWN0LlJlYWN0Tm9kZTsKCWZvcm1hdFlGb3JTZXJpZXM6ICgKCQlzZXJpZXNJZDogc3RyaW5nLAoJCXBvaW50OiBMaW5lQ2hhcnRQb2ludDxURGF0YT4sCgkpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXZhbHVlTGFiZWw6IHN0cmluZzsKCXhMYWJlbDogc3RyaW5nOwoJYWN0aXZlUG9pbnRJZDogc3RyaW5nIHwgbnVsbDsKCXNldEFjdGl2ZVBvaW50SWQ6IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDsKCWFjdGl2ZVBvaW50WDogbnVtYmVyIHwgbnVsbDsKCXNldEFjdGl2ZVBvaW50WDogKHZhbHVlOiBudW1iZXIgfCBudWxsKSA9PiB2b2lkOwp9Cgpjb25zdCBMaW5lQ2hhcnRDb250ZXh0ID0KCVJlYWN0LmNyZWF0ZUNvbnRleHQ8TGluZUNoYXJ0Q29udGV4dFZhbHVlPENoYXJ0RGF0dW0+IHwgbnVsbD4obnVsbCk7CgpleHBvcnQgZnVuY3Rpb24gdXNlTGluZUNoYXJ0Q29udGV4dDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPigpIHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KAoJCUxpbmVDaGFydENvbnRleHQsCgkpIGFzIExpbmVDaGFydENvbnRleHRWYWx1ZTxURGF0YT4gfCBudWxsOwoKCWlmICghY29udGV4dCkgewoJCXRocm93IG5ldyBFcnJvcigKCQkJJ3VzZUxpbmVDaGFydENvbnRleHQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiA8TGluZUNoYXJ0PiBjb21wb25lbnQuJywKCQkpOwoJfQoKCXJldHVybiBjb250ZXh0Owp9CgpmdW5jdGlvbiBnZXROdW1lcmljVmFsdWUoaW5wdXQ6IHVua25vd24pOiBudW1iZXIgfCBudWxsIHsKCWlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShpbnB1dCkpIHsKCQlyZXR1cm4gaW5wdXQ7Cgl9CglpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykgewoJCWNvbnN0IHBhcnNlZCA9IE51bWJlci5wYXJzZUZsb2F0KGlucHV0KTsKCQlpZiAoTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkpIHsKCQkJcmV0dXJuIHBhcnNlZDsKCQl9Cgl9CglyZXR1cm4gbnVsbDsKfQoKZnVuY3Rpb24gZ2V0VGVtcG9yYWxWYWx1ZShpbnB1dDogdW5rbm93bik6IG51bWJlciB8IG51bGwgewoJaWYgKGlucHV0IGluc3RhbmNlb2YgRGF0ZSAmJiBOdW1iZXIuaXNGaW5pdGUoaW5wdXQudmFsdWVPZigpKSkgewoJCXJldHVybiBpbnB1dC5nZXRUaW1lKCk7Cgl9CglpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUoaW5wdXQpKSB7CgkJcmV0dXJuIGlucHV0OwoJfQoJaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHsKCQljb25zdCBudW1lcmljID0gTnVtYmVyLnBhcnNlRmxvYXQoaW5wdXQpOwoJCWlmIChOdW1iZXIuaXNGaW5pdGUobnVtZXJpYykpIHsKCQkJcmV0dXJuIG51bWVyaWM7CgkJfQoJCWNvbnN0IHBhcnNlZERhdGUgPSBuZXcgRGF0ZShpbnB1dCk7CgkJaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VkRGF0ZS52YWx1ZU9mKCkpKSB7CgkJCXJldHVybiBwYXJzZWREYXRlLmdldFRpbWUoKTsKCQl9Cgl9CglyZXR1cm4gbnVsbDsKfQoKZnVuY3Rpb24gdG9LZXlMYWJlbChrZXk6IHN0cmluZyk6IHN0cmluZyB7Cgljb25zdCB3b3JkcyA9IGtleQoJCS5yZXBsYWNlKC8oW2EtejAtOV0pKFtBLVpdKS9nLCAnJDEgJDInKQoJCS5yZXBsYWNlKC9bXy1dKy9nLCAnICcpCgkJLnNwbGl0KCcgJykKCQkubWFwKChwYXJ0KSA9PiBwYXJ0LnRyaW0oKSkKCQkuZmlsdGVyKEJvb2xlYW4pCgkJLm1hcCgocGFydCkgPT4gcGFydC5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpICsgcGFydC5zbGljZSgxKSk7CglyZXR1cm4gd29yZHMubGVuZ3RoID8gd29yZHMuam9pbignICcpIDoga2V5Owp9CgpmdW5jdGlvbiByZXNvbHZlQ29sb3IoY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCwgaW5kZXg6IG51bWJlcik6IHN0cmluZyB7CglpZiAoY29sb3IgJiYgY29sb3IudHJpbSgpLmxlbmd0aCA+IDApIHJldHVybiBjb2xvcjsKCWNvbnN0IGZhbGxiYWNrSW5kZXggPQoJCURFRkFVTFRfQ09MT1JTLmxlbmd0aCA+IDAgPyBpbmRleCAlIERFRkFVTFRfQ09MT1JTLmxlbmd0aCA6IDA7Cgljb25zdCBmYWxsYmFjayA9IERFRkFVTFRfQ09MT1JTW2ZhbGxiYWNrSW5kZXhdOwoJaWYgKCFmYWxsYmFjaykgewoJCXRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgZmFsbGJhY2sgY29sb3IgZm9yIExpbmVDaGFydC4nKTsKCX0KCXJldHVybiBmYWxsYmFjazsKfQoKZnVuY3Rpb24gY3JlYXRlTGluZWFyU2NhbGUoCglkb21haW46IFtudW1iZXIsIG51bWJlcl0sCglyYW5nZTogW251bWJlciwgbnVtYmVyXSwKKTogKHZhbHVlOiBudW1iZXIpID0+IG51bWJlciB7Cgljb25zdCBbZDAsIGQxXSA9IGRvbWFpbjsKCWNvbnN0IFtyMCwgcjFdID0gcmFuZ2U7CglpZiAoIU51bWJlci5pc0Zpbml0ZShkMCkgfHwgIU51bWJlci5pc0Zpbml0ZShkMSkpIHsKCQlyZXR1cm4gKCkgPT4gcjA7Cgl9CglpZiAoZDAgPT09IGQxKSB7CgkJcmV0dXJuICgpID0+IChyMCArIHIxKSAvIDI7Cgl9Cgljb25zdCBzY2FsZSA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7CgkJY29uc3QgcmF0aW8gPSAodmFsdWUgLSBkMCkgLyAoZDEgLSBkMCk7CgkJcmV0dXJuIHIwICsgcmF0aW8gKiAocjEgLSByMCk7Cgl9OwoJcmV0dXJuIHNjYWxlOwp9CgpmdW5jdGlvbiBjbGFtcCh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHsKCXJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTsKfQoKZnVuY3Rpb24gdG9QbGFpblRleHQodmFsdWU6IFJlYWN0LlJlYWN0Tm9kZSwgZmFsbGJhY2s6IHN0cmluZyk6IHN0cmluZyB7CglpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgcmV0dXJuIHZhbHVlOwoJaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkgewoJCXJldHVybiB2YWx1ZS50b1N0cmluZygpOwoJfQoJcmV0dXJuIGZhbGxiYWNrOwp9CgpmdW5jdGlvbiBnZXRQb2ludExhYmVsVGV4dChwb2ludDogTGluZUNoYXJ0UG9pbnQpIHsKCXJldHVybiBwb2ludC5sYWJlbCA/PyBTdHJpbmcocG9pbnQueFJhdyA/PyAnJyk7Cn0KCmZ1bmN0aW9uIGdldFBvaW50VmFsdWVUZXh0KHBvaW50OiBMaW5lQ2hhcnRQb2ludCkgewoJaWYgKE51bWJlci5pc0Zpbml0ZShwb2ludC52YWx1ZSkpIHsKCQlyZXR1cm4gcG9pbnQudmFsdWUudG9Mb2NhbGVTdHJpbmcoKTsKCX0KCXJldHVybiBTdHJpbmcocG9pbnQudmFsdWUpOwp9CgpmdW5jdGlvbiBuaWNlTnVtYmVyKHJhbmdlOiBudW1iZXIsIHJvdW5kOiBib29sZWFuKSB7CglpZiAocmFuZ2UgPT09IDApIHJldHVybiAwOwoJY29uc3QgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nMTAoTWF0aC5hYnMocmFuZ2UpKSk7Cgljb25zdCBmcmFjdGlvbiA9IE1hdGguYWJzKHJhbmdlKSAvIDEwICoqIGV4cG9uZW50OwoJbGV0IG5pY2VGcmFjdGlvbjogbnVtYmVyOwoKCWlmIChyb3VuZCkgewoJCWlmIChmcmFjdGlvbiA8IDEuNSkgewoJCQluaWNlRnJhY3Rpb24gPSAxOwoJCX0gZWxzZSBpZiAoZnJhY3Rpb24gPCAzKSB7CgkJCW5pY2VGcmFjdGlvbiA9IDI7CgkJfSBlbHNlIGlmIChmcmFjdGlvbiA8IDcpIHsKCQkJbmljZUZyYWN0aW9uID0gNTsKCQl9IGVsc2UgewoJCQluaWNlRnJhY3Rpb24gPSAxMDsKCQl9Cgl9IGVsc2UgewoJCWlmIChmcmFjdGlvbiA8PSAxKSB7CgkJCW5pY2VGcmFjdGlvbiA9IDE7CgkJfSBlbHNlIGlmIChmcmFjdGlvbiA8PSAyKSB7CgkJCW5pY2VGcmFjdGlvbiA9IDI7CgkJfSBlbHNlIGlmIChmcmFjdGlvbiA8PSA1KSB7CgkJCW5pY2VGcmFjdGlvbiA9IDU7CgkJfSBlbHNlIHsKCQkJbmljZUZyYWN0aW9uID0gMTA7CgkJfQoJfQoKCXJldHVybiBNYXRoLnNpZ24ocmFuZ2UpICogbmljZUZyYWN0aW9uICogMTAgKiogZXhwb25lbnQ7Cn0KCmZ1bmN0aW9uIGdlbmVyYXRlTGluZWFyVGlja3MoCglbbWluLCBtYXhdOiBbbnVtYmVyLCBudW1iZXJdLAoJZGVzaXJlZENvdW50OiBudW1iZXIsCikgewoJY29uc3Qgc2FmZUNvdW50ID0gTnVtYmVyLmlzRmluaXRlKGRlc2lyZWRDb3VudCkKCQk/IE1hdGgubWF4KGRlc2lyZWRDb3VudCwgMikKCQk6IDI7CglpZiAoIU51bWJlci5pc0Zpbml0ZShtaW4pIHx8ICFOdW1iZXIuaXNGaW5pdGUobWF4KSkgcmV0dXJuIFtdOwoJaWYgKG1pbiA9PT0gbWF4KSByZXR1cm4gW21pbl07CgoJY29uc3QgcmFuZ2UgPSBtYXggLSBtaW47Cgljb25zdCBuaWNlUmFuZ2UgPSBuaWNlTnVtYmVyKHJhbmdlLCBmYWxzZSk7Cgljb25zdCBzdGVwID0gbmljZU51bWJlcihuaWNlUmFuZ2UgLyAoc2FmZUNvdW50IC0gMSksIHRydWUpOwoJY29uc3QgbmljZU1pbiA9IE1hdGguZmxvb3IobWluIC8gc3RlcCkgKiBzdGVwOwoJY29uc3QgbmljZU1heCA9IE1hdGguY2VpbChtYXggLyBzdGVwKSAqIHN0ZXA7CgoJY29uc3QgdGlja3M6IG51bWJlcltdID0gW107Cglmb3IgKGxldCB2YWx1ZSA9IG5pY2VNaW47IHZhbHVlIDw9IG5pY2VNYXggKyBzdGVwIC8gMjsgdmFsdWUgKz0gc3RlcCkgewoJCWNvbnN0IHJvdW5kZWQgPSBOdW1iZXIucGFyc2VGbG9hdCh2YWx1ZS50b0ZpeGVkKDEyKSk7CgkJdGlja3MucHVzaChyb3VuZGVkKTsKCX0KCWNvbnN0IGRvbWFpbldpdGhQYWRkaW5nID0gc3RlcCAqIDAuNTsKCWNvbnN0IHdpdGhpbkRvbWFpbiA9IHRpY2tzLmZpbHRlcigKCQkodmFsdWUpID0+CgkJCXZhbHVlID49IG1pbiAtIGRvbWFpbldpdGhQYWRkaW5nICYmIHZhbHVlIDw9IG1heCArIGRvbWFpbldpdGhQYWRkaW5nLAoJKTsKCXJldHVybiB3aXRoaW5Eb21haW4ubGVuZ3RoID8gd2l0aGluRG9tYWluIDogW21pbiwgbWF4XTsKfQoKZnVuY3Rpb24gYWxpZ25Eb21haW5Ub05pY2VWYWx1ZXMoCglbbWluLCBtYXhdOiBbbnVtYmVyLCBudW1iZXJdLAoJdGFyZ2V0Q291bnQ6IG51bWJlciA9IERFRkFVTFRfWV9USUNLX1RBUkdFVCwKKTogW251bWJlciwgbnVtYmVyXSB7CglpZiAoIU51bWJlci5pc0Zpbml0ZShtaW4pIHx8ICFOdW1iZXIuaXNGaW5pdGUobWF4KSkgewoJCXJldHVybiBbbWluLCBtYXhdOwoJfQoKCWlmIChtaW4gPT09IG1heCkgewoJCWNvbnN0IHBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyhtaW4pICogMC41LCAxKTsKCQlyZXR1cm4gW21pbiAtIHBhZGRpbmcsIG1heCArIHBhZGRpbmddOwoJfQoKCWNvbnN0IHNhZmVDb3VudCA9IE51bWJlci5pc0Zpbml0ZSh0YXJnZXRDb3VudCkKCQk/IE1hdGgubWF4KE1hdGguZmxvb3IodGFyZ2V0Q291bnQpLCAyKQoJCTogREVGQVVMVF9ZX1RJQ0tfVEFSR0VUOwoJY29uc3QgcmFuZ2UgPSBtYXggLSBtaW47Cgljb25zdCByYXdTdGVwID0gcmFuZ2UgLyAoc2FmZUNvdW50IC0gMSk7Cgljb25zdCBzdGVwID0gbmljZU51bWJlcihyYXdTdGVwLCB0cnVlKTsKCglpZiAoIU51bWJlci5pc0Zpbml0ZShzdGVwKSB8fCBzdGVwIDw9IDApIHsKCQlyZXR1cm4gW21pbiwgbWF4XTsKCX0KCglsZXQgbmljZU1pbiA9IE1hdGguZmxvb3IobWluIC8gc3RlcCkgKiBzdGVwOwoJbGV0IG5pY2VNYXggPSBNYXRoLmNlaWwobWF4IC8gc3RlcCkgKiBzdGVwOwoKCWNvbnN0IG1pbmltdW1QYWRkaW5nID0gc3RlcCAqIDAuMTsKCWNvbnN0IHBhZGRpbmdBYm92ZSA9IG5pY2VNYXggLSBtYXg7Cgljb25zdCBwYWRkaW5nQmVsb3cgPSBtaW4gLSBuaWNlTWluOwoKCWlmIChtaW4gPj0gMCkgewoJCW5pY2VNaW4gPSAwOwoJfSBlbHNlIGlmIChwYWRkaW5nQmVsb3cgPCBtaW5pbXVtUGFkZGluZykgewoJCW5pY2VNaW4gLT0gc3RlcDsKCX0KCWlmIChtYXggPD0gMCkgewoJCW5pY2VNYXggPSAwOwoJfSBlbHNlIGlmIChwYWRkaW5nQWJvdmUgPCBtaW5pbXVtUGFkZGluZykgewoJCW5pY2VNYXggKz0gc3RlcDsKCX0KCglpZiAobmljZU1pbiA9PT0gbmljZU1heCkgewoJCXJldHVybiBbbmljZU1pbiAtIHN0ZXAsIG5pY2VNYXggKyBzdGVwXTsKCX0KCglyZXR1cm4gW25pY2VNaW4sIG5pY2VNYXhdOwp9CgpmdW5jdGlvbiBzZWxlY3RQb2ludHNGb3JUaWNrcyhwb2ludHM6IExpbmVDaGFydFBvaW50W10sIGRlc2lyZWRDb3VudDogbnVtYmVyKSB7CglpZiAoIXBvaW50cy5sZW5ndGgpIHJldHVybiBbXTsKCWNvbnN0IHVuaXF1ZVBvaW50czogTGluZUNoYXJ0UG9pbnRbXSA9IFtdOwoJY29uc3Qgc2VlbiA9IG5ldyBTZXQ8bnVtYmVyPigpOwoJZm9yIChjb25zdCBwb2ludCBvZiBwb2ludHMpIHsKCQlpZiAoc2Vlbi5oYXMocG9pbnQueCkpIGNvbnRpbnVlOwoJCXNlZW4uYWRkKHBvaW50LngpOwoJCXVuaXF1ZVBvaW50cy5wdXNoKHBvaW50KTsKCX0KCWNvbnN0IHNhZmVDb3VudCA9IE1hdGgubWF4KDIsIE1hdGgubWluKGRlc2lyZWRDb3VudCwgdW5pcXVlUG9pbnRzLmxlbmd0aCkpOwoJaWYgKHVuaXF1ZVBvaW50cy5sZW5ndGggPD0gc2FmZUNvdW50KSB7CgkJcmV0dXJuIHVuaXF1ZVBvaW50czsKCX0KCgljb25zdCBsYXN0SW5kZXggPSB1bmlxdWVQb2ludHMubGVuZ3RoIC0gMTsKCWNvbnN0IHN0ZXAgPSBsYXN0SW5kZXggLyAoc2FmZUNvdW50IC0gMSk7Cgljb25zdCBzZWxlY3RlZEluZGljZXMgPSBuZXcgU2V0PG51bWJlcj4oKTsKCglmb3IgKGxldCBpID0gMDsgaSA8IHNhZmVDb3VudDsgaSsrKSB7CgkJY29uc3QgcmF3SW5kZXggPSBNYXRoLnJvdW5kKGkgKiBzdGVwKTsKCQljb25zdCBjbGFtcGVkSW5kZXggPSBjbGFtcChyYXdJbmRleCwgMCwgbGFzdEluZGV4KTsKCQlzZWxlY3RlZEluZGljZXMuYWRkKGNsYW1wZWRJbmRleCk7Cgl9CgoJc2VsZWN0ZWRJbmRpY2VzLmFkZCgwKTsKCXNlbGVjdGVkSW5kaWNlcy5hZGQobGFzdEluZGV4KTsKCgljb25zdCBzb3J0ZWRJbmRpY2VzID0gQXJyYXkuZnJvbShzZWxlY3RlZEluZGljZXMpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTsKCglpZiAoc29ydGVkSW5kaWNlcy5sZW5ndGggPCBzYWZlQ291bnQpIHsKCQlmb3IgKAoJCQlsZXQgaW5kZXggPSAwOwoJCQlpbmRleCA8PSBsYXN0SW5kZXggJiYgc29ydGVkSW5kaWNlcy5sZW5ndGggPCBzYWZlQ291bnQ7CgkJCWluZGV4KysKCQkpIHsKCQkJaWYgKCFzZWxlY3RlZEluZGljZXMuaGFzKGluZGV4KSkgewoJCQkJc29ydGVkSW5kaWNlcy5wdXNoKGluZGV4KTsKCQkJfQoJCX0KCQlzb3J0ZWRJbmRpY2VzLnNvcnQoKGEsIGIpID0+IGEgLSBiKTsKCX0KCglyZXR1cm4gc29ydGVkSW5kaWNlcwoJCS5tYXAoKGluZGV4KSA9PiB1bmlxdWVQb2ludHNbaW5kZXhdKQoJCS5maWx0ZXIoKHApOiBwIGlzIE5vbk51bGxhYmxlPHR5cGVvZiBwPiA9PiBwICE9PSB1bmRlZmluZWQpOwp9CgpleHBvcnQgaW50ZXJmYWNlIExpbmVDaGFydFByb3BzPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+CglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CglkYXRhOiBURGF0YVtdOwoJeEtleTogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCXlLZXk6IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47CgluYW1lS2V5PzogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCWNvbG9yPzogc3RyaW5nOwoJc2VyaWVzTGFiZWw/OiBzdHJpbmc7Cglzb3J0UG9pbnRzPzogYm9vbGVhbiB8ICgoYTogVERhdGEsIGI6IFREYXRhKSA9PiBudW1iZXIpOwoJeEZvcm1hdHRlcj86IChwb2ludDogTGluZUNoYXJ0UG9pbnQ8VERhdGE+KSA9PiBSZWFjdC5SZWFjdE5vZGU7Cgl5Rm9ybWF0dGVyPzogKAoJCXBvaW50OiBMaW5lQ2hhcnRQb2ludDxURGF0YT4sCgkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJdmFsdWVGb3JtYXR0ZXI/OiAoCgkJcG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPiwKCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IGRvbWFpbjogW251bWJlciwgbnVtYmVyXSB9LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7CglhZGRpdGlvbmFsU2VyaWVzPzogTGluZUNoYXJ0QWRkaXRpb25hbFNlcmllczxURGF0YT5bXTsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpmdW5jdGlvbiBMaW5lQ2hhcnRSb290SW5uZXI8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtPigKCXsKCQlkYXRhLAoJCXhLZXksCgkJeUtleSwKCQluYW1lS2V5LAoJCWNvbG9yLAoJCXNlcmllc0xhYmVsLAoJCXNvcnRQb2ludHMgPSB0cnVlLAoJCXhGb3JtYXR0ZXIsCgkJeUZvcm1hdHRlciwKCQl2YWx1ZUZvcm1hdHRlciwKCQlhZGRpdGlvbmFsU2VyaWVzID0gW10sCgkJY2xhc3NOYW1lLAoJCWNoaWxkcmVuLAoJCS4uLnJlc3QKCX06IExpbmVDaGFydFByb3BzPFREYXRhPiwKCXJlZjogUmVhY3QuRm9yd2FyZGVkUmVmPEhUTUxEaXZFbGVtZW50PiwKKSB7Cgljb25zdCBbYWN0aXZlUG9pbnRJZCwgc2V0QWN0aXZlUG9pbnRJZF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTsKCWNvbnN0IFthY3RpdmVQb2ludFgsIHNldEFjdGl2ZVBvaW50WF0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTsKCgljb25zdCB4TGFiZWwgPSBSZWFjdC51c2VNZW1vKCgpID0+IHRvS2V5TGFiZWwoU3RyaW5nKHhLZXkpKSwgW3hLZXldKTsKCgljb25zdCB7IHNlcmllc0NvbGxlY3Rpb24sIHhEb21haW4sIHlEb21haW4gfSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IGJ1aWxkU2VyaWVzID0gKHNvdXJjZTogewoJCQlpZDogc3RyaW5nOwoJCQlzZXJpZXNJbmRleDogbnVtYmVyOwoJCQlkYXRhOiBURGF0YVtdOwoJCQl4S2V5OiBFeHRyYWN0PGtleW9mIFREYXRhLCBzdHJpbmc+OwoJCQl5S2V5OiBFeHRyYWN0PGtleW9mIFREYXRhLCBzdHJpbmc+OwoJCQluYW1lS2V5PzogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCQkJY29sb3I/OiBzdHJpbmc7CgkJCXNlcmllc0xhYmVsPzogc3RyaW5nOwoJCQlzb3J0UG9pbnRzOiBib29sZWFuIHwgKChhOiBURGF0YSwgYjogVERhdGEpID0+IG51bWJlcik7CgkJCXlGb3JtYXR0ZXI/OiAoCgkJCQlwb2ludDogTGluZUNoYXJ0UG9pbnQ8VERhdGE+LAoJCQkJbWV0YTogeyB0b3RhbDogbnVtYmVyOyBkb21haW46IFtudW1iZXIsIG51bWJlcl0gfSwKCQkJKSA9PiBSZWFjdC5SZWFjdE5vZGU7CgkJCXZhbHVlRm9ybWF0dGVyPzogKAoJCQkJcG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPiwKCQkJCW1ldGE6IHsgdG90YWw6IG51bWJlcjsgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdIH0sCgkJCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJCX0pOiBMaW5lQ2hhcnRTZXJpZXNDb21wdXRhdGlvbjxURGF0YT4gPT4gewoJCQljb25zdCByZXNvbHZlZFhMYWJlbCA9IHRvS2V5TGFiZWwoU3RyaW5nKHNvdXJjZS54S2V5KSk7CgkJCWNvbnN0IHJlc29sdmVkUG9pbnRzID0gc291cmNlLmRhdGEKCQkJCS5tYXA8TGluZUNoYXJ0UG9pbnQ8VERhdGE+IHwgbnVsbD4oKGRhdHVtLCBpbmRleCkgPT4gewoJCQkJCWNvbnN0IG51bWVyaWNWYWx1ZSA9IGdldE51bWVyaWNWYWx1ZShkYXR1bVtzb3VyY2UueUtleV0pOwoJCQkJCWlmIChudW1lcmljVmFsdWUgPT09IG51bGwpIHJldHVybiBudWxsOwoJCQkJCWNvbnN0IHJhd1ggPSBkYXR1bVtzb3VyY2UueEtleV07CgkJCQkJY29uc3QgdGVtcG9yYWwgPSBnZXRUZW1wb3JhbFZhbHVlKHJhd1gpOwoJCQkJCWNvbnN0IHJlc29sdmVkWCA9IHRlbXBvcmFsID8/IGluZGV4OwoJCQkJCWNvbnN0IGxhYmVsID0KCQkJCQkJc291cmNlLm5hbWVLZXkgJiYgZGF0dW1bc291cmNlLm5hbWVLZXldICE9IG51bGwKCQkJCQkJCT8gU3RyaW5nKGRhdHVtW3NvdXJjZS5uYW1lS2V5XSkKCQkJCQkJCTogdHlwZW9mIHJhd1ggPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByYXdYID09PSAnbnVtYmVyJwoJCQkJCQkJCT8gU3RyaW5nKHJhd1gpCgkJCQkJCQkJOiBgJHtyZXNvbHZlZFhMYWJlbH0gJHtpbmRleCArIDF9YDsKCQkJCQlyZXR1cm4gewoJCQkJCQlpZDogYCR7c291cmNlLmlkfS0ke3Jlc29sdmVkWH0tJHtpbmRleH1gLAoJCQkJCQlzZXJpZXNJZDogc291cmNlLmlkLAoJCQkJCQlzZXJpZXNJbmRleDogc291cmNlLnNlcmllc0luZGV4LAoJCQkJCQlkYXR1bSwKCQkJCQkJaW5kZXgsCgkJCQkJCXg6IHJlc29sdmVkWCwKCQkJCQkJeFJhdzogcmF3WCwKCQkJCQkJeTogbnVtZXJpY1ZhbHVlLAoJCQkJCQlsYWJlbCwKCQkJCQkJdmFsdWU6IG51bWVyaWNWYWx1ZSwKCQkJCQl9OwoJCQkJfSkKCQkJCS5maWx0ZXIoKHBvaW50KTogcG9pbnQgaXMgTGluZUNoYXJ0UG9pbnQ8VERhdGE+ID0+IEJvb2xlYW4ocG9pbnQpKTsKCgkJCWNvbnN0IHNvcnRlZFBvaW50cyA9ICgoKSA9PiB7CgkJCQlpZiAodHlwZW9mIHNvdXJjZS5zb3J0UG9pbnRzID09PSAnZnVuY3Rpb24nKSB7CgkJCQkJY29uc3Qgc29ydEZuID0gc291cmNlLnNvcnRQb2ludHM7CgkJCQkJcmV0dXJuIFsuLi5yZXNvbHZlZFBvaW50c10uc29ydCgoYSwgYikgPT4gc29ydEZuKGEuZGF0dW0sIGIuZGF0dW0pKTsKCQkJCX0KCQkJCWlmIChzb3VyY2Uuc29ydFBvaW50cykgewoJCQkJCXJldHVybiBbLi4ucmVzb2x2ZWRQb2ludHNdLnNvcnQoKGEsIGIpID0+IGEueCAtIGIueCk7CgkJCQl9CgkJCQlyZXR1cm4gcmVzb2x2ZWRQb2ludHM7CgkJCX0pKCk7CgoJCQljb25zdCB0b3RhbFZhbHVlID0gc29ydGVkUG9pbnRzLnJlZHVjZSgKCQkJCShzdW0sIHBvaW50KSA9PiBzdW0gKyAoTnVtYmVyLmlzRmluaXRlKHBvaW50LnZhbHVlKSA/IHBvaW50LnZhbHVlIDogMCksCgkJCQkwLAoJCQkpOwoKCQkJY29uc3QgcmVzb2x2ZWRTZXJpZXNMYWJlbCA9IHNvdXJjZS5zZXJpZXNMYWJlbD8udHJpbSgpLmxlbmd0aAoJCQkJPyBzb3VyY2Uuc2VyaWVzTGFiZWwKCQkJCTogc291cmNlLm5hbWVLZXkKCQkJCQk/IHRvS2V5TGFiZWwoU3RyaW5nKHNvdXJjZS5uYW1lS2V5KSkKCQkJCQk6IHRvS2V5TGFiZWwoU3RyaW5nKHNvdXJjZS55S2V5KSk7CgoJCQlyZXR1cm4gewoJCQkJaWQ6IHNvdXJjZS5pZCwKCQkJCXNlcmllc0luZGV4OiBzb3VyY2Uuc2VyaWVzSW5kZXgsCgkJCQlwb2ludHM6IHNvcnRlZFBvaW50cywKCQkJCXRvdGFsOiB0b3RhbFZhbHVlLAoJCQkJc2VyaWVzTGFiZWw6IHJlc29sdmVkU2VyaWVzTGFiZWwsCgkJCQl2YWx1ZUxhYmVsOiB0b0tleUxhYmVsKFN0cmluZyhzb3VyY2UueUtleSkpLAoJCQkJY29sb3I6IHJlc29sdmVDb2xvcihzb3VyY2UuY29sb3IsIHNvdXJjZS5zZXJpZXNJbmRleCksCgkJCQkuLi4oc291cmNlLnlGb3JtYXR0ZXIgPyB7IHlGb3JtYXR0ZXI6IHNvdXJjZS55Rm9ybWF0dGVyIH0gOiB7fSksCgkJCQkuLi4oc291cmNlLnZhbHVlRm9ybWF0dGVyCgkJCQkJPyB7IHZhbHVlRm9ybWF0dGVyOiBzb3VyY2UudmFsdWVGb3JtYXR0ZXIgfQoJCQkJCToge30pLAoJCQl9OwoJCX07CgoJCWNvbnN0IHByb3Zpc2lvbmFsU2VyaWVzOiBMaW5lQ2hhcnRTZXJpZXNDb21wdXRhdGlvbjxURGF0YT5bXSA9IFsKCQkJYnVpbGRTZXJpZXMoewoJCQkJaWQ6ICdzZXJpZXMtMCcsCgkJCQlzZXJpZXNJbmRleDogMCwKCQkJCWRhdGEsCgkJCQl4S2V5LAoJCQkJeUtleSwKCQkJCXNvcnRQb2ludHMsCgkJCQkuLi4obmFtZUtleSAhPT0gdW5kZWZpbmVkID8geyBuYW1lS2V5IH0gOiB7fSksCgkJCQkuLi4oY29sb3IgIT09IHVuZGVmaW5lZCA/IHsgY29sb3IgfSA6IHt9KSwKCQkJCS4uLihzZXJpZXNMYWJlbCAhPT0gdW5kZWZpbmVkID8geyBzZXJpZXNMYWJlbCB9IDoge30pLAoJCQkJLi4uKHlGb3JtYXR0ZXIgPyB7IHlGb3JtYXR0ZXIgfSA6IHt9KSwKCQkJCS4uLih2YWx1ZUZvcm1hdHRlciA/IHsgdmFsdWVGb3JtYXR0ZXIgfSA6IHt9KSwKCQkJfSksCgkJCS4uLmFkZGl0aW9uYWxTZXJpZXMubWFwKChjb25maWcsIGluZGV4KSA9PiB7CgkJCQljb25zdCByZXNvbHZlZE5hbWVLZXkgPSBjb25maWcubmFtZUtleSA/PyBuYW1lS2V5OwoJCQkJcmV0dXJuIGJ1aWxkU2VyaWVzKHsKCQkJCQlpZDogY29uZmlnLmlkID8/IGBzZXJpZXMtJHtpbmRleCArIDF9YCwKCQkJCQlzZXJpZXNJbmRleDogaW5kZXggKyAxLAoJCQkJCWRhdGE6IGNvbmZpZy5kYXRhID8/IGRhdGEsCgkJCQkJeEtleTogY29uZmlnLnhLZXkgPz8geEtleSwKCQkJCQl5S2V5OiBjb25maWcueUtleSwKCQkJCQlzb3J0UG9pbnRzOiBjb25maWcuc29ydFBvaW50cyA/PyBzb3J0UG9pbnRzLAoJCQkJCS4uLihyZXNvbHZlZE5hbWVLZXkgIT09IHVuZGVmaW5lZAoJCQkJCQk/IHsgbmFtZUtleTogcmVzb2x2ZWROYW1lS2V5IH0KCQkJCQkJOiB7fSksCgkJCQkJLi4uKGNvbmZpZy5jb2xvciAhPT0gdW5kZWZpbmVkID8geyBjb2xvcjogY29uZmlnLmNvbG9yIH0gOiB7fSksCgkJCQkJLi4uKGNvbmZpZy5zZXJpZXNMYWJlbCAhPT0gdW5kZWZpbmVkCgkJCQkJCT8geyBzZXJpZXNMYWJlbDogY29uZmlnLnNlcmllc0xhYmVsIH0KCQkJCQkJOiB7fSksCgkJCQkJLi4uKGNvbmZpZy55Rm9ybWF0dGVyID8geyB5Rm9ybWF0dGVyOiBjb25maWcueUZvcm1hdHRlciB9IDoge30pLAoJCQkJCS4uLihjb25maWcudmFsdWVGb3JtYXR0ZXIKCQkJCQkJPyB7IHZhbHVlRm9ybWF0dGVyOiBjb25maWcudmFsdWVGb3JtYXR0ZXIgfQoJCQkJCQk6IHt9KSwKCQkJCX0pOwoJCQl9KSwKCQldOwoKCQljb25zdCBhbGxQb2ludHMgPSBwcm92aXNpb25hbFNlcmllcy5mbGF0TWFwKChzZXJpZXMpID0+IHNlcmllcy5wb2ludHMpOwoJCWNvbnN0IHhWYWx1ZXMgPSBhbGxQb2ludHMubWFwKChwb2ludCkgPT4gcG9pbnQueCk7CgkJY29uc3QgeVZhbHVlcyA9IGFsbFBvaW50cy5tYXAoKHBvaW50KSA9PiBwb2ludC52YWx1ZSk7CgoJCWNvbnN0IG1pblggPSB4VmFsdWVzLmxlbmd0aCA/IE1hdGgubWluKC4uLnhWYWx1ZXMpIDogMDsKCQljb25zdCBtYXhYID0geFZhbHVlcy5sZW5ndGggPyBNYXRoLm1heCguLi54VmFsdWVzKSA6IDE7CgkJY29uc3QgbWluWSA9IHlWYWx1ZXMubGVuZ3RoID8gTWF0aC5taW4oLi4ueVZhbHVlcywgMCkgOiAwOwoJCWNvbnN0IG1heFkgPSB5VmFsdWVzLmxlbmd0aCA/IE1hdGgubWF4KC4uLnlWYWx1ZXMsIDApIDogMTsKCgkJY29uc3QgcmVzb2x2ZWRYRG9tYWluOiBbbnVtYmVyLCBudW1iZXJdID0KCQkJbWluWCA9PT0gbWF4WCA/IFttaW5YIC0gMSwgbWF4WCArIDFdIDogW21pblgsIG1heFhdOwoKCQljb25zdCByYXdZUmFuZ2UgPSBtYXhZIC0gbWluWTsKCQljb25zdCBtYWduaXR1ZGVGYWxsYmFjayA9IE1hdGgubWF4KE1hdGguYWJzKG1heFkpLCBNYXRoLmFicyhtaW5ZKSwgMSk7CgkJY29uc3QgeVBhZGRpbmcgPQoJCQlOdW1iZXIuaXNGaW5pdGUocmF3WVJhbmdlKSAmJiByYXdZUmFuZ2UgPiAwCgkJCQk/IHJhd1lSYW5nZSAqIDAuMQoJCQkJOiBtYWduaXR1ZGVGYWxsYmFjayAqIDAuMTsKCgkJY29uc3QgcGFkZGVkTWF4WSA9IE51bWJlci5pc0Zpbml0ZShtYXhZKSA/IG1heFkgKyB5UGFkZGluZyA6IG1heFk7CgkJbGV0IHBhZGRlZE1pblkgPSBOdW1iZXIuaXNGaW5pdGUobWluWSkgPyBtaW5ZIDogMDsKCgkJaWYgKG1pblkgPCAwKSB7CgkJCXBhZGRlZE1pblkgLT0geVBhZGRpbmc7CgkJfSBlbHNlIHsKCQkJcGFkZGVkTWluWSA9IE1hdGgubWluKG1pblksIDApOwoJCX0KCgkJY29uc3QgcGFkZGVkWURvbWFpbjogW251bWJlciwgbnVtYmVyXSA9CgkJCW1pblkgPT09IG1heFkKCQkJCT8gW21pblkgLSBtYWduaXR1ZGVGYWxsYmFjaywgbWF4WSArIG1hZ25pdHVkZUZhbGxiYWNrXQoJCQkJOiBbcGFkZGVkTWluWSwgcGFkZGVkTWF4WV07CgoJCWNvbnN0IHJlc29sdmVkWURvbWFpbiA9IGFsaWduRG9tYWluVG9OaWNlVmFsdWVzKAoJCQlwYWRkZWRZRG9tYWluLAoJCQlERUZBVUxUX1lfVElDS19UQVJHRVQsCgkJKTsKCgkJY29uc3Qgc2VyaWVzQ29sbGVjdGlvbiA9IHByb3Zpc2lvbmFsU2VyaWVzLm1hcCgKCQkJKHsKCQkJCXlGb3JtYXR0ZXI6IHNlcmllc1lGb3JtYXR0ZXIsCgkJCQl2YWx1ZUZvcm1hdHRlcjogc2VyaWVzVmFsdWVGb3JtYXR0ZXIsCgkJCQkuLi5yZXN0CgkJCX0pID0+ICh7CgkJCQkuLi5yZXN0LAoJCQkJZm9ybWF0WTogKHBvaW50OiBMaW5lQ2hhcnRQb2ludDxURGF0YT4pID0+IHsKCQkJCQlpZiAoc2VyaWVzVmFsdWVGb3JtYXR0ZXIpIHsKCQkJCQkJcmV0dXJuIHNlcmllc1ZhbHVlRm9ybWF0dGVyKHBvaW50LCB7CgkJCQkJCQl0b3RhbDogcmVzdC50b3RhbCwKCQkJCQkJCWRvbWFpbjogcmVzb2x2ZWRZRG9tYWluLAoJCQkJCQl9KTsKCQkJCQl9CgkJCQkJaWYgKHNlcmllc1lGb3JtYXR0ZXIpIHsKCQkJCQkJcmV0dXJuIHNlcmllc1lGb3JtYXR0ZXIocG9pbnQsIHsKCQkJCQkJCXRvdGFsOiByZXN0LnRvdGFsLAoJCQkJCQkJZG9tYWluOiByZXNvbHZlZFlEb21haW4sCgkJCQkJCX0pOwoJCQkJCX0KCQkJCQlyZXR1cm4gcG9pbnQudmFsdWUudG9Mb2NhbGVTdHJpbmcoKTsKCQkJCX0sCgkJCX0pLAoJCSk7CgoJCXJldHVybiB7CgkJCXNlcmllc0NvbGxlY3Rpb24sCgkJCXhEb21haW46IHJlc29sdmVkWERvbWFpbiwKCQkJeURvbWFpbjogcmVzb2x2ZWRZRG9tYWluLAoJCX07Cgl9LCBbCgkJYWRkaXRpb25hbFNlcmllcywKCQljb2xvciwKCQlkYXRhLAoJCW5hbWVLZXksCgkJc2VyaWVzTGFiZWwsCgkJc29ydFBvaW50cywKCQl2YWx1ZUZvcm1hdHRlciwKCQl4S2V5LAoJCXlGb3JtYXR0ZXIsCgkJeUtleSwKCV0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKGFjdGl2ZVBvaW50SWQpIHsKCQkJY29uc3QgbWF0Y2hlcyA9IHNlcmllc0NvbGxlY3Rpb24uc29tZSgoc2VyaWVzKSA9PgoJCQkJc2VyaWVzLnBvaW50cy5zb21lKChwb2ludCkgPT4gcG9pbnQuaWQgPT09IGFjdGl2ZVBvaW50SWQpLAoJCQkpOwoJCQlpZiAoIW1hdGNoZXMpIHsKCQkJCXNldEFjdGl2ZVBvaW50SWQobnVsbCk7CgkJCQlzZXRBY3RpdmVQb2ludFgobnVsbCk7CgkJCX0KCQl9CgkJaWYgKGFjdGl2ZVBvaW50WCAhPT0gbnVsbCkgewoJCQljb25zdCBoYXNYID0gc2VyaWVzQ29sbGVjdGlvbi5zb21lKChzZXJpZXMpID0+CgkJCQlzZXJpZXMucG9pbnRzLnNvbWUoKHBvaW50KSA9PiBwb2ludC54ID09PSBhY3RpdmVQb2ludFgpLAoJCQkpOwoJCQlpZiAoIWhhc1gpIHsKCQkJCXNldEFjdGl2ZVBvaW50WChudWxsKTsKCQkJfQoJCX0KCX0sIFthY3RpdmVQb2ludElkLCBhY3RpdmVQb2ludFgsIHNlcmllc0NvbGxlY3Rpb25dKTsKCgljb25zdCBwcmltYXJ5U2VyaWVzID0gUmVhY3QudXNlTWVtbzxMaW5lQ2hhcnRTZXJpZXNTdGF0ZTxURGF0YT4+KCgpID0+IHsKCQljb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc0NvbGxlY3Rpb25bMF07CgkJaWYgKGZpcnN0U2VyaWVzKSB7CgkJCXJldHVybiBmaXJzdFNlcmllczsKCQl9CgkJY29uc3QgZmFsbGJhY2tMYWJlbCA9IHNlcmllc0xhYmVsPy50cmltKCkubGVuZ3RoCgkJCT8gc2VyaWVzTGFiZWwKCQkJOiBuYW1lS2V5CgkJCQk/IHRvS2V5TGFiZWwoU3RyaW5nKG5hbWVLZXkpKQoJCQkJOiB0b0tleUxhYmVsKFN0cmluZyh5S2V5KSk7CgoJCXJldHVybiB7CgkJCWlkOiAnc2VyaWVzLTAnLAoJCQlzZXJpZXNJbmRleDogMCwKCQkJcG9pbnRzOiBbXSwKCQkJdG90YWw6IDAsCgkJCXNlcmllc0xhYmVsOiBmYWxsYmFja0xhYmVsLAoJCQl2YWx1ZUxhYmVsOiB0b0tleUxhYmVsKFN0cmluZyh5S2V5KSksCgkJCWNvbG9yOiByZXNvbHZlQ29sb3IoY29sb3IsIDApLAoJCQlmb3JtYXRZOiAoKSA9PiAnMCcsCgkJfSBzYXRpc2ZpZXMgTGluZUNoYXJ0U2VyaWVzU3RhdGU8VERhdGE+OwoJfSwgW3Nlcmllc0NvbGxlY3Rpb24sIGNvbG9yLCBuYW1lS2V5LCBzZXJpZXNMYWJlbCwgeUtleV0pOwoKCWNvbnN0IHNlcmllc0J5SWQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCBtYXAgPSBuZXcgTWFwPHN0cmluZywgTGluZUNoYXJ0U2VyaWVzU3RhdGU8VERhdGE+PigpOwoJCWZvciAoY29uc3Qgc2VyaWVzIG9mIHNlcmllc0NvbGxlY3Rpb24pIHsKCQkJbWFwLnNldChzZXJpZXMuaWQsIHNlcmllcyk7CgkJfQoJCXJldHVybiBtYXA7Cgl9LCBbc2VyaWVzQ29sbGVjdGlvbl0pOwoKCWNvbnN0IGZvcm1hdFggPSBSZWFjdC51c2VDYWxsYmFjaygKCQkocG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPikgPT4KCQkJeEZvcm1hdHRlciA/IHhGb3JtYXR0ZXIocG9pbnQpIDogZ2V0UG9pbnRMYWJlbFRleHQocG9pbnQpLAoJCVt4Rm9ybWF0dGVyXSwKCSk7CgoJY29uc3QgZm9ybWF0WSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShwb2ludDogTGluZUNoYXJ0UG9pbnQ8VERhdGE+KSA9PiBwcmltYXJ5U2VyaWVzLmZvcm1hdFkocG9pbnQpLAoJCVtwcmltYXJ5U2VyaWVzXSwKCSk7CgoJY29uc3QgZm9ybWF0WUZvclNlcmllcyA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzZXJpZXNJZDogc3RyaW5nLCBwb2ludDogTGluZUNoYXJ0UG9pbnQ8VERhdGE+KSA9PiB7CgkJCWNvbnN0IHRhcmdldCA9IHNlcmllc0J5SWQuZ2V0KHNlcmllc0lkKSA/PyBwcmltYXJ5U2VyaWVzOwoJCQlyZXR1cm4gdGFyZ2V0LmZvcm1hdFkocG9pbnQpOwoJCX0sCgkJW3Nlcmllc0J5SWQsIHByaW1hcnlTZXJpZXNdLAoJKTsKCgljb25zdCBjb250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vPExpbmVDaGFydENvbnRleHRWYWx1ZTxURGF0YT4+KAoJCSgpID0+ICh7CgkJCXNlcmllczogc2VyaWVzQ29sbGVjdGlvbiwKCQkJcG9pbnRzOiBwcmltYXJ5U2VyaWVzLnBvaW50cywKCQkJdG90YWw6IHByaW1hcnlTZXJpZXMudG90YWwsCgkJCXNlcmllc0xhYmVsOiBwcmltYXJ5U2VyaWVzLnNlcmllc0xhYmVsLAoJCQljb2xvcjogcHJpbWFyeVNlcmllcy5jb2xvciwKCQkJeERvbWFpbiwKCQkJeURvbWFpbiwKCQkJZm9ybWF0WCwKCQkJZm9ybWF0WSwKCQkJZm9ybWF0WUZvclNlcmllcywKCQkJdmFsdWVMYWJlbDogcHJpbWFyeVNlcmllcy52YWx1ZUxhYmVsLAoJCQl4TGFiZWwsCgkJCWFjdGl2ZVBvaW50SWQsCgkJCXNldEFjdGl2ZVBvaW50SWQsCgkJCWFjdGl2ZVBvaW50WCwKCQkJc2V0QWN0aXZlUG9pbnRYLAoJCX0pLAoJCVsKCQkJYWN0aXZlUG9pbnRJZCwKCQkJZm9ybWF0WCwKCQkJZm9ybWF0WSwKCQkJZm9ybWF0WUZvclNlcmllcywKCQkJcHJpbWFyeVNlcmllcywKCQkJc2VyaWVzQ29sbGVjdGlvbiwKCQkJeERvbWFpbiwKCQkJeExhYmVsLAoJCQl5RG9tYWluLAoJCQlhY3RpdmVQb2ludFgsCgkJXSwKCSk7CgoJcmV0dXJuICgKCQk8TGluZUNoYXJ0Q29udGV4dC5Qcm92aWRlcgoJCQl2YWx1ZT17Y29udGV4dFZhbHVlIGFzIExpbmVDaGFydENvbnRleHRWYWx1ZTxDaGFydERhdHVtPn0KCQk+CgkJCTxkaXYKCQkJCXJlZj17cmVmfQoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkncmVsYXRpdmUgZmxleCBmbGV4LWNvbCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgc2hhZG93LW1kIGNhcmQtaGlnaGxpZ2h0JywKCQkJCQljbGFzc05hbWUsCgkJCQkpfQoJCQkJey4uLnJlc3R9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9kaXY+CgkJPC9MaW5lQ2hhcnRDb250ZXh0LlByb3ZpZGVyPgoJKTsKfQoKdHlwZSBMaW5lQ2hhcnRDb21wb25lbnQgPSA8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4oCglwcm9wczogTGluZUNoYXJ0UHJvcHM8VERhdGE+ICYgeyByZWY/OiBSZWFjdC5SZWY8SFRNTERpdkVsZW1lbnQ+IH0sCikgPT4gUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbDsKCmNvbnN0IExpbmVDaGFydFJvb3QgPSBSZWFjdC5mb3J3YXJkUmVmKAoJTGluZUNoYXJ0Um9vdElubmVyLAopIGFzIExpbmVDaGFydENvbXBvbmVudDsKCmNvbnN0IExJTkVfQ0hBUlRfQUNUSU9OU19NQVJLRVIgPSBTeW1ib2woJ0xpbmVDaGFydEFjdGlvbnMnKTsKY29uc3QgTElORV9DSEFSVF9USVRMRV9NQVJLRVIgPSBTeW1ib2woJ0xpbmVDaGFydFRpdGxlJyk7CmNvbnN0IExJTkVfQ0hBUlRfREVTQ1JJUFRJT05fTUFSS0VSID0gU3ltYm9sKCdMaW5lQ2hhcnREZXNjcmlwdGlvbicpOwoKZXhwb3J0IGludGVyZmFjZSBMaW5lQ2hhcnRUaXRsZVByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhcz86IFJlYWN0LkVsZW1lbnRUeXBlOwp9Cgp0eXBlIExpbmVDaGFydFRpdGxlQ29tcG9uZW50ID0gUmVhY3QuRkM8TGluZUNoYXJ0VGl0bGVQcm9wcz4gJiB7CglbTElORV9DSEFSVF9USVRMRV9NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IExpbmVDaGFydFRpdGxlID0gKCh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJYXM6IENvbXBvbmVudCA9ICdoMycsCgkuLi5wcm9wcwp9OiBMaW5lQ2hhcnRUaXRsZVByb3BzKSA9PiB7CglyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgKCQlDb21wb25lbnQsCgkJewoJCQljbGFzc05hbWU6IGNuKAoJCQkJJ3RleHQtYmFzZSBmb250LW1lZGl1bSBsZWFkaW5nLW5vbmUgdGV4dC1mb3JlZ3JvdW5kJywKCQkJCWNsYXNzTmFtZSwKCQkJKSwKCQkJLi4ucHJvcHMsCgkJfSwKCQljaGlsZHJlbiwKCSk7Cn0pIGFzIExpbmVDaGFydFRpdGxlQ29tcG9uZW50OwpMaW5lQ2hhcnRUaXRsZS5kaXNwbGF5TmFtZSA9ICdMaW5lQ2hhcnRUaXRsZSc7CkxpbmVDaGFydFRpdGxlW0xJTkVfQ0hBUlRfVElUTEVfTUFSS0VSXSA9IHRydWU7CgpleHBvcnQgaW50ZXJmYWNlIExpbmVDaGFydERlc2NyaXB0aW9uUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFBhcmFncmFwaEVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCnR5cGUgTGluZUNoYXJ0RGVzY3JpcHRpb25Db21wb25lbnQgPSBSZWFjdC5GQzxMaW5lQ2hhcnREZXNjcmlwdGlvblByb3BzPiAmIHsKCVtMSU5FX0NIQVJUX0RFU0NSSVBUSU9OX01BUktFUl06IHRydWU7Cn07CgpleHBvcnQgY29uc3QgTGluZUNoYXJ0RGVzY3JpcHRpb24gPSAoKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9OiBMaW5lQ2hhcnREZXNjcmlwdGlvblByb3BzKSA9PiB7CglyZXR1cm4gKAoJCTxwCgkJCWNsYXNzTmFtZT17Y24oCgkJCQkndGV4dC1zbSBsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzQ1IHRleHQtYmFsYW5jZScsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L3A+CgkpOwp9KSBhcyBMaW5lQ2hhcnREZXNjcmlwdGlvbkNvbXBvbmVudDsKTGluZUNoYXJ0RGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSAnTGluZUNoYXJ0RGVzY3JpcHRpb24nOwpMaW5lQ2hhcnREZXNjcmlwdGlvbltMSU5FX0NIQVJUX0RFU0NSSVBUSU9OX01BUktFUl0gPSB0cnVlOwoKZXhwb3J0IGludGVyZmFjZSBMaW5lQ2hhcnRBY3Rpb25zUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCnR5cGUgTGluZUNoYXJ0QWN0aW9uc0NvbXBvbmVudCA9IFJlYWN0LkZDPExpbmVDaGFydEFjdGlvbnNQcm9wcz4gJiB7CglbTElORV9DSEFSVF9BQ1RJT05TX01BUktFUl06IHRydWU7Cn07CgpleHBvcnQgY29uc3QgTGluZUNoYXJ0QWN0aW9ucyA9ICgoeyBjaGlsZHJlbiwgY2xhc3NOYW1lID0gJycsIC4uLnByb3BzIH0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHNlbGYtc3RhcnQgc206c2VsZi1hdXRvJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfSkgYXMgTGluZUNoYXJ0QWN0aW9uc0NvbXBvbmVudDsKTGluZUNoYXJ0QWN0aW9ucy5kaXNwbGF5TmFtZSA9ICdMaW5lQ2hhcnRBY3Rpb25zJzsKTGluZUNoYXJ0QWN0aW9uc1tMSU5FX0NIQVJUX0FDVElPTlNfTUFSS0VSXSA9IHRydWU7CgpmdW5jdGlvbiBoYXNMaW5lQ2hhcnRNYXJrZXIoCgl0YXJnZXQ6IHVua25vd24sCgltYXJrZXI6IHN5bWJvbCwKKTogdGFyZ2V0IGlzIHsgW2tleTogc3ltYm9sXTogdW5rbm93biB9IHsKCWlmICghdGFyZ2V0KSByZXR1cm4gZmFsc2U7CglpZiAoCgkJKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpICYmCgkJdGFyZ2V0ICE9PSBudWxsICYmCgkJUmVmbGVjdC5nZXQodGFyZ2V0LCBtYXJrZXIpCgkpIHsKCQlyZXR1cm4gdHJ1ZTsKCX0KCWlmICgKCQl0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJgoJCXRhcmdldCAhPT0gbnVsbCAmJgoJCSd0eXBlJyBpbiB0YXJnZXQgJiYKCQkodGFyZ2V0IGFzIHsgdHlwZT86IHVua25vd24gfSkudHlwZQoJKSB7CgkJcmV0dXJuIGhhc0xpbmVDaGFydE1hcmtlcigodGFyZ2V0IGFzIHsgdHlwZT86IHVua25vd24gfSkudHlwZSwgbWFya2VyKTsKCX0KCXJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gY2xvbmVFbGVtZW50V2l0aENsYXNzTmFtZTxUUHJvcHMgZXh0ZW5kcyB7IGNsYXNzTmFtZT86IHN0cmluZyB9PigKCWVsZW1lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudDxUUHJvcHM+LAoJYWRkaXRpb25hbENsYXNzTmFtZT86IHN0cmluZywKKSB7CglpZiAoIWFkZGl0aW9uYWxDbGFzc05hbWUpIHsKCQlyZXR1cm4gZWxlbWVudDsKCX0KCWNvbnN0IG1lcmdlZENsYXNzTmFtZSA9IGNuKGVsZW1lbnQucHJvcHMuY2xhc3NOYW1lLCBhZGRpdGlvbmFsQ2xhc3NOYW1lKTsKCXJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwgewoJCWNsYXNzTmFtZTogbWVyZ2VkQ2xhc3NOYW1lLAoJfSBhcyBQYXJ0aWFsPFRQcm9wcz4gJiBSZWFjdC5BdHRyaWJ1dGVzKTsKfQoKZnVuY3Rpb24gaXNMaW5lQ2hhcnRBY3Rpb25zRWxlbWVudCgKCWNoaWxkOiBSZWFjdC5SZWFjdE5vZGUsCik6IGNoaWxkIGlzIFJlYWN0LlJlYWN0RWxlbWVudCB7CglpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuIGZhbHNlOwoJY29uc3QgeyB0eXBlIH0gPSBjaGlsZDsKCWlmICh0eXBlID09PSBMaW5lQ2hhcnRBY3Rpb25zKSByZXR1cm4gdHJ1ZTsKCWlmIChoYXNMaW5lQ2hhcnRNYXJrZXIodHlwZSwgTElORV9DSEFSVF9BQ1RJT05TX01BUktFUikpIHJldHVybiB0cnVlOwoJY29uc3QgZGlzcGxheU5hbWUgPQoJCXR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkKCQkJPyAodHlwZSBhcyB7IGRpc3BsYXlOYW1lPzogc3RyaW5nIH0pLmRpc3BsYXlOYW1lCgkJCTogdW5kZWZpbmVkOwoJcmV0dXJuIGRpc3BsYXlOYW1lID09PSBMaW5lQ2hhcnRBY3Rpb25zLmRpc3BsYXlOYW1lOwp9CgpmdW5jdGlvbiBpc0xpbmVDaGFydFRpdGxlRWxlbWVudCgKCWNoaWxkOiBSZWFjdC5SZWFjdE5vZGUsCik6IGNoaWxkIGlzIFJlYWN0LlJlYWN0RWxlbWVudDxMaW5lQ2hhcnRUaXRsZVByb3BzPiB7CglpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuIGZhbHNlOwoJY29uc3QgeyB0eXBlIH0gPSBjaGlsZDsKCWlmICh0eXBlID09PSBMaW5lQ2hhcnRUaXRsZSkgcmV0dXJuIHRydWU7CglpZiAoaGFzTGluZUNoYXJ0TWFya2VyKHR5cGUsIExJTkVfQ0hBUlRfVElUTEVfTUFSS0VSKSkgcmV0dXJuIHRydWU7Cgljb25zdCBkaXNwbGF5TmFtZSA9CgkJdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKQoJCQk/ICh0eXBlIGFzIHsgZGlzcGxheU5hbWU/OiBzdHJpbmcgfSkuZGlzcGxheU5hbWUKCQkJOiB1bmRlZmluZWQ7CglyZXR1cm4gZGlzcGxheU5hbWUgPT09IExpbmVDaGFydFRpdGxlLmRpc3BsYXlOYW1lOwp9CgpmdW5jdGlvbiBpc0xpbmVDaGFydERlc2NyaXB0aW9uRWxlbWVudCgKCWNoaWxkOiBSZWFjdC5SZWFjdE5vZGUsCik6IGNoaWxkIGlzIFJlYWN0LlJlYWN0RWxlbWVudDxMaW5lQ2hhcnREZXNjcmlwdGlvblByb3BzPiB7CglpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuIGZhbHNlOwoJY29uc3QgeyB0eXBlIH0gPSBjaGlsZDsKCWlmICh0eXBlID09PSBMaW5lQ2hhcnREZXNjcmlwdGlvbikgcmV0dXJuIHRydWU7CglpZiAoaGFzTGluZUNoYXJ0TWFya2VyKHR5cGUsIExJTkVfQ0hBUlRfREVTQ1JJUFRJT05fTUFSS0VSKSkgcmV0dXJuIHRydWU7Cgljb25zdCBkaXNwbGF5TmFtZSA9CgkJdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKQoJCQk/ICh0eXBlIGFzIHsgZGlzcGxheU5hbWU/OiBzdHJpbmcgfSkuZGlzcGxheU5hbWUKCQkJOiB1bmRlZmluZWQ7CglyZXR1cm4gZGlzcGxheU5hbWUgPT09IExpbmVDaGFydERlc2NyaXB0aW9uLmRpc3BsYXlOYW1lOwp9CgpleHBvcnQgaW50ZXJmYWNlIExpbmVDaGFydEhlYWRlclByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7Cgljb250ZW50Q2xhc3NOYW1lPzogc3RyaW5nOwoJdGl0bGVDbGFzc05hbWU/OiBzdHJpbmc7CglkZXNjcmlwdGlvbkNsYXNzTmFtZT86IHN0cmluZzsKCWFjdGlvbnNDbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBMaW5lQ2hhcnRIZWFkZXIgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglMaW5lQ2hhcnRIZWFkZXJQcm9wcwo+KAoJKAoJCXsKCQkJY2xhc3NOYW1lID0gJycsCgkJCWNoaWxkcmVuLAoJCQljb250ZW50Q2xhc3NOYW1lLAoJCQl0aXRsZUNsYXNzTmFtZSwKCQkJZGVzY3JpcHRpb25DbGFzc05hbWUsCgkJCWFjdGlvbnNDbGFzc05hbWUsCgkJCS4uLnByb3BzCgkJfSwKCQlyZWYsCgkpID0+IHsKCQljb25zdCBjaGlsZHJlbkFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbik7CgkJY29uc3QgbWFpbkNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVbXSA9IFtdOwoJCWNvbnN0IGFjdGlvbkNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVbXSA9IFtdOwoKCQljaGlsZHJlbkFycmF5LmZvckVhY2goKGNoaWxkKSA9PiB7CgkJCWlmIChpc0xpbmVDaGFydEFjdGlvbnNFbGVtZW50KGNoaWxkKSkgewoJCQkJYWN0aW9uQ2hpbGRyZW4ucHVzaChjaGlsZCk7CgkJCX0gZWxzZSBpZiAoY2hpbGQgIT09IG51bGwpIHsKCQkJCW1haW5DaGlsZHJlbi5wdXNoKGNoaWxkKTsKCQkJfQoJCX0pOwoKCQljb25zdCBlbmhhbmNlZE1haW5DaGlsZHJlbiA9IG1haW5DaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiB7CgkJCWlmIChpc0xpbmVDaGFydFRpdGxlRWxlbWVudChjaGlsZCkpIHsKCQkJCXJldHVybiBjbG9uZUVsZW1lbnRXaXRoQ2xhc3NOYW1lKAoJCQkJCWNoaWxkIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx7IGNsYXNzTmFtZT86IHN0cmluZyB9PiwKCQkJCQl0aXRsZUNsYXNzTmFtZSwKCQkJCSk7CgkJCX0KCQkJaWYgKGlzTGluZUNoYXJ0RGVzY3JpcHRpb25FbGVtZW50KGNoaWxkKSkgewoJCQkJcmV0dXJuIGNsb25lRWxlbWVudFdpdGhDbGFzc05hbWUoCgkJCQkJY2hpbGQgYXMgUmVhY3QuUmVhY3RFbGVtZW50PHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+LAoJCQkJCWRlc2NyaXB0aW9uQ2xhc3NOYW1lLAoJCQkJKTsKCQkJfQoJCQlyZXR1cm4gY2hpbGQ7CgkJfSk7CgoJCWNvbnN0IGVuaGFuY2VkQWN0aW9uQ2hpbGRyZW4gPSBhY3Rpb25DaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiB7CgkJCWlmIChpc0xpbmVDaGFydEFjdGlvbnNFbGVtZW50KGNoaWxkKSkgewoJCQkJcmV0dXJuIGNsb25lRWxlbWVudFdpdGhDbGFzc05hbWUoCgkJCQkJY2hpbGQgYXMgUmVhY3QuUmVhY3RFbGVtZW50PHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+LAoJCQkJCWFjdGlvbnNDbGFzc05hbWUsCgkJCQkpOwoJCQl9CgkJCXJldHVybiBjaGlsZDsKCQl9KTsKCgkJcmV0dXJuICgKCQkJPGRpdgoJCQkJcmVmPXtyZWZ9CgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSdmbGV4IGZsZXgtY29sIGdhcC0zIHB4LTQgcHQtNCBzbTpmbGV4LXJvdyBzbTppdGVtcy1zdGFydCBzbTpqdXN0aWZ5LWJldHdlZW4gc206Z2FwLTQnLAoJCQkJCWNsYXNzTmFtZSwKCQkJCSl9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCXtlbmhhbmNlZE1haW5DaGlsZHJlbi5sZW5ndGggPyAoCgkJCQkJPGRpdiBjbGFzc05hbWU9e2NuKCdzcGFjZS15LTEgc206ZmxleC0xJywgY29udGVudENsYXNzTmFtZSl9PgoJCQkJCQl7ZW5oYW5jZWRNYWluQ2hpbGRyZW59CgkJCQkJPC9kaXY+CgkJCQkpIDogbnVsbH0KCQkJCXtlbmhhbmNlZEFjdGlvbkNoaWxkcmVuLmxlbmd0aCA/IGVuaGFuY2VkQWN0aW9uQ2hpbGRyZW4gOiBudWxsfQoJCQk8L2Rpdj4KCQkpOwoJfSwKKTsKTGluZUNoYXJ0SGVhZGVyLmRpc3BsYXlOYW1lID0gJ0xpbmVDaGFydEhlYWRlcic7CgpleHBvcnQgaW50ZXJmYWNlIExpbmVDaGFydFRvb2x0aXBTZXJpZXNFbnRyeTwKCVREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0sCj4gewoJc2VyaWVzSWQ6IHN0cmluZzsKCXNlcmllc0xhYmVsOiBzdHJpbmc7CglzZXJpZXNDb2xvcjogc3RyaW5nOwoJdmFsdWVMYWJlbDogc3RyaW5nOwoJcG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPjsKCXZhbHVlOiBudW1iZXI7Cglmb3JtYXR0ZWRWYWx1ZTogUmVhY3QuUmVhY3ROb2RlOwoJZm9ybWF0dGVkVmFsdWVUZXh0OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgTGluZUNoYXJ0VG9vbHRpcEluZm88VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4gewoJcG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPjsKCXZhbHVlOiBudW1iZXI7CglzZXJpZXNJZDogc3RyaW5nOwoJc2VyaWVzTGFiZWw6IHN0cmluZzsKCXNlcmllc0NvbG9yOiBzdHJpbmc7Cgl2YWx1ZUxhYmVsOiBzdHJpbmc7Cglmb3JtYXR0ZWRYOiBSZWFjdC5SZWFjdE5vZGU7Cglmb3JtYXR0ZWRZOiBSZWFjdC5SZWFjdE5vZGU7Cglmb3JtYXR0ZWRYVGV4dDogc3RyaW5nOwoJZm9ybWF0dGVkWVRleHQ6IHN0cmluZzsKCXNlcmllc0VudHJpZXM6IExpbmVDaGFydFRvb2x0aXBTZXJpZXNFbnRyeTxURGF0YT5bXTsKfQoKZXhwb3J0IGludGVyZmFjZSBMaW5lQ2hhcnRHcmFwaFByb3BzPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+CglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgloZWlnaHQ/OiBudW1iZXIgfCBzdHJpbmc7CgljdXJ2ZT86IExpbmVDaGFydEN1cnZlOwoJc2hvd1Rvb2x0aXA/OiBib29sZWFuOwoJdG9vbHRpcFJlbmRlcj86IChpbmZvOiBMaW5lQ2hhcnRUb29sdGlwSW5mbzxURGF0YT4pID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXNob3dEb3RzPzogYm9vbGVhbjsKCWxvYWRpbmc/OiBib29sZWFuOwoJbG9hZGluZ1N0YXRlPzogUmVhY3QuUmVhY3ROb2RlOwoJZW1wdHlTdGF0ZT86IFJlYWN0LlJlYWN0Tm9kZTsKCWVycm9yPzogUmVhY3QuUmVhY3ROb2RlOwoJYXJpYUxhYmVsPzogc3RyaW5nOwoJc2hvd0dyaWQ/OiBib29sZWFuOwoJc2hvd1hBeGlzVmFsdWVzPzogYm9vbGVhbjsKCXNob3dZQXhpc1ZhbHVlcz86IGJvb2xlYW47Cgl4VGlja0NvdW50PzogbnVtYmVyOwoJeVRpY2tDb3VudD86IG51bWJlcjsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpmdW5jdGlvbiBMaW5lQ2hhcnRTdGF0ZSh7CglsYWJlbCwKCWRlc2NyaXB0aW9uLAp9OiB7CglsYWJlbDogc3RyaW5nOwoJZGVzY3JpcHRpb24/OiBSZWFjdC5SZWFjdE5vZGU7Cn0pIHsKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9ImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWRhc2hlZCBib3JkZXItYm9yZGVyLzYwIGJnLVtjb2xvci1taXgoaW5fb2tsY2gsdmFyKC0tY29sb3ItY2FyZClfNzAlLHZhcigtLWNvbG9yLWNhcmQtbXV0ZWQpXzMwJSldIHB4LTQgcHktMTAgdGV4dC1jZW50ZXIiPgoJCQk8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KCQkJCTxwIGNsYXNzTmFtZT0idGV4dC1zbSBsZWFkaW5nLW5vbmUgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIj4KCQkJCQl7bGFiZWx9CgkJCQk8L3A+CgkJCQl7ZGVzY3JpcHRpb24gPyAoCgkJCQkJPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNDUgdGV4dC1iYWxhbmNlIj4KCQkJCQkJe2Rlc2NyaXB0aW9ufQoJCQkJCTwvcD4KCQkJCSkgOiBudWxsfQoJCQk8L2Rpdj4KCQk8L2Rpdj4KCSk7Cn0KCmV4cG9ydCBjb25zdCBMaW5lQ2hhcnRHcmFwaEJhc2UgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglMaW5lQ2hhcnRHcmFwaFByb3BzPENoYXJ0RGF0dW0+Cj4oZnVuY3Rpb24gTGluZUNoYXJ0R3JhcGhJbm5lcigKCXsKCQloZWlnaHQsCgkJY3VydmUgPSAnbW9ub3RvbmUnLAoJCXNob3dUb29sdGlwID0gdHJ1ZSwKCQl0b29sdGlwUmVuZGVyLAoJCXNob3dEb3RzID0gdHJ1ZSwKCQlsb2FkaW5nID0gZmFsc2UsCgkJbG9hZGluZ1N0YXRlLAoJCWVtcHR5U3RhdGUsCgkJZXJyb3IsCgkJYXJpYUxhYmVsLAoJCXNob3dHcmlkID0gdHJ1ZSwKCQlzaG93WEF4aXNWYWx1ZXMgPSB0cnVlLAoJCXNob3dZQXhpc1ZhbHVlcyA9IHRydWUsCgkJeFRpY2tDb3VudCA9IDQsCgkJeVRpY2tDb3VudCA9IERFRkFVTFRfWV9USUNLX1RBUkdFVCwKCQljaGlsZHJlbiwKCQljbGFzc05hbWUsCgkJc3R5bGUsCgkJLi4ucmVzdAoJfTogTGluZUNoYXJ0R3JhcGhQcm9wczxDaGFydERhdHVtPiwKCXJlZiwKKSB7Cgljb25zdCB7CgkJc2VyaWVzLAoJCWZvcm1hdFgsCgkJZm9ybWF0WUZvclNlcmllcywKCQl4RG9tYWluLAoJCXlEb21haW4sCgkJYWN0aXZlUG9pbnRJZCwKCQlzZXRBY3RpdmVQb2ludElkLAoJCWFjdGl2ZVBvaW50WCwKCQlzZXRBY3RpdmVQb2ludFgsCgl9ID0gdXNlTGluZUNoYXJ0Q29udGV4dCgpOwoKCWNvbnN0IHN2Z1JlZiA9IFJlYWN0LnVzZVJlZjxTVkdTVkdFbGVtZW50IHwgbnVsbD4obnVsbCk7Cgljb25zdCBvdXRlclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoJY29uc3QgY2hhcnRDb250YWluZXJSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTsKCWNvbnN0IFtjaGFydERpbWVuc2lvbnMsIHNldENoYXJ0RGltZW5zaW9uc10gPSBSZWFjdC51c2VTdGF0ZSh7CgkJd2lkdGg6IDAsCgkJaGVpZ2h0OiAwLAoJfSk7Cgljb25zdCBjb21iaW5lZFJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShub2RlOiBIVE1MRGl2RWxlbWVudCB8IG51bGwpID0+IHsKCQkJb3V0ZXJSZWYuY3VycmVudCA9IG5vZGU7CgkJCWlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7CgkJCQlyZWYobm9kZSk7CgkJCX0gZWxzZSBpZiAocmVmKSB7CgkJCQkocmVmIGFzIFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudCB8IG51bGw+KS5jdXJyZW50ID0gbm9kZTsKCQkJfQoJCX0sCgkJW3JlZl0sCgkpOwoKCWNvbnN0IHJlc29sdmVkSGVpZ2h0ID0KCQl0eXBlb2YgaGVpZ2h0ID09PSAnbnVtYmVyJwoJCQk/IGAke2hlaWdodH1weGAKCQkJOiAoaGVpZ2h0ID8/IGAke0RFRkFVTFRfSEVJR0hUfXB4YCk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQljb25zdCBub2RlID0gY2hhcnRDb250YWluZXJSZWYuY3VycmVudDsKCQlpZiAoIW5vZGUpIHsKCQkJcmV0dXJuOwoJCX0KCQljb25zdCByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQlzZXRDaGFydERpbWVuc2lvbnMoKHByZXZpb3VzKSA9PiB7CgkJCWlmICgKCQkJCU1hdGguYWJzKHByZXZpb3VzLndpZHRoIC0gcmVjdC53aWR0aCkgPCAwLjUgJiYKCQkJCU1hdGguYWJzKHByZXZpb3VzLmhlaWdodCAtIHJlY3QuaGVpZ2h0KSA8IDAuNQoJCQkpIHsKCQkJCXJldHVybiBwcmV2aW91czsKCQkJfQoJCQlyZXR1cm4gewoJCQkJd2lkdGg6IHJlY3Qud2lkdGggfHwgRkFMTEJBQ0tfQ0hBUlRfRElNRU5TSU9OUy53aWR0aCwKCQkJCWhlaWdodDogcmVjdC5oZWlnaHQgfHwgRkFMTEJBQ0tfQ0hBUlRfRElNRU5TSU9OUy5oZWlnaHQsCgkJCX07CgkJfSk7CgoJCWlmICh0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnKSB7CgkJCXJldHVybjsKCQl9CgkJY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKFtlbnRyeV0pID0+IHsKCQkJaWYgKCFlbnRyeSkgcmV0dXJuOwoJCQljb25zdCB7IHdpZHRoLCBoZWlnaHQ6IG9ic2VydmVkSGVpZ2h0IH0gPSBlbnRyeS5jb250ZW50UmVjdDsKCQkJc2V0Q2hhcnREaW1lbnNpb25zKChwcmV2aW91cykgPT4gewoJCQkJaWYgKAoJCQkJCU1hdGguYWJzKHByZXZpb3VzLndpZHRoIC0gd2lkdGgpIDwgMC41ICYmCgkJCQkJTWF0aC5hYnMocHJldmlvdXMuaGVpZ2h0IC0gb2JzZXJ2ZWRIZWlnaHQpIDwgMC41CgkJCQkpIHsKCQkJCQlyZXR1cm4gcHJldmlvdXM7CgkJCQl9CgkJCQlyZXR1cm4geyB3aWR0aCwgaGVpZ2h0OiBvYnNlcnZlZEhlaWdodCB9OwoJCQl9KTsKCQl9KTsKCQlvYnNlcnZlci5vYnNlcnZlKG5vZGUpOwoJCXJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7Cgl9LCBbXSk7CgoJY29uc3QgdHJpbW1lZEFyaWFMYWJlbCA9IGFyaWFMYWJlbD8udHJpbSgpOwoJY29uc3Qgc3ZnVGl0bGVJZCA9IFJlYWN0LnVzZUlkKCk7Cgljb25zdCBzdmdUaXRsZSA9CgkJdHJpbW1lZEFyaWFMYWJlbCAmJiB0cmltbWVkQXJpYUxhYmVsLmxlbmd0aCA+IDAKCQkJPyB0cmltbWVkQXJpYUxhYmVsCgkJCTogJ0xpbmUgY2hhcnQgdmlzdWFsaXphdGlvbic7CgoJY29uc3QgbWVhc3VyZWRXaWR0aCA9CgkJY2hhcnREaW1lbnNpb25zLndpZHRoIHx8IEZBTExCQUNLX0NIQVJUX0RJTUVOU0lPTlMud2lkdGg7Cgljb25zdCBtZWFzdXJlZEhlaWdodCA9CgkJY2hhcnREaW1lbnNpb25zLmhlaWdodCB8fCBGQUxMQkFDS19DSEFSVF9ESU1FTlNJT05TLmhlaWdodDsKCgljb25zdCBheGlzVGlja0xlbmd0aCA9IDA7Cgljb25zdCBzaG93WEF4aXNMYWJlbHMgPSBzaG93WEF4aXNWYWx1ZXM7Cgljb25zdCBzaG93WUF4aXNMYWJlbHMgPSBzaG93WUF4aXNWYWx1ZXM7Cgljb25zdCBjaGFydEhvcml6b250YWxHYXAgPSBzaG93WUF4aXNMYWJlbHMgPyBZX0FYSVNfQ0hBUlRfR0FQIDogMDsKCWNvbnN0IFt5QXhpc0xhYmVsV2lkdGgsIHNldFlBeGlzTGFiZWxXaWR0aF0gPSBSZWFjdC51c2VTdGF0ZSgwKTsKCWNvbnN0IHBhZGRpbmcgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+ICh7CgkJCS4uLkNIQVJUX1BBRERJTkcsCgkJCWxlZnQ6IE1hdGgubWF4KAoJCQkJQ0hBUlRfUEFERElORy5sZWZ0LAoJCQkJTWF0aC5jZWlsKHlBeGlzTGFiZWxXaWR0aCkgKyBheGlzVGlja0xlbmd0aCArIDYsCgkJCSksCgkJfSksCgkJW3lBeGlzTGFiZWxXaWR0aF0sCgkpOwoKCWNvbnN0IHZpZXdCb3hXaWR0aCA9IE1hdGgubWF4KAoJCW1lYXN1cmVkV2lkdGgsCgkJcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodCArIDEsCgkpOwoJY29uc3Qgdmlld0JveEhlaWdodCA9IE1hdGgubWF4KAoJCW1lYXN1cmVkSGVpZ2h0LAoJCXBhZGRpbmcudG9wICsgcGFkZGluZy5ib3R0b20gKyAxLAoJKTsKCgljb25zdCBhdmFpbGFibGVDaGFydFdpZHRoID0gTWF0aC5tYXgoCgkJMSwKCQl2aWV3Qm94V2lkdGggLSBwYWRkaW5nLmxlZnQgLSBwYWRkaW5nLnJpZ2h0LAoJKTsKCWNvbnN0IGNoYXJ0V2lkdGggPSBNYXRoLm1heCgxLCBhdmFpbGFibGVDaGFydFdpZHRoIC0gY2hhcnRIb3Jpem9udGFsR2FwKTsKCWNvbnN0IGNoYXJ0U3RhcnRYID0gcGFkZGluZy5sZWZ0ICsgY2hhcnRIb3Jpem9udGFsR2FwOwoJY29uc3QgY2hhcnRIZWlnaHQgPSBNYXRoLm1heCgxLCB2aWV3Qm94SGVpZ2h0IC0gcGFkZGluZy50b3AgLSBwYWRkaW5nLmJvdHRvbSk7Cgljb25zdCBjaGFydFJpZ2h0ID0gY2hhcnRTdGFydFggKyBjaGFydFdpZHRoOwoJY29uc3QgY2hhcnRCb3R0b20gPSBwYWRkaW5nLnRvcCArIGNoYXJ0SGVpZ2h0OwoJY29uc3QgeVRpY2tMYWJlbFggPSBNYXRoLm1heCgKCQljaGFydFN0YXJ0WCAtIGNoYXJ0SG9yaXpvbnRhbEdhcCAtIGF4aXNUaWNrTGVuZ3RoIC0gNCwKCQk0LAoJKTsKCgljb25zdCBzY2FsZVggPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+IGNyZWF0ZUxpbmVhclNjYWxlKHhEb21haW4sIFswLCBjaGFydFdpZHRoXSksCgkJW2NoYXJ0V2lkdGgsIHhEb21haW5dLAoJKTsKCWNvbnN0IHNjYWxlWSA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gY3JlYXRlTGluZWFyU2NhbGUoeURvbWFpbiwgW2NoYXJ0SGVpZ2h0LCAwXSksCgkJW2NoYXJ0SGVpZ2h0LCB5RG9tYWluXSwKCSk7CgoJY29uc3QgY3VydmVGYWN0b3J5ID0gQ1VSVkVfRkFDVE9SSUVTW2N1cnZlXSA/PyBjdXJ2ZU1vbm90b25lWDsKCgl0eXBlIFBvc2l0aW9uZWRTZXJpZXMgPSBMaW5lQ2hhcnRTZXJpZXNTdGF0ZTxDaGFydERhdHVtPiAmIHsKCQlncmFkaWVudElkOiBzdHJpbmc7CgkJcG9zaXRpb25lZFBvaW50czogQXJyYXk8ewoJCQlwb2ludDogTGluZUNoYXJ0UG9pbnQ7CgkJCXg6IG51bWJlcjsKCQkJeTogbnVtYmVyOwoJCX0+OwoJCWxpbmVQYXRoPzogc3RyaW5nOwoJfTsKCgljb25zdCBncmFkaWVudEJhc2VJZCA9IFJlYWN0LnVzZUlkKCk7CgoJY29uc3QgY29tcHV0ZWRTZXJpZXMgPSBSZWFjdC51c2VNZW1vPFBvc2l0aW9uZWRTZXJpZXNbXT4oKCkgPT4gewoJCXJldHVybiBzZXJpZXMubWFwKChzZXJpZXNJdGVtLCBpbmRleCkgPT4gewoJCQljb25zdCBwb3NpdGlvbmVkUG9pbnRzID0gc2VyaWVzSXRlbS5wb2ludHMubWFwKChwb2ludCkgPT4gKHsKCQkJCXBvaW50LAoJCQkJeDogY2hhcnRTdGFydFggKyBzY2FsZVgocG9pbnQueCksCgkJCQl5OiBwYWRkaW5nLnRvcCArIHNjYWxlWShwb2ludC55KSwKCQkJfSkpOwoKCQkJbGV0IGxpbmVQYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQ7CgoJCQlpZiAoc2VyaWVzSXRlbS5wb2ludHMubGVuZ3RoID4gMSkgewoJCQkJY29uc3QgbGluZUdlbmVyYXRvciA9IGxpbmU8TGluZUNoYXJ0UG9pbnQ+KCkKCQkJCQkueCgocG9pbnQ6IExpbmVDaGFydFBvaW50KSA9PiBjaGFydFN0YXJ0WCArIHNjYWxlWChwb2ludC54KSkKCQkJCQkueSgocG9pbnQ6IExpbmVDaGFydFBvaW50KSA9PiBwYWRkaW5nLnRvcCArIHNjYWxlWShwb2ludC55KSkKCQkJCQkuY3VydmUoY3VydmVGYWN0b3J5KTsKCQkJCWxpbmVQYXRoID0gbGluZUdlbmVyYXRvcihzZXJpZXNJdGVtLnBvaW50cykgPz8gdW5kZWZpbmVkOwoJCQl9CgoJCQlyZXR1cm4gewoJCQkJLi4uc2VyaWVzSXRlbSwKCQkJCWdyYWRpZW50SWQ6IGAke2dyYWRpZW50QmFzZUlkfS0ke2luZGV4fWAsCgkJCQlwb3NpdGlvbmVkUG9pbnRzLAoJCQkJLi4uKGxpbmVQYXRoID8geyBsaW5lUGF0aCB9IDoge30pLAoJCQl9OwoJCX0pOwoJfSwgWwoJCWNoYXJ0U3RhcnRYLAoJCWN1cnZlRmFjdG9yeSwKCQlzZXJpZXMsCgkJcGFkZGluZy50b3AsCgkJc2NhbGVYLAoJCXNjYWxlWSwKCQlncmFkaWVudEJhc2VJZCwKCV0pOwoKCWNvbnN0IGhhc0Vub3VnaFBvaW50cyA9IGNvbXB1dGVkU2VyaWVzLnNvbWUoCgkJKHNlcmllc0l0ZW0pID0+IHNlcmllc0l0ZW0ucG9pbnRzLmxlbmd0aCA+IDEsCgkpOwoJY29uc3Qgc2hvd0NoYXJ0ID0gIWxvYWRpbmcgJiYgIWVycm9yICYmIGhhc0Vub3VnaFBvaW50czsKCgljb25zdCBwb3NpdGlvbmVkUG9pbnRzQWxsID0gUmVhY3QudXNlTWVtbygKCQkoKSA9PgoJCQljb21wdXRlZFNlcmllcy5mbGF0TWFwKChzZXJpZXNJdGVtKSA9PgoJCQkJc2VyaWVzSXRlbS5wb3NpdGlvbmVkUG9pbnRzLm1hcCgoZW50cnkpID0+ICh7CgkJCQkJc2VyaWVzOiBzZXJpZXNJdGVtLAoJCQkJCS4uLmVudHJ5LAoJCQkJfSkpLAoJCQkpLAoJCVtjb21wdXRlZFNlcmllc10sCgkpOwoJY29uc3Qgc2hvdWxkQ29tcHV0ZVhUaWNrcyA9IHNob3dYQXhpc0xhYmVsczsKCWNvbnN0IHNob3VsZENvbXB1dGVZVGlja3MgPSBzaG93R3JpZCB8fCBzaG93WUF4aXNMYWJlbHM7CgoJY29uc3QgeEF4aXNUaWNrcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IGJhc2VQb2ludHMgPSBzZXJpZXNbMF0/LnBvaW50cyA/PyBbXTsKCQlpZiAoIXNob3VsZENvbXB1dGVYVGlja3MgfHwgYmFzZVBvaW50cy5sZW5ndGggPT09IDApIHJldHVybiBbXTsKCQljb25zdCBzZWxlY3RlZCA9IHNlbGVjdFBvaW50c0ZvclRpY2tzKGJhc2VQb2ludHMsIHhUaWNrQ291bnQpOwoJCXJldHVybiBzZWxlY3RlZC5tYXAoKHBvaW50KSA9PiB7CgkJCWNvbnN0IGxhYmVsID0gdG9QbGFpblRleHQoZm9ybWF0WChwb2ludCksIGdldFBvaW50TGFiZWxUZXh0KHBvaW50KSk7CgkJCXJldHVybiB7CgkJCQlpZDogcG9pbnQuaWQsCgkJCQlwb3NpdGlvbjogY2hhcnRTdGFydFggKyBzY2FsZVgocG9pbnQueCksCgkJCQlsYWJlbCwKCQkJfTsKCQl9KTsKCX0sIFtjaGFydFN0YXJ0WCwgZm9ybWF0WCwgc2NhbGVYLCBzZXJpZXMsIHNob3VsZENvbXB1dGVYVGlja3MsIHhUaWNrQ291bnRdKTsKCgljb25zdCB5QXhpc1RpY2tzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJaWYgKCFzaG91bGRDb21wdXRlWVRpY2tzKSByZXR1cm4gW107CgkJY29uc3QgdGlja3MgPSBnZW5lcmF0ZUxpbmVhclRpY2tzKHlEb21haW4sIHlUaWNrQ291bnQpOwoJCXJldHVybiB0aWNrcy5tYXAoKHZhbHVlKSA9PiB7CgkJCWNvbnN0IHJlbGF0aXZlUG9zaXRpb24gPSBjbGFtcChzY2FsZVkodmFsdWUpLCAwLCBjaGFydEhlaWdodCk7CgkJCXJldHVybiB7CgkJCQl2YWx1ZSwKCQkJCXBvc2l0aW9uOiBwYWRkaW5nLnRvcCArIHJlbGF0aXZlUG9zaXRpb24sCgkJCQlsYWJlbDogTnVtYmVyLmlzRmluaXRlKHZhbHVlKQoJCQkJCT8gdmFsdWUudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7CgkJCQkJCQltYXhpbXVtRnJhY3Rpb25EaWdpdHM6IE1hdGguYWJzKHZhbHVlKSA+PSAxMDAgPyAwIDogMiwKCQkJCQkJfSkKCQkJCQk6IFN0cmluZyh2YWx1ZSksCgkJCX07CgkJfSk7Cgl9LCBbCgkJY2hhcnRIZWlnaHQsCgkJcGFkZGluZy50b3AsCgkJc2NhbGVZLAoJCXNob3VsZENvbXB1dGVZVGlja3MsCgkJeURvbWFpbiwKCQl5VGlja0NvdW50LAoJXSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQlpZiAoIXNob3dZQXhpc0xhYmVscykgewoJCQlzZXRZQXhpc0xhYmVsV2lkdGgoKHByZXZpb3VzKSA9PiAocHJldmlvdXMgPT09IDAgPyBwcmV2aW91cyA6IDApKTsKCQkJcmV0dXJuOwoJCX0KCgkJaWYgKCFzdmdSZWYuY3VycmVudCkgewoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBsYWJlbE5vZGVzID0gc3ZnUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbDxTVkdUZXh0RWxlbWVudD4oCgkJCSdbZGF0YS1saW5lLWNoYXJ0LXktbGFiZWxdJywKCQkpOwoJCWxldCBtYXhXaWR0aCA9IDA7CgkJbGFiZWxOb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7CgkJCWNvbnN0IGJveCA9IG5vZGUuZ2V0QkJveCgpOwoJCQlpZiAoTnVtYmVyLmlzRmluaXRlKGJveC53aWR0aCkpIHsKCQkJCW1heFdpZHRoID0gTWF0aC5tYXgobWF4V2lkdGgsIGJveC53aWR0aCk7CgkJCX0KCQl9KTsKCgkJc2V0WUF4aXNMYWJlbFdpZHRoKChwcmV2aW91cykgPT4KCQkJTWF0aC5hYnMocHJldmlvdXMgLSBtYXhXaWR0aCkgPiAwLjUgPyBtYXhXaWR0aCA6IHByZXZpb3VzLAoJCSk7Cgl9LCBbc2hvd1lBeGlzTGFiZWxzXSk7CgoJY29uc3QgdG9vbHRpcFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoJY29uc3QgW3Rvb2x0aXBEaW1lbnNpb25zLCBzZXRUb29sdGlwRGltZW5zaW9uc10gPSBSZWFjdC51c2VTdGF0ZSh7CgkJd2lkdGg6IDAsCgkJaGVpZ2h0OiAwLAoJfSk7Cgljb25zdCBbdG9vbHRpcCwgc2V0VG9vbHRpcF0gPSBSZWFjdC51c2VTdGF0ZTx7CgkJaW5mbzogTGluZUNoYXJ0VG9vbHRpcEluZm87CgkJeDogbnVtYmVyOwoJCXk6IG51bWJlcjsKCQlob3Jpem9udGFsOiAnbGVmdCcgfCAncmlnaHQnOwoJCXZlcnRpY2FsOiAndG9wJyB8ICdib3R0b20nOwoJCXZpc2libGU6IGJvb2xlYW47CgkJZW50ZXJpbmc6IGJvb2xlYW47Cgl9IHwgbnVsbD4obnVsbCk7Cgljb25zdCBoaWRlVG9vbHRpcFRpbWVvdXRSZWYgPSBSZWFjdC51c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7CgoJY29uc3QgY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJaWYgKGhpZGVUb29sdGlwVGltZW91dFJlZi5jdXJyZW50ICE9PSBudWxsKSB7CgkJCXdpbmRvdy5jbGVhclRpbWVvdXQoaGlkZVRvb2x0aXBUaW1lb3V0UmVmLmN1cnJlbnQpOwoJCQloaWRlVG9vbHRpcFRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7CgkJfQoJfSwgW10pOwoKCWNvbnN0IGNsZWFyVG9vbHRpcCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCXNldFRvb2x0aXAoKHByZXZpb3VzKSA9PgoJCQlwcmV2aW91cyA/IHsgLi4ucHJldmlvdXMsIHZpc2libGU6IGZhbHNlLCBlbnRlcmluZzogZmFsc2UgfSA6IG51bGwsCgkJKTsKCQlzZXRBY3RpdmVQb2ludElkKG51bGwpOwoJCXNldEFjdGl2ZVBvaW50WChudWxsKTsKCX0sIFtjYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSwgc2V0QWN0aXZlUG9pbnRJZCwgc2V0QWN0aXZlUG9pbnRYXSk7CgoJY29uc3Qgc2NoZWR1bGVUb29sdGlwSGlkZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShkZWxheSA9IDE0MCkgPT4gewoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCQloaWRlVG9vbHRpcFRpbWVvdXRSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsKCQkJCWNsZWFyVG9vbHRpcCgpOwoJCQl9LCBkZWxheSk7CgkJfSwKCQlbY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUsIGNsZWFyVG9vbHRpcF0sCgkpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCF0b29sdGlwIHx8IHRvb2x0aXAudmlzaWJsZSB8fCB0b29sdGlwLmVudGVyaW5nKSByZXR1cm47CgkJY29uc3QgdGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewoJCQlzZXRUb29sdGlwKG51bGwpOwoJCX0sIDIwMCk7CgkJcmV0dXJuICgpID0+IHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dElkKTsKCX0sIFt0b29sdGlwXSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQlpZiAoIXRvb2x0aXBSZWYuY3VycmVudCB8fCB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnKSByZXR1cm47CgkJY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKFtlbnRyeV0pID0+IHsKCQkJaWYgKCFlbnRyeSkgcmV0dXJuOwoJCQljb25zdCB7IHdpZHRoLCBoZWlnaHQ6IG9ic0hlaWdodCB9ID0gZW50cnkuY29udGVudFJlY3Q7CgkJCXNldFRvb2x0aXBEaW1lbnNpb25zKChwcmV2aW91cykgPT4KCQkJCU1hdGguYWJzKHByZXZpb3VzLndpZHRoIC0gd2lkdGgpIDwgMC41ICYmCgkJCQlNYXRoLmFicyhwcmV2aW91cy5oZWlnaHQgLSBvYnNIZWlnaHQpIDwgMC41CgkJCQkJPyBwcmV2aW91cwoJCQkJCTogeyB3aWR0aCwgaGVpZ2h0OiBvYnNIZWlnaHQgfSwKCQkJKTsKCQl9KTsKCQlvYnNlcnZlci5vYnNlcnZlKHRvb2x0aXBSZWYuY3VycmVudCk7CgkJcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCX0sIFtdKTsKCglSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gewoJCWlmICghdG9vbHRpcCB8fCAhdG9vbHRpcC5lbnRlcmluZykgcmV0dXJuOwoJCWNvbnN0IGZyYW1lSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJc2V0VG9vbHRpcCgocHJldmlvdXMpID0+CgkJCQlwcmV2aW91cz8uZW50ZXJpbmcKCQkJCQk/IHsgLi4ucHJldmlvdXMsIHZpc2libGU6IHRydWUsIGVudGVyaW5nOiBmYWxzZSB9CgkJCQkJOiBwcmV2aW91cywKCQkJKTsKCQl9KTsKCQlyZXR1cm4gKCkgPT4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpOwoJfSwgW3Rvb2x0aXBdKTsKCglSZWFjdC51c2VFZmZlY3QoCgkJKCkgPT4gKCkgPT4gewoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCX0sCgkJW2NhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlXSwKCSk7CgoJY29uc3QgY2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHZpZXdCb3hQb2ludDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7CgkJCWlmICghb3V0ZXJSZWYuY3VycmVudCB8fCAhc3ZnUmVmLmN1cnJlbnQpIHJldHVybiBudWxsOwoJCQljb25zdCBjb250YWluZXJSZWN0ID0gb3V0ZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJY29uc3Qgc3ZnUmVjdCA9IHN2Z1JlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoJCQljb25zdCBzY2FsZVggPSB2aWV3Qm94V2lkdGggPiAwID8gc3ZnUmVjdC53aWR0aCAvIHZpZXdCb3hXaWR0aCA6IDE7CgkJCWNvbnN0IHNjYWxlWSA9IHZpZXdCb3hIZWlnaHQgPiAwID8gc3ZnUmVjdC5oZWlnaHQgLyB2aWV3Qm94SGVpZ2h0IDogMTsKCQkJY29uc3QgYW5jaG9yWCA9CgkJCQlzdmdSZWN0LmxlZnQgLSBjb250YWluZXJSZWN0LmxlZnQgKyB2aWV3Qm94UG9pbnQueCAqIHNjYWxlWDsKCQkJY29uc3QgYW5jaG9yWSA9IHN2Z1JlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AgKyB2aWV3Qm94UG9pbnQueSAqIHNjYWxlWTsKCQkJY29uc3QgdG9vbHRpcFBhZGRpbmcgPSAxMjsKCQkJY29uc3QgdG9vbHRpcE9mZnNldCA9IDA7CgkJCWNvbnN0IHBvaW50R2FwID0gMDsKCQkJY29uc3QgZXN0aW1hdGVkV2lkdGggPSB0b29sdGlwRGltZW5zaW9ucy53aWR0aCB8fCAyMDA7CgkJCWNvbnN0IGVzdGltYXRlZEhlaWdodCA9IHRvb2x0aXBEaW1lbnNpb25zLmhlaWdodCB8fCA4NDsKCgkJCWNvbnN0IG1pblggPSB0b29sdGlwUGFkZGluZzsKCQkJY29uc3QgbWF4WCA9IGNvbnRhaW5lclJlY3Qud2lkdGggLSBlc3RpbWF0ZWRXaWR0aCAtIHRvb2x0aXBQYWRkaW5nOwoJCQljb25zdCBtaW5ZID0gdG9vbHRpcFBhZGRpbmc7CgkJCWNvbnN0IG1heFkgPSBjb250YWluZXJSZWN0LmhlaWdodCAtIGVzdGltYXRlZEhlaWdodCAtIHRvb2x0aXBQYWRkaW5nOwoKCQkJdHlwZSBQbGFjZW1lbnQgPSB7CgkJCQlob3Jpem9udGFsOiAnbGVmdCcgfCAncmlnaHQnOwoJCQkJdmVydGljYWw6ICd0b3AnIHwgJ2JvdHRvbSc7CgkJCX07CgoJCQljb25zdCBwbGFjZW1lbnRzOiBQbGFjZW1lbnRbXSA9IFsKCQkJCXsgaG9yaXpvbnRhbDogJ2xlZnQnLCB2ZXJ0aWNhbDogJ3RvcCcgfSwKCQkJCXsgaG9yaXpvbnRhbDogJ3JpZ2h0JywgdmVydGljYWw6ICd0b3AnIH0sCgkJCQl7IGhvcml6b250YWw6ICdsZWZ0JywgdmVydGljYWw6ICdib3R0b20nIH0sCgkJCQl7IGhvcml6b250YWw6ICdyaWdodCcsIHZlcnRpY2FsOiAnYm90dG9tJyB9LAoJCQldOwoKCQkJY29uc3QgdHJ5UGxhY2VtZW50ID0gKAoJCQkJcGxhY2VtZW50OiBQbGFjZW1lbnQsCgkJCQlhbGxvd092ZXJmbG93OiBib29sZWFuLAoJCQkpOiB7CgkJCQl4OiBudW1iZXI7CgkJCQl5OiBudW1iZXI7CgkJCQlob3Jpem9udGFsOiBQbGFjZW1lbnRbJ2hvcml6b250YWwnXTsKCQkJCXZlcnRpY2FsOiBQbGFjZW1lbnRbJ3ZlcnRpY2FsJ107CgkJCX0gfCBudWxsID0+IHsKCQkJCWNvbnN0IGNhbmRpZGF0ZVggPQoJCQkJCXBsYWNlbWVudC5ob3Jpem9udGFsID09PSAnbGVmdCcKCQkJCQkJPyBhbmNob3JYIC0gZXN0aW1hdGVkV2lkdGggLSB0b29sdGlwT2Zmc2V0CgkJCQkJCTogYW5jaG9yWCArIHRvb2x0aXBPZmZzZXQ7CgkJCQljb25zdCBjYW5kaWRhdGVZID0KCQkJCQlwbGFjZW1lbnQudmVydGljYWwgPT09ICd0b3AnCgkJCQkJCT8gYW5jaG9yWSAtIGVzdGltYXRlZEhlaWdodCAtIHRvb2x0aXBPZmZzZXQKCQkJCQkJOiBhbmNob3JZICsgdG9vbHRpcE9mZnNldDsKCgkJCQlpZiAoIWFsbG93T3ZlcmZsb3cpIHsKCQkJCQlpZiAoY2FuZGlkYXRlWCA8IG1pblggfHwgY2FuZGlkYXRlWCA+IG1heFgpIHJldHVybiBudWxsOwoJCQkJCWlmIChjYW5kaWRhdGVZIDwgbWluWSB8fCBjYW5kaWRhdGVZID4gbWF4WSkgcmV0dXJuIG51bGw7CgkJCQl9CgoJCQkJbGV0IHggPSBjbGFtcChjYW5kaWRhdGVYLCBtaW5YLCBtYXhYKTsKCQkJCWxldCB5ID0gY2xhbXAoY2FuZGlkYXRlWSwgbWluWSwgbWF4WSk7CgoJCQkJaWYgKHBsYWNlbWVudC5ob3Jpem9udGFsID09PSAnbGVmdCcpIHsKCQkJCQl4ID0gTWF0aC5taW4oeCwgYW5jaG9yWCAtIHBvaW50R2FwIC0gZXN0aW1hdGVkV2lkdGgpOwoJCQkJfSBlbHNlIHsKCQkJCQl4ID0gTWF0aC5tYXgoeCwgYW5jaG9yWCArIHBvaW50R2FwKTsKCQkJCX0KCQkJCXggPSBjbGFtcCh4LCBtaW5YLCBtYXhYKTsKCgkJCQlpZiAocGxhY2VtZW50LnZlcnRpY2FsID09PSAndG9wJykgewoJCQkJCXkgPSBNYXRoLm1pbih5LCBhbmNob3JZIC0gcG9pbnRHYXAgLSBlc3RpbWF0ZWRIZWlnaHQpOwoJCQkJfSBlbHNlIHsKCQkJCQl5ID0gTWF0aC5tYXgoeSwgYW5jaG9yWSArIHBvaW50R2FwKTsKCQkJCX0KCQkJCXkgPSBjbGFtcCh5LCBtaW5ZLCBtYXhZKTsKCgkJCQljb25zdCBjb3ZlcnNQb2ludCA9CgkJCQkJYW5jaG9yWCA+PSB4ICYmCgkJCQkJYW5jaG9yWCA8PSB4ICsgZXN0aW1hdGVkV2lkdGggJiYKCQkJCQlhbmNob3JZID49IHkgJiYKCQkJCQlhbmNob3JZIDw9IHkgKyBlc3RpbWF0ZWRIZWlnaHQ7CgoJCQkJaWYgKGNvdmVyc1BvaW50KSByZXR1cm4gbnVsbDsKCgkJCQlyZXR1cm4gewoJCQkJCXgsCgkJCQkJeSwKCQkJCQlob3Jpem9udGFsOiBwbGFjZW1lbnQuaG9yaXpvbnRhbCwKCQkJCQl2ZXJ0aWNhbDogcGxhY2VtZW50LnZlcnRpY2FsLAoJCQkJfTsKCQkJfTsKCgkJCWZvciAoY29uc3QgcGxhY2VtZW50IG9mIHBsYWNlbWVudHMpIHsKCQkJCWNvbnN0IHBvc2l0aW9uID0gdHJ5UGxhY2VtZW50KHBsYWNlbWVudCwgZmFsc2UpOwoJCQkJaWYgKHBvc2l0aW9uKSByZXR1cm4gcG9zaXRpb247CgkJCX0KCgkJCWZvciAoY29uc3QgcGxhY2VtZW50IG9mIHBsYWNlbWVudHMpIHsKCQkJCWNvbnN0IHBvc2l0aW9uID0gdHJ5UGxhY2VtZW50KHBsYWNlbWVudCwgdHJ1ZSk7CgkJCQlpZiAocG9zaXRpb24pIHJldHVybiBwb3NpdGlvbjsKCQkJfQoKCQkJY29uc3QgZmFsbGJhY2tIb3Jpem9udGFsID0KCQkJCWFuY2hvclggKyBwb2ludEdhcCA8PSBtYXhYID8gKCdyaWdodCcgYXMgY29uc3QpIDogKCdsZWZ0JyBhcyBjb25zdCk7CgkJCWNvbnN0IGZhbGxiYWNrVmVydGljYWwgPQoJCQkJYW5jaG9yWSAtIHBvaW50R2FwIC0gZXN0aW1hdGVkSGVpZ2h0ID49IG1pblkKCQkJCQk/ICgndG9wJyBhcyBjb25zdCkKCQkJCQk6IGFuY2hvclkgKyBwb2ludEdhcCA8PSBtYXhZCgkJCQkJCT8gKCdib3R0b20nIGFzIGNvbnN0KQoJCQkJCQk6ICgndG9wJyBhcyBjb25zdCk7CgoJCQlsZXQgZmFsbGJhY2tYID0KCQkJCWZhbGxiYWNrSG9yaXpvbnRhbCA9PT0gJ3JpZ2h0JwoJCQkJCT8gYW5jaG9yWCArIHBvaW50R2FwCgkJCQkJOiBhbmNob3JYIC0gZXN0aW1hdGVkV2lkdGggLSBwb2ludEdhcDsKCQkJbGV0IGZhbGxiYWNrWSA9CgkJCQlmYWxsYmFja1ZlcnRpY2FsID09PSAndG9wJwoJCQkJCT8gYW5jaG9yWSAtIGVzdGltYXRlZEhlaWdodCAtIHBvaW50R2FwCgkJCQkJOiBhbmNob3JZICsgcG9pbnRHYXA7CgoJCQlmYWxsYmFja1ggPSBjbGFtcChmYWxsYmFja1gsIG1pblgsIG1heFgpOwoJCQlmYWxsYmFja1kgPSBjbGFtcChmYWxsYmFja1ksIG1pblksIG1heFkpOwoKCQkJcmV0dXJuIHsKCQkJCXg6IGZhbGxiYWNrWCwKCQkJCXk6IGZhbGxiYWNrWSwKCQkJCWhvcml6b250YWw6IGZhbGxiYWNrSG9yaXpvbnRhbCwKCQkJCXZlcnRpY2FsOiBmYWxsYmFja1ZlcnRpY2FsLAoJCQl9OwoJCX0sCgkJWwoJCQl0b29sdGlwRGltZW5zaW9ucy5oZWlnaHQsCgkJCXRvb2x0aXBEaW1lbnNpb25zLndpZHRoLAoJCQl2aWV3Qm94SGVpZ2h0LAoJCQl2aWV3Qm94V2lkdGgsCgkJXSwKCSk7CgoJY29uc3QgdXBkYXRlVG9vbHRpcEZvclBvaW50ID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKAoJCQlzZXJpZXNJdGVtOiBQb3NpdGlvbmVkU2VyaWVzLAoJCQlwb2ludDogTGluZUNoYXJ0UG9pbnQsCgkJCXZpZXdCb3hQb2ludDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LAoJCSkgPT4gewoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCQlzZXRBY3RpdmVQb2ludElkKHBvaW50LmlkKTsKCQkJc2V0QWN0aXZlUG9pbnRYKHBvaW50LngpOwoKCQkJaWYgKCFzaG93VG9vbHRpcCkgcmV0dXJuOwoKCQkJY29uc3QgcG9zaXRpb24gPSBjYWxjdWxhdGVUb29sdGlwUG9zaXRpb24odmlld0JveFBvaW50KTsKCQkJaWYgKCFwb3NpdGlvbikgcmV0dXJuOwoKCQkJY29uc3QgZm9ybWF0dGVkWE5vZGUgPSBmb3JtYXRYKHBvaW50KTsKCQkJY29uc3QgZm9ybWF0dGVkWU5vZGUgPSBmb3JtYXRZRm9yU2VyaWVzKHNlcmllc0l0ZW0uaWQsIHBvaW50KTsKCQkJY29uc3QgZm9ybWF0dGVkWFRleHQgPSB0b1BsYWluVGV4dCgKCQkJCWZvcm1hdHRlZFhOb2RlLAoJCQkJZ2V0UG9pbnRMYWJlbFRleHQocG9pbnQpLAoJCQkpOwoJCQljb25zdCBmb3JtYXR0ZWRZVGV4dCA9IHRvUGxhaW5UZXh0KAoJCQkJZm9ybWF0dGVkWU5vZGUsCgkJCQlnZXRQb2ludFZhbHVlVGV4dChwb2ludCksCgkJCSk7CgoJCQljb25zdCBzZXJpZXNFbnRyaWVzID0gY29tcHV0ZWRTZXJpZXMuZmxhdE1hcDxMaW5lQ2hhcnRUb29sdGlwU2VyaWVzRW50cnk+KAoJCQkJKGNhbmRpZGF0ZSkgPT4gewoJCQkJCWNvbnN0IG1hdGNoZWQgPSBjYW5kaWRhdGUucG9pbnRzLmZpbmQoCgkJCQkJCShjYW5kaWRhdGVQb2ludCkgPT4gY2FuZGlkYXRlUG9pbnQueCA9PT0gcG9pbnQueCwKCQkJCQkpOwoJCQkJCWlmICghbWF0Y2hlZCkgcmV0dXJuIFtdOwoJCQkJCWNvbnN0IGZvcm1hdHRlZFZhbHVlTm9kZSA9IGZvcm1hdFlGb3JTZXJpZXMoY2FuZGlkYXRlLmlkLCBtYXRjaGVkKTsKCQkJCQljb25zdCBmb3JtYXR0ZWRWYWx1ZVRleHQgPSB0b1BsYWluVGV4dCgKCQkJCQkJZm9ybWF0dGVkVmFsdWVOb2RlLAoJCQkJCQlnZXRQb2ludFZhbHVlVGV4dChtYXRjaGVkKSwKCQkJCQkpOwoJCQkJCXJldHVybiBbCgkJCQkJCXsKCQkJCQkJCXNlcmllc0lkOiBjYW5kaWRhdGUuaWQsCgkJCQkJCQlzZXJpZXNMYWJlbDogY2FuZGlkYXRlLnNlcmllc0xhYmVsLAoJCQkJCQkJc2VyaWVzQ29sb3I6IGNhbmRpZGF0ZS5jb2xvciwKCQkJCQkJCXZhbHVlTGFiZWw6IGNhbmRpZGF0ZS52YWx1ZUxhYmVsLAoJCQkJCQkJcG9pbnQ6IG1hdGNoZWQsCgkJCQkJCQl2YWx1ZTogbWF0Y2hlZC52YWx1ZSwKCQkJCQkJCWZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZU5vZGUsCgkJCQkJCQlmb3JtYXR0ZWRWYWx1ZVRleHQsCgkJCQkJCX0sCgkJCQkJXTsKCQkJCX0sCgkJCSk7CgoJCQlzZXRUb29sdGlwKChwcmV2aW91cykgPT4gewoJCQkJY29uc3Qgc2hvdWxkQW5pbWF0ZUluID0gIXByZXZpb3VzIHx8ICFwcmV2aW91cy52aXNpYmxlOwoJCQkJY29uc3QgbmV4dCA9IHsKCQkJCQlpbmZvOiB7CgkJCQkJCXBvaW50LAoJCQkJCQl2YWx1ZTogcG9pbnQudmFsdWUsCgkJCQkJCXNlcmllc0lkOiBzZXJpZXNJdGVtLmlkLAoJCQkJCQlzZXJpZXNMYWJlbDogc2VyaWVzSXRlbS5zZXJpZXNMYWJlbCwKCQkJCQkJc2VyaWVzQ29sb3I6IHNlcmllc0l0ZW0uY29sb3IsCgkJCQkJCXZhbHVlTGFiZWw6IHNlcmllc0l0ZW0udmFsdWVMYWJlbCwKCQkJCQkJZm9ybWF0dGVkWDogZm9ybWF0dGVkWE5vZGUsCgkJCQkJCWZvcm1hdHRlZFk6IGZvcm1hdHRlZFlOb2RlLAoJCQkJCQlmb3JtYXR0ZWRYVGV4dCwKCQkJCQkJZm9ybWF0dGVkWVRleHQsCgkJCQkJCXNlcmllc0VudHJpZXMsCgkJCQkJfSwKCQkJCQl4OiBwb3NpdGlvbi54LAoJCQkJCXk6IHBvc2l0aW9uLnksCgkJCQkJaG9yaXpvbnRhbDogcG9zaXRpb24uaG9yaXpvbnRhbCwKCQkJCQl2ZXJ0aWNhbDogcG9zaXRpb24udmVydGljYWwsCgkJCQkJdmlzaWJsZTogIXNob3VsZEFuaW1hdGVJbiwKCQkJCQllbnRlcmluZzogc2hvdWxkQW5pbWF0ZUluLAoJCQkJfTsKCgkJCQlpZiAoCgkJCQkJcHJldmlvdXMgJiYKCQkJCQlwcmV2aW91cy5pbmZvLnBvaW50LmlkID09PSBwb2ludC5pZCAmJgoJCQkJCU1hdGguYWJzKHByZXZpb3VzLnggLSBuZXh0LngpIDwgMC41ICYmCgkJCQkJTWF0aC5hYnMocHJldmlvdXMueSAtIG5leHQueSkgPCAwLjUgJiYKCQkJCQlwcmV2aW91cy5ob3Jpem9udGFsID09PSBuZXh0Lmhvcml6b250YWwgJiYKCQkJCQlwcmV2aW91cy52ZXJ0aWNhbCA9PT0gbmV4dC52ZXJ0aWNhbAoJCQkJKSB7CgkJCQkJaWYgKHNob3VsZEFuaW1hdGVJbikgewoJCQkJCQlyZXR1cm4gbmV4dDsKCQkJCQl9CgkJCQkJaWYgKCFwcmV2aW91cy52aXNpYmxlKSB7CgkJCQkJCXJldHVybiB7IC4uLnByZXZpb3VzLCB2aXNpYmxlOiB0cnVlLCBlbnRlcmluZzogZmFsc2UgfTsKCQkJCQl9CgkJCQkJcmV0dXJuIHByZXZpb3VzOwoJCQkJfQoJCQkJcmV0dXJuIG5leHQ7CgkJCX0pOwoJCX0sCgkJWwoJCQljYWxjdWxhdGVUb29sdGlwUG9zaXRpb24sCgkJCWNhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlLAoJCQlmb3JtYXRYLAoJCQlmb3JtYXRZRm9yU2VyaWVzLAoJCQljb21wdXRlZFNlcmllcywKCQkJc2V0QWN0aXZlUG9pbnRJZCwKCQkJc2V0QWN0aXZlUG9pbnRYLAoJCQlzaG93VG9vbHRpcCwKCQldLAoJKTsKCgljb25zdCBoYW5kbGVQb2ludGVyTW92ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PFNWR1JlY3RFbGVtZW50PikgPT4gewoJCQljb25zdCB0YXJnZXRSZWN0ID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJaWYgKHRhcmdldFJlY3Qud2lkdGggPT09IDAgfHwgY2hhcnRXaWR0aCA9PT0gMCkgcmV0dXJuOwoJCQljb25zdCBsb2NhbFggPSBldmVudC5jbGllbnRYIC0gdGFyZ2V0UmVjdC5sZWZ0OwoJCQljb25zdCBzY2FsZSA9IGNoYXJ0V2lkdGggLyB0YXJnZXRSZWN0LndpZHRoOwoJCQljb25zdCBwb2ludGVyVmlld0JveFggPSBjaGFydFN0YXJ0WCArIGxvY2FsWCAqIHNjYWxlOwoKCQkJbGV0IGNsb3Nlc3QgPSBudWxsIGFzIHsKCQkJCXNlcmllczogUG9zaXRpb25lZFNlcmllczsKCQkJCXBvaW50OiBMaW5lQ2hhcnRQb2ludDsKCQkJCXZpZXdCb3g6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTsKCQkJCWRpc3RhbmNlOiBudW1iZXI7CgkJCX0gfCBudWxsOwoKCQkJcG9zaXRpb25lZFBvaW50c0FsbC5mb3JFYWNoKCh7IHNlcmllczogc2VyaWVzSXRlbSwgcG9pbnQsIHgsIHkgfSkgPT4gewoJCQkJY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyh4IC0gcG9pbnRlclZpZXdCb3hYKTsKCQkJCWlmIChjbG9zZXN0ID09PSBudWxsIHx8IGRpc3RhbmNlIDwgY2xvc2VzdC5kaXN0YW5jZSkgewoJCQkJCWNsb3Nlc3QgPSB7IHNlcmllczogc2VyaWVzSXRlbSwgcG9pbnQsIHZpZXdCb3g6IHsgeCwgeSB9LCBkaXN0YW5jZSB9OwoJCQkJfQoJCQl9KTsKCgkJCWlmICghY2xvc2VzdCkgcmV0dXJuOwoKCQkJdXBkYXRlVG9vbHRpcEZvclBvaW50KGNsb3Nlc3Quc2VyaWVzLCBjbG9zZXN0LnBvaW50LCBjbG9zZXN0LnZpZXdCb3gpOwoJCX0sCgkJW2NoYXJ0U3RhcnRYLCBjaGFydFdpZHRoLCBwb3NpdGlvbmVkUG9pbnRzQWxsLCB1cGRhdGVUb29sdGlwRm9yUG9pbnRdLAoJKTsKCgljb25zdCBoYW5kbGVQb2ludGVyTGVhdmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxFbGVtZW50PikgPT4gewoJCQlpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7CgkJCQlyZXR1cm47CgkJCX0KCQkJc2NoZWR1bGVUb29sdGlwSGlkZSgpOwoJCX0sCgkJW3NjaGVkdWxlVG9vbHRpcEhpZGVdLAoJKTsKCgljb25zdCByZW5kZXJUb29sdGlwID0KCQlzaG93VG9vbHRpcCAmJiB0b29sdGlwICYmIHRvb2x0aXBSZW5kZXIKCQkJPyB0b29sdGlwUmVuZGVyKHRvb2x0aXAuaW5mbyBhcyBMaW5lQ2hhcnRUb29sdGlwSW5mbykKCQkJOiB0b29sdGlwICYmICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIj4KCQkJCQkJCXt0b29sdGlwLmluZm8uZm9ybWF0dGVkWH0KCQkJCQkJPC9kaXY+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTEiPgoJCQkJCQkJe3Rvb2x0aXAuaW5mby5zZXJpZXNFbnRyaWVzLm1hcCgoZW50cnkpID0+IHsKCQkJCQkJCQlyZXR1cm4gKAoJCQkJCQkJCQk8ZGl2CgkJCQkJCQkJCQlrZXk9e2VudHJ5LnNlcmllc0lkfQoJCQkJCQkJCQkJY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMiCgkJCQkJCQkJCT4KCQkJCQkJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CgkJCQkJCQkJCQkJPHNwYW4KCQkJCQkJCQkJCQkJY2xhc3NOYW1lPSJpbmxpbmUtZmxleCBoLTIuNSB3LTEgc2hyaW5rLTAgcm91bmRlZC1bMXB4XSIKCQkJCQkJCQkJCQkJc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBlbnRyeS5zZXJpZXNDb2xvciB9fQoJCQkJCQkJCQkJCS8+CgkJCQkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPXtjbigndGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAnKX0+CgkJCQkJCQkJCQkJCXtlbnRyeS5zZXJpZXNMYWJlbH0KCQkJCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT17Y24oJ3RleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzQ1Jyl9PgoJCQkJCQkJCQkJCXtlbnRyeS5mb3JtYXR0ZWRWYWx1ZX0KCQkJCQkJCQkJCTwvc3Bhbj4KCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJKTsKCQkJCQkJCX0pfQoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIXNob3dDaGFydCkgewoJCQlzZXRUb29sdGlwKG51bGwpOwoJCX0KCX0sIFtzaG93Q2hhcnRdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICghdG9vbHRpcCkgewoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBoYW5kbGVQb2ludGVyRG93biA9IChldmVudDogUG9pbnRlckV2ZW50KSA9PiB7CgkJCWNvbnN0IGNvbnRhaW5lciA9IG91dGVyUmVmLmN1cnJlbnQ7CgkJCWlmICghY29udGFpbmVyKSByZXR1cm47CgkJCWNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDsKCQkJaWYgKHRhcmdldCBpbnN0YW5jZW9mIE5vZGUgJiYgY29udGFpbmVyLmNvbnRhaW5zKHRhcmdldCkpIHsKCQkJCXJldHVybjsKCQkJfQoJCQljbGVhclRvb2x0aXAoKTsKCQl9OwoKCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBoYW5kbGVQb2ludGVyRG93bik7CgoJCXJldHVybiAoKSA9PiB7CgkJCXdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGhhbmRsZVBvaW50ZXJEb3duKTsKCQl9OwoJfSwgW2NsZWFyVG9vbHRpcCwgdG9vbHRpcF0pOwoKCWxldCBib2R5OiBSZWFjdC5SZWFjdE5vZGUgPSBudWxsOwoKCWlmIChlcnJvcikgewoJCWJvZHkgPQoJCQl0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnID8gKAoJCQkJPExpbmVDaGFydFN0YXRlCgkJCQkJbGFiZWw9IlRoZXJlIHdhcyBhIHByb2JsZW0gcmVuZGVyaW5nIHRoZSBjaGFydC4iCgkJCQkJZGVzY3JpcHRpb249e2Vycm9yfQoJCQkJLz4KCQkJKSA6ICgKCQkJCWVycm9yCgkJCSk7Cgl9IGVsc2UgaWYgKGxvYWRpbmcpIHsKCQlib2R5ID0gbG9hZGluZ1N0YXRlID8/ICgKCQkJPExpbmVDaGFydFN0YXRlIGxhYmVsPSJMb2FkaW5nIGNoYXJ0IGRhdGHigKYiIGRlc2NyaXB0aW9uPXt1bmRlZmluZWR9IC8+CgkJKTsKCX0gZWxzZSBpZiAoIWhhc0Vub3VnaFBvaW50cykgewoJCWJvZHkgPSBlbXB0eVN0YXRlID8/ICgKCQkJPExpbmVDaGFydFN0YXRlCgkJCQlsYWJlbD0iTm90IGVub3VnaCBkYXRhIHRvIGRpc3BsYXkgeWV0LiIKCQkJCWRlc2NyaXB0aW9uPSJQcm92aWRlIGF0IGxlYXN0IHR3byBkYXRhIHBvaW50cyBvciBhZGp1c3QgeW91ciBmaWx0ZXJzLiIKCQkJLz4KCQkpOwoJfSBlbHNlIHsKCQlib2R5ID0gKAoJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L25vU3ZnV2l0aG91dFRpdGxlOiBoYW5kbGVkIHZpYSBhcmlhLWxhYmVsICovCgkJCTxzdmcKCQkJCXJlZj17c3ZnUmVmfQoJCQkJY2xhc3NOYW1lPSJoLWZ1bGwgdy1mdWxsIHRleHQtZm9yZWdyb3VuZC80NSIKCQkJCXZpZXdCb3g9e2AwIDAgJHt2aWV3Qm94V2lkdGh9ICR7dmlld0JveEhlaWdodH1gfQoJCQkJYXJpYS1sYWJlbD17c3ZnVGl0bGV9CgkJCQlwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IgoJCQkJc3R5bGU9e3sgb3ZlcmZsb3c6ICd2aXNpYmxlJyB9fQoJCQkJc2hhcGVSZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIKCQkJCW9uUG9pbnRlckxlYXZlPXtoYW5kbGVQb2ludGVyTGVhdmV9CgkJCQl7Li4uKHRyaW1tZWRBcmlhTGFiZWwKCQkJCQk/IHsgcm9sZTogJ2ltZycsICdhcmlhLWxhYmVsbGVkYnknOiBzdmdUaXRsZUlkIH0KCQkJCQk6IHsgcm9sZTogJ2ltZycsICdhcmlhLWhpZGRlbic6IHRydWUgfSl9CgkJCT4KCQkJCTxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InRyYW5zcGFyZW50IiAvPgoJCQkJPGc+CgkJCQkJe3Nob3dHcmlkID8gKAoJCQkJCQk8ZyBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlT3BhY2l0eT17MC4xfSBzdHJva2VXaWR0aD17MX0+CgkJCQkJCQl7eUF4aXNUaWNrcy5tYXAoKHRpY2spID0+ICgKCQkJCQkJCQk8bGluZQoJCQkJCQkJCQlrZXk9e2BncmlkLXktJHt0aWNrLnZhbHVlfWB9CgkJCQkJCQkJCXgxPXtjaGFydFN0YXJ0WH0KCQkJCQkJCQkJeTE9e3RpY2sucG9zaXRpb259CgkJCQkJCQkJCXgyPXtjaGFydFJpZ2h0fQoJCQkJCQkJCQl5Mj17dGljay5wb3NpdGlvbn0KCQkJCQkJCQkvPgoJCQkJCQkJKSl9CgkJCQkJCTwvZz4KCQkJCQkpIDogbnVsbH0KCQkJCQl7Y29tcHV0ZWRTZXJpZXMubWFwKChzZXJpZXNJdGVtKSA9PiAoCgkJCQkJCTxnIGtleT17YHNlcmllcy0ke3Nlcmllc0l0ZW0uaWR9YH0+CgkJCQkJCQl7c2VyaWVzSXRlbS5saW5lUGF0aCA/ICgKCQkJCQkJCQk8cGF0aAoJCQkJCQkJCQlkPXtzZXJpZXNJdGVtLmxpbmVQYXRofQoJCQkJCQkJCQlmaWxsPSJub25lIgoJCQkJCQkJCQlzdHJva2U9e3Nlcmllc0l0ZW0uY29sb3J9CgkJCQkJCQkJCXN0cm9rZVdpZHRoPXsyfQoJCQkJCQkJCQlzdHJva2VMaW5lam9pbj0icm91bmQiCgkJCQkJCQkJCXN0cm9rZUxpbmVjYXA9InJvdW5kIgoJCQkJCQkJCS8+CgkJCQkJCQkpIDogbnVsbH0KCQkJCQkJPC9nPgoJCQkJCSkpfQoJCQkJCTxnIGNsYXNzTmFtZT0idGV4dC1bMTBweF0gZm9udC1ub3JtYWwgdGV4dC1mb3JlZ3JvdW5kLzQ1Ij4KCQkJCQkJe3Nob3dYQXhpc0xhYmVscwoJCQkJCQkJPyB4QXhpc1RpY2tzLm1hcCgodGljaykgPT4gKAoJCQkJCQkJCQk8ZyBrZXk9e2BheGlzLXgtJHt0aWNrLmlkfWB9PgoJCQkJCQkJCQkJPHRleHQKCQkJCQkJCQkJCQl4PXt0aWNrLnBvc2l0aW9ufQoJCQkJCQkJCQkJCXk9e01hdGgubWluKAoJCQkJCQkJCQkJCQl2aWV3Qm94SGVpZ2h0ICsgNCwKCQkJCQkJCQkJCQkJY2hhcnRCb3R0b20gKyBheGlzVGlja0xlbmd0aCArIDIwLAoJCQkJCQkJCQkJCSl9CgkJCQkJCQkJCQkJdGV4dEFuY2hvcj0ibWlkZGxlIgoJCQkJCQkJCQkJCWZpbGw9ImN1cnJlbnRDb2xvciIKCQkJCQkJCQkJCQljbGFzc05hbWU9InRleHQtWzExcHhdIgoJCQkJCQkJCQkJPgoJCQkJCQkJCQkJCXt0aWNrLmxhYmVsfQoJCQkJCQkJCQkJPC90ZXh0PgoJCQkJCQkJCQk8L2c+CgkJCQkJCQkJKSkKCQkJCQkJCTogbnVsbH0KCQkJCQkJe3Nob3dZQXhpc0xhYmVscwoJCQkJCQkJPyB5QXhpc1RpY2tzLm1hcCgodGljaykgPT4gKAoJCQkJCQkJCQk8ZyBrZXk9e2BheGlzLXktJHt0aWNrLnZhbHVlfS0ke01hdGgucm91bmQodGljay5wb3NpdGlvbil9YH0+CgkJCQkJCQkJCQk8dGV4dAoJCQkJCQkJCQkJCWRhdGEtbGluZS1jaGFydC15LWxhYmVsCgkJCQkJCQkJCQkJeD17eVRpY2tMYWJlbFh9CgkJCQkJCQkJCQkJeT17dGljay5wb3NpdGlvbiArIDN9CgkJCQkJCQkJCQkJdGV4dEFuY2hvcj0iZW5kIgoJCQkJCQkJCQkJCWZpbGw9ImN1cnJlbnRDb2xvciIKCQkJCQkJCQkJCQljbGFzc05hbWU9InRleHQtWzExcHhdIgoJCQkJCQkJCQkJPgoJCQkJCQkJCQkJCXt0aWNrLmxhYmVsfQoJCQkJCQkJCQkJPC90ZXh0PgoJCQkJCQkJCQk8L2c+CgkJCQkJCQkJKSkKCQkJCQkJCTogbnVsbH0KCQkJCQk8L2c+CgkJCQkJe3Nob3dEb3RzCgkJCQkJCT8gY29tcHV0ZWRTZXJpZXMuZmxhdE1hcCgoc2VyaWVzSXRlbSkgPT4KCQkJCQkJCQlzZXJpZXNJdGVtLnBvc2l0aW9uZWRQb2ludHMubWFwKCh7IHBvaW50LCB4LCB5IH0pID0+IHsKCQkJCQkJCQkJY29uc3QgaXNBY3RpdmUgPQoJCQkJCQkJCQkJYWN0aXZlUG9pbnRJZCA9PT0gcG9pbnQuaWQgfHwKCQkJCQkJCQkJCShhY3RpdmVQb2ludFggIT09IG51bGwgJiYgcG9pbnQueCA9PT0gYWN0aXZlUG9pbnRYKTsKCQkJCQkJCQkJY29uc3QgZm9ybWF0dGVkWE5vZGUgPSBmb3JtYXRYKHBvaW50KTsKCQkJCQkJCQkJY29uc3QgZm9ybWF0dGVkWU5vZGUgPSBmb3JtYXRZRm9yU2VyaWVzKHNlcmllc0l0ZW0uaWQsIHBvaW50KTsKCQkJCQkJCQkJY29uc3QgZm9ybWF0dGVkWFRleHQgPSB0b1BsYWluVGV4dCgKCQkJCQkJCQkJCWZvcm1hdHRlZFhOb2RlLAoJCQkJCQkJCQkJZ2V0UG9pbnRMYWJlbFRleHQocG9pbnQpLAoJCQkJCQkJCQkpOwoJCQkJCQkJCQljb25zdCBmb3JtYXR0ZWRZVGV4dCA9IHRvUGxhaW5UZXh0KAoJCQkJCQkJCQkJZm9ybWF0dGVkWU5vZGUsCgkJCQkJCQkJCQlnZXRQb2ludFZhbHVlVGV4dChwb2ludCksCgkJCQkJCQkJCSk7CgkJCQkJCQkJCXJldHVybiAoCgkJCQkJCQkJCQk8ZyBrZXk9e2Ake3Nlcmllc0l0ZW0uaWR9LSR7cG9pbnQuaWR9YH0+CgkJCQkJCQkJCQkJey8qIGJpb21lLWlnbm9yZSBsaW50L2ExMXkvdXNlU2VtYW50aWNFbGVtZW50czogQSA8Y2lyY2xlPiBjYW5ub3QgYmUgcmVwbGFjZWQgd2l0aCA8YnV0dG9uPiBpbnNpZGUgU1ZHLCBzbyB3ZSBwcm92aWRlIGJ1dHRvbiBzZW1hbnRpY3MgdmlhIHJvbGUuICovfQoJCQkJCQkJCQkJCTxjaXJjbGUKCQkJCQkJCQkJCQkJY3g9e3h9CgkJCQkJCQkJCQkJCWN5PXt5fQoJCQkJCQkJCQkJCQlyPXtpc0FjdGl2ZSA/IDUgOiA0fQoJCQkJCQkJCQkJCQlmaWxsPXtzZXJpZXNJdGVtLmNvbG9yfQoJCQkJCQkJCQkJCQlmaWxsT3BhY2l0eT17aXNBY3RpdmUgPyAxIDogMH0KCQkJCQkJCQkJCQkJc3Ryb2tlPXtzZXJpZXNJdGVtLmNvbG9yfQoJCQkJCQkJCQkJCQlzdHJva2VPcGFjaXR5PXtpc0FjdGl2ZSA/IDEgOiAwfQoJCQkJCQkJCQkJCQlzdHJva2VXaWR0aD17MC41fQoJCQkJCQkJCQkJCQlzdHlsZT17ewoJCQkJCQkJCQkJCQkJb3BhY2l0eTogaXNBY3RpdmUgPyAxIDogMCwKCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkJcm9sZT0iYnV0dG9uIgoJCQkJCQkJCQkJCQl0YWJJbmRleD17MH0KCQkJCQkJCQkJCQkJYXJpYS1wcmVzc2VkPXtpc0FjdGl2ZX0KCQkJCQkJCQkJCQkJYXJpYS1sYWJlbD17YCR7c2VyaWVzSXRlbS5zZXJpZXNMYWJlbH0gJHtmb3JtYXR0ZWRYVGV4dH06ICR7Zm9ybWF0dGVkWVRleHR9YH0KCQkJCQkJCQkJCQkJb25Qb2ludGVyRW50ZXI9eygpID0+CgkJCQkJCQkJCQkJCQl1cGRhdGVUb29sdGlwRm9yUG9pbnQoc2VyaWVzSXRlbSwgcG9pbnQsIHsgeCwgeSB9KQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCW9uUG9pbnRlckxlYXZlPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJCQkJCWlmICgKCQkJCQkJCQkJCQkJCQlldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyB8fAoJCQkJCQkJCQkJCQkJCWV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJwoJCQkJCQkJCQkJCQkJKSB7CgkJCQkJCQkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJc2NoZWR1bGVUb29sdGlwSGlkZSgpOwoJCQkJCQkJCQkJCQl9fQoJCQkJCQkJCQkJCQlvbkZvY3VzPXsoKSA9PgoJCQkJCQkJCQkJCQkJdXBkYXRlVG9vbHRpcEZvclBvaW50KHNlcmllc0l0ZW0sIHBvaW50LCB7IHgsIHkgfSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlvbkJsdXI9e2NsZWFyVG9vbHRpcH0KCQkJCQkJCQkJCQkJb25DbGljaz17KCkgPT4KCQkJCQkJCQkJCQkJCXVwZGF0ZVRvb2x0aXBGb3JQb2ludChzZXJpZXNJdGVtLCBwb2ludCwgeyB4LCB5IH0pCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJb25LZXlEb3duPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJCQkJCWlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHsKCQkJCQkJCQkJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJCQkJCQkJCXVwZGF0ZVRvb2x0aXBGb3JQb2ludChzZXJpZXNJdGVtLCBwb2ludCwgewoJCQkJCQkJCQkJCQkJCQl4LAoJCQkJCQkJCQkJCQkJCQl5LAoJCQkJCQkJCQkJCQkJCX0pOwoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHsKCQkJCQkJCQkJCQkJCQljbGVhclRvb2x0aXAoKTsKCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkvPgoJCQkJCQkJCQkJPC9nPgoJCQkJCQkJCQkpOwoJCQkJCQkJCX0pLAoJCQkJCQkJKQoJCQkJCQk6IG51bGx9CgkJCQkJPHJlY3QKCQkJCQkJeD17Y2hhcnRTdGFydFh9CgkJCQkJCXk9e3BhZGRpbmcudG9wfQoJCQkJCQl3aWR0aD17Y2hhcnRXaWR0aH0KCQkJCQkJaGVpZ2h0PXtjaGFydEhlaWdodH0KCQkJCQkJZmlsbD0idHJhbnNwYXJlbnQiCgkJCQkJCW9uUG9pbnRlck1vdmU9e2hhbmRsZVBvaW50ZXJNb3ZlfQoJCQkJCQlvblBvaW50ZXJMZWF2ZT17aGFuZGxlUG9pbnRlckxlYXZlfQoJCQkJCQlvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHsKCQkJCQkJCWlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgewoJCQkJCQkJCWhhbmRsZVBvaW50ZXJNb3ZlKGV2ZW50KTsKCQkJCQkJCX0KCQkJCQkJfX0KCQkJCQkvPgoJCQkJPC9nPgoJCQk8L3N2Zz4KCQkpOwoJfQoKCXJldHVybiAoCgkJPGRpdgoJCQlyZWY9e2NvbWJpbmVkUmVmfQoJCQljbGFzc05hbWU9e2NuKCdyZWxhdGl2ZSB3LWZ1bGwgcC00JywgY2xhc3NOYW1lKX0KCQkJc3R5bGU9e3sgLi4uc3R5bGUsIGhlaWdodDogcmVzb2x2ZWRIZWlnaHQsIG1pbkhlaWdodDogcmVzb2x2ZWRIZWlnaHQgfX0KCQkJey4uLnJlc3R9CgkJPgoJCQk8ZGl2CgkJCQlyZWY9eyhub2RlKSA9PiB7CgkJCQkJY2hhcnRDb250YWluZXJSZWYuY3VycmVudCA9IG5vZGU7CgkJCQl9fQoJCQkJY2xhc3NOYW1lPSJyZWxhdGl2ZSBoLWZ1bGwgdy1mdWxsIgoJCQk+CgkJCQl7Ym9keX0KCQkJCXtzaG93Q2hhcnQgJiYgY2hpbGRyZW4gPyAoCgkJCQkJPGRpdiBjbGFzc05hbWU9InBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciI+CgkJCQkJCXtjaGlsZHJlbn0KCQkJCQk8L2Rpdj4KCQkJCSkgOiBudWxsfQoJCQkJe3Nob3dUb29sdGlwICYmIHRvb2x0aXAgJiYgcmVuZGVyVG9vbHRpcCA/ICgKCQkJCQk8ZGl2CgkJCQkJCXJlZj17dG9vbHRpcFJlZn0KCQkJCQkJZGF0YS12aXNpYmxlPXt0b29sdGlwLnZpc2libGUgPyAnJyA6IHVuZGVmaW5lZH0KCQkJCQkJY2xhc3NOYW1lPSJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGxlZnQtMCB0b3AtMCB6LTUwIgoJCQkJCQlzdHlsZT17ewoJCQkJCQkJdHJhbnNmb3JtT3JpZ2luOiBgJHt0b29sdGlwLmhvcml6b250YWx9ICR7dG9vbHRpcC52ZXJ0aWNhbH1gLAoJCQkJCQkJdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHt0b29sdGlwLnh9cHgsICR7dG9vbHRpcC55fXB4LCAwKSBzY2FsZSgke3Rvb2x0aXAudmlzaWJsZSA/IDEgOiAwLjk1fSlgLAoJCQkJCQkJb3BhY2l0eTogdG9vbHRpcC52aXNpYmxlID8gMSA6IDAsCgkJCQkJCQl0cmFuc2l0aW9uOgoJCQkJCQkJCSd0cmFuc2Zvcm0gNDUwbXMgdmFyKC0tZWFzZS1zbW9vdGgpLCBvcGFjaXR5IDMwMG1zIHZhcigtLWVhc2Utc21vb3RoKScsCgkJCQkJCQl3aWxsQ2hhbmdlOiAndHJhbnNmb3JtLCBvcGFjaXR5JywKCQkJCQkJfX0KCQkJCQk+CgkJCQkJCTxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSBtaW4tdy0zMiBtYXgtdy14cyByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLXBvcG92ZXIgcC0yIHRleHQteHMgdGV4dC1mb3JlZ3JvdW5kIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCI+CgkJCQkJCQl7cmVuZGVyVG9vbHRpcH0KCQkJCQkJPC9kaXY+CgkJCQkJPC9kaXY+CgkJCQkpIDogbnVsbH0KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9KTsKTGluZUNoYXJ0R3JhcGhCYXNlLmRpc3BsYXlOYW1lID0gJ0xpbmVDaGFydEdyYXBoJzsKCnR5cGUgTGluZUNoYXJ0R3JhcGhDb21wb25lbnQgPSA8VERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bT4oCglwcm9wczogTGluZUNoYXJ0R3JhcGhQcm9wczxURGF0YT4gJiB7IHJlZj86IFJlYWN0LlJlZjxIVE1MRGl2RWxlbWVudD4gfSwKKSA9PiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsOwoKZXhwb3J0IGNvbnN0IExpbmVDaGFydEdyYXBoID0gTGluZUNoYXJ0R3JhcGhCYXNlIGFzIExpbmVDaGFydEdyYXBoQ29tcG9uZW50OwoKZXhwb3J0IGludGVyZmFjZSBMaW5lQ2hhcnRMZWdlbmRQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4ge30KCmV4cG9ydCBjb25zdCBMaW5lQ2hhcnRMZWdlbmQgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglMaW5lQ2hhcnRMZWdlbmRQcm9wcwo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7Cgljb25zdCB7IHNlcmllcyB9ID0gdXNlTGluZUNoYXJ0Q29udGV4dCgpOwoKCWlmICghc2VyaWVzLmxlbmd0aCkgewoJCXJldHVybiBudWxsOwoJfQoKCXJldHVybiAoCgkJPGRpdgoJCQlyZWY9e3JlZn0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtNCBwYi00IHB0LTIgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7c2VyaWVzLm1hcCgoc2VyaWVzSXRlbSkgPT4gKAoJCQkJPGRpdiBrZXk9e3Nlcmllc0l0ZW0uaWR9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJCTxzcGFuCgkJCQkJCWNsYXNzTmFtZT0iaW5saW5lLWZsZXggaC0yLjUgdy0xIHNocmluay0wIHJvdW5kZWQtWzFweF0iCgkJCQkJCXN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogc2VyaWVzSXRlbS5jb2xvciB9fQoJCQkJCS8+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCI+CgkJCQkJCXtzZXJpZXNJdGVtLnNlcmllc0xhYmVsfQoJCQkJCTwvc3Bhbj4KCQkJCTwvZGl2PgoJCQkpKX0KCQk8L2Rpdj4KCSk7Cn0pOwpMaW5lQ2hhcnRMZWdlbmQuZGlzcGxheU5hbWUgPSAnTGluZUNoYXJ0TGVnZW5kJzsKCmV4cG9ydCBpbnRlcmZhY2UgTGluZUNoYXJ0RGF0YVRhYmxlUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBMaW5lQ2hhcnREYXRhVGFibGUgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglMaW5lQ2hhcnREYXRhVGFibGVQcm9wcwo+KCh7IGNsYXNzTmFtZSA9ICcnLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJcmVmPXtyZWZ9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQknYmctY2FyZC1tdXRlZC8zMCBzcGFjZS15LTIgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBwLTQgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQvNzAnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9KTsKTGluZUNoYXJ0RGF0YVRhYmxlLmRpc3BsYXlOYW1lID0gJ0xpbmVDaGFydERhdGFUYWJsZSc7CgpleHBvcnQgaW50ZXJmYWNlIExpbmVDaGFydERhdGFUYWJsZUNvbnRlbnRQcm9wczwKCVREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0sCj4gewoJY2xhc3NOYW1lPzogc3RyaW5nOwoJcm93Q2xhc3NOYW1lPzogc3RyaW5nOwoJbGFiZWxDbGFzc05hbWU/OiBzdHJpbmc7Cgl2YWx1ZUNsYXNzTmFtZT86IHN0cmluZzsKCWRlbHRhQ2xhc3NOYW1lPzogc3RyaW5nOwoJc2hvd0RlbHRhPzogYm9vbGVhbjsKCWRlbHRhRm9ybWF0dGVyPzogKAoJCWN1cnJlbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPiwKCQlwcmV2aW91czogTGluZUNoYXJ0UG9pbnQ8VERhdGE+IHwgbnVsbCwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwoJdmFsdWVGb3JtYXR0ZXI/OiAoCgkJcG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPiwKCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IGRvbWFpbjogW251bWJlciwgbnVtYmVyXSB9LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7CglzaG93VG90YWxSb3c/OiBib29sZWFuOwoJYXZlcmFnZUxhYmVsPzogUmVhY3QuUmVhY3ROb2RlOwoJYXZlcmFnZUZvcm1hdHRlcj86IChhdmVyYWdlOiBudW1iZXIpID0+IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZXhwb3J0IGZ1bmN0aW9uIExpbmVDaGFydERhdGFUYWJsZUNvbnRlbnQ8CglURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtLAo+KHsKCWNsYXNzTmFtZSA9ICcnLAoJcm93Q2xhc3NOYW1lLAoJbGFiZWxDbGFzc05hbWUsCgl2YWx1ZUNsYXNzTmFtZSwKCWRlbHRhQ2xhc3NOYW1lLAoJc2hvd0RlbHRhID0gdHJ1ZSwKCWRlbHRhRm9ybWF0dGVyLAoJdmFsdWVGb3JtYXR0ZXIsCglzaG93VG90YWxSb3cgPSB0cnVlLAoJYXZlcmFnZUxhYmVsID0gJ0F2ZXJhZ2UnLAoJYXZlcmFnZUZvcm1hdHRlciwKfTogTGluZUNoYXJ0RGF0YVRhYmxlQ29udGVudFByb3BzPFREYXRhPikgewoJY29uc3QgeyBwb2ludHMsIHRvdGFsLCBmb3JtYXRYLCBmb3JtYXRZLCB5RG9tYWluIH0gPQoJCXVzZUxpbmVDaGFydENvbnRleHQ8VERhdGE+KCk7CgoJaWYgKCFwb2ludHMubGVuZ3RoKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJY29uc3QgYXZlcmFnZSA9IHRvdGFsIC8gcG9pbnRzLmxlbmd0aDsKCgljb25zdCBiYXNlUm93Q2xhc3MgPSBzaG93RGVsdGEKCQk/ICdncmlkIGdyaWQtY29scy1bbWlubWF4KDAsMWZyKV9hdXRvX2F1dG9dIGl0ZW1zLWNlbnRlciBnYXAtMycKCQk6ICdncmlkIGdyaWQtY29scy1bbWlubWF4KDAsMWZyKV9hdXRvXSBpdGVtcy1jZW50ZXIgZ2FwLTMnOwoKCXR5cGUgRGVsdGFUb25lID0gJ3Bvc2l0aXZlJyB8ICduZWdhdGl2ZScgfCAnbmV1dHJhbCcgfCAnY3VzdG9tJzsKCgljb25zdCBmb3JtYXREZWx0YVBlcmNlbnRhZ2UgPSAocmF0aW86IG51bWJlcikgPT4gewoJCWNvbnN0IGFic29sdXRlUmF0aW8gPSBNYXRoLmFicyhyYXRpbyk7CgkJY29uc3QgbWF4aW11bUZyYWN0aW9uRGlnaXRzID0gYWJzb2x1dGVSYXRpbyA+PSAxMDAgPyAwIDogMTsKCQljb25zdCBtaW5pbXVtRnJhY3Rpb25EaWdpdHMgPQoJCQlhYnNvbHV0ZVJhdGlvID4gMCAmJiBhYnNvbHV0ZVJhdGlvIDwgMSA/IDEgOiAwOwoJCWNvbnN0IGZvcm1hdHRlZE1hZ25pdHVkZSA9IGFic29sdXRlUmF0aW8udG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7CgkJCW1heGltdW1GcmFjdGlvbkRpZ2l0cywKCQkJbWluaW11bUZyYWN0aW9uRGlnaXRzLAoJCX0pOwoJCWNvbnN0IHByZWZpeCA9IHJhdGlvID4gMCA/ICcrJyA6IHJhdGlvIDwgMCA/ICfiiJInIDogJyc7CgkJcmV0dXJuIGAke3ByZWZpeH0ke2Zvcm1hdHRlZE1hZ25pdHVkZX0lYDsKCX07CgoJY29uc3QgcmVzb2x2ZURlbHRhVG9uZUNsYXNzID0gKHRvbmU6IERlbHRhVG9uZSkgPT4KCQl0b25lID09PSAncG9zaXRpdmUnCgkJCT8gJ3RleHQtc3VjY2Vzcy85MCcKCQkJOiB0b25lID09PSAnbmVnYXRpdmUnCgkJCQk/ICd0ZXh0LWRlc3RydWN0aXZlLzkwJwoJCQkJOiAndGV4dC1mb3JlZ3JvdW5kLzQ1JzsKCgljb25zdCByb3dzID0gcG9pbnRzLm1hcCgocG9pbnQ6IExpbmVDaGFydFBvaW50PFREYXRhPiwgaW5kZXgpID0+IHsKCQljb25zdCBwcmV2aW91cyA9IGluZGV4ID4gMCA/IChwb2ludHNbaW5kZXggLSAxXSA/PyBudWxsKSA6IG51bGw7CgkJY29uc3QgcmVzb2x2ZWRWYWx1ZSA9IHZhbHVlRm9ybWF0dGVyCgkJCT8gdmFsdWVGb3JtYXR0ZXIocG9pbnQsIHsgdG90YWwsIGRvbWFpbjogeURvbWFpbiB9KQoJCQk6IGZvcm1hdFkocG9pbnQpOwoJCWNvbnN0IGRlbHRhOiB7CgkJCWNvbnRlbnQ6IFJlYWN0LlJlYWN0Tm9kZTsKCQkJdG9uZTogRGVsdGFUb25lOwoJCQlyYXRpbzogbnVtYmVyIHwgbnVsbDsKCQl9ID0gKCgpID0+IHsKCQkJaWYgKCFzaG93RGVsdGEpIHsKCQkJCXJldHVybiB7IGNvbnRlbnQ6IG51bGwsIHRvbmU6ICduZXV0cmFsJywgcmF0aW86IG51bGwgfTsKCQkJfQoJCQlpZiAoZGVsdGFGb3JtYXR0ZXIpIHsKCQkJCXJldHVybiB7CgkJCQkJY29udGVudDogZGVsdGFGb3JtYXR0ZXIocG9pbnQsIHByZXZpb3VzKSwKCQkJCQl0b25lOiAnY3VzdG9tJywKCQkJCQlyYXRpbzogbnVsbCwKCQkJCX07CgkJCX0KCQkJaWYgKAoJCQkJIXByZXZpb3VzIHx8CgkJCQkhTnVtYmVyLmlzRmluaXRlKHByZXZpb3VzLnZhbHVlKSB8fAoJCQkJcHJldmlvdXMudmFsdWUgPT09IDAKCQkJKSB7CgkJCQlyZXR1cm4geyBjb250ZW50OiAn4oCUJywgdG9uZTogJ25ldXRyYWwnLCByYXRpbzogbnVsbCB9OwoJCQl9CgkJCWNvbnN0IGNoYW5nZSA9IHBvaW50LnZhbHVlIC0gcHJldmlvdXMudmFsdWU7CgkJCWNvbnN0IHJhdGlvID0gKGNoYW5nZSAvIE1hdGguYWJzKHByZXZpb3VzLnZhbHVlKSkgKiAxMDA7CgkJCWlmICghTnVtYmVyLmlzRmluaXRlKHJhdGlvKSkgewoJCQkJcmV0dXJuIHsgY29udGVudDogJ+KAlCcsIHRvbmU6ICduZXV0cmFsJywgcmF0aW86IG51bGwgfTsKCQkJfQoJCQljb25zdCB0b25lID0KCQkJCXJhdGlvID4gMAoJCQkJCT8gKCdwb3NpdGl2ZScgYXMgY29uc3QpCgkJCQkJOiByYXRpbyA8IDAKCQkJCQkJPyAoJ25lZ2F0aXZlJyBhcyBjb25zdCkKCQkJCQkJOiAoJ25ldXRyYWwnIGFzIGNvbnN0KTsKCQkJcmV0dXJuIHsKCQkJCWNvbnRlbnQ6IGZvcm1hdERlbHRhUGVyY2VudGFnZShyYXRpbyksCgkJCQl0b25lLAoJCQkJcmF0aW8sCgkJCX07CgkJfSkoKTsKCgkJcmV0dXJuIHsKCQkJcG9pbnQsCgkJCXJlc29sdmVkVmFsdWUsCgkJCWRlbHRhLAoJCX07Cgl9KTsKCgljb25zdCB7IHN1bTogZGVsdGFTdW0sIGNvdW50OiBkZWx0YUNvdW50IH0gPSBzaG93RGVsdGEKCQk/IHJvd3MucmVkdWNlPHsgc3VtOiBudW1iZXI7IGNvdW50OiBudW1iZXIgfT4oCgkJCQkoYWNjLCByb3cpID0+IHsKCQkJCQlpZiAocm93LmRlbHRhLnJhdGlvICE9PSBudWxsKSB7CgkJCQkJCWFjYy5zdW0gKz0gcm93LmRlbHRhLnJhdGlvOwoJCQkJCQlhY2MuY291bnQgKz0gMTsKCQkJCQl9CgkJCQkJcmV0dXJuIGFjYzsKCQkJCX0sCgkJCQl7IHN1bTogMCwgY291bnQ6IDAgfSwKCQkJKQoJCTogeyBzdW06IDAsIGNvdW50OiAwIH07CgoJY29uc3QgYXZlcmFnZURlbHRhID0KCQlzaG93RGVsdGEgJiYgZGVsdGFDb3VudCA+IDAgPyBkZWx0YVN1bSAvIGRlbHRhQ291bnQgOiBudWxsOwoKCWNvbnN0IGF2ZXJhZ2VEZWx0YVRvbmUgPQoJCWF2ZXJhZ2VEZWx0YSAhPT0gbnVsbAoJCQk/IGF2ZXJhZ2VEZWx0YSA+IDAKCQkJCT8gKCdwb3NpdGl2ZScgYXMgY29uc3QpCgkJCQk6IGF2ZXJhZ2VEZWx0YSA8IDAKCQkJCQk/ICgnbmVnYXRpdmUnIGFzIGNvbnN0KQoJCQkJCTogKCduZXV0cmFsJyBhcyBjb25zdCkKCQkJOiAoJ25ldXRyYWwnIGFzIGNvbnN0KTsKCgljb25zdCBhdmVyYWdlRGVsdGFDb250ZW50ID0KCQlzaG93RGVsdGEgJiYgYXZlcmFnZURlbHRhICE9PSBudWxsCgkJCT8gZm9ybWF0RGVsdGFQZXJjZW50YWdlKGF2ZXJhZ2VEZWx0YSkKCQkJOiBzaG93RGVsdGEKCQkJCT8gJ+KAlCcKCQkJCTogbnVsbDsKCglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPXtjbignc3BhY2UteS0yJywgY2xhc3NOYW1lKX0+CgkJCXtyb3dzLm1hcCgoeyBwb2ludCwgcmVzb2x2ZWRWYWx1ZSwgZGVsdGEgfSkgPT4gewoJCQkJcmV0dXJuICgKCQkJCQk8ZGl2IGtleT17cG9pbnQuaWR9IGNsYXNzTmFtZT17Y24oYmFzZVJvd0NsYXNzLCByb3dDbGFzc05hbWUpfT4KCQkJCQkJPGRpdgoJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQknZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJCQkJCQlsYWJlbENsYXNzTmFtZSwKCQkJCQkJCSl9CgkJCQkJCT4KCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0idHJ1bmNhdGUgdGV4dC1zbSBmb250LW1lZGl1bSI+CgkJCQkJCQkJe2Zvcm1hdFgocG9pbnQpfQoJCQkJCQkJPC9zcGFuPgoJCQkJCQk8L2Rpdj4KCQkJCQkJPHNwYW4KCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJJ2lubGluZS1mbGV4IG1pbi13LTEwIGp1c3RpZnktZW5kIHdoaXRlc3BhY2Utbm93cmFwIHRleHQtcmlnaHQgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAgdGFidWxhci1udW1zJywKCQkJCQkJCQl2YWx1ZUNsYXNzTmFtZSwKCQkJCQkJCSl9CgkJCQkJCT4KCQkJCQkJCXtyZXNvbHZlZFZhbHVlfQoJCQkJCQk8L3NwYW4+CgkJCQkJCXtzaG93RGVsdGEgPyAoCgkJCQkJCQk8c3BhbgoJCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJCSdpbmxpbmUtZmxleCBtaW4tdy0xNCBqdXN0aWZ5LWVuZCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXJpZ2h0IHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGFidWxhci1udW1zJywKCQkJCQkJCQkJcmVzb2x2ZURlbHRhVG9uZUNsYXNzKGRlbHRhLnRvbmUpLAoJCQkJCQkJCQlkZWx0YUNsYXNzTmFtZSwKCQkJCQkJCQkpfQoJCQkJCQkJPgoJCQkJCQkJCXtkZWx0YS5jb250ZW50fQoJCQkJCQkJPC9zcGFuPgoJCQkJCQkpIDogbnVsbH0KCQkJCQk8L2Rpdj4KCQkJCSk7CgkJCX0pfQoJCQl7c2hvd1RvdGFsUm93ID8gKAoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCXNob3dEZWx0YQoJCQkJCQkJPyAnZ3JpZCBncmlkLWNvbHMtW21pbm1heCgwLDFmcilfYXV0b19hdXRvXSBpdGVtcy1jZW50ZXIgZ2FwLTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBwdC0zIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJwoJCQkJCQkJOiAnZ3JpZCBncmlkLWNvbHMtW21pbm1heCgwLDFmcilfYXV0b10gaXRlbXMtY2VudGVyIGdhcC0zIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgcHQtMyB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcsCgkJCQkJCXJvd0NsYXNzTmFtZSwKCQkJCQkpfQoJCQkJPgoJCQkJCTxzcGFuPnthdmVyYWdlTGFiZWx9PC9zcGFuPgoJCQkJCTxzcGFuCgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQknaW5saW5lLWZsZXggbWluLXctMTAganVzdGlmeS1lbmQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1yaWdodCB0YWJ1bGFyLW51bXMnLAoJCQkJCQkJdmFsdWVDbGFzc05hbWUsCgkJCQkJCSl9CgkJCQkJPgoJCQkJCQl7YXZlcmFnZUZvcm1hdHRlcj8uKGF2ZXJhZ2UpID8/CgkJCQkJCQlhdmVyYWdlLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIgfSl9CgkJCQkJPC9zcGFuPgoJCQkJCXtzaG93RGVsdGEgPyAoCgkJCQkJCTxzcGFuCgkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCSdpbmxpbmUtZmxleCBtaW4tdy0xNCBqdXN0aWZ5LWVuZCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXJpZ2h0IHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGFidWxhci1udW1zJywKCQkJCQkJCQlyZXNvbHZlRGVsdGFUb25lQ2xhc3MoYXZlcmFnZURlbHRhVG9uZSksCgkJCQkJCQkJZGVsdGFDbGFzc05hbWUsCgkJCQkJCQkpfQoJCQkJCQk+CgkJCQkJCQl7YXZlcmFnZURlbHRhQ29udGVudH0KCQkJCQkJPC9zcGFuPgoJCQkJCSkgOiBudWxsfQoJCQkJPC9kaXY+CgkJCSkgOiBudWxsfQoJCTwvZGl2PgoJKTsKfQoKZXhwb3J0IGNvbnN0IExpbmVDaGFydCA9IExpbmVDaGFydFJvb3Q7"
,
  "menubar.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgdHlwZSB7IEZDLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgbWVudWJhclZhcmlhbnRzID0gY3ZhKAoJJ3JlbGF0aXZlIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgcC0xIHNoYWRvdy1zbSBjYXJkLWhpZ2hsaWdodCcsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJbWQ6ICcnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBtZW51YmFyVHJpZ2dlclZhcmlhbnRzID0gY3ZhKAoJJ2lubGluZS1mbGV4IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLXNtIGgtNy41IHB4LTMgcHktMS41IHB4LTMgZ2FwLTEuNSBoYXMtWz5zdmddOnB4LTIuNSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCBvdXRsaW5lLW5vbmUgaG92ZXI6YmctY2FyZC1tdXRlZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixjb2xvcixib3gtc2hhZG93XSBlYXNlLW91dC1xdWFkIGR1cmF0aW9uLTEwMCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgY3Vyc29yLXBvaW50ZXInLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCW1kOiAndGV4dC1zbScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IG1lbnViYXJDb250ZW50VmFyaWFudHMgPSBjdmEoCgknei01MCBtaW4tdy1bMTJyZW1dIG9yaWdpbi10b3Agcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1wb3BvdmVyIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCAtdHJhbnNsYXRlLXktMiBzY2FsZS05NSBvcGFjaXR5LTAgdHJhbnNpdGlvbi1bdHJhbnNsYXRlLG9wYWNpdHksc2NhbGVdIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLWVudGVyOnRyYW5zbGF0ZS15LTAgZGF0YS1lbnRlcjpzY2FsZS0xMDAgZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS0yIGRhdGEtbGVhdmU6c2NhbGUtOTUgZGF0YS1sZWF2ZTpvcGFjaXR5LTAnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCW1kOiAncC0xJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgbWVudWJhclN1YkNvbnRlbnRWYXJpYW50cyA9IGN2YSgKCSd6LTUwIG1pbi13LVsxMHJlbV0gb3JpZ2luLXRvcC1sZWZ0IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctcG9wb3ZlciBzaGFkb3ctbWQgY2FyZC1oaWdobGlnaHQgLXRyYW5zbGF0ZS15LTIgc2NhbGUtOTUgb3BhY2l0eS0wIHRyYW5zaXRpb24tW3RyYW5zbGF0ZSxvcGFjaXR5LHNjYWxlXSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggZGF0YS1lbnRlcjp0cmFuc2xhdGUteS0wIGRhdGEtZW50ZXI6c2NhbGUtMTAwIGRhdGEtZW50ZXI6b3BhY2l0eS0xMDAgZGF0YS1sZWF2ZTotdHJhbnNsYXRlLXktMiBkYXRhLWxlYXZlOnNjYWxlLTk1IGRhdGEtbGVhdmU6b3BhY2l0eS0wJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQltZDogJ3AtMScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IG1lbnViYXJJdGVtVmFyaWFudHMgPSBjdmEoCgkiZmxleCB3LWZ1bGwgY3Vyc29yLXBvaW50ZXIgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIHJvdW5kZWQtc20gcHgtMiBweS0xLjUgdGV4dC1zbSBbJl9zdmddOnNocmluay0wIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgZ2FwLTIgb3V0bGluZS1ub25lIHRleHQtZm9yZWdyb3VuZC83MCBob3ZlcjpiZy1wb3BvdmVyLW11dGVkIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBmb2N1cy12aXNpYmxlOmJnLXBvcG92ZXItbXV0ZWQgZm9jdXMtdmlzaWJsZTp0ZXh0LWZvcmVncm91bmQgYXJpYS1kaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGFyaWEtZGlzYWJsZWQ6b3BhY2l0eS01MCIsCgl7CgkJdmFyaWFudHM6IHsKCQkJaW5zZXQ6IHsKCQkJCXRydWU6ICdwbC05JywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQkJZGVzdHJ1Y3RpdmU6IHsKCQkJCXRydWU6ICd0ZXh0LWRlc3RydWN0aXZlLzkwIGhvdmVyOmJnLWRlc3RydWN0aXZlLzEwIGhvdmVyOnRleHQtZGVzdHJ1Y3RpdmUnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCWluc2V0OiBmYWxzZSwKCQkJZGVzdHJ1Y3RpdmU6IGZhbHNlLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBNZW51YmFyUHJvcHMgewoJY2hpbGRyZW46IFJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXNpemU/OiBWYXJpYW50UHJvcHM8dHlwZW9mIG1lbnViYXJWYXJpYW50cz5bJ3NpemUnXTsKfQoKZXhwb3J0IGNvbnN0IE1lbnViYXI6IEZDPE1lbnViYXJQcm9wcz4gPSAoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzaXplIH0pID0+IHsKCWNvbnN0IG1lbnViYXIgPSBBcmlha2l0LnVzZU1lbnViYXJTdG9yZSh7CgkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCQlmb2N1c0xvb3A6IHRydWUsCgl9KTsKCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnViYXJQcm92aWRlciBzdG9yZT17bWVudWJhcn0+CgkJCTxBcmlha2l0Lk1lbnViYXIKCQkJCXN0b3JlPXttZW51YmFyfQoJCQkJY2xhc3NOYW1lPXtjbihtZW51YmFyVmFyaWFudHMoeyBzaXplIH0pLCBjbGFzc05hbWUpfQoJCQk+CgkJCQl7Y2hpbGRyZW59CgkJCTwvQXJpYWtpdC5NZW51YmFyPgoJCTwvQXJpYWtpdC5NZW51YmFyUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGludGVyZmFjZSBNZW51YmFyTWVudVByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdE5vZGU7Cn0KCmV4cG9ydCBjb25zdCBNZW51YmFyTWVudTogRkM8TWVudWJhck1lbnVQcm9wcz4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7Cgljb25zdCBtZW51YmFyID0gQXJpYWtpdC51c2VNZW51YmFyQ29udGV4dCgpOwoJY29uc3QgbWVudSA9IEFyaWFraXQudXNlTWVudVN0b3JlKHsgbWVudWJhcjogbWVudWJhciA/PyBudWxsIH0pOwoKCXJldHVybiA8QXJpYWtpdC5NZW51UHJvdmlkZXIgc3RvcmU9e21lbnV9PntjaGlsZHJlbn08L0FyaWFraXQuTWVudVByb3ZpZGVyPjsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgTWVudWJhclRyaWdnZXJQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIG1lbnViYXJUcmlnZ2VyVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47Cn0KCmV4cG9ydCBjb25zdCBNZW51YmFyVHJpZ2dlcjogRkM8TWVudWJhclRyaWdnZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUsCglkaXNhYmxlZCwKCXNpemUsCn0pID0+IHsKCWNvbnN0IG1lbnUgPSBBcmlha2l0LnVzZU1lbnVDb250ZXh0KCk7CglpZiAoIW1lbnUpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ01lbnViYXJUcmlnZ2VyIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBNZW51YmFyTWVudS4nKTsKCX0KCWNvbnN0IG9wZW4gPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUobWVudSwgJ29wZW4nKTsKCglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnVJdGVtCgkJCXJlbmRlcj17CgkJCQk8QXJpYWtpdC5NZW51QnV0dG9uCgkJCQkJc3RvcmU9e21lbnV9CgkJCQkJZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfQoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCW1lbnViYXJUcmlnZ2VyVmFyaWFudHMoeyBzaXplIH0pLAoJCQkJCQlvcGVuICYmICdiZy1wb3BvdmVyLW11dGVkIHRleHQtZm9yZWdyb3VuZCcsCgkJCQkJCWNsYXNzTmFtZSwKCQkJCQkpfQoJCQkJLz4KCQkJfQoJCQlkaXNhYmxlZD17Qm9vbGVhbihkaXNhYmxlZCl9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0Lk1lbnVJdGVtPgoJKTsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgTWVudWJhckNvbnRlbnRQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIG1lbnViYXJDb250ZW50VmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBNZW51YmFyQ29udGVudDogRkM8TWVudWJhckNvbnRlbnRQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUsCglzaXplLAp9KSA9PiB7CglyZXR1cm4gKAoJCTxBcmlha2l0Lk1lbnUKCQkJcG9ydGFsCgkJCWd1dHRlcj17OX0KCQkJY2xhc3NOYW1lPXtjbihtZW51YmFyQ29udGVudFZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQk+CgkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIj57Y2hpbGRyZW59PC9kaXY+CgkJPC9Bcmlha2l0Lk1lbnU+CgkpOwp9OwoKZXhwb3J0IGludGVyZmFjZSBNZW51YmFySXRlbVByb3BzCglleHRlbmRzIFZhcmlhbnRQcm9wczx0eXBlb2YgbWVudWJhckl0ZW1WYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWRpc2FibGVkPzogYm9vbGVhbjsKCW9uQ2xpY2s/OiAoKSA9PiB2b2lkOwp9CgpleHBvcnQgY29uc3QgTWVudWJhckl0ZW06IEZDPE1lbnViYXJJdGVtUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lLAoJZGlzYWJsZWQsCglpbnNldCwKCWRlc3RydWN0aXZlLAoJb25DbGljaywKfSkgPT4gKAoJPEFyaWFraXQuTWVudUl0ZW0KCQlkaXNhYmxlZD17Qm9vbGVhbihkaXNhYmxlZCl9CgkJb25DbGljaz17b25DbGlja30KCQljbGFzc05hbWU9e2NuKG1lbnViYXJJdGVtVmFyaWFudHMoeyBpbnNldCwgZGVzdHJ1Y3RpdmUgfSksIGNsYXNzTmFtZSl9Cgk+CgkJe2NoaWxkcmVufQoJPC9Bcmlha2l0Lk1lbnVJdGVtPgopOwoKZXhwb3J0IGNvbnN0IE1lbnViYXJTZXBhcmF0b3I6IEZDPHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+ID0gKHsgY2xhc3NOYW1lIH0pID0+ICgKCTxBcmlha2l0Lk1lbnVTZXBhcmF0b3IKCQljbGFzc05hbWU9e2NuKCctbXgtMSBteS0xIGgtcHggYmctYm9yZGVyIG9wYWNpdHktNjAnLCBjbGFzc05hbWUpfQoJLz4KKTsKCmV4cG9ydCBjb25zdCBNZW51YmFyU3ViOiBGQzx7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7CglyZXR1cm4gPEFyaWFraXQuTWVudVByb3ZpZGVyPntjaGlsZHJlbn08L0FyaWFraXQuTWVudVByb3ZpZGVyPjsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgTWVudWJhclN1YlRyaWdnZXJQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIG1lbnViYXJJdGVtVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47Cn0KCmV4cG9ydCBjb25zdCBNZW51YmFyU3ViVHJpZ2dlcjogRkM8TWVudWJhclN1YlRyaWdnZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUsCglkaXNhYmxlZCwKCWluc2V0LAoJZGVzdHJ1Y3RpdmUsCn0pID0+IHsKCWNvbnN0IG1lbnUgPSBBcmlha2l0LnVzZU1lbnVDb250ZXh0KCk7CglpZiAoIW1lbnUpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ01lbnViYXJTdWJUcmlnZ2VyIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBNZW51YmFyU3ViLicpOwoJfQoJY29uc3Qgb3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShtZW51LCAnb3BlbicpOwoKCXJldHVybiAoCgkJPEFyaWFraXQuTWVudUl0ZW0KCQkJcmVuZGVyPXsKCQkJCTxBcmlha2l0Lk1lbnVCdXR0b24KCQkJCQlzdG9yZT17bWVudX0KCQkJCQlkaXNhYmxlZD17Qm9vbGVhbihkaXNhYmxlZCl9CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJbWVudWJhckl0ZW1WYXJpYW50cyh7IGluc2V0LCBkZXN0cnVjdGl2ZSB9KSwKCQkJCQkJb3BlbiAmJiAnYmctcG9wb3Zlci1tdXRlZCB0ZXh0LWZvcmVncm91bmQnLAoJCQkJCQljbGFzc05hbWUsCgkJCQkJKX0KCQkJCS8+CgkJCX0KCQkJZGlzYWJsZWQ9e0Jvb2xlYW4oZGlzYWJsZWQpfQoJCT4KCQkJPHNwYW4gY2xhc3NOYW1lPSJmbGV4IGZsZXgtMSBpdGVtcy1jZW50ZXIganVzdGlmeS1zdGFydCBbJl9zdmddOnNocmluay0wIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgZ2FwLTIiPgoJCQkJe2NoaWxkcmVufQoJCQk8L3NwYW4+CgkJCTxBcmlha2l0Lk1lbnVCdXR0b25BcnJvdyBjbGFzc05hbWU9Im1sLTIiIC8+CgkJPC9Bcmlha2l0Lk1lbnVJdGVtPgoJKTsKfTsKCmV4cG9ydCBpbnRlcmZhY2UgTWVudWJhclN1YkNvbnRlbnRQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIG1lbnViYXJTdWJDb250ZW50VmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBNZW51YmFyU3ViQ29udGVudDogRkM8TWVudWJhclN1YkNvbnRlbnRQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUsCglzaXplLAp9KSA9PiAoCgk8QXJpYWtpdC5NZW51CgkJcG9ydGFsCgkJY2xhc3NOYW1lPXtjbihtZW51YmFyU3ViQ29udGVudFZhcmlhbnRzKHsgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCT4KCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCI+e2NoaWxkcmVufTwvZGl2PgoJPC9Bcmlha2l0Lk1lbnU+Cik7"
,
  "navigation-menu.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvbGliL2ljb25zJzsKCmNvbnN0IG5hdmlnYXRpb25NZW51VmFyaWFudHMgPSBjdmEoCgknaW5saW5lLWZsZXggaC0xMSBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMiB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC83MCcsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJbWQ6ICcnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBuYXZpZ2F0aW9uTWVudVRyaWdnZXJWYXJpYW50cyA9IGN2YSgKCSdpbmxpbmUtZmxleCBoLTkgaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtbWQgcHgtNCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yLGJveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwIGZvY3VzLXZpc2libGU6YmctY2FyZC1tdXRlZCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgZGF0YS1bZXhwYW5kZWQ9dHJ1ZV06YmctY2FyZC1tdXRlZCBjdXJzb3ItcG9pbnRlcicsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJbWQ6ICd0ZXh0LXNtJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgbmF2aWdhdGlvbk1lbnVQYW5lbFZhcmlhbnRzID0gY3ZhKAoJJ3JlbGF0aXZlIHotNTAgdy1bbWluKDMycmVtLGNhbGMoMTAwdnctNHJlbSkpXSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLXBvcG92ZXIgdGV4dC1mb3JlZ3JvdW5kLzcwIG9wYWNpdHktMCBzY2FsZS05NSBzaGFkb3ctMnhsIGNhcmQtaGlnaGxpZ2h0IGRhdGEtW2VudGVyXTp0cmFuc2xhdGUteS0wIGRhdGEtW2VudGVyXTpzY2FsZS0xMDAgZGF0YS1bZW50ZXJdOm9wYWNpdHktMTAwIGRhdGEtW2xlYXZlXTpzY2FsZS05NSBkYXRhLVtsZWF2ZV06LXRyYW5zbGF0ZS15LTIgZGF0YS1bbGVhdmVdOm9wYWNpdHktMCAtdHJhbnNsYXRlLXktMiB0cmFuc2l0aW9uLVt0cmFuc2xhdGUsb3BhY2l0eSxzY2FsZV1sIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCcsCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJbWQ6ICcnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBuYXZpZ2F0aW9uTWVudUNvbnRlbnRMYXlvdXRDbGFzcyA9CgknZmxleCBmbGV4LWNvbCBnYXAtMyBbJjpoYXMoW3JvbGU9Z3JvdXBdKV06Z3JpZCBbJjpoYXMoW3JvbGU9Z3JvdXBdKV06Z2FwLTIgWyY6aGFzKFtyb2xlPWdyb3VwXSldOmdyaWQtY29scy0xIG1kOlsmOmhhcyhbcm9sZT1ncm91cF0pXTpncmlkLWNvbHMtMic7Cgpjb25zdCBuYXZpZ2F0aW9uTWVudUxpbmtWYXJpYW50cyA9IGN2YSgKCSdyZWxhdGl2ZSBmbGV4IG1kOmxhc3Q6aC1mdWxsIGZsZXgtY29sIGl0ZW1zLXN0YXJ0IGdhcC0xIHJvdW5kZWQtbWQgcC0yIHRleHQtbGVmdCB0ZXh0LXNtIG91dGxpbmUtbm9uZSBob3ZlcjpiZy1wb3BvdmVyLW11dGVkIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvd10gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZGF0YS1bZm9jdXMtdmlzaWJsZV06b3V0bGluZS1ub25lIGRhdGEtW2ZvY3VzLXZpc2libGVdOmJnLXBvcG92ZXItbXV0ZWQgW2EmXTpjdXJzb3ItcG9pbnRlciBvdmVyZmxvdy1jbGlwJywKKTsKCmNvbnN0IG5hdmlnYXRpb25NZW51R3JvdXBWYXJpYW50cyA9IGN2YSgnZmxleCBmbGV4LWNvbCBnYXAtMiBpdGVtcy1zdHJldGNoJyk7Cgpjb25zdCBTZXRTaGlmdENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PAoJUmVhY3QuRGlzcGF0Y2g8UmVhY3QuU2V0U3RhdGVBY3Rpb248bnVtYmVyPj4KPigoKSA9PiB7fSk7Cgp0eXBlIE1lbnVQbGFjZW1lbnQgPSBOb25OdWxsYWJsZTxBcmlha2l0Lk1lbnVQcm92aWRlclByb3BzWydwbGFjZW1lbnQnXT47Cgpjb25zdCBTZXRQbGFjZW1lbnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDwKCVJlYWN0LkRpc3BhdGNoPFJlYWN0LlNldFN0YXRlQWN0aW9uPE1lbnVQbGFjZW1lbnQ+Pgo+KCgpID0+IHt9KTsKCnR5cGUgTW90aW9uQXR0cmlidXRlID0gJ2Zyb20tc3RhcnQnIHwgJ2Zyb20tZW5kJyB8ICd0by1zdGFydCcgfCAndG8tZW5kJzsKCmludGVyZmFjZSBOYXZpZ2F0aW9uTWVudU1vdGlvblBhbmUgewoJa2V5OiBzdHJpbmc7Cgl1aWQ6IHN0cmluZzsKCWluZGV4OiBudW1iZXI7CglwaGFzZTogJ2VudGVyJyB8ICdsZWF2ZSc7Cgltb3Rpb246IE1vdGlvbkF0dHJpYnV0ZSB8IG51bGw7CglsYXN0RGlyZWN0aW9uOiAnc3RhcnQnIHwgJ2VuZCcgfCBudWxsOwoJY29udGVudDogUmVhY3QuUmVhY3ROb2RlOwp9Cgp0eXBlIE5hdmlnYXRpb25NZW51T3BlbkFjdGlvbiA9IHsKCXR5cGU6ICdvcGVuJzsKCWtleTogc3RyaW5nOwoJaW5kZXg6IG51bWJlcjsKCWNvbnRlbnQ6IFJlYWN0LlJlYWN0Tm9kZTsKfTsKCnR5cGUgTmF2aWdhdGlvbk1lbnVVcGRhdGVBY3Rpb24gPSB7Cgl0eXBlOiAndXBkYXRlJzsKCWtleTogc3RyaW5nOwoJaW5kZXg6IG51bWJlcjsKCWNvbnRlbnQ6IFJlYWN0LlJlYWN0Tm9kZTsKfTsKCnR5cGUgTmF2aWdhdGlvbk1lbnVDbG9zZUFjdGlvbiA9IHsKCXR5cGU6ICdjbG9zZSc7CglrZXk6IHN0cmluZzsKfTsKCnR5cGUgTmF2aWdhdGlvbk1lbnVDb250ZW50QWN0aW9uID0KCXwgTmF2aWdhdGlvbk1lbnVPcGVuQWN0aW9uCgl8IE5hdmlnYXRpb25NZW51VXBkYXRlQWN0aW9uCgl8IE5hdmlnYXRpb25NZW51Q2xvc2VBY3Rpb247CgppbnRlcmZhY2UgTmF2aWdhdGlvbk1lbnVDb250ZW50Q29udGV4dFZhbHVlIHsKCWRpc3BhdGNoOiAoYWN0aW9uOiBOYXZpZ2F0aW9uTWVudUNvbnRlbnRBY3Rpb24pID0+IHZvaWQ7Cn0KCmNvbnN0IE5hdmlnYXRpb25NZW51Q29udGVudENvbnRleHQgPQoJUmVhY3QuY3JlYXRlQ29udGV4dDxOYXZpZ2F0aW9uTWVudUNvbnRlbnRDb250ZXh0VmFsdWUgfCBudWxsPihudWxsKTsKCmludGVyZmFjZSBOYXZpZ2F0aW9uTWVudUl0ZW1PcmRlckNvbnRleHRWYWx1ZSB7CglyZWdpc3Rlckl0ZW06IChpZDogc3RyaW5nKSA9PiBudW1iZXI7Cgl1bnJlZ2lzdGVySXRlbTogKGlkOiBzdHJpbmcpID0+IHZvaWQ7Cn0KCmNvbnN0IE5hdmlnYXRpb25NZW51SXRlbU9yZGVyQ29udGV4dCA9CglSZWFjdC5jcmVhdGVDb250ZXh0PE5hdmlnYXRpb25NZW51SXRlbU9yZGVyQ29udGV4dFZhbHVlIHwgbnVsbD4obnVsbCk7Cgpjb25zdCBOQVZJR0FUSU9OX01FTlVfTU9USU9OX0RVUkFUSU9OID0gNDUwOwoKY29uc3QgbmF2aWdhdGlvbk1lbnVNb3Rpb25WaWV3cG9ydENsYXNzID0KCSdyZWxhdGl2ZSB3LWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIHRyYW5zaXRpb24tW2hlaWdodF0gZHVyYXRpb24tNDUwIGVhc2Utc21vb3RoIFstLW5hdmlnYXRpb24tbWVudS1tb3Rpb24tZHVyYXRpb246NDUwbXNdIFstLW5hdmlnYXRpb24tbWVudS1tb3Rpb24tZGlzdGFuY2U6bWluKDU1MHB4LDM1dncpXSBtZDpbLS1uYXZpZ2F0aW9uLW1lbnUtbW90aW9uLWRpc3RhbmNlOm1pbigyNTBweCwzNXZ3KV0nOwoKY29uc3QgbmF2aWdhdGlvbk1lbnVNb3Rpb25QYW5lQ2xhc3MgPQoJJ3JlbGF0aXZlIHAtMiB3LWZ1bGwgZGF0YS1bc3RhdGU9bGVhdmVdOmFic29sdXRlIGRhdGEtW3N0YXRlPWxlYXZlXTppbnNldC0wIGRhdGEtW3N0YXRlPWxlYXZlXTpwb2ludGVyLWV2ZW50cy1ub25lIGRhdGEtW21vdGlvbl06W2FuaW1hdGlvbi1kdXJhdGlvbjp2YXIoLS1uYXZpZ2F0aW9uLW1lbnUtbW90aW9uLWR1cmF0aW9uKV0gZGF0YS1bbW90aW9uXTpbYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjp2YXIoLS1lYXNlLXNtb290aCldIGRhdGEtW21vdGlvbl06W2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aF0gZGF0YS1bbW90aW9uXTpbd2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHldIGRhdGEtW21vdGlvbj1mcm9tLXN0YXJ0XTpbYW5pbWF0aW9uLW5hbWU6bmF2aWdhdGlvbi1tZW51LWVudGVyLWZyb20tc3RhcnRdIGRhdGEtW21vdGlvbj1mcm9tLWVuZF06W2FuaW1hdGlvbi1uYW1lOm5hdmlnYXRpb24tbWVudS1lbnRlci1mcm9tLWVuZF0gZGF0YS1bbW90aW9uPXRvLXN0YXJ0XTpbYW5pbWF0aW9uLW5hbWU6bmF2aWdhdGlvbi1tZW51LWV4aXQtdG8tc3RhcnRdIGRhdGEtW21vdGlvbj10by1lbmRdOlthbmltYXRpb24tbmFtZTpuYXZpZ2F0aW9uLW1lbnUtZXhpdC10by1lbmRdJzsKCmludGVyZmFjZSBOYXZpZ2F0aW9uTWVudU1vdGlvbk9ic2VydmVyUHJvcHMgewoJb25NZW51Q2xvc2U6ICgpID0+IHZvaWQ7Cn0KCmZ1bmN0aW9uIE5hdmlnYXRpb25NZW51TW90aW9uT2JzZXJ2ZXIoewoJb25NZW51Q2xvc2UsCn06IE5hdmlnYXRpb25NZW51TW90aW9uT2JzZXJ2ZXJQcm9wcykgewoJY29uc3QgbWVudSA9IEFyaWFraXQudXNlTWVudUNvbnRleHQoKTsKCWNvbnN0IG1vdW50ZWQgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUobWVudSwgJ21vdW50ZWQnKTsKCWNvbnN0IHByZXZpb3VzTW91bnRlZFJlZiA9IFJlYWN0LnVzZVJlZihtb3VudGVkKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmIChwcmV2aW91c01vdW50ZWRSZWYuY3VycmVudCAmJiAhbW91bnRlZCkgewoJCQlvbk1lbnVDbG9zZSgpOwoJCX0KCQlwcmV2aW91c01vdW50ZWRSZWYuY3VycmVudCA9IG1vdW50ZWQ7Cgl9LCBbbW91bnRlZCwgb25NZW51Q2xvc2VdKTsKCglyZXR1cm4gbnVsbDsKfQoKZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0aW9uTWVudVByb3BzCglleHRlbmRzIE9taXQ8QXJpYWtpdC5NZW51YmFyUHJvcHMsICdjbGFzc05hbWUnIHwgJ2NoaWxkcmVuJz4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBuYXZpZ2F0aW9uTWVudVZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJcGFuZWxDbGFzc05hbWU/OiBzdHJpbmc7CglwYW5lbFdyYXBwZXJDbGFzc05hbWU/OiBzdHJpbmc7CglhcnJvd0NsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25NZW51ID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxEaXZFbGVtZW50LAoJTmF2aWdhdGlvbk1lbnVQcm9wcwo+KGZ1bmN0aW9uIE5hdmlnYXRpb25NZW51KAoJewoJCWNoaWxkcmVuLAoJCWNsYXNzTmFtZSwKCQlzaXplLAoJCXBhbmVsQ2xhc3NOYW1lLAoJCXBhbmVsV3JhcHBlckNsYXNzTmFtZSwKCQlhcnJvd0NsYXNzTmFtZSwKCQkuLi5wcm9wcwoJfSwKCXJlZiwKKSB7Cgljb25zdCBbc2hpZnQsIHNldFNoaWZ0XSA9IFJlYWN0LnVzZVN0YXRlKDApOwoJY29uc3QgW3BsYWNlbWVudCwgc2V0UGxhY2VtZW50XSA9IFJlYWN0LnVzZVN0YXRlPE1lbnVQbGFjZW1lbnQ+KCdib3R0b20nKTsKCWNvbnN0IFtwYW5lcywgc2V0UGFuZXNdID0gUmVhY3QudXNlU3RhdGU8TmF2aWdhdGlvbk1lbnVNb3Rpb25QYW5lW10+KFtdKTsKCWNvbnN0IGl0ZW1PcmRlck1hcFJlZiA9IFJlYWN0LnVzZVJlZihuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpKTsKCWNvbnN0IHBhbmVJZFJlZiA9IFJlYWN0LnVzZVJlZigwKTsKCWNvbnN0IGFjdGl2ZUtleVJlZiA9IFJlYWN0LnVzZVJlZjxzdHJpbmcgfCBudWxsPihudWxsKTsKCWNvbnN0IGFjdGl2ZUluZGV4UmVmID0gUmVhY3QudXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpOwoJY29uc3QgY29udGVudFJlZ2lzdHJ5UmVmID0gUmVhY3QudXNlUmVmKG5ldyBNYXA8c3RyaW5nLCBSZWFjdC5SZWFjdE5vZGU+KCkpOwoJY29uc3QgcGFuZVJlZnMgPSBSZWFjdC51c2VSZWYobmV3IE1hcDxzdHJpbmcsIEhUTUxEaXZFbGVtZW50PigpKTsKCWNvbnN0IGFuaW1hdGlvbkxvY2tUaW1lb3V0UmVmID0gUmVhY3QudXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpOwoJY29uc3QgaXNBbmltYXRpb25Mb2NrZWRSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpOwoJY29uc3QgcGVuZGluZ09wZW5BY3Rpb25SZWYgPSBSZWFjdC51c2VSZWY8TmF2aWdhdGlvbk1lbnVPcGVuQWN0aW9uIHwgbnVsbD4oCgkJbnVsbCwKCSk7Cgljb25zdCBbYW5pbWF0aW9uTG9ja1ZlcnNpb24sIHNldEFuaW1hdGlvbkxvY2tWZXJzaW9uXSA9IFJlYWN0LnVzZVN0YXRlKDApOwoJY29uc3QgW21vdGlvblZpZXdwb3J0SGVpZ2h0LCBzZXRNb3Rpb25WaWV3cG9ydEhlaWdodF0gPSBSZWFjdC51c2VTdGF0ZTwKCQludW1iZXIgfCBudWxsCgk+KG51bGwpOwoJY29uc3QgYWN0aXZlUGFuZVVpZCA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gcGFuZXMuZmluZCgocGFuZSkgPT4gcGFuZS5waGFzZSA9PT0gJ2VudGVyJyk/LnVpZCA/PyBudWxsLAoJCVtwYW5lc10sCgkpOwoKCVJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJaWYgKCFhY3RpdmVQYW5lVWlkKSB7CgkJCXNldE1vdGlvblZpZXdwb3J0SGVpZ2h0KG51bGwpOwoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBwYW5lRWxlbWVudCA9IHBhbmVSZWZzLmN1cnJlbnQuZ2V0KGFjdGl2ZVBhbmVVaWQpOwoJCWlmICghcGFuZUVsZW1lbnQpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgdXBkYXRlSGVpZ2h0ID0gKCkgPT4gewoJCQlzZXRNb3Rpb25WaWV3cG9ydEhlaWdodChwYW5lRWxlbWVudC5vZmZzZXRIZWlnaHQpOwoJCX07CgoJCXVwZGF0ZUhlaWdodCgpOwoKCQlpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyID09PSAndW5kZWZpbmVkJykgewoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7CgkJCXVwZGF0ZUhlaWdodCgpOwoJCX0pOwoKCQlvYnNlcnZlci5vYnNlcnZlKHBhbmVFbGVtZW50KTsKCgkJcmV0dXJuICgpID0+IHsKCQkJb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwoJCX07Cgl9LCBbYWN0aXZlUGFuZVVpZF0pOwoKCWNvbnN0IGhhbmRsZUFuaW1hdGlvbkxvY2tDb21wbGV0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCWlmIChhbmltYXRpb25Mb2NrVGltZW91dFJlZi5jdXJyZW50KSB7CgkJCXdpbmRvdy5jbGVhclRpbWVvdXQoYW5pbWF0aW9uTG9ja1RpbWVvdXRSZWYuY3VycmVudCk7CgkJCWFuaW1hdGlvbkxvY2tUaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsOwoJCX0KCgkJaWYgKCFpc0FuaW1hdGlvbkxvY2tlZFJlZi5jdXJyZW50KSB7CgkJCXJldHVybjsKCQl9CgoJCWlzQW5pbWF0aW9uTG9ja2VkUmVmLmN1cnJlbnQgPSBmYWxzZTsKCQlzZXRBbmltYXRpb25Mb2NrVmVyc2lvbigodmVyc2lvbikgPT4gdmVyc2lvbiArIDEpOwoJfSwgW10pOwoKCWNvbnN0IHN0YXJ0QW5pbWF0aW9uTG9jayA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQlpZiAoYW5pbWF0aW9uTG9ja1RpbWVvdXRSZWYuY3VycmVudCkgewoJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KGFuaW1hdGlvbkxvY2tUaW1lb3V0UmVmLmN1cnJlbnQpOwoJCX0KCgkJaXNBbmltYXRpb25Mb2NrZWRSZWYuY3VycmVudCA9IHRydWU7CgkJYW5pbWF0aW9uTG9ja1RpbWVvdXRSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsKCQkJaGFuZGxlQW5pbWF0aW9uTG9ja0NvbXBsZXRpb24oKTsKCQl9LCBOQVZJR0FUSU9OX01FTlVfTU9USU9OX0RVUkFUSU9OKTsKCX0sIFtoYW5kbGVBbmltYXRpb25Mb2NrQ29tcGxldGlvbl0pOwoKCWNvbnN0IHJlc2V0TW90aW9uU3RhdGUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJYWN0aXZlS2V5UmVmLmN1cnJlbnQgPSBudWxsOwoJCWFjdGl2ZUluZGV4UmVmLmN1cnJlbnQgPSBudWxsOwoJCWNvbnRlbnRSZWdpc3RyeVJlZi5jdXJyZW50LmNsZWFyKCk7CgkJcGVuZGluZ09wZW5BY3Rpb25SZWYuY3VycmVudCA9IG51bGw7CgkJc2V0UGFuZXMoW10pOwoJCWhhbmRsZUFuaW1hdGlvbkxvY2tDb21wbGV0aW9uKCk7Cgl9LCBbaGFuZGxlQW5pbWF0aW9uTG9ja0NvbXBsZXRpb25dKTsKCgljb25zdCBtYWtlUGFuZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCSgKCQkJcGFuZTogT21pdDxOYXZpZ2F0aW9uTWVudU1vdGlvblBhbmUsICd1aWQnPiwKCQkpOiBOYXZpZ2F0aW9uTWVudU1vdGlvblBhbmUgPT4gKHsKCQkJLi4ucGFuZSwKCQkJdWlkOiBgbmF2aWdhdGlvbi1wYW5lLSR7cGFuZUlkUmVmLmN1cnJlbnQrK31gLAoJCX0pLAoJCVtdLAoJKTsKCgljb25zdCByZWdpc3Rlckl0ZW0gPSBSZWFjdC51c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4gewoJCWNvbnN0IG1hcCA9IGl0ZW1PcmRlck1hcFJlZi5jdXJyZW50OwoJCWlmICghbWFwLmhhcyhpZCkpIHsKCQkJbWFwLnNldChpZCwgbWFwLnNpemUpOwoJCX0KCQlyZXR1cm4gbWFwLmdldChpZCkgPz8gMDsKCX0sIFtdKTsKCgljb25zdCB1bnJlZ2lzdGVySXRlbSA9IFJlYWN0LnVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7CgkJY29uc3QgbWFwID0gaXRlbU9yZGVyTWFwUmVmLmN1cnJlbnQ7CgoJCWlmICghbWFwLmhhcyhpZCkpIHJldHVybjsKCgkJY29uc3QgcmVtb3ZlZEluZGV4ID0gbWFwLmdldChpZCk7CgkJaWYgKHJlbW92ZWRJbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgoJCW1hcC5kZWxldGUoaWQpOwoKCQlmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBtYXAuZW50cmllcygpKSB7CgkJCWlmICh2YWx1ZSA+IHJlbW92ZWRJbmRleCkgewoJCQkJbWFwLnNldChrZXksIHZhbHVlIC0gMSk7CgkJCX0KCQl9Cgl9LCBbXSk7CgoJY29uc3QgaGFuZGxlUGFuZUFuaW1hdGlvbkVuZCA9IFJlYWN0LnVzZUNhbGxiYWNrKChwYW5lVWlkOiBzdHJpbmcpID0+IHsKCQlzZXRQYW5lcygocHJldikgPT4KCQkJcHJldi5maWx0ZXIoKHBhbmUpID0+ICEocGFuZS5waGFzZSA9PT0gJ2xlYXZlJyAmJiBwYW5lLnVpZCA9PT0gcGFuZVVpZCkpLAoJCSk7Cgl9LCBbXSk7CgoJY29uc3QgZGlzcGF0Y2hDb250ZW50QWN0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGFjdGlvbjogTmF2aWdhdGlvbk1lbnVDb250ZW50QWN0aW9uKSA9PiB7CgkJCWlmIChhY3Rpb24udHlwZSA9PT0gJ3VwZGF0ZScpIHsKCQkJCWNvbnRlbnRSZWdpc3RyeVJlZi5jdXJyZW50LnNldChhY3Rpb24ua2V5LCBhY3Rpb24uY29udGVudCk7CgkJCQlzZXRQYW5lcygocHJldikgPT4KCQkJCQlwcmV2Lm1hcCgocGFuZSkgPT4KCQkJCQkJcGFuZS5rZXkgPT09IGFjdGlvbi5rZXkKCQkJCQkJCT8geyAuLi5wYW5lLCBjb250ZW50OiBhY3Rpb24uY29udGVudCwgaW5kZXg6IGFjdGlvbi5pbmRleCB9CgkJCQkJCQk6IHBhbmUsCgkJCQkJKSwKCQkJCSk7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWlmIChhY3Rpb24udHlwZSA9PT0gJ2Nsb3NlJykgewoJCQkJY29udGVudFJlZ2lzdHJ5UmVmLmN1cnJlbnQuZGVsZXRlKGFjdGlvbi5rZXkpOwoJCQkJc2V0UGFuZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChwYW5lKSA9PiBwYW5lLmtleSAhPT0gYWN0aW9uLmtleSkpOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQljb25zdCBpc1NhbWVUYXJnZXQgPQoJCQkJYWN0aXZlS2V5UmVmLmN1cnJlbnQgPT09IGFjdGlvbi5rZXkgfHwKCQkJCWFjdGl2ZUluZGV4UmVmLmN1cnJlbnQgPT09IGFjdGlvbi5pbmRleDsKCgkJCWlmIChpc0FuaW1hdGlvbkxvY2tlZFJlZi5jdXJyZW50ICYmICFpc1NhbWVUYXJnZXQpIHsKCQkJCXBlbmRpbmdPcGVuQWN0aW9uUmVmLmN1cnJlbnQgPSBhY3Rpb247CgkJCQlyZXR1cm47CgkJCX0KCgkJCWNvbnRlbnRSZWdpc3RyeVJlZi5jdXJyZW50LnNldChhY3Rpb24ua2V5LCBhY3Rpb24uY29udGVudCk7CgkJCWNvbnN0IHByZXZpb3VzS2V5ID0gYWN0aXZlS2V5UmVmLmN1cnJlbnQ7CgkJCWNvbnN0IHByZXZpb3VzSW5kZXggPSBhY3RpdmVJbmRleFJlZi5jdXJyZW50OwoJCQljb25zdCBtb3Rpb25BdHRyaWJ1dGVzID0gZ2V0TW90aW9uQXR0cmlidXRlcyhwcmV2aW91c0luZGV4LCBhY3Rpb24uaW5kZXgpOwoJCQlhY3RpdmVLZXlSZWYuY3VycmVudCA9IGFjdGlvbi5rZXk7CgkJCWFjdGl2ZUluZGV4UmVmLmN1cnJlbnQgPSBhY3Rpb24uaW5kZXg7CgoJCQlzZXRQYW5lcygocHJldikgPT4gewoJCQkJY29uc3QgeyBlbnRlck1vdGlvbiwgbGVhdmVNb3Rpb24gfSA9IG1vdGlvbkF0dHJpYnV0ZXM7CgoJCQkJY29uc3QgbGVhdmluZ1BhbmVzID0gcHJldi5maWx0ZXIoCgkJCQkJKHBhbmUpID0+CgkJCQkJCXBhbmUucGhhc2UgPT09ICdsZWF2ZScgJiYKCQkJCQkJcGFuZS5rZXkgIT09IHByZXZpb3VzS2V5ICYmCgkJCQkJCXBhbmUua2V5ICE9PSBhY3Rpb24ua2V5LAoJCQkJKTsKCQkJCWNvbnN0IG5leHRQYW5lczogTmF2aWdhdGlvbk1lbnVNb3Rpb25QYW5lW10gPSBbLi4ubGVhdmluZ1BhbmVzXTsKCgkJCQlpZiAoCgkJCQkJcHJldmlvdXNLZXkgJiYKCQkJCQlwcmV2aW91c0tleSAhPT0gYWN0aW9uLmtleSAmJgoJCQkJCXByZXZpb3VzSW5kZXggIT09IG51bGwgJiYKCQkJCQlsZWF2ZU1vdGlvbgoJCQkJKSB7CgkJCQkJY29uc3QgcHJldmlvdXNDb250ZW50ID0KCQkJCQkJcHJldi5maW5kKAoJCQkJCQkJKHBhbmUpID0+IHBhbmUua2V5ID09PSBwcmV2aW91c0tleSAmJiBwYW5lLnBoYXNlID09PSAnZW50ZXInLAoJCQkJCQkpPy5jb250ZW50ID8/CgkJCQkJCWNvbnRlbnRSZWdpc3RyeVJlZi5jdXJyZW50LmdldChwcmV2aW91c0tleSkgPz8KCQkJCQkJbnVsbDsKCgkJCQkJaWYgKHByZXZpb3VzQ29udGVudCkgewoJCQkJCQluZXh0UGFuZXMucHVzaCgKCQkJCQkJCW1ha2VQYW5lKHsKCQkJCQkJCQlrZXk6IHByZXZpb3VzS2V5LAoJCQkJCQkJCWluZGV4OiBwcmV2aW91c0luZGV4LAoJCQkJCQkJCXBoYXNlOiAnbGVhdmUnLAoJCQkJCQkJCWNvbnRlbnQ6IHByZXZpb3VzQ29udGVudCwKCQkJCQkJCQltb3Rpb246IGxlYXZlTW90aW9uLAoJCQkJCQkJCWxhc3REaXJlY3Rpb246CgkJCQkJCQkJCWxlYXZlTW90aW9uID09PSAndG8tZW5kJwoJCQkJCQkJCQkJPyAnZW5kJwoJCQkJCQkJCQkJOiBsZWF2ZU1vdGlvbiA9PT0gJ3RvLXN0YXJ0JwoJCQkJCQkJCQkJCT8gJ3N0YXJ0JwoJCQkJCQkJCQkJCTogbnVsbCwKCQkJCQkJCX0pLAoJCQkJCQkpOwoJCQkJCX0KCQkJCX0KCgkJCQluZXh0UGFuZXMucHVzaCgKCQkJCQltYWtlUGFuZSh7CgkJCQkJCWtleTogYWN0aW9uLmtleSwKCQkJCQkJaW5kZXg6IGFjdGlvbi5pbmRleCwKCQkJCQkJcGhhc2U6ICdlbnRlcicsCgkJCQkJCWNvbnRlbnQ6IGFjdGlvbi5jb250ZW50LAoJCQkJCQltb3Rpb246IGVudGVyTW90aW9uLAoJCQkJCQlsYXN0RGlyZWN0aW9uOgoJCQkJCQkJZW50ZXJNb3Rpb24gPT09ICdmcm9tLWVuZCcKCQkJCQkJCQk/ICdlbmQnCgkJCQkJCQkJOiBlbnRlck1vdGlvbiA9PT0gJ2Zyb20tc3RhcnQnCgkJCQkJCQkJCT8gJ3N0YXJ0JwoJCQkJCQkJCQk6IG51bGwsCgkJCQkJfSksCgkJCQkpOwoKCQkJCXJldHVybiBuZXh0UGFuZXM7CgkJCX0pOwoKCQkJaWYgKAoJCQkJbW90aW9uQXR0cmlidXRlcy5lbnRlck1vdGlvbiAhPT0gbnVsbCB8fAoJCQkJbW90aW9uQXR0cmlidXRlcy5sZWF2ZU1vdGlvbiAhPT0gbnVsbAoJCQkpIHsKCQkJCXN0YXJ0QW5pbWF0aW9uTG9jaygpOwoJCQl9CgkJfSwKCQlbbWFrZVBhbmUsIHN0YXJ0QW5pbWF0aW9uTG9ja10sCgkpOwoKCWNvbnN0IG9yZGVyQ29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbygKCQkoKSA9PiAoewoJCQlyZWdpc3Rlckl0ZW0sCgkJCXVucmVnaXN0ZXJJdGVtLAoJCX0pLAoJCVtyZWdpc3Rlckl0ZW0sIHVucmVnaXN0ZXJJdGVtXSwKCSk7CgoJY29uc3QgY29udGVudENvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gKHsKCQkJZGlzcGF0Y2g6IGRpc3BhdGNoQ29udGVudEFjdGlvbiwKCQl9KSwKCQlbZGlzcGF0Y2hDb250ZW50QWN0aW9uXSwKCSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQkvLyBUb3VjaCB0aGUgdmVyc2lvbiBzbyBsaW50IHVuZGVyc3RhbmRzIHRoZSBkZXBlbmRlbmN5IGlzIGludGVudGlvbmFsLgoJCXZvaWQgYW5pbWF0aW9uTG9ja1ZlcnNpb247CgoJCWlmIChpc0FuaW1hdGlvbkxvY2tlZFJlZi5jdXJyZW50KSB7CgkJCXJldHVybjsKCQl9CgoJCWNvbnN0IHBlbmRpbmdBY3Rpb24gPSBwZW5kaW5nT3BlbkFjdGlvblJlZi5jdXJyZW50OwoJCWlmICghcGVuZGluZ0FjdGlvbikgewoJCQlyZXR1cm47CgkJfQoKCQlwZW5kaW5nT3BlbkFjdGlvblJlZi5jdXJyZW50ID0gbnVsbDsKCQlkaXNwYXRjaENvbnRlbnRBY3Rpb24ocGVuZGluZ0FjdGlvbik7Cgl9LCBbYW5pbWF0aW9uTG9ja1ZlcnNpb24sIGRpc3BhdGNoQ29udGVudEFjdGlvbl0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJcmV0dXJuICgpID0+IHsKCQkJaWYgKGFuaW1hdGlvbkxvY2tUaW1lb3V0UmVmLmN1cnJlbnQpIHsKCQkJCXdpbmRvdy5jbGVhclRpbWVvdXQoYW5pbWF0aW9uTG9ja1RpbWVvdXRSZWYuY3VycmVudCk7CgkJCX0KCQl9OwoJfSwgW10pOwoKCXJldHVybiAoCgkJPEFyaWFraXQuTWVudWJhcgoJCQlyZWY9e3JlZn0KCQkJey4uLnByb3BzfQoJCQljbGFzc05hbWU9e2NuKG5hdmlnYXRpb25NZW51VmFyaWFudHMoeyBzaXplIH0pLCBjbGFzc05hbWUpfQoJCT4KCQkJPFNldFNoaWZ0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17c2V0U2hpZnR9PgoJCQkJPFNldFBsYWNlbWVudENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3NldFBsYWNlbWVudH0+CgkJCQkJPEFyaWFraXQuTWVudVByb3ZpZGVyCgkJCQkJCXBsYWNlbWVudD17cGxhY2VtZW50fQoJCQkJCQlzaG93VGltZW91dD17MTAwfQoJCQkJCQloaWRlVGltZW91dD17MjUwfQoJCQkJCT4KCQkJCQkJPE5hdmlnYXRpb25NZW51SXRlbU9yZGVyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17b3JkZXJDb250ZXh0VmFsdWV9PgoJCQkJCQkJPE5hdmlnYXRpb25NZW51Q29udGVudENvbnRleHQuUHJvdmlkZXIKCQkJCQkJCQl2YWx1ZT17Y29udGVudENvbnRleHRWYWx1ZX0KCQkJCQkJCT4KCQkJCQkJCQk8TmF2aWdhdGlvbk1lbnVNb3Rpb25PYnNlcnZlciBvbk1lbnVDbG9zZT17cmVzZXRNb3Rpb25TdGF0ZX0gLz4KCQkJCQkJCQl7Y2hpbGRyZW59CgkJCQkJCQkJPEFyaWFraXQuTWVudQoJCQkJCQkJCQlwb3J0YWwKCQkJCQkJCQkJc2hpZnQ9e3NoaWZ0fQoJCQkJCQkJCQl0YWJJbmRleD17LTF9CgkJCQkJCQkJCXVubW91bnRPbkhpZGUKCQkJCQkJCQkJd3JhcHBlclByb3BzPXt7CgkJCQkJCQkJCQljbGFzc05hbWU6IGNuKAoJCQkJCQkJCQkJCSdbJjpoYXMoW2RhdGEtZW50ZXJdKV06dHJhbnNpdGlvbi1bdHJhbnNmb3JtXSBbJjpoYXMoW2RhdGEtZW50ZXJdKV06ZHVyYXRpb24tNDUwIGVhc2Utc21vb3RoJywKCQkJCQkJCQkJCQlwYW5lbFdyYXBwZXJDbGFzc05hbWUsCgkJCQkJCQkJCQkpLAoJCQkJCQkJCQl9fQoJCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQkJbmF2aWdhdGlvbk1lbnVQYW5lbFZhcmlhbnRzKHsgc2l6ZSB9KSwKCQkJCQkJCQkJCXBhbmVsQ2xhc3NOYW1lLAoJCQkJCQkJCQkpfQoJCQkJCQkJCT4KCQkJCQkJCQkJPGRpdgoJCQkJCQkJCQkJY2xhc3NOYW1lPXtuYXZpZ2F0aW9uTWVudU1vdGlvblZpZXdwb3J0Q2xhc3N9CgkJCQkJCQkJCQlzdHlsZT17CgkJCQkJCQkJCQkJbW90aW9uVmlld3BvcnRIZWlnaHQgPT09IG51bGwKCQkJCQkJCQkJCQkJPyB1bmRlZmluZWQKCQkJCQkJCQkJCQkJOiB7IGhlaWdodDogbW90aW9uVmlld3BvcnRIZWlnaHQgfQoJCQkJCQkJCQkJfQoJCQkJCQkJCQk+CgkJCQkJCQkJCQl7cGFuZXMubWFwKChwYW5lKSA9PiAoCgkJCQkJCQkJCQkJPGRpdgoJCQkJCQkJCQkJCQlrZXk9e3BhbmUudWlkfQoJCQkJCQkJCQkJCQlkYXRhLW1vdGlvbj17cGFuZS5tb3Rpb24gPz8gdW5kZWZpbmVkfQoJCQkJCQkJCQkJCQlkYXRhLXN0YXRlPXtwYW5lLnBoYXNlID09PSAnZW50ZXInID8gJ29wZW4nIDogJ2xlYXZlJ30KCQkJCQkJCQkJCQkJY2xhc3NOYW1lPXtuYXZpZ2F0aW9uTWVudU1vdGlvblBhbmVDbGFzc30KCQkJCQkJCQkJCQkJcmVmPXsobm9kZSkgPT4gewoJCQkJCQkJCQkJCQkJaWYgKG5vZGUpIHsKCQkJCQkJCQkJCQkJCQlwYW5lUmVmcy5jdXJyZW50LnNldChwYW5lLnVpZCwgbm9kZSk7CgkJCQkJCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQkJCQkJCXBhbmVSZWZzLmN1cnJlbnQuZGVsZXRlKHBhbmUudWlkKTsKCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCQkJb25BbmltYXRpb25FbmQ9eyhldmVudCkgPT4gewoJCQkJCQkJCQkJCQkJaWYgKAoJCQkJCQkJCQkJCQkJCXBhbmUucGhhc2UgPT09ICdsZWF2ZScgJiYKCQkJCQkJCQkJCQkJCQlldmVudC5jdXJyZW50VGFyZ2V0ID09PSBldmVudC50YXJnZXQKCQkJCQkJCQkJCQkJCSkgewoJCQkJCQkJCQkJCQkJCWhhbmRsZVBhbmVBbmltYXRpb25FbmQocGFuZS51aWQpOwoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQl9fQoJCQkJCQkJCQkJCT4KCQkJCQkJCQkJCQkJPGRpdiBjbGFzc05hbWU9e25hdmlnYXRpb25NZW51Q29udGVudExheW91dENsYXNzfT4KCQkJCQkJCQkJCQkJCXtwYW5lLmNvbnRlbnR9CgkJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJKSl9CgkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQk8TmF2aWdhdGlvbk1lbnVBcnJvdwoJCQkJCQkJCQkJY2xhc3NOYW1lPXtjbigndHJhbnNpdGlvbi1bbGVmdF0nLCBhcnJvd0NsYXNzTmFtZSl9CgkJCQkJCQkJCS8+CgkJCQkJCQkJPC9Bcmlha2l0Lk1lbnU+CgkJCQkJCQk8L05hdmlnYXRpb25NZW51Q29udGVudENvbnRleHQuUHJvdmlkZXI+CgkJCQkJCTwvTmF2aWdhdGlvbk1lbnVJdGVtT3JkZXJDb250ZXh0LlByb3ZpZGVyPgoJCQkJCTwvQXJpYWtpdC5NZW51UHJvdmlkZXI+CgkJCQk8L1NldFBsYWNlbWVudENvbnRleHQuUHJvdmlkZXI+CgkJCTwvU2V0U2hpZnRDb250ZXh0LlByb3ZpZGVyPgoJCTwvQXJpYWtpdC5NZW51YmFyPgoJKTsKfSk7CgpOYXZpZ2F0aW9uTWVudS5kaXNwbGF5TmFtZSA9ICdOYXZpZ2F0aW9uTWVudSc7CgpleHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRpb25NZW51SXRlbVByb3BzCglleHRlbmRzIE9taXQ8QXJpYWtpdC5NZW51SXRlbVByb3BzLCAnY2hpbGRyZW4nPiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIG5hdmlnYXRpb25NZW51VHJpZ2dlclZhcmlhbnRzPiB7CglsYWJlbDogUmVhY3QuUmVhY3ROb2RlOwoJaHJlZj86IHN0cmluZzsKCXNoaWZ0PzogbnVtYmVyOwoJcGxhY2VtZW50PzogQXJpYWtpdC5NZW51U3RvcmVQcm9wc1sncGxhY2VtZW50J107CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25NZW51SXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCU5hdmlnYXRpb25NZW51SXRlbVByb3BzCj4oZnVuY3Rpb24gTmF2aWdhdGlvbk1lbnVJdGVtKAoJewoJCWxhYmVsLAoJCWNoaWxkcmVuLAoJCWNsYXNzTmFtZSwKCQlocmVmLAoJCXNoaWZ0ID0gMCwKCQlwbGFjZW1lbnQgPSAnYm90dG9tJywKCQlzaXplLAoJCXJlbmRlciwKCQkuLi5pdGVtUHJvcHMKCX0sCglyZWYsCikgewoJY29uc3QgW21lbnVCdXR0b24sIHNldE1lbnVCdXR0b25dID0gUmVhY3QudXNlU3RhdGU8SFRNTERpdkVsZW1lbnQgfCBudWxsPigKCQludWxsLAoJKTsKCWNvbnN0IHNldFNoaWZ0ID0gUmVhY3QudXNlQ29udGV4dChTZXRTaGlmdENvbnRleHQpOwoJY29uc3Qgc2V0UGxhY2VtZW50ID0gUmVhY3QudXNlQ29udGV4dChTZXRQbGFjZW1lbnRDb250ZXh0KTsKCWNvbnN0IGNvbnRleHQgPSBBcmlha2l0LnVzZU1lbnVDb250ZXh0KCk7Cgljb25zdCBjb250ZW50Q29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTmF2aWdhdGlvbk1lbnVDb250ZW50Q29udGV4dCk7Cgljb25zdCBpdGVtT3JkZXJDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChOYXZpZ2F0aW9uTWVudUl0ZW1PcmRlckNvbnRleHQpOwoJaWYgKCFjb250ZXh0IHx8ICFjb250ZW50Q29udGV4dCB8fCAhaXRlbU9yZGVyQ29udGV4dCkgewoJCXRocm93IG5ldyBFcnJvcignTmF2aWdhdGlvbk1lbnVJdGVtIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBOYXZpZ2F0aW9uTWVudScpOwoJfQoJY29uc3QgaXRlbUlkID0gUmVhY3QudXNlSWQoKTsKCWNvbnN0IFtpdGVtSW5kZXhdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4KCQlpdGVtT3JkZXJDb250ZXh0LnJlZ2lzdGVySXRlbShpdGVtSWQpLAoJKTsKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJcmV0dXJuICgpID0+IHsKCQkJaXRlbU9yZGVyQ29udGV4dC51bnJlZ2lzdGVySXRlbShpdGVtSWQpOwoJCX07Cgl9LCBbaXRlbU9yZGVyQ29udGV4dCwgaXRlbUlkXSk7Cgljb25zdCBtZW51ID0gQXJpYWtpdC51c2VNZW51U3RvcmUoeyBzdG9yZTogY29udGV4dCB9KTsKCWNvbnN0IG9wZW4gPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoCgkJbWVudSwKCQkoc3RhdGUpID0+IHN0YXRlLm1vdW50ZWQgJiYgc3RhdGUuYW5jaG9yRWxlbWVudCA9PT0gbWVudUJ1dHRvbiwKCSk7CgoJUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHsKCQlpZiAoIW9wZW4pIHJldHVybjsKCQlzZXRTaGlmdChzaGlmdCk7CgkJc2V0UGxhY2VtZW50KHBsYWNlbWVudCA/PyAnYm90dG9tJyk7Cgl9LCBbb3BlbiwgcGxhY2VtZW50LCBzZXRQbGFjZW1lbnQsIHNldFNoaWZ0LCBzaGlmdF0pOwoKCVJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJaWYgKCFvcGVuKSByZXR1cm47CgkJY29udGVudENvbnRleHQuZGlzcGF0Y2goewoJCQl0eXBlOiAnb3BlbicsCgkJCWtleTogaXRlbUlkLAoJCQlpbmRleDogaXRlbUluZGV4LAoJCQljb250ZW50OiBjaGlsZHJlbiA/PyBudWxsLAoJCX0pOwoJfSwgW29wZW4sIGNvbnRlbnRDb250ZXh0LCBpdGVtSWQsIGl0ZW1JbmRleCwgY2hpbGRyZW5dKTsKCglSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gewoJCWlmICghb3BlbikgcmV0dXJuOwoJCWNvbnRlbnRDb250ZXh0LmRpc3BhdGNoKHsKCQkJdHlwZTogJ3VwZGF0ZScsCgkJCWtleTogaXRlbUlkLAoJCQlpbmRleDogaXRlbUluZGV4LAoJCQljb250ZW50OiBjaGlsZHJlbiA/PyBudWxsLAoJCX0pOwoJfSwgW2NoaWxkcmVuLCBvcGVuLCBjb250ZW50Q29udGV4dCwgaXRlbUlkLCBpdGVtSW5kZXhdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCXJldHVybiAoKSA9PiB7CgkJCWNvbnRlbnRDb250ZXh0LmRpc3BhdGNoKHsgdHlwZTogJ2Nsb3NlJywga2V5OiBpdGVtSWQgfSk7CgkJfTsKCX0sIFtjb250ZW50Q29udGV4dCwgaXRlbUlkXSk7CgoJY29uc3QgcmVuZGVyRWxlbWVudCA9CgkJcmVuZGVyID8/CgkJKGhyZWYKCQkJPyAocHJvcHM6IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnYSc+KSA9PiAoCgkJCQkJPGEgey4uLnByb3BzfSBocmVmPXtocmVmfT4KCQkJCQkJe3Byb3BzLmNoaWxkcmVufQoJCQkJCTwvYT4KCQkJCSkKCQkJOiB1bmRlZmluZWQpOwoKCWNvbnN0IHJlbmRlclByb3BzID0gcmVuZGVyRWxlbWVudCA/IHsgcmVuZGVyOiByZW5kZXJFbGVtZW50IH0gOiB7fTsKCWNvbnN0IHN0b3JlRm9ySXRlbSA9IG1lbnUubWVudWJhciA/PyBtZW51OwoKCWNvbnN0IGl0ZW0gPSAoCgkJPEFyaWFraXQuTWVudUl0ZW0KCQkJcmVmPXtyZWZ9CgkJCXN0b3JlPXtzdG9yZUZvckl0ZW19CgkJCXRhYmJhYmxlCgkJCWJsdXJPbkhvdmVyRW5kPXtmYWxzZX0KCQkJZGF0YS1leHBhbmRlZD17b3BlbiA/ICd0cnVlJyA6IHVuZGVmaW5lZH0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCW5hdmlnYXRpb25NZW51VHJpZ2dlclZhcmlhbnRzKHsgc2l6ZSB9KSwKCQkJCW9wZW4gJiYgJ2JnLWNhcmQtbXV0ZWQgdGV4dC1mb3JlZ3JvdW5kJywKCQkJCSFjaGlsZHJlbiAmJiAnaG92ZXI6YmctY2FyZC1tdXRlZCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5yZW5kZXJQcm9wc30KCQkJey4uLml0ZW1Qcm9wc30KCQk+CgkJCTxzcGFuIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgoJCQkJe2xhYmVsfQoJCQkJeyEhY2hpbGRyZW4gJiYgKAoJCQkJCTxJY29ucy5DaGV2cm9uRG93bgoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ21sLTEgc2l6ZS00IHRyYW5zaXRpb24tdHJhbnNmb3JtIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwICcsCgkJCQkJCQlvcGVuICYmICdyb3RhdGUtMTgwJywKCQkJCQkJKX0KCQkJCQkvPgoJCQkJKX0KCQkJPC9zcGFuPgoJCTwvQXJpYWtpdC5NZW51SXRlbT4KCSk7CgoJaWYgKCFjaGlsZHJlbikgewoJCXJldHVybiBpdGVtOwoJfQoKCXJldHVybiAoCgkJPEFyaWFraXQuTWVudVByb3ZpZGVyIHN0b3JlPXttZW51fSBwYXJlbnQ9e251bGx9PgoJCQk8QXJpYWtpdC5NZW51QnV0dG9uCgkJCQlyZWY9e3NldE1lbnVCdXR0b259CgkJCQlzaG93T25Ib3ZlcgoJCQkJcmVuZGVyPXtpdGVtfQoJCQkJb25Gb2N1c1Zpc2libGU9eyhldmVudCkgPT4gewoJCQkJCW1lbnUuc2V0RGlzY2xvc3VyZUVsZW1lbnQoZXZlbnQuY3VycmVudFRhcmdldCk7CgkJCQkJbWVudS5zZXRBbmNob3JFbGVtZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQpOwoJCQkJCW1lbnUuc2hvdygpOwoJCQkJfX0KCQkJCXRvZ2dsZU9uQ2xpY2s9eygpID0+IHsKCQkJCQlpZiAoaHJlZikgcmV0dXJuIGZhbHNlOwoJCQkJCW1lbnUuc2hvdygpOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX19CgkJCS8+CgkJPC9Bcmlha2l0Lk1lbnVQcm92aWRlcj4KCSk7Cn0pOwoKTmF2aWdhdGlvbk1lbnVJdGVtLmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25NZW51SXRlbSc7CgpleHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRpb25NZW51TGlua1Byb3BzCglleHRlbmRzIE9taXQ8QXJpYWtpdC5NZW51SXRlbVByb3BzLCAnY2hpbGRyZW4nPiB7CglsYWJlbD86IFJlYWN0LlJlYWN0Tm9kZTsKCWRlc2NyaXB0aW9uPzogUmVhY3QuUmVhY3ROb2RlOwoJaHJlZj86IHN0cmluZzsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgY29uc3QgTmF2aWdhdGlvbk1lbnVMaW5rID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxEaXZFbGVtZW50LAoJTmF2aWdhdGlvbk1lbnVMaW5rUHJvcHMKPihmdW5jdGlvbiBOYXZpZ2F0aW9uTWVudUxpbmsoCgl7IGxhYmVsLCBkZXNjcmlwdGlvbiwgaHJlZiwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgcmVuZGVyLCAuLi5wcm9wcyB9LAoJcmVmLAopIHsKCWNvbnN0IG1lbnUgPSBBcmlha2l0LnVzZU1lbnVDb250ZXh0KCk7CglpZiAoIW1lbnUpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ05hdmlnYXRpb25NZW51TGluayBtdXN0IGJlIHVzZWQgd2l0aGluIGEgTmF2aWdhdGlvbk1lbnUnKTsKCX0KCWNvbnN0IGlkID0gUmVhY3QudXNlSWQoKTsKCWNvbnN0IGxhYmVsSWQgPSBgJHtpZH0tbGFiZWxgOwoJY29uc3QgZGVzY3JpcHRpb25JZCA9IGAke2lkfS1kZXNjcmlwdGlvbmA7Cgljb25zdCBoYXNDdXN0b21DaGlsZHJlbiA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pID4gMCwKCQlbY2hpbGRyZW5dLAoJKTsKCgljb25zdCByZW5kZXJFbGVtZW50ID0KCQlyZW5kZXIgPz8KCQkoaHJlZgoJCQk/IChwcm9wczogUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPCdhJz4pID0+ICgKCQkJCQk8YSB7Li4ucHJvcHN9IGhyZWY9e2hyZWZ9PgoJCQkJCQl7cHJvcHMuY2hpbGRyZW59CgkJCQkJPC9hPgoJCQkJKQoJCQk6IHVuZGVmaW5lZCk7CgoJY29uc3QgcmVuZGVyUHJvcHMgPSByZW5kZXJFbGVtZW50ID8geyByZW5kZXI6IHJlbmRlckVsZW1lbnQgfSA6IHt9OwoKCXJldHVybiAoCgkJPEFyaWFraXQuTWVudUl0ZW0KCQkJcmVmPXtyZWZ9CgkJCXN0b3JlPXttZW51fQoJCQl0YWJiYWJsZQoJCQlmb2N1c09uSG92ZXI9e2ZhbHNlfQoJCQlhcmlhLWxhYmVsbGVkYnk9eyFoYXNDdXN0b21DaGlsZHJlbiA/IGxhYmVsSWQgOiB1bmRlZmluZWR9CgkJCWFyaWEtZGVzY3JpYmVkYnk9ewoJCQkJIWhhc0N1c3RvbUNoaWxkcmVuICYmIGRlc2NyaXB0aW9uID8gZGVzY3JpcHRpb25JZCA6IHVuZGVmaW5lZAoJCQl9CgkJCWNsYXNzTmFtZT17Y24obmF2aWdhdGlvbk1lbnVMaW5rVmFyaWFudHMoKSwgY2xhc3NOYW1lKX0KCQkJey4uLnJlbmRlclByb3BzfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7aGFzQ3VzdG9tQ2hpbGRyZW4gPyAoCgkJCQljaGlsZHJlbgoJCQkpIDogKAoJCQkJPD4KCQkJCQk8c3BhbgoJCQkJCQlpZD17bGFiZWxJZH0KCQkJCQkJY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIGxlYWRpbmctbm9uZSB0ZXh0LWZvcmVncm91bmQiCgkJCQkJPgoJCQkJCQl7bGFiZWx9CgkJCQkJPC9zcGFuPgoJCQkJCXtkZXNjcmlwdGlvbiAmJiAoCgkJCQkJCTxzcGFuCgkJCQkJCQlpZD17ZGVzY3JpcHRpb25JZH0KCQkJCQkJCWNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LWZvcmVncm91bmQvNzAgbGluZS1jbGFtcC0yIGxlYWRpbmctc251ZyIKCQkJCQkJPgoJCQkJCQkJe2Rlc2NyaXB0aW9ufQoJCQkJCQk8L3NwYW4+CgkJCQkJKX0KCQkJCTwvPgoJCQkpfQoJCTwvQXJpYWtpdC5NZW51SXRlbT4KCSk7Cn0pOwoKTmF2aWdhdGlvbk1lbnVMaW5rLmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25NZW51TGluayc7CgpleHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRpb25NZW51R3JvdXBQcm9wcwoJZXh0ZW5kcyBBcmlha2l0Lk1lbnVHcm91cFByb3BzLAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgbmF2aWdhdGlvbk1lbnVHcm91cFZhcmlhbnRzPiB7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uTWVudUdyb3VwID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxEaXZFbGVtZW50LAoJTmF2aWdhdGlvbk1lbnVHcm91cFByb3BzCj4oZnVuY3Rpb24gTmF2aWdhdGlvbk1lbnVHcm91cCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgewoJcmV0dXJuICgKCQk8QXJpYWtpdC5NZW51R3JvdXAKCQkJcmVmPXtyZWZ9CgkJCXsuLi5wcm9wc30KCQkJY2xhc3NOYW1lPXtjbihuYXZpZ2F0aW9uTWVudUdyb3VwVmFyaWFudHMoKSwgY2xhc3NOYW1lKX0KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuTWVudUdyb3VwPgoJKTsKfSk7CgpOYXZpZ2F0aW9uTWVudUdyb3VwLmRpc3BsYXlOYW1lID0gJ05hdmlnYXRpb25NZW51R3JvdXAnOwoKaW50ZXJmYWNlIE5hdmlnYXRpb25NZW51QXJyb3dQcm9wcyB7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmZ1bmN0aW9uIE5hdmlnYXRpb25NZW51QXJyb3coeyBjbGFzc05hbWUgfTogTmF2aWdhdGlvbk1lbnVBcnJvd1Byb3BzKSB7Cgljb25zdCBtZW51ID0gQXJpYWtpdC51c2VNZW51Q29udGV4dCgpOwoJaWYgKCFtZW51KSB7CgkJdGhyb3cgbmV3IEVycm9yKCdOYXZpZ2F0aW9uTWVudUFycm93IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBOYXZpZ2F0aW9uTWVudScpOwoJfQoKCWNvbnN0IGN1cnJlbnRQbGFjZW1lbnQgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUobWVudSwgJ2N1cnJlbnRQbGFjZW1lbnQnKTsKCWNvbnN0IHNob3VsZFRpbnRBcnJvdyA9IGN1cnJlbnRQbGFjZW1lbnQ/LnN0YXJ0c1dpdGgoJ2JvdHRvbScpOwoKCXJldHVybiAoCgkJPEFyaWFraXQuTWVudUFycm93CgkJCXN0eWxlPXtzaG91bGRUaW50QXJyb3cgPyB7IHN0cm9rZTogJ3ZhcigtLWFycm93LWhpZ2hsaWdodCknIH0gOiB1bmRlZmluZWR9CgkJCWNsYXNzTmFtZT17Y2xhc3NOYW1lfQoJCS8+CgkpOwp9CgpmdW5jdGlvbiBnZXRNb3Rpb25BdHRyaWJ1dGVzKAoJcHJldkluZGV4OiBudW1iZXIgfCBudWxsLAoJbmV4dEluZGV4OiBudW1iZXIsCik6IHsKCWVudGVyTW90aW9uOiBNb3Rpb25BdHRyaWJ1dGUgfCBudWxsOwoJbGVhdmVNb3Rpb246IE1vdGlvbkF0dHJpYnV0ZSB8IG51bGw7Cn0gewoJaWYgKHByZXZJbmRleCA9PT0gbnVsbCB8fCBwcmV2SW5kZXggPT09IG5leHRJbmRleCkgewoJCXJldHVybiB7IGVudGVyTW90aW9uOiBudWxsLCBsZWF2ZU1vdGlvbjogbnVsbCB9OwoJfQoKCXJldHVybiBwcmV2SW5kZXggPCBuZXh0SW5kZXgKCQk/IHsgZW50ZXJNb3Rpb246ICdmcm9tLWVuZCcsIGxlYXZlTW90aW9uOiAndG8tc3RhcnQnIH0KCQk6IHsgZW50ZXJNb3Rpb246ICdmcm9tLXN0YXJ0JywgbGVhdmVNb3Rpb246ICd0by1lbmQnIH07Cn0="
,
  "otp-input.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qgb3RwR3JvdXBWYXJpYW50cyA9IGN2YSgnZmxleCB3LWZpdCcsIHsKCXZhcmlhbnRzOiB7CgkJc2l6ZTogewoJCQlzbTogJ2dhcC0xLjUnLAoJCQltZDogJ2dhcC0yJywKCQkJbGc6ICdnYXAtMi41JywKCQl9LAoJfSwKCWRlZmF1bHRWYXJpYW50czogewoJCXNpemU6ICdtZCcsCgl9LAp9KTsKCmNvbnN0IG90cENlbGxXcmFwcGVyVmFyaWFudHMgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIHJvdW5kZWQtbWQgYm9yZGVyIGJnLWNhcmQgc2hhZG93LXNtIGNhcmQtaGlnaGxpZ2h0JywKCQkndHJhbnNpdGlvbi1zaGFkb3cgZHVyYXRpb24tMTAwIGVhc2Utb3V0LXF1YWQnLAoJCSdmb2N1cy13aXRoaW46cmluZy0xIGZvY3VzLXdpdGhpbjpyaW5nLW9mZnNldC0xIGZvY3VzLXdpdGhpbjpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCcsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnc2l6ZS04JywKCQkJCW1kOiAnc2l6ZS05JywKCQkJCWxnOiAnc2l6ZS0xMCcsCgkJCX0sCgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6IFsnYm9yZGVyLWJvcmRlcicsICdmb2N1cy13aXRoaW46cmluZy1yaW5nLzUwJ10sCgkJCQllcnJvcjogWydib3JkZXItZGVzdHJ1Y3RpdmUvNDAnLCAnZm9jdXMtd2l0aGluOnJpbmctZGVzdHJ1Y3RpdmUvNTAnXSwKCQkJCXN1Y2Nlc3M6IFsnYm9yZGVyLXN1Y2Nlc3MvNDAnLCAnZm9jdXMtd2l0aGluOnJpbmctc3VjY2Vzcy81MCddLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQl9LAoJfSwKKTsKCmNvbnN0IG90cENlbGxWYXJpYW50cyA9IGN2YSgKCVsKCQknZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLW1kIGJvcmRlci0wJywKCQknYmctdHJhbnNwYXJlbnQgdGV4dC1jZW50ZXIgZm9udC1tZWRpdW0gdGFidWxhci1udW1zIHRleHQtZm9yZWdyb3VuZCcsCgkJJ3NlbGVjdC1ub25lJywKCQkncGxhY2Vob2xkZXI6dGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQknZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCSdkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCcsCgkJJ3JlYWQtb25seTpjdXJzb3ItZGVmYXVsdCcsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAndGV4dC1zbScsCgkJCQltZDogJ3RleHQtc20nLAoJCQkJbGc6ICd0ZXh0LWJhc2UnLAoJCQl9LAoJCQlpc0ZpbGxlZDogewoJCQkJdHJ1ZTogJ3RleHQtZm9yZWdyb3VuZCcsCgkJCQlmYWxzZTogJ3RleHQtZm9yZWdyb3VuZC80NScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQkJaXNGaWxsZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgbGFiZWxDbGFzc2VzID0gJ21iLTEuNSBibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCc7Cgpjb25zdCBtZXNzYWdlVmFyaWFudHMgPSBjdmEoJ210LTEuNSB0ZXh0LXNtJywgewoJdmFyaWFudHM6IHsKCQl0eXBlOiB7CgkJCWVycm9yOiAndGV4dC1kZXN0cnVjdGl2ZS85MCcsCgkJCXN1Y2Nlc3M6ICd0ZXh0LXN1Y2Nlc3MvOTAnLAoJCQloZWxwZXI6ICd0ZXh0LWZvcmVncm91bmQvNzAnLAoJCX0sCgl9LAp9KTsKCmZ1bmN0aW9uIHNhbml0aXplT3RwVmFsdWUodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCwgbGVuZ3RoOiBudW1iZXIpIHsKCWlmICghdmFsdWUpIHsKCQlyZXR1cm4gJyc7Cgl9CgoJcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1xEL2csICcnKS5zbGljZSgwLCBsZW5ndGgpOwp9CgpmdW5jdGlvbiBjcmVhdGVWYWx1ZUFycmF5KHZhbHVlOiBzdHJpbmcsIGxlbmd0aDogbnVtYmVyKSB7Cgljb25zdCBjaGFycyA9IHZhbHVlLnNwbGl0KCcnKS5zbGljZSgwLCBsZW5ndGgpOwoKCXdoaWxlIChjaGFycy5sZW5ndGggPCBsZW5ndGgpIHsKCQljaGFycy5wdXNoKCcnKTsKCX0KCglyZXR1cm4gY2hhcnM7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgT1RQSW5wdXRQcm9wcwoJZXh0ZW5kcyBPbWl0PAoJCQlSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LAoJCQknc2l6ZScgfCAndmFsdWUnIHwgJ2RlZmF1bHRWYWx1ZScgfCAnb25DaGFuZ2UnIHwgJ3R5cGUnCgkJPiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIG90cENlbGxXcmFwcGVyVmFyaWFudHM+IHsKCWxlbmd0aD86IG51bWJlcjsKCXZhbHVlPzogc3RyaW5nOwoJZGVmYXVsdFZhbHVlPzogc3RyaW5nOwoJb25DaGFuZ2U/OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDsKCW9uQ29tcGxldGU/OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDsKCWxhYmVsPzogc3RyaW5nOwoJaGVscGVyVGV4dD86IHN0cmluZzsKCWVycm9yTWVzc2FnZT86IHN0cmluZzsKCXN1Y2Nlc3NNZXNzYWdlPzogc3RyaW5nOwoJY29udGFpbmVyQ2xhc3NOYW1lPzogc3RyaW5nOwoJY2VsbENsYXNzTmFtZT86IHN0cmluZzsKCWNlbGxXcmFwcGVyQ2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgT1RQSW5wdXQ6IFJlYWN0LkZDPE9UUElucHV0UHJvcHM+ID0gKHsKCWxlbmd0aCA9IDYsCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJc2l6ZSA9ICdtZCcsCgl2YWx1ZSwKCWRlZmF1bHRWYWx1ZSA9ICcnLAoJb25DaGFuZ2UsCglvbkNvbXBsZXRlLAoJbGFiZWwsCgloZWxwZXJUZXh0LAoJZXJyb3JNZXNzYWdlLAoJc3VjY2Vzc01lc3NhZ2UsCgljb250YWluZXJDbGFzc05hbWUgPSAnJywKCWNsYXNzTmFtZSA9ICcnLAoJY2VsbENsYXNzTmFtZSA9ICcnLAoJY2VsbFdyYXBwZXJDbGFzc05hbWUgPSAnJywKCW5hbWUsCglpZCwKCWRpc2FibGVkID0gZmFsc2UsCglhdXRvRm9jdXMgPSBmYWxzZSwKCXJlYWRPbmx5ID0gZmFsc2UsCgkuLi5yZXN0SW5wdXRQcm9wcwp9KSA9PiB7Cgljb25zdCBpbnB1dExlbmd0aCA9IE1hdGgubWF4KDEsIGxlbmd0aCk7Cgljb25zdCB7CgkJaW5wdXRNb2RlOiBpbnB1dE1vZGVQcm9wLAoJCXBhdHRlcm46IHBhdHRlcm5Qcm9wLAoJCWF1dG9Db21wbGV0ZTogYXV0b0NvbXBsZXRlUHJvcCwKCQkuLi5yZW1haW5pbmdJbnB1dFByb3BzCgl9ID0gcmVzdElucHV0UHJvcHM7CgoJY29uc3QgaXNDb250cm9sbGVkID0gdmFsdWUgIT09IHVuZGVmaW5lZDsKCWNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+CgkJc2FuaXRpemVPdHBWYWx1ZShkZWZhdWx0VmFsdWUsIGlucHV0TGVuZ3RoKSwKCSk7Cgljb25zdCBjdXJyZW50VmFsdWUgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+CgkJCXNhbml0aXplT3RwVmFsdWUoCgkJCQlpc0NvbnRyb2xsZWQgPyAodmFsdWUgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSA6IGludGVybmFsVmFsdWUsCgkJCQlpbnB1dExlbmd0aCwKCQkJKSwKCQlbaXNDb250cm9sbGVkLCB2YWx1ZSwgaW50ZXJuYWxWYWx1ZSwgaW5wdXRMZW5ndGhdLAoJKTsKCgljb25zdCB2YWx1ZVJlZiA9IFJlYWN0LnVzZVJlZihjdXJyZW50VmFsdWUpOwoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQl2YWx1ZVJlZi5jdXJyZW50ID0gY3VycmVudFZhbHVlOwoJfSwgW2N1cnJlbnRWYWx1ZV0pOwoKCWNvbnN0IHNldFZhbHVlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKG5leHRWYWx1ZTogc3RyaW5nKSA9PiB7CgkJCWNvbnN0IHNhbml0aXplZCA9IHNhbml0aXplT3RwVmFsdWUobmV4dFZhbHVlLCBpbnB1dExlbmd0aCk7CgkJCXZhbHVlUmVmLmN1cnJlbnQgPSBzYW5pdGl6ZWQ7CgkJCWlmICghaXNDb250cm9sbGVkKSB7CgkJCQlzZXRJbnRlcm5hbFZhbHVlKHNhbml0aXplZCk7CgkJCX0KCQkJb25DaGFuZ2U/LihzYW5pdGl6ZWQpOwoJCQlpZiAoc2FuaXRpemVkLmxlbmd0aCA9PT0gaW5wdXRMZW5ndGgpIHsKCQkJCW9uQ29tcGxldGU/LihzYW5pdGl6ZWQpOwoJCQl9CgkJfSwKCQlbaW5wdXRMZW5ndGgsIGlzQ29udHJvbGxlZCwgb25DaGFuZ2UsIG9uQ29tcGxldGVdLAoJKTsKCgljb25zdCBnZXRDdXJyZW50Q2hhcnMgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJcmV0dXJuIGNyZWF0ZVZhbHVlQXJyYXkodmFsdWVSZWYuY3VycmVudCwgaW5wdXRMZW5ndGgpOwoJfSwgW2lucHV0TGVuZ3RoXSk7CgoJY29uc3QgZ2V0Rmlyc3RJbmNvbXBsZXRlSW5kZXggPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJY29uc3QgY2hhcnMgPSBnZXRDdXJyZW50Q2hhcnMoKTsKCQlyZXR1cm4gY2hhcnMuaW5kZXhPZignJyk7Cgl9LCBbZ2V0Q3VycmVudENoYXJzXSk7CgoJY29uc3QgaW5wdXRzUmVmID0gUmVhY3QudXNlUmVmPEFycmF5PEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsPj4oW10pOwoJY29uc3QgcGxhY2VDYXJldEF0RW5kID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCkgPT4gewoJCQlpZiAoIWlucHV0IHx8IHR5cGVvZiBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSAhPT0gJ2Z1bmN0aW9uJykgewoJCQkJcmV0dXJuOwoJCQl9CgkJCWNvbnN0IHZhbHVlTGVuZ3RoID0gaW5wdXQudmFsdWUubGVuZ3RoOwoJCQl0cnkgewoJCQkJaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UodmFsdWVMZW5ndGgsIHZhbHVlTGVuZ3RoKTsKCQkJfSBjYXRjaCB7CgkJCQkvLyBJZ25vcmUgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHNldFNlbGVjdGlvblJhbmdlIG9uIHRoZSBjdXJyZW50IGlucHV0LgoJCQl9CgkJfSwKCQlbXSwKCSk7Cgljb25zdCBza2lwQXV0b1JlZGlyZWN0UmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTsKCWNvbnN0IGZvY3VzSW5wdXQgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoaW5kZXg6IG51bWJlciwgb3B0aW9ucz86IHsgYWxsb3dBdXRvUmVkaXJlY3Q/OiBib29sZWFuIH0pID0+IHsKCQkJc2tpcEF1dG9SZWRpcmVjdFJlZi5jdXJyZW50ID0gIShvcHRpb25zPy5hbGxvd0F1dG9SZWRpcmVjdCA/PyBmYWxzZSk7CgkJCWNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgaW5wdXRMZW5ndGggLSAxKSk7CgkJCWNvbnN0IHRhcmdldCA9IGlucHV0c1JlZi5jdXJyZW50W2NsYW1wZWRdOwoJCQlpZiAodGFyZ2V0KSB7CgkJCQl0YXJnZXQuZm9jdXMoKTsKCQkJCXBsYWNlQ2FyZXRBdEVuZCh0YXJnZXQpOwoJCQl9CgkJfSwKCQlbaW5wdXRMZW5ndGgsIHBsYWNlQ2FyZXRBdEVuZF0sCgkpOwoKCWNvbnN0IGhhbmRsZUlucHV0Rm9jdXMgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoaW5kZXg6IG51bWJlciwgZXZlbnQ6IFJlYWN0LkZvY3VzRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHsKCQkJaWYgKHNraXBBdXRvUmVkaXJlY3RSZWYuY3VycmVudCkgewoJCQkJc2tpcEF1dG9SZWRpcmVjdFJlZi5jdXJyZW50ID0gZmFsc2U7CgkJCQlwbGFjZUNhcmV0QXRFbmQoZXZlbnQuY3VycmVudFRhcmdldCk7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWNvbnN0IGZpcnN0SW5jb21wbGV0ZUluZGV4ID0gZ2V0Rmlyc3RJbmNvbXBsZXRlSW5kZXgoKTsKCQkJaWYgKGZpcnN0SW5jb21wbGV0ZUluZGV4ID09PSAtMSkgewoJCQkJaWYgKGluZGV4ID09PSBpbnB1dExlbmd0aCAtIDEpIHsKCQkJCQlwbGFjZUNhcmV0QXRFbmQoZXZlbnQuY3VycmVudFRhcmdldCk7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQlmb2N1c0lucHV0KGlucHV0TGVuZ3RoIC0gMSwgeyBhbGxvd0F1dG9SZWRpcmVjdDogdHJ1ZSB9KTsKCQkJCXJldHVybjsKCQkJfQoKCQkJaWYgKGZpcnN0SW5jb21wbGV0ZUluZGV4ID09PSBpbmRleCkgewoJCQkJcGxhY2VDYXJldEF0RW5kKGV2ZW50LmN1cnJlbnRUYXJnZXQpOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQlmb2N1c0lucHV0KGZpcnN0SW5jb21wbGV0ZUluZGV4KTsKCQl9LAoJCVtnZXRGaXJzdEluY29tcGxldGVJbmRleCwgZm9jdXNJbnB1dCwgaW5wdXRMZW5ndGgsIHBsYWNlQ2FyZXRBdEVuZF0sCgkpOwoKCWNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGluZGV4OiBudW1iZXIsIGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gewoJCQlpZiAoZGlzYWJsZWQgfHwgcmVhZE9ubHkpIHsKCQkJCXJldHVybjsKCQkJfQoKCQkJY29uc3QgbmV4dENoYXJzID0gZ2V0Q3VycmVudENoYXJzKCk7CgkJCWNvbnN0IHByZXZpb3VzVmFsdWUgPSBuZXh0Q2hhcnNbaW5kZXhdID8/ICcnOwoJCQljb25zdCBuYXRpdmVFdmVudCA9IGV2ZW50Lm5hdGl2ZUV2ZW50IGFzIElucHV0RXZlbnQgfCB1bmRlZmluZWQ7CgkJCWNvbnN0IGlucHV0VHlwZSA9IG5hdGl2ZUV2ZW50Py5pbnB1dFR5cGUgPz8gJyc7CgkJCWNvbnN0IGlzRGVsZXRpb24gPSBpbnB1dFR5cGUuc3RhcnRzV2l0aCgnZGVsZXRlJyk7CgkJCWxldCBkaWdpdHNTb3VyY2UgPSAnJzsKCgkJCWlmICghaXNEZWxldGlvbiAmJiB0eXBlb2YgbmF0aXZlRXZlbnQ/LmRhdGEgPT09ICdzdHJpbmcnKSB7CgkJCQlkaWdpdHNTb3VyY2UgPSBuYXRpdmVFdmVudC5kYXRhOwoJCQl9IGVsc2UgaWYgKCFpc0RlbGV0aW9uKSB7CgkJCQljb25zdCBmYWxsYmFja1ZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xEL2csICcnKTsKCQkJCWlmIChwcmV2aW91c1ZhbHVlICYmIGZhbGxiYWNrVmFsdWUuc3RhcnRzV2l0aChwcmV2aW91c1ZhbHVlKSkgewoJCQkJCWRpZ2l0c1NvdXJjZSA9IGZhbGxiYWNrVmFsdWUuc2xpY2UocHJldmlvdXNWYWx1ZS5sZW5ndGgpOwoJCQkJfSBlbHNlIHsKCQkJCQlkaWdpdHNTb3VyY2UgPSBmYWxsYmFja1ZhbHVlOwoJCQkJfQoJCQl9CgoJCQljb25zdCBkaWdpdHMgPSBkaWdpdHNTb3VyY2UucmVwbGFjZSgvXEQvZywgJycpOwoKCQkJaWYgKCFkaWdpdHMpIHsKCQkJCW5leHRDaGFyc1tpbmRleF0gPSAnJzsKCQkJCXNldFZhbHVlKG5leHRDaGFycy5qb2luKCcnKSk7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWxldCBuZXh0SW5kZXggPSBpbmRleDsKCQkJZm9yIChjb25zdCBkaWdpdCBvZiBkaWdpdHMpIHsKCQkJCWlmIChuZXh0SW5kZXggPj0gaW5wdXRMZW5ndGgpIHsKCQkJCQlicmVhazsKCQkJCX0KCQkJCW5leHRDaGFyc1tuZXh0SW5kZXhdID0gZGlnaXQ7CgkJCQluZXh0SW5kZXggKz0gMTsKCQkJfQoKCQkJc2V0VmFsdWUobmV4dENoYXJzLmpvaW4oJycpKTsKCQkJaWYgKG5leHRJbmRleCA8IGlucHV0TGVuZ3RoKSB7CgkJCQlmb2N1c0lucHV0KG5leHRJbmRleCk7CgkJCX0gZWxzZSB7CgkJCQlmb2N1c0lucHV0KGlucHV0TGVuZ3RoIC0gMSwgeyBhbGxvd0F1dG9SZWRpcmVjdDogdHJ1ZSB9KTsKCQkJfQoJCX0sCgkJW2Rpc2FibGVkLCByZWFkT25seSwgZ2V0Q3VycmVudENoYXJzLCBzZXRWYWx1ZSwgaW5wdXRMZW5ndGgsIGZvY3VzSW5wdXRdLAoJKTsKCgljb25zdCBoYW5kbGVQb2ludGVyRG93biA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7CgkJCWlmIChkaXNhYmxlZCB8fCByZWFkT25seSkgewoJCQkJcmV0dXJuOwoJCQl9CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCWNvbnN0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7CgkJCXRhcmdldC5mb2N1cygpOwoJCQlwbGFjZUNhcmV0QXRFbmQodGFyZ2V0KTsKCQl9LAoJCVtkaXNhYmxlZCwgcmVhZE9ubHksIHBsYWNlQ2FyZXRBdEVuZF0sCgkpOwoKCWNvbnN0IGhhbmRsZUtleURvd24gPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoaW5kZXg6IG51bWJlciwgZXZlbnQ6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHsKCQkJaWYgKGV2ZW50LmtleSA9PT0gJ0JhY2tzcGFjZScpIHsKCQkJCWNvbnN0IG5leHRDaGFycyA9IGdldEN1cnJlbnRDaGFycygpOwoJCQkJaWYgKG5leHRDaGFyc1tpbmRleF0pIHsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCW5leHRDaGFyc1tpbmRleF0gPSAnJzsKCQkJCQlzZXRWYWx1ZShuZXh0Q2hhcnMuam9pbignJykpOwoJCQkJfSBlbHNlIGlmIChpbmRleCA+IDApIHsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCWZvY3VzSW5wdXQoaW5kZXggLSAxKTsKCQkJCQljb25zdCBjaGFyc0FmdGVyRm9jdXMgPSBnZXRDdXJyZW50Q2hhcnMoKTsKCQkJCQlpZiAoY2hhcnNBZnRlckZvY3VzW2luZGV4IC0gMV0pIHsKCQkJCQkJY2hhcnNBZnRlckZvY3VzW2luZGV4IC0gMV0gPSAnJzsKCQkJCQkJc2V0VmFsdWUoY2hhcnNBZnRlckZvY3VzLmpvaW4oJycpKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCWlmIChldmVudC5rZXkgPT09ICdBcnJvd0xlZnQnKSB7CgkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJZm9jdXNJbnB1dChNYXRoLm1heCgwLCBpbmRleCAtIDEpKTsKCQkJfQoKCQkJaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93UmlnaHQnKSB7CgkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJZm9jdXNJbnB1dChNYXRoLm1pbihpbnB1dExlbmd0aCAtIDEsIGluZGV4ICsgMSkpOwoJCQl9CgkJfSwKCQlbZ2V0Q3VycmVudENoYXJzLCBzZXRWYWx1ZSwgZm9jdXNJbnB1dCwgaW5wdXRMZW5ndGhdLAoJKTsKCgljb25zdCBoYW5kbGVQYXN0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShpbmRleDogbnVtYmVyLCBldmVudDogUmVhY3QuQ2xpcGJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHsKCQkJaWYgKGRpc2FibGVkIHx8IHJlYWRPbmx5KSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCWNvbnN0IGNsaXBib2FyZFZhbHVlID0gZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0Jyk7CgkJCWlmICghY2xpcGJvYXJkVmFsdWUpIHsKCQkJCXJldHVybjsKCQkJfQoKCQkJY29uc3QgZGlnaXRzID0gY2xpcGJvYXJkVmFsdWUucmVwbGFjZSgvXEQvZywgJycpOwoJCQlpZiAoIWRpZ2l0cykgewoJCQkJcmV0dXJuOwoJCQl9CgoJCQljb25zdCBuZXh0Q2hhcnMgPSBnZXRDdXJyZW50Q2hhcnMoKTsKCQkJbGV0IG5leHRJbmRleCA9IGluZGV4OwoJCQlmb3IgKGNvbnN0IGRpZ2l0IG9mIGRpZ2l0cykgewoJCQkJaWYgKG5leHRJbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJbmV4dENoYXJzW25leHRJbmRleF0gPSBkaWdpdDsKCQkJCW5leHRJbmRleCArPSAxOwoJCQl9CgoJCQlzZXRWYWx1ZShuZXh0Q2hhcnMuam9pbignJykpOwoJCQlpZiAobmV4dEluZGV4IDwgaW5wdXRMZW5ndGgpIHsKCQkJCWZvY3VzSW5wdXQobmV4dEluZGV4KTsKCQkJfSBlbHNlIHsKCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCWZvY3VzSW5wdXQoaW5wdXRMZW5ndGggLSAxLCB7IGFsbG93QXV0b1JlZGlyZWN0OiB0cnVlIH0pOwoJCQkJfSwgMCk7CgkJCX0KCQl9LAoJCVtkaXNhYmxlZCwgcmVhZE9ubHksIGdldEN1cnJlbnRDaGFycywgc2V0VmFsdWUsIGlucHV0TGVuZ3RoLCBmb2N1c0lucHV0XSwKCSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoYXV0b0ZvY3VzICYmICFkaXNhYmxlZCAmJiAhcmVhZE9ubHkpIHsKCQkJZm9jdXNJbnB1dCgwKTsKCQl9Cgl9LCBbYXV0b0ZvY3VzLCBkaXNhYmxlZCwgcmVhZE9ubHksIGZvY3VzSW5wdXRdKTsKCgljb25zdCBhdXRvSWQgPSBSZWFjdC51c2VJZCgpOwoJY29uc3QgYmFzZUlkID0gaWQgPz8gYXV0b0lkOwoJY29uc3QgbGFiZWxJZCA9IGxhYmVsID8gYCR7YmFzZUlkfS1sYWJlbGAgOiB1bmRlZmluZWQ7Cgljb25zdCBoZWxwZXJJZCA9CgkJaGVscGVyVGV4dCAmJiAhZXJyb3JNZXNzYWdlICYmICFzdWNjZXNzTWVzc2FnZQoJCQk/IGAke2Jhc2VJZH0taGVscGVyYAoJCQk6IHVuZGVmaW5lZDsKCWNvbnN0IGVycm9yVmlzaWJsZSA9IHZhcmlhbnQgPT09ICdlcnJvcicgJiYgISFlcnJvck1lc3NhZ2U7Cgljb25zdCBzdWNjZXNzVmlzaWJsZSA9IHZhcmlhbnQgPT09ICdzdWNjZXNzJyAmJiAhIXN1Y2Nlc3NNZXNzYWdlOwoJY29uc3QgZXJyb3JJZCA9IGVycm9yVmlzaWJsZSA/IGAke2Jhc2VJZH0tZXJyb3JgIDogdW5kZWZpbmVkOwoJY29uc3Qgc3VjY2Vzc0lkID0gc3VjY2Vzc1Zpc2libGUgPyBgJHtiYXNlSWR9LXN1Y2Nlc3NgIDogdW5kZWZpbmVkOwoJY29uc3QgZGVzY3JpYmVkQnkgPQoJCVtlcnJvcklkLCBzdWNjZXNzSWQsIGhlbHBlcklkXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpIHx8IHVuZGVmaW5lZDsKCWNvbnN0IGlucHV0TW9kZSA9IGlucHV0TW9kZVByb3AgPz8gJ251bWVyaWMnOwoJY29uc3QgcGF0dGVybiA9IHBhdHRlcm5Qcm9wID8/ICdbMC05XSonOwoJY29uc3QgYXV0b0NvbXBsZXRlID0gYXV0b0NvbXBsZXRlUHJvcCA/PyAnb25lLXRpbWUtY29kZSc7CgoJY29uc3QgdmFsdWVBcnJheSA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gY3JlYXRlVmFsdWVBcnJheShjdXJyZW50VmFsdWUsIGlucHV0TGVuZ3RoKSwKCQlbY3VycmVudFZhbHVlLCBpbnB1dExlbmd0aF0sCgkpOwoKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzTmFtZX0+CgkJCTxmaWVsZHNldCBhcmlhLWRlc2NyaWJlZGJ5PXtkZXNjcmliZWRCeX0+CgkJCQl7bGFiZWwgJiYgKAoJCQkJCTxsZWdlbmQgaWQ9e2xhYmVsSWR9IGNsYXNzTmFtZT17bGFiZWxDbGFzc2VzfT4KCQkJCQkJe2xhYmVsfQoJCQkJCTwvbGVnZW5kPgoJCQkJKX0KCgkJCQk8ZGl2IGNsYXNzTmFtZT17Y24ob3RwR3JvdXBWYXJpYW50cyh7IHNpemUgfSksIGNsYXNzTmFtZSl9PgoJCQkJCXtBcnJheS5mcm9tKHsgbGVuZ3RoOiBpbnB1dExlbmd0aCB9KS5tYXAoKF8sIGluZGV4KSA9PiB7CgkJCQkJCWNvbnN0IGlucHV0SWQgPSBgJHtiYXNlSWR9LSR7aW5kZXh9YDsKCQkJCQkJcmV0dXJuICgKCQkJCQkJCTxkaXYKCQkJCQkJCQlrZXk9e2lucHV0SWR9CgkJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQkJb3RwQ2VsbFdyYXBwZXJWYXJpYW50cyh7IHNpemUsIHZhcmlhbnQgfSksCgkJCQkJCQkJCWNlbGxXcmFwcGVyQ2xhc3NOYW1lLAoJCQkJCQkJCSl9CgkJCQkJCQk+CgkJCQkJCQkJPGlucHV0CgkJCQkJCQkJCXJlZj17KG5vZGUpID0+IHsKCQkJCQkJCQkJCWlucHV0c1JlZi5jdXJyZW50W2luZGV4XSA9IG5vZGU7CgkJCQkJCQkJCX19CgkJCQkJCQkJCWlkPXtpbnB1dElkfQoJCQkJCQkJCQl0eXBlPSJ0ZXh0IgoJCQkJCQkJCQlpbnB1dE1vZGU9e2lucHV0TW9kZX0KCQkJCQkJCQkJcGF0dGVybj17cGF0dGVybn0KCQkJCQkJCQkJYXV0b0NvbXBsZXRlPXthdXRvQ29tcGxldGV9CgkJCQkJCQkJCW1heExlbmd0aD17MX0KCQkJCQkJCQkJdmFsdWU9e3ZhbHVlQXJyYXlbaW5kZXhdfQoJCQkJCQkJCQlvbkNoYW5nZT17KGV2ZW50KSA9PiBoYW5kbGVJbnB1dENoYW5nZShpbmRleCwgZXZlbnQpfQoJCQkJCQkJCQlvbktleURvd249eyhldmVudCkgPT4gaGFuZGxlS2V5RG93bihpbmRleCwgZXZlbnQpfQoJCQkJCQkJCQlvblBhc3RlPXsoZXZlbnQpID0+IGhhbmRsZVBhc3RlKGluZGV4LCBldmVudCl9CgkJCQkJCQkJCW9uRm9jdXM9eyhldmVudCkgPT4gaGFuZGxlSW5wdXRGb2N1cyhpbmRleCwgZXZlbnQpfQoJCQkJCQkJCQlvblBvaW50ZXJEb3duPXtoYW5kbGVQb2ludGVyRG93bn0KCQkJCQkJCQkJYXJpYS1pbnZhbGlkPXtlcnJvclZpc2libGUgPyB0cnVlIDogdW5kZWZpbmVkfQoJCQkJCQkJCQlhcmlhLWRlc2NyaWJlZGJ5PXtkZXNjcmliZWRCeX0KCQkJCQkJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQkJCQkJCQlyZWFkT25seT17cmVhZE9ubHl9CgkJCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJCQlvdHBDZWxsVmFyaWFudHMoewoJCQkJCQkJCQkJCXNpemUsCgkJCQkJCQkJCQkJaXNGaWxsZWQ6IHZhbHVlQXJyYXlbaW5kZXhdLmxlbmd0aCA+IDAsCgkJCQkJCQkJCQl9KSwKCQkJCQkJCQkJCWNlbGxDbGFzc05hbWUsCgkJCQkJCQkJCSl9CgkJCQkJCQkJCXsuLi5yZW1haW5pbmdJbnB1dFByb3BzfQoJCQkJCQkJCS8+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJKTsKCQkJCQl9KX0KCQkJCTwvZGl2PgoJCQk8L2ZpZWxkc2V0PgoKCQkJe25hbWUgJiYgKAoJCQkJPGlucHV0CgkJCQkJdHlwZT0iaGlkZGVuIgoJCQkJCW5hbWU9e25hbWV9CgkJCQkJdmFsdWU9e2N1cnJlbnRWYWx1ZX0KCQkJCQlkaXNhYmxlZD17ZGlzYWJsZWR9CgkJCQkJcmVhZE9ubHk9e3JlYWRPbmx5fQoJCQkJLz4KCQkJKX0KCgkJCXtlcnJvclZpc2libGUgJiYgKAoJCQkJPHAgaWQ9e2Vycm9ySWR9IGNsYXNzTmFtZT17bWVzc2FnZVZhcmlhbnRzKHsgdHlwZTogJ2Vycm9yJyB9KX0+CgkJCQkJe2Vycm9yTWVzc2FnZX0KCQkJCTwvcD4KCQkJKX0KCgkJCXshZXJyb3JWaXNpYmxlICYmIHN1Y2Nlc3NWaXNpYmxlICYmICgKCQkJCTxwIGlkPXtzdWNjZXNzSWR9IGNsYXNzTmFtZT17bWVzc2FnZVZhcmlhbnRzKHsgdHlwZTogJ3N1Y2Nlc3MnIH0pfT4KCQkJCQl7c3VjY2Vzc01lc3NhZ2V9CgkJCQk8L3A+CgkJCSl9CgoJCQl7aGVscGVySWQgJiYgaGVscGVyVGV4dCAmJiAoCgkJCQk8cCBpZD17aGVscGVySWR9IGNsYXNzTmFtZT17bWVzc2FnZVZhcmlhbnRzKHsgdHlwZTogJ2hlbHBlcicgfSl9PgoJCQkJCXtoZWxwZXJUZXh0fQoJCQkJPC9wPgoJCQkpfQoJCTwvZGl2PgoJKTsKfTs="
,
  "pagination.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IEljb25zIH0gZnJvbSAnQC9saWIvaWNvbnMnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKCmNvbnN0IERPVFMgPSAnZG90cyc7Cgpjb25zdCBjcmVhdGVSYW5nZSA9IChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4gewoJY29uc3QgbGVuZ3RoID0gZW5kIC0gc3RhcnQgKyAxOwoJcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGggfSwgKF8sIGluZGV4KSA9PiBzdGFydCArIGluZGV4KTsKfTsKCmNvbnN0IGdldFBhZ2luYXRpb25SYW5nZSA9ICgKCXRvdGFsUGFnZXM6IG51bWJlciwKCWN1cnJlbnRQYWdlOiBudW1iZXIsCglzaWJsaW5nQ291bnQ6IG51bWJlciwKKSA9PiB7Cgljb25zdCB0b3RhbE51bWJlcnMgPSBzaWJsaW5nQ291bnQgKiAyICsgNTsKCglpZiAodG90YWxOdW1iZXJzID49IHRvdGFsUGFnZXMpIHsKCQlyZXR1cm4gY3JlYXRlUmFuZ2UoMSwgdG90YWxQYWdlcyk7Cgl9CgoJY29uc3QgbGVmdFNpYmxpbmdJbmRleCA9IE1hdGgubWF4KGN1cnJlbnRQYWdlIC0gc2libGluZ0NvdW50LCAxKTsKCWNvbnN0IHJpZ2h0U2libGluZ0luZGV4ID0gTWF0aC5taW4oY3VycmVudFBhZ2UgKyBzaWJsaW5nQ291bnQsIHRvdGFsUGFnZXMpOwoKCWNvbnN0IHNob3VsZFNob3dMZWZ0RG90cyA9IGxlZnRTaWJsaW5nSW5kZXggPiAyOwoJY29uc3Qgc2hvdWxkU2hvd1JpZ2h0RG90cyA9IHJpZ2h0U2libGluZ0luZGV4IDwgdG90YWxQYWdlcyAtIDE7CgoJY29uc3QgZmlyc3RQYWdlSW5kZXggPSAxOwoJY29uc3QgbGFzdFBhZ2VJbmRleCA9IHRvdGFsUGFnZXM7CgoJaWYgKCFzaG91bGRTaG93TGVmdERvdHMgJiYgc2hvdWxkU2hvd1JpZ2h0RG90cykgewoJCWNvbnN0IGxlZnRJdGVtQ291bnQgPSAzICsgc2libGluZ0NvdW50ICogMjsKCQljb25zdCBsZWZ0UmFuZ2UgPSBjcmVhdGVSYW5nZSgxLCBsZWZ0SXRlbUNvdW50KTsKCQlyZXR1cm4gWy4uLmxlZnRSYW5nZSwgRE9UUywgdG90YWxQYWdlc107Cgl9CgoJaWYgKHNob3VsZFNob3dMZWZ0RG90cyAmJiAhc2hvdWxkU2hvd1JpZ2h0RG90cykgewoJCWNvbnN0IHJpZ2h0SXRlbUNvdW50ID0gMyArIHNpYmxpbmdDb3VudCAqIDI7CgkJY29uc3QgcmlnaHRSYW5nZSA9IGNyZWF0ZVJhbmdlKHRvdGFsUGFnZXMgLSByaWdodEl0ZW1Db3VudCArIDEsIHRvdGFsUGFnZXMpOwoJCXJldHVybiBbZmlyc3RQYWdlSW5kZXgsIERPVFMsIC4uLnJpZ2h0UmFuZ2VdOwoJfQoKCWlmIChzaG91bGRTaG93TGVmdERvdHMgJiYgc2hvdWxkU2hvd1JpZ2h0RG90cykgewoJCWNvbnN0IG1pZGRsZVJhbmdlID0gY3JlYXRlUmFuZ2UobGVmdFNpYmxpbmdJbmRleCwgcmlnaHRTaWJsaW5nSW5kZXgpOwoJCXJldHVybiBbZmlyc3RQYWdlSW5kZXgsIERPVFMsIC4uLm1pZGRsZVJhbmdlLCBET1RTLCBsYXN0UGFnZUluZGV4XTsKCX0KCglyZXR1cm4gY3JlYXRlUmFuZ2UoMSwgdG90YWxQYWdlcyk7Cn07CgpleHBvcnQgaW50ZXJmYWNlIFBhZ2luYXRpb25Qcm9wcwoJZXh0ZW5kcyBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnbmF2Jz4sICdvbkNoYW5nZSc+IHsKCXRvdGFsUGFnZXM6IG51bWJlcjsKCWN1cnJlbnRQYWdlOiBudW1iZXI7CglvblBhZ2VDaGFuZ2U/OiAocGFnZTogbnVtYmVyKSA9PiB2b2lkOwoJc2libGluZ0NvdW50PzogbnVtYmVyOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUGFnaW5hdGlvbjogUmVhY3QuRkM8UGFnaW5hdGlvblByb3BzPiA9ICh7Cgl0b3RhbFBhZ2VzLAoJY3VycmVudFBhZ2UsCglvblBhZ2VDaGFuZ2UsCglzaWJsaW5nQ291bnQgPSAxLAoJY2xhc3NOYW1lLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgW2FuaW1PZmYsIHNldEFuaW1PZmZdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwoJY29uc3QgeyAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbFByb3AsIC4uLnJlc3RQcm9wcyB9ID0gcHJvcHM7Cgljb25zdCBub3JtYWxpemVkVG90YWxQYWdlcyA9CgkJTnVtYmVyLmlzRmluaXRlKHRvdGFsUGFnZXMpICYmIHRvdGFsUGFnZXMgPiAwID8gTWF0aC5mbG9vcih0b3RhbFBhZ2VzKSA6IDA7Cgljb25zdCBoYXNQYWdlcyA9IG5vcm1hbGl6ZWRUb3RhbFBhZ2VzID4gMDsKCWNvbnN0IHNhZmVQYWdlID0gbm9ybWFsaXplZFRvdGFsUGFnZXMKCQk/IE1hdGgubWluKE1hdGgubWF4KGN1cnJlbnRQYWdlLCAxKSwgbm9ybWFsaXplZFRvdGFsUGFnZXMpCgkJOiAxOwoJY29uc3QgcGFnZXMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQlpZiAoIWhhc1BhZ2VzKSB7CgkJCXJldHVybiBbXTsKCQl9CgoJCXJldHVybiBnZXRQYWdpbmF0aW9uUmFuZ2Uobm9ybWFsaXplZFRvdGFsUGFnZXMsIHNhZmVQYWdlLCBzaWJsaW5nQ291bnQpOwoJfSwgW2hhc1BhZ2VzLCBub3JtYWxpemVkVG90YWxQYWdlcywgc2FmZVBhZ2UsIHNpYmxpbmdDb3VudF0pOwoKCS8qIGJpb21lLWlnbm9yZSBsaW50L2NvcnJlY3RuZXNzL3VzZUV4aGF1c3RpdmVEZXBlbmRlbmNpZXM6IHRoaXMgZGVwZW5kZW5jeSBpcyBuZWVkZWQgZm9yIHByb3BlciB0cmFuc2l0aW9uIGJsb2NraW5nICovCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCXNldEFuaW1PZmYodHJ1ZSk7CgkJY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHNldEFuaW1PZmYoZmFsc2UpLCA0MCk7CgkJcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChpZCk7Cgl9LCBbc2FmZVBhZ2VdKTsKCglpZiAoIWhhc1BhZ2VzKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJY29uc3QgaGFuZGxlUGFnZUNoYW5nZSA9IChwYWdlOiBudW1iZXIpID0+IHsKCQlpZiAocGFnZSA8IDEgfHwgcGFnZSA+IG5vcm1hbGl6ZWRUb3RhbFBhZ2VzIHx8IHBhZ2UgPT09IHNhZmVQYWdlKSB7CgkJCXJldHVybjsKCQl9CgoJCW9uUGFnZUNoYW5nZT8uKHBhZ2UpOwoJfTsKCgljb25zdCBkaXNhYmxlZFByZXZpb3VzID0gc2FmZVBhZ2UgPT09IDE7Cgljb25zdCBkaXNhYmxlZE5leHQgPSBzYWZlUGFnZSA9PT0gbm9ybWFsaXplZFRvdGFsUGFnZXM7CglsZXQgZG90c0luc3RhbmNlID0gMDsKCglyZXR1cm4gKAoJCTxuYXYKCQkJYXJpYS1sYWJlbD17YXJpYUxhYmVsUHJvcCA/PyAnUGFnaW5hdGlvbid9CgkJCWNsYXNzTmFtZT17Y24oJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJywgY2xhc3NOYW1lKX0KCQkJey4uLnJlc3RQcm9wc30KCQk+CgkJCTxCdXR0b24KCQkJCXZhcmlhbnQ9Imdob3N0IgoJCQkJc2l6ZT0ibWQiCgkJCQlvbkNsaWNrPXsoKSA9PiBoYW5kbGVQYWdlQ2hhbmdlKHNhZmVQYWdlIC0gMSl9CgkJCQlkaXNhYmxlZD17ZGlzYWJsZWRQcmV2aW91c30KCQkJCWFyaWEtbGFiZWw9IkdvIHRvIHByZXZpb3VzIHBhZ2UiCgkJCQljbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUiCgkJCT4KCQkJCTxJY29ucy5DaGV2cm9uTGVmdCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCQlQcmV2aW91cwoJCQk8L0J1dHRvbj4KCgkJCTxvbCBjbGFzc05hbWU9ImZsZXggbGlzdC1ub25lIGl0ZW1zLWNlbnRlciBnYXAtMSI+CgkJCQl7cGFnZXMubWFwKChpdGVtKSA9PiB7CgkJCQkJaWYgKGl0ZW0gPT09IERPVFMpIHsKCQkJCQkJZG90c0luc3RhbmNlICs9IDE7CgkJCQkJCXJldHVybiAoCgkJCQkJCQk8bGkKCQkJCQkJCQlrZXk9e2Bkb3RzLSR7ZG90c0luc3RhbmNlfWB9CgkJCQkJCQkJY2xhc3NOYW1lPSJweC0yIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kLzQ1IgoJCQkJCQkJPgoJCQkJCQkJCTxJY29ucy5Eb3RzSG9yaXpvbnRhbCAvPgoJCQkJCQkJPC9saT4KCQkJCQkJKTsKCQkJCQl9CgoJCQkJCWNvbnN0IHBhZ2VOdW1iZXIgPSBpdGVtIGFzIG51bWJlcjsKCQkJCQljb25zdCBpc0FjdGl2ZSA9IHBhZ2VOdW1iZXIgPT09IHNhZmVQYWdlOwoKCQkJCQlyZXR1cm4gKAoJCQkJCQk8bGkga2V5PXtwYWdlTnVtYmVyfT4KCQkJCQkJCTxCdXR0b24KCQkJCQkJCQl2YXJpYW50PSJnaG9zdCIKCQkJCQkJCQlzaXplPSJzbSIKCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQknaC05IG1pbi13LTkgcHgtMCBweS0wIGZvbnQtbWVkaXVtJywKCQkJCQkJCQkJYW5pbU9mZiAmJiAndHJhbnNpdGlvbi1ub25lIGR1cmF0aW9uLTAnLAoJCQkJCQkJCQlpc0FjdGl2ZSAmJgoJCQkJCQkJCQkJJ2JnLWNhcmQgdGV4dC1mb3JlZ3JvdW5kIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWJvcmRlciBjYXJkLWhpZ2hsaWdodCBwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktMTAwJywKCQkJCQkJCQkpfQoJCQkJCQkJCWFyaWEtY3VycmVudD17aXNBY3RpdmUgPyAncGFnZScgOiB1bmRlZmluZWR9CgkJCQkJCQkJb25DbGljaz17KCkgPT4gaGFuZGxlUGFnZUNoYW5nZShwYWdlTnVtYmVyKX0KCQkJCQkJCQlkaXNhYmxlZD17aXNBY3RpdmV9CgkJCQkJCQk+CgkJCQkJCQkJe3BhZ2VOdW1iZXJ9CgkJCQkJCQk8L0J1dHRvbj4KCQkJCQkJPC9saT4KCQkJCQkpOwoJCQkJfSl9CgkJCTwvb2w+CgoJCQk8QnV0dG9uCgkJCQl2YXJpYW50PSJnaG9zdCIKCQkJCXNpemU9Im1kIgoJCQkJb25DbGljaz17KCkgPT4gaGFuZGxlUGFnZUNoYW5nZShzYWZlUGFnZSArIDEpfQoJCQkJZGlzYWJsZWQ9e2Rpc2FibGVkTmV4dH0KCQkJCWFyaWEtbGFiZWw9IkdvIHRvIG5leHQgcGFnZSIKCQkJCWNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSIKCQkJPgoJCQkJTmV4dAoJCQkJPEljb25zLkNoZXZyb25SaWdodCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CgkJCTwvQnV0dG9uPgoJCTwvbmF2PgoJKTsKfTs="
,
  "pie-chart.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHR5cGUgeyBQaWVBcmNEYXR1bSB9IGZyb20gJ2QzLXNoYXBlJzsKaW1wb3J0IHsgYXJjLCBwaWUgfSBmcm9tICdkMy1zaGFwZSc7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgp0eXBlIENoYXJ0RGF0dW0gPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjsKCmNvbnN0IERFRkFVTFRfSEVJR0hUID0gMjgwOwpjb25zdCBERUZBVUxUX0NPTE9SUyA9IFsKCSd2YXIoLS1jb2xvci1jaGFydC0xKScsCgkndmFyKC0tY29sb3ItY2hhcnQtMiknLAoJJ3ZhcigtLWNvbG9yLWNoYXJ0LTMpJywKCSd2YXIoLS1jb2xvci1jaGFydC00KScsCgkndmFyKC0tY29sb3ItY2hhcnQtNSknLApdIGFzIGNvbnN0OwoKZXhwb3J0IHR5cGUgUGllQ2hhcnRTbGljZTxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPiA9IHsKCWlkOiBzdHJpbmc7CglkYXR1bTogVERhdGE7Cgl2YWx1ZTogbnVtYmVyOwoJbGFiZWw6IHN0cmluZzsKCWNvbG9yOiBzdHJpbmc7CglpbmRleDogbnVtYmVyOwoJcGVyY2VudGFnZTogbnVtYmVyOwp9OwoKaW50ZXJmYWNlIFBpZUNoYXJ0Q29udGV4dFZhbHVlPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bT4gewoJc2xpY2VzOiBQaWVDaGFydFNsaWNlPFREYXRhPltdOwoJdG90YWw6IG51bWJlcjsKCWZvcm1hdExhYmVsOiAoc2xpY2U6IFBpZUNoYXJ0U2xpY2U8VERhdGE+KSA9PiBSZWFjdC5SZWFjdE5vZGU7Cglmb3JtYXRWYWx1ZTogKHNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPikgPT4gUmVhY3QuUmVhY3ROb2RlOwoJdmFsdWVMYWJlbDogc3RyaW5nOwoJYWN0aXZlU2xpY2VJZDogc3RyaW5nIHwgbnVsbDsKCXNldEFjdGl2ZVNsaWNlSWQ6IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDsKfQoKY29uc3QgUGllQ2hhcnRDb250ZXh0ID0KCVJlYWN0LmNyZWF0ZUNvbnRleHQ8UGllQ2hhcnRDb250ZXh0VmFsdWU8Q2hhcnREYXR1bT4gfCBudWxsPihudWxsKTsKCmNvbnN0IFBJRV9DSEFSVF9BQ1RJT05TX01BUktFUiA9IFN5bWJvbCgnUGllQ2hhcnRBY3Rpb25zJyk7CmNvbnN0IFBJRV9DSEFSVF9USVRMRV9NQVJLRVIgPSBTeW1ib2woJ1BpZUNoYXJ0VGl0bGUnKTsKY29uc3QgUElFX0NIQVJUX0RFU0NSSVBUSU9OX01BUktFUiA9IFN5bWJvbCgnUGllQ2hhcnREZXNjcmlwdGlvbicpOwoKZXhwb3J0IGZ1bmN0aW9uIHVzZVBpZUNoYXJ0Q29udGV4dDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPigpIHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KAoJCVBpZUNoYXJ0Q29udGV4dCwKCSkgYXMgUGllQ2hhcnRDb250ZXh0VmFsdWU8VERhdGE+IHwgbnVsbDsKCglpZiAoIWNvbnRleHQpIHsKCQl0aHJvdyBuZXcgRXJyb3IoCgkJCSd1c2VQaWVDaGFydENvbnRleHQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIDxQaWVDaGFydD4gY29tcG9uZW50LicsCgkJKTsKCX0KCglyZXR1cm4gY29udGV4dDsKfQoKZnVuY3Rpb24gZ2V0TnVtZXJpY1ZhbHVlKGlucHV0OiB1bmtub3duKTogbnVtYmVyIHsKCWlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShpbnB1dCkpIHsKCQlyZXR1cm4gaW5wdXQ7Cgl9CglpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykgewoJCWNvbnN0IHBhcnNlZCA9IE51bWJlci5wYXJzZUZsb2F0KGlucHV0KTsKCQlpZiAoTnVtYmVyLmlzRmluaXRlKHBhcnNlZCkpIHsKCQkJcmV0dXJuIHBhcnNlZDsKCQl9Cgl9CglyZXR1cm4gMDsKfQoKZnVuY3Rpb24gcmVzb2x2ZVJhZGl1cygKCXZhbHVlOiBudW1iZXIgfCBzdHJpbmcgfCB1bmRlZmluZWQsCgliYXNlOiBudW1iZXIsCglkZWZhdWx0VmFsdWU6IG51bWJlciwKKTogbnVtYmVyIHsKCWlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHsKCQlyZXR1cm4gTWF0aC5tYXgoMCwgdmFsdWUpOwoJfQoJaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHsKCQljb25zdCB0cmltbWVkID0gdmFsdWUudHJpbSgpOwoJCWlmICh0cmltbWVkLmVuZHNXaXRoKCclJykpIHsKCQkJY29uc3QgcGVyY2VudGFnZSA9IE51bWJlci5wYXJzZUZsb2F0KHRyaW1tZWQuc2xpY2UoMCwgLTEpKTsKCQkJaWYgKE51bWJlci5pc0Zpbml0ZShwZXJjZW50YWdlKSkgewoJCQkJcmV0dXJuIE1hdGgubWF4KDAsIChwZXJjZW50YWdlIC8gMTAwKSAqIGJhc2UpOwoJCQl9CgkJfQoJCWNvbnN0IG51bWVyaWMgPSBOdW1iZXIucGFyc2VGbG9hdCh0cmltbWVkKTsKCQlpZiAoTnVtYmVyLmlzRmluaXRlKG51bWVyaWMpKSB7CgkJCXJldHVybiBNYXRoLm1heCgwLCBudW1lcmljKTsKCQl9Cgl9CglyZXR1cm4gZGVmYXVsdFZhbHVlOwp9CgpmdW5jdGlvbiByZXNvbHZlU2xpY2VDb2xvcihwYWxldHRlOiByZWFkb25seSBzdHJpbmdbXSwgaW5kZXg6IG51bWJlcik6IHN0cmluZyB7CglpZiAocGFsZXR0ZS5sZW5ndGggPT09IDApIHsKCQljb25zdCBmYWxsYmFja0luZGV4ID0KCQkJREVGQVVMVF9DT0xPUlMubGVuZ3RoID4gMCA/IGluZGV4ICUgREVGQVVMVF9DT0xPUlMubGVuZ3RoIDogMDsKCQljb25zdCBjb2xvciA9IERFRkFVTFRfQ09MT1JTW2ZhbGxiYWNrSW5kZXhdOwoJCWlmIChjb2xvciA9PSBudWxsKSB7CgkJCXRocm93IG5ldyBFcnJvcigKCQkJCWBObyBmYWxsYmFjayBjb2xvciBmb3VuZCBmb3IgZmFsbGJhY2tJbmRleD0ke2ZhbGxiYWNrSW5kZXh9YCwKCQkJKTsKCQl9CgkJcmV0dXJuIGNvbG9yOwoJfQoJY29uc3QgcGFsZXR0ZUluZGV4ID0gcGFsZXR0ZS5sZW5ndGggPiAwID8gaW5kZXggJSBwYWxldHRlLmxlbmd0aCA6IDA7Cgljb25zdCBmYWxsYmFja0luZGV4ID0KCQlERUZBVUxUX0NPTE9SUy5sZW5ndGggPiAwID8gaW5kZXggJSBERUZBVUxUX0NPTE9SUy5sZW5ndGggOiAwOwoJY29uc3QgY29sb3IgPSBwYWxldHRlW3BhbGV0dGVJbmRleF0gPz8gREVGQVVMVF9DT0xPUlNbZmFsbGJhY2tJbmRleF07CglpZiAoY29sb3IgPT0gbnVsbCkgewoJCXRocm93IG5ldyBFcnJvcigKCQkJYE5vIGNvbG9yIGZvdW5kIGZvciBwYWxldHRlSW5kZXg9JHtwYWxldHRlSW5kZXh9LCBmYWxsYmFja0luZGV4PSR7ZmFsbGJhY2tJbmRleH1gLAoJCSk7Cgl9CglyZXR1cm4gY29sb3I7Cn0KCmZ1bmN0aW9uIHRvS2V5TGFiZWwoa2V5OiBzdHJpbmcpOiBzdHJpbmcgewoJY29uc3Qgd29yZHMgPSBrZXkKCQkucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgJyQxICQyJykKCQkucmVwbGFjZSgvW18tXSsvZywgJyAnKQoJCS5zcGxpdCgnICcpCgkJLm1hcCgocGFydCkgPT4gcGFydC50cmltKCkpCgkJLmZpbHRlcihCb29sZWFuKQoJCS5tYXAoKHBhcnQpID0+IHBhcnQuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHBhcnQuc2xpY2UoMSkpOwoJcmV0dXJuIHdvcmRzLmxlbmd0aCA/IHdvcmRzLmpvaW4oJyAnKSA6IGtleTsKfQoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydFByb3BzPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+CglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CglkYXRhOiBURGF0YVtdOwoJdmFsdWVLZXk6IEV4dHJhY3Q8a2V5b2YgVERhdGEsIHN0cmluZz47CgluYW1lS2V5PzogRXh0cmFjdDxrZXlvZiBURGF0YSwgc3RyaW5nPjsKCWNvbG9ycz86IHJlYWRvbmx5IHN0cmluZ1tdOwoJc29ydFNsaWNlcz86IGJvb2xlYW4gfCAoKGE6IFREYXRhLCBiOiBURGF0YSkgPT4gbnVtYmVyKTsKCXZhbHVlRm9ybWF0dGVyPzogKAoJCXNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPiwKCQltZXRhOiB7IHRvdGFsOiBudW1iZXI7IHBlcmNlbnRhZ2U6IG51bWJlciB9LAoJKSA9PiBSZWFjdC5SZWFjdE5vZGU7CglsYWJlbEZvcm1hdHRlcj86IChzbGljZTogUGllQ2hhcnRTbGljZTxURGF0YT4pID0+IFJlYWN0LlJlYWN0Tm9kZTsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpmdW5jdGlvbiBQaWVDaGFydFJvb3RJbm5lcjxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0+KAoJewoJCWRhdGEsCgkJdmFsdWVLZXksCgkJbmFtZUtleSwKCQljb2xvcnMgPSBERUZBVUxUX0NPTE9SUywKCQlzb3J0U2xpY2VzID0gZmFsc2UsCgkJdmFsdWVGb3JtYXR0ZXIsCgkJbGFiZWxGb3JtYXR0ZXIsCgkJY2xhc3NOYW1lLAoJCWNoaWxkcmVuLAoJCS4uLnJlc3QKCX06IFBpZUNoYXJ0UHJvcHM8VERhdGE+LAoJcmVmOiBSZWFjdC5Gb3J3YXJkZWRSZWY8SFRNTERpdkVsZW1lbnQ+LAopIHsKCWNvbnN0IFthY3RpdmVTbGljZUlkLCBzZXRBY3RpdmVTbGljZUlkXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpOwoKCWNvbnN0IHZhbHVlTGFiZWwgPSBSZWFjdC51c2VNZW1vKCgpID0+IHRvS2V5TGFiZWwodmFsdWVLZXkpLCBbdmFsdWVLZXldKTsKCgljb25zdCB7IHNsaWNlcywgdG90YWwgfSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IHBhbGV0dGUgPSBjb2xvcnMubGVuZ3RoID8gY29sb3JzIDogREVGQVVMVF9DT0xPUlM7CgoJCWNvbnN0IG1hcHBlZCA9IGRhdGEucmVkdWNlPFBpZUNoYXJ0U2xpY2U8VERhdGE+W10+KChhY2MsIGRhdHVtLCBpbmRleCkgPT4gewoJCQljb25zdCBudW1lcmljVmFsdWUgPSBNYXRoLm1heCgwLCBnZXROdW1lcmljVmFsdWUoZGF0dW1bdmFsdWVLZXldKSk7CgkJCWlmIChudW1lcmljVmFsdWUgPD0gMCkgcmV0dXJuIGFjYzsKCgkJCWNvbnN0IHJhd0xhYmVsID0KCQkJCW5hbWVLZXkgJiYgZGF0dW1bbmFtZUtleV0gIT0gbnVsbAoJCQkJCT8gU3RyaW5nKGRhdHVtW25hbWVLZXldKQoJCQkJCTogYFNsaWNlICR7aW5kZXggKyAxfWA7CgoJCQljb25zdCBjb2xvciA9IHJlc29sdmVTbGljZUNvbG9yKHBhbGV0dGUsIGluZGV4KTsKCgkJCWFjYy5wdXNoKHsKCQkJCWlkOiBgJHtyYXdMYWJlbH0tJHtpbmRleH1gLAoJCQkJZGF0dW0sCgkJCQl2YWx1ZTogbnVtZXJpY1ZhbHVlLAoJCQkJbGFiZWw6IHJhd0xhYmVsLAoJCQkJY29sb3IsCgkJCQlpbmRleCwKCQkJCXBlcmNlbnRhZ2U6IDAsCgkJCX0pOwoKCQkJcmV0dXJuIGFjYzsKCQl9LCBbXSk7CgoJCWNvbnN0IHNvcnRlZCA9ICgoKSA9PiB7CgkJCWlmICh0eXBlb2Ygc29ydFNsaWNlcyA9PT0gJ2Z1bmN0aW9uJykgewoJCQkJcmV0dXJuIFsuLi5tYXBwZWRdLnNvcnQoKGEsIGIpID0+IHNvcnRTbGljZXMoYS5kYXR1bSwgYi5kYXR1bSkpOwoJCQl9CgkJCWlmIChzb3J0U2xpY2VzKSB7CgkJCQlyZXR1cm4gWy4uLm1hcHBlZF0uc29ydCgoYSwgYikgPT4gYi52YWx1ZSAtIGEudmFsdWUpOwoJCQl9CgkJCXJldHVybiBtYXBwZWQ7CgkJfSkoKTsKCgkJY29uc3QgdG90YWxWYWx1ZSA9IHNvcnRlZC5yZWR1Y2UoKHN1bSwgc2xpY2UpID0+IHN1bSArIHNsaWNlLnZhbHVlLCAwKTsKCgkJY29uc3Qgd2l0aFBlcmNlbnRhZ2VzID0gc29ydGVkLm1hcDxQaWVDaGFydFNsaWNlPFREYXRhPj4oKHNsaWNlKSA9PiAoewoJCQkuLi5zbGljZSwKCQkJcGVyY2VudGFnZTogdG90YWxWYWx1ZSA+IDAgPyBzbGljZS52YWx1ZSAvIHRvdGFsVmFsdWUgOiAwLAoJCX0pKTsKCgkJcmV0dXJuIHsKCQkJc2xpY2VzOiB3aXRoUGVyY2VudGFnZXMsCgkJCXRvdGFsOiB0b3RhbFZhbHVlLAoJCX07Cgl9LCBbY29sb3JzLCBkYXRhLCBuYW1lS2V5LCBzb3J0U2xpY2VzLCB2YWx1ZUtleV0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFhY3RpdmVTbGljZUlkKSByZXR1cm47CgkJaWYgKCFzbGljZXMuc29tZSgoc2xpY2UpID0+IHNsaWNlLmlkID09PSBhY3RpdmVTbGljZUlkKSkgewoJCQlzZXRBY3RpdmVTbGljZUlkKG51bGwpOwoJCX0KCX0sIFthY3RpdmVTbGljZUlkLCBzbGljZXNdKTsKCgljb25zdCBmb3JtYXRMYWJlbCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzbGljZTogUGllQ2hhcnRTbGljZTxURGF0YT4pID0+IHsKCQkJaWYgKGxhYmVsRm9ybWF0dGVyKSByZXR1cm4gbGFiZWxGb3JtYXR0ZXIoc2xpY2UpOwoJCQlyZXR1cm4gc2xpY2UubGFiZWw7CgkJfSwKCQlbbGFiZWxGb3JtYXR0ZXJdLAoJKTsKCgljb25zdCBmb3JtYXRWYWx1ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzbGljZTogUGllQ2hhcnRTbGljZTxURGF0YT4pID0+IHsKCQkJaWYgKHZhbHVlRm9ybWF0dGVyKSB7CgkJCQlyZXR1cm4gdmFsdWVGb3JtYXR0ZXIoc2xpY2UsIHsKCQkJCQl0b3RhbCwKCQkJCQlwZXJjZW50YWdlOiBzbGljZS5wZXJjZW50YWdlLAoJCQkJfSk7CgkJCX0KCQkJcmV0dXJuIHNsaWNlLnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7CgkJfSwKCQlbdmFsdWVGb3JtYXR0ZXIsIHRvdGFsXSwKCSk7CgoJY29uc3QgY29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbzxQaWVDaGFydENvbnRleHRWYWx1ZTxURGF0YT4+KAoJCSgpID0+ICh7CgkJCXNsaWNlcywKCQkJdG90YWwsCgkJCWZvcm1hdExhYmVsLAoJCQlmb3JtYXRWYWx1ZSwKCQkJdmFsdWVMYWJlbCwKCQkJYWN0aXZlU2xpY2VJZCwKCQkJc2V0QWN0aXZlU2xpY2VJZCwKCQl9KSwKCQlbYWN0aXZlU2xpY2VJZCwgZm9ybWF0TGFiZWwsIGZvcm1hdFZhbHVlLCBzbGljZXMsIHRvdGFsLCB2YWx1ZUxhYmVsXSwKCSk7CgoJcmV0dXJuICgKCQk8UGllQ2hhcnRDb250ZXh0LlByb3ZpZGVyCgkJCXZhbHVlPXtjb250ZXh0VmFsdWUgYXMgUGllQ2hhcnRDb250ZXh0VmFsdWU8Q2hhcnREYXR1bT59CgkJPgoJCQk8ZGl2CgkJCQlyZWY9e3JlZn0KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ3JlbGF0aXZlIGZsZXggZmxleC1jb2wgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCcsCgkJCQkJY2xhc3NOYW1lLAoJCQkJKX0KCQkJCXsuLi5yZXN0fQoJCQk+CgkJCQl7Y2hpbGRyZW59CgkJCTwvZGl2PgoJCTwvUGllQ2hhcnRDb250ZXh0LlByb3ZpZGVyPgoJKTsKfQoKdHlwZSBQaWVDaGFydENvbXBvbmVudCA9IDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPigKCXByb3BzOiBQaWVDaGFydFByb3BzPFREYXRhPiAmIHsgcmVmPzogUmVhY3QuUmVmPEhUTUxEaXZFbGVtZW50PiB9LAopID0+IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGw7Cgpjb25zdCBQaWVDaGFydFJvb3QgPSBSZWFjdC5mb3J3YXJkUmVmKFBpZUNoYXJ0Um9vdElubmVyKSBhcyBQaWVDaGFydENvbXBvbmVudDsKCmV4cG9ydCBpbnRlcmZhY2UgUGllQ2hhcnRUaXRsZVByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhcz86IFJlYWN0LkVsZW1lbnRUeXBlOwp9Cgp0eXBlIFBpZUNoYXJ0VGl0bGVDb21wb25lbnQgPSBSZWFjdC5GQzxQaWVDaGFydFRpdGxlUHJvcHM+ICYgewoJW1BJRV9DSEFSVF9USVRMRV9NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IFBpZUNoYXJ0VGl0bGUgPSAoKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglhczogQ29tcG9uZW50ID0gJ2gzJywKCS4uLnByb3BzCn06IFBpZUNoYXJ0VGl0bGVQcm9wcykgPT4gewoJcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoCgkJQ29tcG9uZW50LAoJCXsKCQkJY2xhc3NOYW1lOiBjbigKCQkJCSd0ZXh0LWJhc2UgZm9udC1tZWRpdW0gbGVhZGluZy1ub25lIHRleHQtZm9yZWdyb3VuZCcsCgkJCQljbGFzc05hbWUsCgkJCSksCgkJCS4uLnByb3BzLAoJCX0sCgkJY2hpbGRyZW4sCgkpOwp9KSBhcyBQaWVDaGFydFRpdGxlQ29tcG9uZW50OwpQaWVDaGFydFRpdGxlLmRpc3BsYXlOYW1lID0gJ1BpZUNoYXJ0VGl0bGUnOwpQaWVDaGFydFRpdGxlW1BJRV9DSEFSVF9USVRMRV9NQVJLRVJdID0gdHJ1ZTsKCmV4cG9ydCBpbnRlcmZhY2UgUGllQ2hhcnREZXNjcmlwdGlvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxQYXJhZ3JhcGhFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9Cgp0eXBlIFBpZUNoYXJ0RGVzY3JpcHRpb25Db21wb25lbnQgPSBSZWFjdC5GQzxQaWVDaGFydERlc2NyaXB0aW9uUHJvcHM+ICYgewoJW1BJRV9DSEFSVF9ERVNDUklQVElPTl9NQVJLRVJdOiB0cnVlOwp9OwoKZXhwb3J0IGNvbnN0IFBpZUNoYXJ0RGVzY3JpcHRpb24gPSAoKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9OiBQaWVDaGFydERlc2NyaXB0aW9uUHJvcHMpID0+IHsKCXJldHVybiAoCgkJPHAKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSd0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNDUgdGV4dC1iYWxhbmNlJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvcD4KCSk7Cn0pIGFzIFBpZUNoYXJ0RGVzY3JpcHRpb25Db21wb25lbnQ7ClBpZUNoYXJ0RGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSAnUGllQ2hhcnREZXNjcmlwdGlvbic7ClBpZUNoYXJ0RGVzY3JpcHRpb25bUElFX0NIQVJUX0RFU0NSSVBUSU9OX01BUktFUl0gPSB0cnVlOwoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydEFjdGlvbnNQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKdHlwZSBQaWVDaGFydEFjdGlvbnNDb21wb25lbnQgPSBSZWFjdC5GQzxQaWVDaGFydEFjdGlvbnNQcm9wcz4gJiB7CglbUElFX0NIQVJUX0FDVElPTlNfTUFSS0VSXTogdHJ1ZTsKfTsKCmV4cG9ydCBjb25zdCBQaWVDaGFydEFjdGlvbnMgPSAoKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSA9ICcnLCAuLi5wcm9wcyB9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBzZWxmLXN0YXJ0IHNtOnNlbGYtYXV0bycsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn0pIGFzIFBpZUNoYXJ0QWN0aW9uc0NvbXBvbmVudDsKUGllQ2hhcnRBY3Rpb25zLmRpc3BsYXlOYW1lID0gJ1BpZUNoYXJ0QWN0aW9ucyc7ClBpZUNoYXJ0QWN0aW9uc1tQSUVfQ0hBUlRfQUNUSU9OU19NQVJLRVJdID0gdHJ1ZTsKCmZ1bmN0aW9uIGhhc1BpZUNoYXJ0TWFya2VyKAoJdGFyZ2V0OiB1bmtub3duLAoJbWFya2VyOiBzeW1ib2wsCik6IHRhcmdldCBpcyB7IFtrZXk6IHN5bWJvbF06IHVua25vd24gfSB7CglpZiAoIXRhcmdldCkgcmV0dXJuIGZhbHNlOwoJaWYgKAoJCSh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSAmJgoJCXRhcmdldCAhPT0gbnVsbCAmJgoJCVJlZmxlY3QuZ2V0KHRhcmdldCwgbWFya2VyKQoJKSB7CgkJcmV0dXJuIHRydWU7Cgl9CglpZiAoCgkJdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcgJiYKCQl0YXJnZXQgIT09IG51bGwgJiYKCQkndHlwZScgaW4gdGFyZ2V0ICYmCgkJKHRhcmdldCBhcyB7IHR5cGU/OiB1bmtub3duIH0pLnR5cGUKCSkgewoJCXJldHVybiBoYXNQaWVDaGFydE1hcmtlcigodGFyZ2V0IGFzIHsgdHlwZT86IHVua25vd24gfSkudHlwZSwgbWFya2VyKTsKCX0KCXJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gY2xvbmVFbGVtZW50V2l0aENsYXNzTmFtZTxUUHJvcHMgZXh0ZW5kcyB7IGNsYXNzTmFtZT86IHN0cmluZyB9PigKCWVsZW1lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudDxUUHJvcHM+LAoJYWRkaXRpb25hbENsYXNzTmFtZT86IHN0cmluZywKKSB7CglpZiAoIWFkZGl0aW9uYWxDbGFzc05hbWUpIHsKCQlyZXR1cm4gZWxlbWVudDsKCX0KCWNvbnN0IG1lcmdlZENsYXNzTmFtZSA9IGNuKGVsZW1lbnQucHJvcHMuY2xhc3NOYW1lLCBhZGRpdGlvbmFsQ2xhc3NOYW1lKTsKCXJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwgewoJCWNsYXNzTmFtZTogbWVyZ2VkQ2xhc3NOYW1lLAoJfSBhcyBQYXJ0aWFsPFRQcm9wcz4gJiBSZWFjdC5BdHRyaWJ1dGVzKTsKfQoKZnVuY3Rpb24gaXNQaWVDaGFydEFjdGlvbnNFbGVtZW50KAoJY2hpbGQ6IFJlYWN0LlJlYWN0Tm9kZSwKKTogY2hpbGQgaXMgUmVhY3QuUmVhY3RFbGVtZW50IHsKCWlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSByZXR1cm4gZmFsc2U7Cgljb25zdCB7IHR5cGUgfSA9IGNoaWxkOwoJaWYgKHR5cGUgPT09IFBpZUNoYXJ0QWN0aW9ucykgcmV0dXJuIHRydWU7CglpZiAoaGFzUGllQ2hhcnRNYXJrZXIodHlwZSwgUElFX0NIQVJUX0FDVElPTlNfTUFSS0VSKSkgcmV0dXJuIHRydWU7Cgljb25zdCBkaXNwbGF5TmFtZSA9CgkJdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKQoJCQk/ICh0eXBlIGFzIHsgZGlzcGxheU5hbWU/OiBzdHJpbmcgfSkuZGlzcGxheU5hbWUKCQkJOiB1bmRlZmluZWQ7CglyZXR1cm4gZGlzcGxheU5hbWUgPT09IFBpZUNoYXJ0QWN0aW9ucy5kaXNwbGF5TmFtZTsKfQoKZnVuY3Rpb24gaXNQaWVDaGFydFRpdGxlRWxlbWVudCgKCWNoaWxkOiBSZWFjdC5SZWFjdE5vZGUsCik6IGNoaWxkIGlzIFJlYWN0LlJlYWN0RWxlbWVudDxQaWVDaGFydFRpdGxlUHJvcHM+IHsKCWlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSByZXR1cm4gZmFsc2U7Cgljb25zdCB7IHR5cGUgfSA9IGNoaWxkOwoJaWYgKHR5cGUgPT09IFBpZUNoYXJ0VGl0bGUpIHJldHVybiB0cnVlOwoJaWYgKGhhc1BpZUNoYXJ0TWFya2VyKHR5cGUsIFBJRV9DSEFSVF9USVRMRV9NQVJLRVIpKSByZXR1cm4gdHJ1ZTsKCWNvbnN0IGRpc3BsYXlOYW1lID0KCQl0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpCgkJCT8gKHR5cGUgYXMgeyBkaXNwbGF5TmFtZT86IHN0cmluZyB9KS5kaXNwbGF5TmFtZQoJCQk6IHVuZGVmaW5lZDsKCXJldHVybiBkaXNwbGF5TmFtZSA9PT0gUGllQ2hhcnRUaXRsZS5kaXNwbGF5TmFtZTsKfQoKZnVuY3Rpb24gaXNQaWVDaGFydERlc2NyaXB0aW9uRWxlbWVudCgKCWNoaWxkOiBSZWFjdC5SZWFjdE5vZGUsCik6IGNoaWxkIGlzIFJlYWN0LlJlYWN0RWxlbWVudDxQaWVDaGFydERlc2NyaXB0aW9uUHJvcHM+IHsKCWlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSByZXR1cm4gZmFsc2U7Cgljb25zdCB7IHR5cGUgfSA9IGNoaWxkOwoJaWYgKHR5cGUgPT09IFBpZUNoYXJ0RGVzY3JpcHRpb24pIHJldHVybiB0cnVlOwoJaWYgKGhhc1BpZUNoYXJ0TWFya2VyKHR5cGUsIFBJRV9DSEFSVF9ERVNDUklQVElPTl9NQVJLRVIpKSByZXR1cm4gdHJ1ZTsKCWNvbnN0IGRpc3BsYXlOYW1lID0KCQl0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpCgkJCT8gKHR5cGUgYXMgeyBkaXNwbGF5TmFtZT86IHN0cmluZyB9KS5kaXNwbGF5TmFtZQoJCQk6IHVuZGVmaW5lZDsKCXJldHVybiBkaXNwbGF5TmFtZSA9PT0gUGllQ2hhcnREZXNjcmlwdGlvbi5kaXNwbGF5TmFtZTsKfQoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydEhlYWRlclByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7Cgljb250ZW50Q2xhc3NOYW1lPzogc3RyaW5nOwoJdGl0bGVDbGFzc05hbWU/OiBzdHJpbmc7CglkZXNjcmlwdGlvbkNsYXNzTmFtZT86IHN0cmluZzsKCWFjdGlvbnNDbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBQaWVDaGFydEhlYWRlciA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCVBpZUNoYXJ0SGVhZGVyUHJvcHMKPigKCSgKCQl7CgkJCWNsYXNzTmFtZSA9ICcnLAoJCQljaGlsZHJlbiwKCQkJY29udGVudENsYXNzTmFtZSwKCQkJdGl0bGVDbGFzc05hbWUsCgkJCWRlc2NyaXB0aW9uQ2xhc3NOYW1lLAoJCQlhY3Rpb25zQ2xhc3NOYW1lLAoJCQkuLi5wcm9wcwoJCX0sCgkJcmVmLAoJKSA9PiB7CgkJY29uc3QgY2hpbGRyZW5BcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pOwoJCWNvbnN0IG1haW5DaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlW10gPSBbXTsKCQljb25zdCBhY3Rpb25DaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlW10gPSBbXTsKCgkJY2hpbGRyZW5BcnJheS5mb3JFYWNoKChjaGlsZCkgPT4gewoJCQlpZiAoaXNQaWVDaGFydEFjdGlvbnNFbGVtZW50KGNoaWxkKSkgewoJCQkJYWN0aW9uQ2hpbGRyZW4ucHVzaChjaGlsZCk7CgkJCX0gZWxzZSBpZiAoY2hpbGQgIT09IG51bGwpIHsKCQkJCW1haW5DaGlsZHJlbi5wdXNoKGNoaWxkKTsKCQkJfQoJCX0pOwoKCQljb25zdCBlbmhhbmNlZE1haW5DaGlsZHJlbiA9IG1haW5DaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiB7CgkJCWlmIChpc1BpZUNoYXJ0VGl0bGVFbGVtZW50KGNoaWxkKSkgewoJCQkJcmV0dXJuIGNsb25lRWxlbWVudFdpdGhDbGFzc05hbWUoCgkJCQkJY2hpbGQgYXMgUmVhY3QuUmVhY3RFbGVtZW50PHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+LAoJCQkJCXRpdGxlQ2xhc3NOYW1lLAoJCQkJKTsKCQkJfQoJCQlpZiAoaXNQaWVDaGFydERlc2NyaXB0aW9uRWxlbWVudChjaGlsZCkpIHsKCQkJCXJldHVybiBjbG9uZUVsZW1lbnRXaXRoQ2xhc3NOYW1lKAoJCQkJCWNoaWxkIGFzIFJlYWN0LlJlYWN0RWxlbWVudDx7IGNsYXNzTmFtZT86IHN0cmluZyB9PiwKCQkJCQlkZXNjcmlwdGlvbkNsYXNzTmFtZSwKCQkJCSk7CgkJCX0KCQkJcmV0dXJuIGNoaWxkOwoJCX0pOwoKCQljb25zdCBlbmhhbmNlZEFjdGlvbkNoaWxkcmVuID0gYWN0aW9uQ2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gewoJCQlpZiAoaXNQaWVDaGFydEFjdGlvbnNFbGVtZW50KGNoaWxkKSkgewoJCQkJcmV0dXJuIGNsb25lRWxlbWVudFdpdGhDbGFzc05hbWUoCgkJCQkJY2hpbGQgYXMgUmVhY3QuUmVhY3RFbGVtZW50PHsgY2xhc3NOYW1lPzogc3RyaW5nIH0+LAoJCQkJCWFjdGlvbnNDbGFzc05hbWUsCgkJCQkpOwoJCQl9CgkJCXJldHVybiBjaGlsZDsKCQl9KTsKCgkJcmV0dXJuICgKCQkJPGRpdgoJCQkJcmVmPXtyZWZ9CgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSdmbGV4IGZsZXgtY29sIGdhcC0zIHB4LTQgcHQtNCBzbTpmbGV4LXJvdyBzbTppdGVtcy1zdGFydCBzbTpqdXN0aWZ5LWJldHdlZW4gc206Z2FwLTQnLAoJCQkJCWNsYXNzTmFtZSwKCQkJCSl9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCXtlbmhhbmNlZE1haW5DaGlsZHJlbi5sZW5ndGggPyAoCgkJCQkJPGRpdiBjbGFzc05hbWU9e2NuKCdzcGFjZS15LTEgc206ZmxleC0xJywgY29udGVudENsYXNzTmFtZSl9PgoJCQkJCQl7ZW5oYW5jZWRNYWluQ2hpbGRyZW59CgkJCQkJPC9kaXY+CgkJCQkpIDogbnVsbH0KCQkJCXtlbmhhbmNlZEFjdGlvbkNoaWxkcmVuLmxlbmd0aCA/IGVuaGFuY2VkQWN0aW9uQ2hpbGRyZW4gOiBudWxsfQoJCQk8L2Rpdj4KCQkpOwoJfSwKKTsKUGllQ2hhcnRIZWFkZXIuZGlzcGxheU5hbWUgPSAnUGllQ2hhcnRIZWFkZXInOwoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydFRvb2x0aXBJbmZvPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+IHsKCXNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPjsKCXZhbHVlOiBudW1iZXI7CglwZXJjZW50YWdlOiBudW1iZXI7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgUGllQ2hhcnRHcmFwaFByb3BzPFREYXRhIGV4dGVuZHMgQ2hhcnREYXR1bSA9IENoYXJ0RGF0dW0+CglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgloZWlnaHQ/OiBudW1iZXIgfCBzdHJpbmc7Cglpbm5lclJhZGl1cz86IG51bWJlciB8IHN0cmluZzsKCW91dGVyUmFkaXVzPzogbnVtYmVyIHwgc3RyaW5nOwoJcGFkQW5nbGU/OiBudW1iZXI7Cgljb3JuZXJSYWRpdXM/OiBudW1iZXI7CglzdGFydEFuZ2xlPzogbnVtYmVyOwoJZW5kQW5nbGU/OiBudW1iZXI7CglzaG93VG9vbHRpcD86IGJvb2xlYW47Cgl0b29sdGlwUmVuZGVyPzogKGluZm86IFBpZUNoYXJ0VG9vbHRpcEluZm88VERhdGE+KSA9PiBSZWFjdC5SZWFjdE5vZGU7Cglsb2FkaW5nPzogYm9vbGVhbjsKCWxvYWRpbmdTdGF0ZT86IFJlYWN0LlJlYWN0Tm9kZTsKCWVtcHR5U3RhdGU/OiBSZWFjdC5SZWFjdE5vZGU7CgllcnJvcj86IFJlYWN0LlJlYWN0Tm9kZTsKCWFyaWFMYWJlbD86IHN0cmluZzsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgpmdW5jdGlvbiBQaWVDaGFydFN0YXRlKHsKCWxhYmVsLAoJZGVzY3JpcHRpb24sCn06IHsKCWxhYmVsOiBzdHJpbmc7CglkZXNjcmlwdGlvbj86IFJlYWN0LlJlYWN0Tm9kZTsKfSkgewoJcmV0dXJuICgKCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZGFzaGVkIGJvcmRlci1ib3JkZXIvNjAgYmctW2NvbG9yLW1peChpbl9va2xjaCx2YXIoLS1jb2xvci1jYXJkKV83MCUsdmFyKC0tY29sb3ItY2FyZC1tdXRlZClfMzAlKV0gcHgtNCBweS0xMCB0ZXh0LWNlbnRlciI+CgkJCTxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgoJCQkJPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIGxlYWRpbmctbm9uZSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQiPgoJCQkJCXtsYWJlbH0KCQkJCTwvcD4KCQkJCXtkZXNjcmlwdGlvbiA/ICgKCQkJCQk8cCBjbGFzc05hbWU9InRleHQtc20gbGVhZGluZy1zbnVnIHRleHQtZm9yZWdyb3VuZC80NSI+CgkJCQkJCXtkZXNjcmlwdGlvbn0KCQkJCQk8L3A+CgkJCQkpIDogbnVsbH0KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9Cgpjb25zdCBQaWVDaGFydEdyYXBoQmFzZSA9IFJlYWN0LmZvcndhcmRSZWY8CglIVE1MRGl2RWxlbWVudCwKCVBpZUNoYXJ0R3JhcGhQcm9wczxDaGFydERhdHVtPgo+KGZ1bmN0aW9uIFBpZUNoYXJ0R3JhcGhJbm5lcigKCXsKCQloZWlnaHQsCgkJaW5uZXJSYWRpdXMsCgkJb3V0ZXJSYWRpdXMsCgkJcGFkQW5nbGUgPSAwLAoJCWNvcm5lclJhZGl1cyA9IDAsCgkJc3RhcnRBbmdsZSwKCQllbmRBbmdsZSwKCQlzaG93VG9vbHRpcCA9IHRydWUsCgkJdG9vbHRpcFJlbmRlciwKCQlsb2FkaW5nID0gZmFsc2UsCgkJbG9hZGluZ1N0YXRlLAoJCWVtcHR5U3RhdGUsCgkJZXJyb3IsCgkJYXJpYUxhYmVsLAoJCWNoaWxkcmVuLAoJCWNsYXNzTmFtZSwKCQlzdHlsZSwKCQkuLi5yZXN0Cgl9OiBQaWVDaGFydEdyYXBoUHJvcHM8Q2hhcnREYXR1bT4sCglyZWYsCikgewoJY29uc3QgewoJCXNsaWNlcywKCQlmb3JtYXRMYWJlbCwKCQlmb3JtYXRWYWx1ZSwKCQl2YWx1ZUxhYmVsLAoJCWFjdGl2ZVNsaWNlSWQsCgkJc2V0QWN0aXZlU2xpY2VJZCwKCX0gPSB1c2VQaWVDaGFydENvbnRleHQoKTsKCgljb25zdCBjaGFydEFyZWFSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTsKCWNvbnN0IHN2Z1JlZiA9IFJlYWN0LnVzZVJlZjxTVkdTVkdFbGVtZW50IHwgbnVsbD4obnVsbCk7Cgljb25zdCBwYXRoRWxlbWVudHNSZWYgPSBSZWFjdC51c2VSZWY8TWFwPHN0cmluZywgU1ZHUGF0aEVsZW1lbnQ+PihuZXcgTWFwKCkpOwoJY29uc3QgcmVnaXN0ZXJQYXRoRWxlbWVudCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShpZDogc3RyaW5nLCBlbGVtZW50OiBTVkdQYXRoRWxlbWVudCB8IG51bGwpID0+IHsKCQkJY29uc3QgbWFwID0gcGF0aEVsZW1lbnRzUmVmLmN1cnJlbnQ7CgkJCWlmIChlbGVtZW50KSB7CgkJCQltYXAuc2V0KGlkLCBlbGVtZW50KTsKCQkJfSBlbHNlIHsKCQkJCW1hcC5kZWxldGUoaWQpOwoJCQl9CgkJfSwKCQlbXSwKCSk7Cgljb25zdCBzZXRPdXRlckNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShub2RlOiBIVE1MRGl2RWxlbWVudCB8IG51bGwpID0+IHsKCQkJaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHsKCQkJCXJlZihub2RlKTsKCQkJfSBlbHNlIGlmIChyZWYpIHsKCQkJCShyZWYgYXMgUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50IHwgbnVsbD4pLmN1cnJlbnQgPSBub2RlOwoJCQl9CgkJfSwKCQlbcmVmXSwKCSk7CgoJY29uc3QgcmVzb2x2ZWRIZWlnaHQgPQoJCXR5cGVvZiBoZWlnaHQgPT09ICdudW1iZXInCgkJCT8gYCR7aGVpZ2h0fXB4YAoJCQk6IChoZWlnaHQgPz8gYCR7REVGQVVMVF9IRUlHSFR9cHhgKTsKCgljb25zdCBzdmdUaXRsZUlkID0gUmVhY3QudXNlSWQoKTsKCWNvbnN0IHRyaW1tZWRBcmlhTGFiZWwgPSBhcmlhTGFiZWw/LnRyaW0oKTsKCWNvbnN0IHN2Z1RpdGxlID0KCQl0cmltbWVkQXJpYUxhYmVsICYmIHRyaW1tZWRBcmlhTGFiZWwubGVuZ3RoID4gMAoJCQk/IHRyaW1tZWRBcmlhTGFiZWwKCQkJOiAnUGllIGNoYXJ0IHZpc3VhbGl6YXRpb24nOwoKCWNvbnN0IHZpZXdCb3hTaXplID0gMzIwOwoJY29uc3QgbWF4UmFkaXVzID0gdmlld0JveFNpemUgLyAyIC0gODsKCgljb25zdCByZXNvbHZlZE91dGVyUmFkaXVzID0gTWF0aC5taW4oCgkJcmVzb2x2ZVJhZGl1cyhvdXRlclJhZGl1cywgbWF4UmFkaXVzLCBtYXhSYWRpdXMpLAoJCW1heFJhZGl1cywKCSk7Cgljb25zdCByZXNvbHZlZElubmVyUmFkaXVzID0gTWF0aC5taW4oCgkJcmVzb2x2ZVJhZGl1cyhpbm5lclJhZGl1cywgbWF4UmFkaXVzLCAwKSwKCQlyZXNvbHZlZE91dGVyUmFkaXVzLAoJKTsKCgljb25zdCBzYW5pdGl6ZWRQYWRBbmdsZSA9CgkJdHlwZW9mIHBhZEFuZ2xlID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUocGFkQW5nbGUpCgkJCT8gTWF0aC5tYXgocGFkQW5nbGUsIDApCgkJCTogMDsKCWNvbnN0IHBhZEFuZ2xlUmFkID0gKHNhbml0aXplZFBhZEFuZ2xlICogTWF0aC5QSSkgLyAxODA7Cgljb25zdCBzYW5pdGl6ZWRDb3JuZXJSYWRpdXMgPQoJCXR5cGVvZiBjb3JuZXJSYWRpdXMgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShjb3JuZXJSYWRpdXMpCgkJCT8gTWF0aC5tYXgoY29ybmVyUmFkaXVzLCAwKQoJCQk6IDA7Cgljb25zdCBzdGFydEFuZ2xlUmFkID0KCQlzdGFydEFuZ2xlICE9PSB1bmRlZmluZWQgPyAoc3RhcnRBbmdsZSAqIE1hdGguUEkpIC8gMTgwIDogdW5kZWZpbmVkOwoJY29uc3QgZW5kQW5nbGVSYWQgPQoJCWVuZEFuZ2xlICE9PSB1bmRlZmluZWQgPyAoZW5kQW5nbGUgKiBNYXRoLlBJKSAvIDE4MCA6IHVuZGVmaW5lZDsKCgljb25zdCBhcmNHZW5lcmF0b3IgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+CgkJCWFyYzxQaWVBcmNEYXR1bTxQaWVDaGFydFNsaWNlPj4oKQoJCQkJLmlubmVyUmFkaXVzKHJlc29sdmVkSW5uZXJSYWRpdXMpCgkJCQkub3V0ZXJSYWRpdXMocmVzb2x2ZWRPdXRlclJhZGl1cykKCQkJCS5jb3JuZXJSYWRpdXMoc2FuaXRpemVkQ29ybmVyUmFkaXVzKSwKCQlbcmVzb2x2ZWRJbm5lclJhZGl1cywgcmVzb2x2ZWRPdXRlclJhZGl1cywgc2FuaXRpemVkQ29ybmVyUmFkaXVzXSwKCSk7CgoJY29uc3QgYXJjcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IGdlbmVyYXRvciA9IHBpZTxQaWVDaGFydFNsaWNlPigpCgkJCS52YWx1ZSgoc2xpY2U6IFBpZUNoYXJ0U2xpY2UpID0+IHNsaWNlLnZhbHVlKQoJCQkuc29ydChudWxsKQoJCQkucGFkQW5nbGUocGFkQW5nbGVSYWQpOwoKCQlpZiAoc3RhcnRBbmdsZVJhZCAhPT0gdW5kZWZpbmVkKSBnZW5lcmF0b3Iuc3RhcnRBbmdsZShzdGFydEFuZ2xlUmFkKTsKCQlpZiAoZW5kQW5nbGVSYWQgIT09IHVuZGVmaW5lZCkgZ2VuZXJhdG9yLmVuZEFuZ2xlKGVuZEFuZ2xlUmFkKTsKCgkJcmV0dXJuIGdlbmVyYXRvcihzbGljZXMpOwoJfSwgW2VuZEFuZ2xlUmFkLCBwYWRBbmdsZVJhZCwgc2xpY2VzLCBzdGFydEFuZ2xlUmFkXSk7CgoJY29uc3QgZGVmYXVsdFRvb2x0aXBSZW5kZXIgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoaW5mbzogUGllQ2hhcnRUb29sdGlwSW5mbykgPT4gKAoJCQk8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0xIj4KCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CgkJCQkJPHNwYW4KCQkJCQkJY2xhc3NOYW1lPSJpbmxpbmUtZmxleCBoLTIuNSB3LTEgc2hyaW5rLTAgcm91bmRlZC1bMXB4XSIKCQkJCQkJc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBpbmZvLnNsaWNlLmNvbG9yIH19CgkJCQkJLz4KCQkJCQk8c3BhbiBjbGFzc05hbWU9InRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIj4KCQkJCQkJe2Zvcm1hdExhYmVsKGluZm8uc2xpY2UpfQoJCQkJCTwvc3Bhbj4KCQkJCTwvZGl2PgoJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KCQkJCQk8c3BhbiBjbGFzc05hbWU9InRleHQteHMgdGV4dC1mb3JlZ3JvdW5kLzcwIj4KCQkJCQkJe2Zvcm1hdFZhbHVlKGluZm8uc2xpY2UpfSB7dmFsdWVMYWJlbH0KCQkJCQk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC80NSI+CgkJCQkJCXsoaW5mby5wZXJjZW50YWdlICogMTAwKS50b0ZpeGVkKDEpfSUKCQkJCQk8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJKSwKCQlbZm9ybWF0TGFiZWwsIGZvcm1hdFZhbHVlLCB2YWx1ZUxhYmVsXSwKCSk7CgoJY29uc3QgdG9vbHRpcFJlbmRlcmVyID0gdG9vbHRpcFJlbmRlciA/PyBkZWZhdWx0VG9vbHRpcFJlbmRlcjsKCgljb25zdCB0b29sdGlwUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7Cgljb25zdCBbdG9vbHRpcERpbWVuc2lvbnMsIHNldFRvb2x0aXBEaW1lbnNpb25zXSA9IFJlYWN0LnVzZVN0YXRlPHsKCQl3aWR0aDogbnVtYmVyOwoJCWhlaWdodDogbnVtYmVyOwoJfT4oeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pOwoJY29uc3QgW3Rvb2x0aXAsIHNldFRvb2x0aXBdID0gUmVhY3QudXNlU3RhdGU8ewoJCWluZm86IFBpZUNoYXJ0VG9vbHRpcEluZm87CgkJc2xpY2VJZDogc3RyaW5nOwoJCXg6IG51bWJlcjsKCQl5OiBudW1iZXI7CgkJaG9yaXpvbnRhbDogJ2xlZnQnIHwgJ3JpZ2h0JzsKCQl2ZXJ0aWNhbDogJ3RvcCcgfCAnYm90dG9tJzsKCQl2aXNpYmxlOiBib29sZWFuOwoJCWVudGVyaW5nOiBib29sZWFuOwoJfSB8IG51bGw+KG51bGwpOwoKCWNvbnN0IGhpZGVUb29sdGlwVGltZW91dFJlZiA9IFJlYWN0LnVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCgljb25zdCBjYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQlpZiAoaGlkZVRvb2x0aXBUaW1lb3V0UmVmLmN1cnJlbnQgIT09IG51bGwpIHsKCQkJd2luZG93LmNsZWFyVGltZW91dChoaWRlVG9vbHRpcFRpbWVvdXRSZWYuY3VycmVudCk7CgkJCWhpZGVUb29sdGlwVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDsKCQl9Cgl9LCBbXSk7CgoJY29uc3QgY2xlYXJUb29sdGlwID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCWNhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlKCk7CgkJc2V0VG9vbHRpcCgocHJldmlvdXMpID0+CgkJCXByZXZpb3VzID8geyAuLi5wcmV2aW91cywgdmlzaWJsZTogZmFsc2UsIGVudGVyaW5nOiBmYWxzZSB9IDogbnVsbCwKCQkpOwoJCXNldEFjdGl2ZVNsaWNlSWQobnVsbCk7Cgl9LCBbY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUsIHNldEFjdGl2ZVNsaWNlSWRdKTsKCgljb25zdCBzY2hlZHVsZVRvb2x0aXBIaWRlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGRlbGF5ID0gMTQwKSA9PiB7CgkJCWNhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlKCk7CgkJCWhpZGVUb29sdGlwVGltZW91dFJlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewoJCQkJY2xlYXJUb29sdGlwKCk7CgkJCX0sIGRlbGF5KTsKCQl9LAoJCVtjYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSwgY2xlYXJUb29sdGlwXSwKCSk7CgoJY29uc3QgaGFuZGxlU3ZnUG9pbnRlckxlYXZlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8U1ZHU1ZHRWxlbWVudD4pID0+IHsKCQkJY29uc3QgZGVsYXkgPQoJCQkJZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nCgkJCQkJPyAzMjAKCQkJCQk6IDE0MDsKCQkJc2NoZWR1bGVUb29sdGlwSGlkZShkZWxheSk7CgkJfSwKCQlbc2NoZWR1bGVUb29sdGlwSGlkZV0sCgkpOwoKCWNvbnN0IHJlbmRlclRvb2x0aXAgPQoJCXNob3dUb29sdGlwICYmIHRvb2x0aXAgPyB0b29sdGlwUmVuZGVyZXIodG9vbHRpcC5pbmZvKSA6IG51bGw7CgoJY29uc3Qgc2hvd0NoYXJ0ID0gIWxvYWRpbmcgJiYgIWVycm9yICYmIHNsaWNlcy5sZW5ndGggPiAwOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFzaG93Q2hhcnQpIHsKCQkJc2V0VG9vbHRpcChudWxsKTsKCQl9Cgl9LCBbc2hvd0NoYXJ0XSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIXRvb2x0aXAgfHwgdG9vbHRpcC52aXNpYmxlIHx8IHRvb2x0aXAuZW50ZXJpbmcpIHJldHVybjsKCQljb25zdCB0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CgkJCXNldFRvb2x0aXAobnVsbCk7CgkJfSwgMjAwKTsKCQlyZXR1cm4gKCkgPT4gd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQpOwoJfSwgW3Rvb2x0aXBdKTsKCglSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gewoJCWlmICgKCQkJIXRvb2x0aXBSZWYuY3VycmVudCB8fAoJCQkhdG9vbHRpcCB8fAoJCQl0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnCgkJKSB7CgkJCXJldHVybjsKCQl9CgkJY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKFtlbnRyeV0pID0+IHsKCQkJaWYgKCFlbnRyeSkgcmV0dXJuOwoJCQljb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGVudHJ5LmNvbnRlbnRSZWN0OwoJCQlzZXRUb29sdGlwRGltZW5zaW9ucyh7IHdpZHRoLCBoZWlnaHQgfSk7CgkJfSk7CgkJb2JzZXJ2ZXIub2JzZXJ2ZSh0b29sdGlwUmVmLmN1cnJlbnQpOwoJCXJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7Cgl9LCBbdG9vbHRpcF0pOwoKCVJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJaWYgKCF0b29sdGlwIHx8ICF0b29sdGlwLmVudGVyaW5nKSB7CgkJCXJldHVybjsKCQl9CgkJY29uc3QgZnJhbWVJZCA9IHdpbmRvdz8ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJc2V0VG9vbHRpcCgocHJldmlvdXMpID0+CgkJCQlwcmV2aW91cz8uZW50ZXJpbmcKCQkJCQk/IHsgLi4ucHJldmlvdXMsIHZpc2libGU6IHRydWUsIGVudGVyaW5nOiBmYWxzZSB9CgkJCQkJOiBwcmV2aW91cywKCQkJKTsKCQl9KTsKCQlyZXR1cm4gKCkgPT4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpOwoJfSwgW3Rvb2x0aXBdKTsKCglSZWFjdC51c2VFZmZlY3QoCgkJKCkgPT4gKCkgPT4gewoJCQljYW5jZWxTY2hlZHVsZWRUb29sdGlwSGlkZSgpOwoJCX0sCgkJW2NhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlXSwKCSk7CgoJY29uc3QgY2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGFyY0RhdHVtOiBQaWVBcmNEYXR1bTxQaWVDaGFydFNsaWNlPiwgZWxlbWVudD86IFNWR1BhdGhFbGVtZW50IHwgbnVsbCkgPT4gewoJCQlpZiAoIWNoYXJ0QXJlYVJlZi5jdXJyZW50KSByZXR1cm4gbnVsbDsKCgkJCWNvbnN0IGNvbnRhaW5lclJlY3QgPSBjaGFydEFyZWFSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCgkJCWNvbnN0IFtjZW50cm9pZFgsIGNlbnRyb2lkWV0gPSBhcmNHZW5lcmF0b3IuY2VudHJvaWQoYXJjRGF0dW0pOwoJCQljb25zdCBjZW50ZXIgPSB2aWV3Qm94U2l6ZSAvIDI7CgoJCQljb25zdCBkaXJlY3Rpb25YID0gY2VudHJvaWRYOwoJCQljb25zdCBkaXJlY3Rpb25ZID0gY2VudHJvaWRZOwoJCQljb25zdCBkaXJlY3Rpb25MZW5ndGggPSBNYXRoLmh5cG90KGRpcmVjdGlvblgsIGRpcmVjdGlvblkpIHx8IDE7CgkJCWNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihkaXJlY3Rpb25ZLCBkaXJlY3Rpb25YKTsKCgkJCWNvbnN0IHRvb2x0aXBQYWRkaW5nID0gMTI7CgkJCWNvbnN0IGVzdGltYXRlZFdpZHRoID0gdG9vbHRpcERpbWVuc2lvbnMud2lkdGggfHwgMjIwOwoJCQljb25zdCBlc3RpbWF0ZWRIZWlnaHQgPSB0b29sdGlwRGltZW5zaW9ucy5oZWlnaHQgfHwgOTY7CgoJCQlsZXQgYW5jaG9yUG9pbnRYOiBudW1iZXIgfCBudWxsID0gbnVsbDsKCQkJbGV0IGFuY2hvclBvaW50WTogbnVtYmVyIHwgbnVsbCA9IG51bGw7CgoJCQlpZiAoZWxlbWVudCkgewoJCQkJY29uc3QgZWxlbWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoJCQkJY29uc3QgbG9jYWxMZWZ0ID0gZWxlbWVudFJlY3QubGVmdCAtIGNvbnRhaW5lclJlY3QubGVmdDsKCQkJCWNvbnN0IGxvY2FsVG9wID0gZWxlbWVudFJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3A7CgkJCQlhbmNob3JQb2ludFggPSBsb2NhbExlZnQgKyBlbGVtZW50UmVjdC53aWR0aCAvIDI7CgkJCQlhbmNob3JQb2ludFkgPSBsb2NhbFRvcCArIGVsZW1lbnRSZWN0LmhlaWdodCAvIDI7CgkJCX0gZWxzZSBpZiAoc3ZnUmVmLmN1cnJlbnQpIHsKCQkJCWNvbnN0IHN2Z1JlY3QgPSBzdmdSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJCWNvbnN0IHNjYWxlID0gTWF0aC5taW4oCgkJCQkJc3ZnUmVjdC53aWR0aCAvIHZpZXdCb3hTaXplLAoJCQkJCXN2Z1JlY3QuaGVpZ2h0IC8gdmlld0JveFNpemUsCgkJCQkpOwoJCQkJaWYgKCFOdW1iZXIuaXNGaW5pdGUoc2NhbGUpIHx8IHNjYWxlIDw9IDApIHsKCQkJCQlyZXR1cm4gbnVsbDsKCQkJCX0KCgkJCQljb25zdCBvZmZzZXRYID0KCQkJCQlzdmdSZWN0LmxlZnQgLQoJCQkJCWNvbnRhaW5lclJlY3QubGVmdCArCgkJCQkJKHN2Z1JlY3Qud2lkdGggLSB2aWV3Qm94U2l6ZSAqIHNjYWxlKSAvIDI7CgkJCQljb25zdCBvZmZzZXRZID0KCQkJCQlzdmdSZWN0LnRvcCAtCgkJCQkJY29udGFpbmVyUmVjdC50b3AgKwoJCQkJCShzdmdSZWN0LmhlaWdodCAtIHZpZXdCb3hTaXplICogc2NhbGUpIC8gMjsKCgkJCQljb25zdCBwcmVmZXJyZWRSYWRpdXMgPQoJCQkJCXJlc29sdmVkSW5uZXJSYWRpdXMgKwoJCQkJCShyZXNvbHZlZE91dGVyUmFkaXVzIC0gcmVzb2x2ZWRJbm5lclJhZGl1cykgKiAwLjY7CgkJCQljb25zdCBzYWZlT3V0ZXJSYWRpdXMgPSBNYXRoLm1heCgwLCByZXNvbHZlZE91dGVyUmFkaXVzIC0gMTIpOwoJCQkJY29uc3Qgc2FmZUlubmVyUmFkaXVzID0gTWF0aC5taW4oCgkJCQkJc2FmZU91dGVyUmFkaXVzLAoJCQkJCXJlc29sdmVkSW5uZXJSYWRpdXMgKyAxMiwKCQkJCSk7CgkJCQljb25zdCB0YXJnZXRSYWRpdXMgPSBNYXRoLm1pbigKCQkJCQlzYWZlT3V0ZXJSYWRpdXMsCgkJCQkJTWF0aC5tYXgoc2FmZUlubmVyUmFkaXVzLCBwcmVmZXJyZWRSYWRpdXMpLAoJCQkJKTsKCgkJCQljb25zdCBvZmZzZXREaXN0YW5jZSA9IDE4OwoJCQkJY29uc3QgdGFyZ2V0WCA9CgkJCQkJKGRpcmVjdGlvblggLyBkaXJlY3Rpb25MZW5ndGgpICogdGFyZ2V0UmFkaXVzICsKCQkJCQlNYXRoLmNvcyhhbmdsZSkgKiBvZmZzZXREaXN0YW5jZTsKCQkJCWNvbnN0IHRhcmdldFkgPQoJCQkJCShkaXJlY3Rpb25ZIC8gZGlyZWN0aW9uTGVuZ3RoKSAqIHRhcmdldFJhZGl1cyArCgkJCQkJTWF0aC5zaW4oYW5nbGUpICogb2Zmc2V0RGlzdGFuY2U7CgoJCQkJYW5jaG9yUG9pbnRYID0gb2Zmc2V0WCArICh0YXJnZXRYICsgY2VudGVyKSAqIHNjYWxlOwoJCQkJYW5jaG9yUG9pbnRZID0gb2Zmc2V0WSArICh0YXJnZXRZICsgY2VudGVyKSAqIHNjYWxlOwoJCQl9CgoJCQlpZiAoYW5jaG9yUG9pbnRYID09PSBudWxsIHx8IGFuY2hvclBvaW50WSA9PT0gbnVsbCkgewoJCQkJcmV0dXJuIG51bGw7CgkJCX0KCgkJCWNvbnN0IGFuY2hvck9mZnNldCA9IDA7CgkJCWNvbnN0IG9mZnNldFggPSBNYXRoLmNvcyhhbmdsZSkgKiBhbmNob3JPZmZzZXQ7CgkJCWNvbnN0IG9mZnNldFkgPSBNYXRoLnNpbihhbmdsZSkgKiBhbmNob3JPZmZzZXQ7CgoJCQljb25zdCBjZW50ZXJlZFggPSBhbmNob3JQb2ludFggKyBvZmZzZXRYOwoJCQljb25zdCBjZW50ZXJlZFkgPSBhbmNob3JQb2ludFkgKyBvZmZzZXRZOwoKCQkJY29uc3QgbWluWCA9IHRvb2x0aXBQYWRkaW5nOwoJCQljb25zdCBtYXhYID0gY29udGFpbmVyUmVjdC53aWR0aCAtIGVzdGltYXRlZFdpZHRoIC0gdG9vbHRpcFBhZGRpbmc7CgkJCWNvbnN0IG1pblkgPSB0b29sdGlwUGFkZGluZzsKCQkJY29uc3QgbWF4WSA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gZXN0aW1hdGVkSGVpZ2h0IC0gdG9vbHRpcFBhZGRpbmc7CgoJCQlsZXQgeCA9IGNlbnRlcmVkWCAtIGVzdGltYXRlZFdpZHRoIC8gMjsKCQkJbGV0IHkgPSBjZW50ZXJlZFkgLSBlc3RpbWF0ZWRIZWlnaHQgLyAyOwoKCQkJeCA9IE1hdGgubWluKE1hdGgubWF4KHgsIG1pblgpLCBtYXhYKTsKCQkJeSA9IE1hdGgubWluKE1hdGgubWF4KHksIG1pblkpLCBtYXhZKTsKCgkJCWxldCBob3Jpem9udGFsOiAnbGVmdCcgfCAncmlnaHQnID0KCQkJCU1hdGguY29zKGFuZ2xlKSA+PSAwID8gJ3JpZ2h0JyA6ICdsZWZ0JzsKCQkJbGV0IHZlcnRpY2FsOiAndG9wJyB8ICdib3R0b20nID0gTWF0aC5zaW4oYW5nbGUpID49IDAgPyAnYm90dG9tJyA6ICd0b3AnOwoKCQkJaWYgKHggPD0gbWluWCArIDEpIHsKCQkJCWhvcml6b250YWwgPSAncmlnaHQnOwoJCQl9IGVsc2UgaWYgKHggPj0gbWF4WCAtIDEpIHsKCQkJCWhvcml6b250YWwgPSAnbGVmdCc7CgkJCX0KCgkJCWlmICh5IDw9IG1pblkgKyAxKSB7CgkJCQl2ZXJ0aWNhbCA9ICdib3R0b20nOwoJCQl9IGVsc2UgaWYgKHkgPj0gbWF4WSAtIDEpIHsKCQkJCXZlcnRpY2FsID0gJ3RvcCc7CgkJCX0KCgkJCXJldHVybiB7IHgsIHksIGhvcml6b250YWwsIHZlcnRpY2FsIH07CgkJfSwKCQlbYXJjR2VuZXJhdG9yLCByZXNvbHZlZElubmVyUmFkaXVzLCByZXNvbHZlZE91dGVyUmFkaXVzLCB0b29sdGlwRGltZW5zaW9uc10sCgkpOwoKCWNvbnN0IHVwZGF0ZVRvb2x0aXBGb3JTbGljZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShhcmNEYXR1bTogUGllQXJjRGF0dW08UGllQ2hhcnRTbGljZT4sIGVsZW1lbnQ/OiBTVkdQYXRoRWxlbWVudCB8IG51bGwpID0+IHsKCQkJY2FuY2VsU2NoZWR1bGVkVG9vbHRpcEhpZGUoKTsKCQkJc2V0QWN0aXZlU2xpY2VJZChhcmNEYXR1bS5kYXRhLmlkKTsKCgkJCWlmICghc2hvd1Rvb2x0aXApIHJldHVybjsKCgkJCWNvbnN0IHRhcmdldEVsZW1lbnQgPQoJCQkJZWxlbWVudCA/PyBwYXRoRWxlbWVudHNSZWYuY3VycmVudC5nZXQoYXJjRGF0dW0uZGF0YS5pZCkgPz8gbnVsbDsKCgkJCWNvbnN0IHBvc2l0aW9uID0gY2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uKGFyY0RhdHVtLCB0YXJnZXRFbGVtZW50KTsKCQkJaWYgKCFwb3NpdGlvbikgcmV0dXJuOwoKCQkJc2V0VG9vbHRpcCgocHJldmlvdXMpID0+IHsKCQkJCWNvbnN0IHNob3VsZEFuaW1hdGVJbiA9ICFwcmV2aW91cyB8fCAhcHJldmlvdXMudmlzaWJsZTsKCgkJCQljb25zdCBuZXh0ID0gewoJCQkJCWluZm86IHsKCQkJCQkJc2xpY2U6IGFyY0RhdHVtLmRhdGEsCgkJCQkJCXZhbHVlOiBhcmNEYXR1bS5kYXRhLnZhbHVlLAoJCQkJCQlwZXJjZW50YWdlOiBhcmNEYXR1bS5kYXRhLnBlcmNlbnRhZ2UsCgkJCQkJfSwKCQkJCQlzbGljZUlkOiBhcmNEYXR1bS5kYXRhLmlkLAoJCQkJCXg6IHBvc2l0aW9uLngsCgkJCQkJeTogcG9zaXRpb24ueSwKCQkJCQlob3Jpem9udGFsOiBwb3NpdGlvbi5ob3Jpem9udGFsLAoJCQkJCXZlcnRpY2FsOiBwb3NpdGlvbi52ZXJ0aWNhbCwKCQkJCQl2aXNpYmxlOiAhc2hvdWxkQW5pbWF0ZUluLAoJCQkJCWVudGVyaW5nOiBzaG91bGRBbmltYXRlSW4sCgkJCQl9OwoKCQkJCWlmICgKCQkJCQlwcmV2aW91cyAmJgoJCQkJCXByZXZpb3VzLnNsaWNlSWQgPT09IGFyY0RhdHVtLmRhdGEuaWQgJiYKCQkJCQlNYXRoLmFicyhwcmV2aW91cy54IC0gbmV4dC54KSA8IDAuNSAmJgoJCQkJCU1hdGguYWJzKHByZXZpb3VzLnkgLSBuZXh0LnkpIDwgMC41ICYmCgkJCQkJcHJldmlvdXMuaG9yaXpvbnRhbCA9PT0gbmV4dC5ob3Jpem9udGFsICYmCgkJCQkJcHJldmlvdXMudmVydGljYWwgPT09IG5leHQudmVydGljYWwKCQkJCSkgewoJCQkJCWlmIChzaG91bGRBbmltYXRlSW4pIHsKCQkJCQkJcmV0dXJuIG5leHQ7CgkJCQkJfQoJCQkJCWlmICghcHJldmlvdXMudmlzaWJsZSkgewoJCQkJCQlyZXR1cm4geyAuLi5wcmV2aW91cywgdmlzaWJsZTogdHJ1ZSwgZW50ZXJpbmc6IGZhbHNlIH07CgkJCQkJfQoJCQkJCXJldHVybiBwcmV2aW91czsKCQkJCX0KCgkJCQlyZXR1cm4gbmV4dDsKCQkJfSk7CgkJfSwKCQlbCgkJCWNhbmNlbFNjaGVkdWxlZFRvb2x0aXBIaWRlLAoJCQljYWxjdWxhdGVUb29sdGlwUG9zaXRpb24sCgkJCXNldEFjdGl2ZVNsaWNlSWQsCgkJCXNob3dUb29sdGlwLAoJCV0sCgkpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCF0b29sdGlwIHx8ICF0b29sdGlwLnZpc2libGUpIHJldHVybjsKCgkJY29uc3QgYXJjRGF0dW0gPSBhcmNzLmZpbmQoCgkJCShjYW5kaWRhdGUpID0+IGNhbmRpZGF0ZS5kYXRhLmlkID09PSB0b29sdGlwLnNsaWNlSWQsCgkJKTsKCQlpZiAoIWFyY0RhdHVtKSByZXR1cm47CgoJCWNvbnN0IGVsZW1lbnQgPSBwYXRoRWxlbWVudHNSZWYuY3VycmVudC5nZXQoYXJjRGF0dW0uZGF0YS5pZCkgPz8gbnVsbDsKCgkJY29uc3QgcG9zaXRpb24gPSBjYWxjdWxhdGVUb29sdGlwUG9zaXRpb24oYXJjRGF0dW0sIGVsZW1lbnQpOwoJCWlmICghcG9zaXRpb24pIHJldHVybjsKCgkJaWYgKAoJCQlNYXRoLmFicyh0b29sdGlwLnggLSBwb3NpdGlvbi54KSA8IDAuNSAmJgoJCQlNYXRoLmFicyh0b29sdGlwLnkgLSBwb3NpdGlvbi55KSA8IDAuNSAmJgoJCQl0b29sdGlwLmhvcml6b250YWwgPT09IHBvc2l0aW9uLmhvcml6b250YWwgJiYKCQkJdG9vbHRpcC52ZXJ0aWNhbCA9PT0gcG9zaXRpb24udmVydGljYWwKCQkpIHsKCQkJcmV0dXJuOwoJCX0KCgkJc2V0VG9vbHRpcCgocHJldmlvdXMpID0+CgkJCXByZXZpb3VzCgkJCQk/IHsKCQkJCQkJLi4ucHJldmlvdXMsCgkJCQkJCXg6IHBvc2l0aW9uLngsCgkJCQkJCXk6IHBvc2l0aW9uLnksCgkJCQkJCWhvcml6b250YWw6IHBvc2l0aW9uLmhvcml6b250YWwsCgkJCQkJCXZlcnRpY2FsOiBwb3NpdGlvbi52ZXJ0aWNhbCwKCQkJCQl9CgkJCQk6IHByZXZpb3VzLAoJCSk7Cgl9LCBbYXJjcywgY2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uLCB0b29sdGlwXSk7CgoJbGV0IGJvZHk6IFJlYWN0LlJlYWN0Tm9kZSA9IG51bGw7CgoJaWYgKGVycm9yKSB7CgkJYm9keSA9CgkJCXR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycgPyAoCgkJCQk8UGllQ2hhcnRTdGF0ZQoJCQkJCWxhYmVsPSJUaGVyZSB3YXMgYSBwcm9ibGVtIHJlbmRlcmluZyB0aGUgY2hhcnQuIgoJCQkJCWRlc2NyaXB0aW9uPXtlcnJvcn0KCQkJCS8+CgkJCSkgOiAoCgkJCQllcnJvcgoJCQkpOwoJfSBlbHNlIGlmIChsb2FkaW5nKSB7CgkJYm9keSA9IGxvYWRpbmdTdGF0ZSA/PyAoCgkJCTxQaWVDaGFydFN0YXRlIGxhYmVsPSJMb2FkaW5nIGNoYXJ0IGRhdGHigKYiIGRlc2NyaXB0aW9uPXt1bmRlZmluZWR9IC8+CgkJKTsKCX0gZWxzZSBpZiAoIXNsaWNlcy5sZW5ndGgpIHsKCQlib2R5ID0gZW1wdHlTdGF0ZSA/PyAoCgkJCTxQaWVDaGFydFN0YXRlCgkJCQlsYWJlbD0iTm8gZGF0YSB0byBkaXNwbGF5IHlldC4iCgkJCQlkZXNjcmlwdGlvbj0iUHJvdmlkZSBhIGRhdGFzZXQgb3IgYWRqdXN0IHlvdXIgZmlsdGVycy4iCgkJCS8+CgkJKTsKCX0gZWxzZSB7CgkJYm9keSA9ICgKCQkJLyogYmlvbWUtaWdub3JlIGxpbnQvYTExeS9ub1N2Z1dpdGhvdXRUaXRsZTogaGFuZGxlZCB2aWEgYXJpYS1sYWJlbCAqLwoJCQk8c3ZnCgkJCQlyZWY9e3N2Z1JlZn0KCQkJCWNsYXNzTmFtZT0iaC1mdWxsIHctZnVsbCIKCQkJCXZpZXdCb3g9e2AwIDAgJHt2aWV3Qm94U2l6ZX0gJHt2aWV3Qm94U2l6ZX1gfQoJCQkJYXJpYS1sYWJlbD17c3ZnVGl0bGV9CgkJCQlwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IgoJCQkJc2hhcGVSZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIKCQkJCW9uUG9pbnRlckxlYXZlPXtoYW5kbGVTdmdQb2ludGVyTGVhdmV9CgkJCQl7Li4uKHRyaW1tZWRBcmlhTGFiZWwKCQkJCQk/IHsgcm9sZTogJ2ltZycsICdhcmlhLWxhYmVsbGVkYnknOiBzdmdUaXRsZUlkIH0KCQkJCQk6IHsgcm9sZTogJ2ltZycsICdhcmlhLWhpZGRlbic6IHRydWUgfSl9CgkJCT4KCQkJCTxnIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3ZpZXdCb3hTaXplIC8gMn0sICR7dmlld0JveFNpemUgLyAyfSlgfT4KCQkJCQl7YXJjcy5tYXAoKGFyY0RhdHVtKSA9PiB7CgkJCQkJCWNvbnN0IHBhdGggPSBhcmNHZW5lcmF0b3IoYXJjRGF0dW0pOwoJCQkJCQlpZiAoIXBhdGgpIHJldHVybiBudWxsOwoKCQkJCQkJY29uc3QgaXNBY3RpdmUgPSBhY3RpdmVTbGljZUlkID09PSBhcmNEYXR1bS5kYXRhLmlkOwoJCQkJCQljb25zdCBpc0RpbW1lZCA9CgkJCQkJCQlCb29sZWFuKGFjdGl2ZVNsaWNlSWQpICYmIGFjdGl2ZVNsaWNlSWQgIT09IGFyY0RhdHVtLmRhdGEuaWQ7CgkJCQkJCWNvbnN0IGxhYmVsTm9kZSA9IGZvcm1hdExhYmVsKGFyY0RhdHVtLmRhdGEpOwoJCQkJCQljb25zdCB2YWx1ZU5vZGUgPSBmb3JtYXRWYWx1ZShhcmNEYXR1bS5kYXRhKTsKCQkJCQkJY29uc3QgbGFiZWxUZXh0ID0KCQkJCQkJCXR5cGVvZiBsYWJlbE5vZGUgPT09ICdzdHJpbmcnCgkJCQkJCQkJPyBsYWJlbE5vZGUKCQkJCQkJCQk6IHR5cGVvZiBsYWJlbE5vZGUgPT09ICdudW1iZXInCgkJCQkJCQkJCT8gbGFiZWxOb2RlLnRvU3RyaW5nKCkKCQkJCQkJCQkJOiBhcmNEYXR1bS5kYXRhLmxhYmVsOwoJCQkJCQljb25zdCB2YWx1ZVRleHQgPQoJCQkJCQkJdHlwZW9mIHZhbHVlTm9kZSA9PT0gJ3N0cmluZycKCQkJCQkJCQk/IHZhbHVlTm9kZQoJCQkJCQkJCTogdHlwZW9mIHZhbHVlTm9kZSA9PT0gJ251bWJlcicKCQkJCQkJCQkJPyB2YWx1ZU5vZGUudG9Mb2NhbGVTdHJpbmcoKQoJCQkJCQkJCQk6IGFyY0RhdHVtLmRhdGEudmFsdWUudG9Mb2NhbGVTdHJpbmcoKTsKCgkJCQkJCXJldHVybiAoCgkJCQkJCQkvLyBiaW9tZS1pZ25vcmUgbGludC9hMTF5L3VzZVNlbWFudGljRWxlbWVudHM6IEEgPHBhdGg+IGNhbm5vdCBiZSByZXBsYWNlZCB3aXRoIDxidXR0b24+IGluc2lkZSBTVkcsIHNvIHdlIHByb3ZpZGUgYnV0dG9uIHNlbWFudGljcyB2aWEgcm9sZS4KCQkJCQkJCTxwYXRoCgkJCQkJCQkJa2V5PXthcmNEYXR1bS5kYXRhLmlkfQoJCQkJCQkJCXJlZj17KG5vZGUpID0+IHsKCQkJCQkJCQkJcmVnaXN0ZXJQYXRoRWxlbWVudChhcmNEYXR1bS5kYXRhLmlkLCBub2RlKTsKCQkJCQkJCQl9fQoJCQkJCQkJCWQ9e3BhdGh9CgkJCQkJCQkJZmlsbD17YXJjRGF0dW0uZGF0YS5jb2xvcn0KCQkJCQkJCQlzdHJva2U9e2FyY0RhdHVtLmRhdGEuY29sb3J9CgkJCQkJCQkJc3Ryb2tlV2lkdGg9ezAuMjV9CgkJCQkJCQkJdGFiSW5kZXg9ezB9CgkJCQkJCQkJcm9sZT0iYnV0dG9uIgoJCQkJCQkJCWFyaWEtcHJlc3NlZD17aXNBY3RpdmV9CgkJCQkJCQkJYXJpYS1sYWJlbD17YCR7bGFiZWxUZXh0fTogJHt2YWx1ZVRleHR9ICgkeygKCQkJCQkJCQkJYXJjRGF0dW0uZGF0YS5wZXJjZW50YWdlICogMTAwCgkJCQkJCQkJKS50b0ZpeGVkKDEpfSUpYH0KCQkJCQkJCQljbGFzc05hbWU9Im91dGxpbmUtbm9uZSB0cmFuc2l0aW9uLVt0cmFuc2Zvcm0sb3BhY2l0eV0gZHVyYXRpb24tNjAwIGVhc2Utc21vb3RoIgoJCQkJCQkJCXN0eWxlPXt7CgkJCQkJCQkJCW9wYWNpdHk6IGlzRGltbWVkID8gMC41IDogMSwKCQkJCQkJCQkJZmlsdGVyOiBgCiAgICAgICAgICAgICAgICAgICAgJHtpc0FjdGl2ZSA/ICdicmlnaHRuZXNzKDAuOCkgc2F0dXJhdGUoMS41KScgOiAnYnJpZ2h0bmVzcygxKSBzYXR1cmF0ZSgxKSd9CiAgICAgICAgICAgICAgICAgIGAsCgkJCQkJCQkJCXRyYW5zZm9ybTogaXNBY3RpdmUgPyAnc2NhbGUoMS4wMyknIDogdW5kZWZpbmVkLAoJCQkJCQkJCQl3aWxsQ2hhbmdlOiAndHJhbnNmb3JtLCBvcGFjaXR5LCBmaWx0ZXInLAoJCQkJCQkJCQl0cmFuc2l0aW9uOgoJCQkJCQkJCQkJJ3RyYW5zZm9ybSA2MDBtcyB2YXIoLS1lYXNlLXNtb290aCksIG9wYWNpdHkgNjAwbXMgdmFyKC0tZWFzZS1zbW9vdGgpLCBmaWx0ZXIgNjAwbXMgdmFyKC0tZWFzZS1zbW9vdGgpJywKCQkJCQkJCQl9fQoJCQkJCQkJCW9uUG9pbnRlckVudGVyPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJdXBkYXRlVG9vbHRpcEZvclNsaWNlKGFyY0RhdHVtLCBldmVudC5jdXJyZW50VGFyZ2V0KTsKCQkJCQkJCQl9fQoJCQkJCQkJCW9uUG9pbnRlckxlYXZlPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJY29uc3QgZGVsYXkgPQoJCQkJCQkJCQkJZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nCgkJCQkJCQkJCQkJPyAzMjAKCQkJCQkJCQkJCQk6IDE0MDsKCQkJCQkJCQkJc2NoZWR1bGVUb29sdGlwSGlkZShkZWxheSk7CgkJCQkJCQkJfX0KCQkJCQkJCQlvbkNsaWNrPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJdXBkYXRlVG9vbHRpcEZvclNsaWNlKGFyY0RhdHVtLCBldmVudC5jdXJyZW50VGFyZ2V0KTsKCQkJCQkJCQl9fQoJCQkJCQkJCW9uRm9jdXM9eyhldmVudCkgPT4gewoJCQkJCQkJCQl1cGRhdGVUb29sdGlwRm9yU2xpY2UoYXJjRGF0dW0sIGV2ZW50LmN1cnJlbnRUYXJnZXQpOwoJCQkJCQkJCX19CgkJCQkJCQkJb25CbHVyPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJY29uc3QgbmV4dEZvY3VzVGFyZ2V0ID0KCQkJCQkJCQkJCWV2ZW50LnJlbGF0ZWRUYXJnZXQgaW5zdGFuY2VvZiBOb2RlCgkJCQkJCQkJCQkJPyBldmVudC5yZWxhdGVkVGFyZ2V0CgkJCQkJCQkJCQkJOiBudWxsOwoJCQkJCQkJCQlpZiAoCgkJCQkJCQkJCQluZXh0Rm9jdXNUYXJnZXQgJiYKCQkJCQkJCQkJCXN2Z1JlZi5jdXJyZW50Py5jb250YWlucyhuZXh0Rm9jdXNUYXJnZXQpCgkJCQkJCQkJCSkgewoJCQkJCQkJCQkJcmV0dXJuOwoJCQkJCQkJCQl9CgkJCQkJCQkJCWNsZWFyVG9vbHRpcCgpOwoJCQkJCQkJCX19CgkJCQkJCQkJb25LZXlEb3duPXsoZXZlbnQpID0+IHsKCQkJCQkJCQkJaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXkgPT09ICcgJykgewoJCQkJCQkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQkJCQkJCXVwZGF0ZVRvb2x0aXBGb3JTbGljZShhcmNEYXR1bSwgZXZlbnQuY3VycmVudFRhcmdldCk7CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHsKCQkJCQkJCQkJCWNsZWFyVG9vbHRpcCgpOwoJCQkJCQkJCQl9CgkJCQkJCQkJfX0KCQkJCQkJCS8+CgkJCQkJCSk7CgkJCQkJfSl9CgkJCQk8L2c+CgkJCTwvc3ZnPgoJCSk7Cgl9CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17c2V0T3V0ZXJDb250YWluZXJSZWZ9CgkJCWNsYXNzTmFtZT17Y24oJ3JlbGF0aXZlIHctZnVsbCBwLTQnLCBjbGFzc05hbWUpfQoJCQlzdHlsZT17eyAuLi5zdHlsZSwgaGVpZ2h0OiByZXNvbHZlZEhlaWdodCB9fQoJCQl7Li4ucmVzdH0KCQk+CgkJCTxkaXYgcmVmPXtjaGFydEFyZWFSZWZ9IGNsYXNzTmFtZT0icmVsYXRpdmUgaC1mdWxsIHctZnVsbCI+CgkJCQl7Ym9keX0KCQkJCXtzaG93Q2hhcnQgJiYgY2hpbGRyZW4gPyAoCgkJCQkJPGRpdiBjbGFzc05hbWU9InBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciI+CgkJCQkJCXtjaGlsZHJlbn0KCQkJCQk8L2Rpdj4KCQkJCSkgOiBudWxsfQoJCQkJe3Nob3dUb29sdGlwICYmIHRvb2x0aXAgJiYgcmVuZGVyVG9vbHRpcCA/ICgKCQkJCQk8ZGl2CgkJCQkJCXJlZj17dG9vbHRpcFJlZn0KCQkJCQkJZGF0YS12aXNpYmxlPXt0b29sdGlwLnZpc2libGUgPyAnJyA6IHVuZGVmaW5lZH0KCQkJCQkJY2xhc3NOYW1lPSJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGxlZnQtMCB0b3AtMCB6LTUwIgoJCQkJCQlzdHlsZT17ewoJCQkJCQkJdHJhbnNmb3JtT3JpZ2luOiBgJHt0b29sdGlwLmhvcml6b250YWx9ICR7dG9vbHRpcC52ZXJ0aWNhbH1gLAoJCQkJCQkJdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHt0b29sdGlwLnh9cHgsICR7dG9vbHRpcC55fXB4LCAwKSBzY2FsZSgkewoJCQkJCQkJCXRvb2x0aXAudmlzaWJsZSA/IDEgOiAwLjk1CgkJCQkJCQl9KWAsCgkJCQkJCQlvcGFjaXR5OiB0b29sdGlwLnZpc2libGUgPyAxIDogMCwKCQkJCQkJCXRyYW5zaXRpb246CgkJCQkJCQkJJ3RyYW5zZm9ybSA0NTBtcyB2YXIoLS1lYXNlLXNtb290aCksIG9wYWNpdHkgMzAwbXMgdmFyKC0tZWFzZS1zbW9vdGgpJywKCQkJCQkJCXdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0sIG9wYWNpdHknLAoJCQkJCQl9fQoJCQkJCT4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIG1pbi13LTMyIG1heC13LXhzIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctcG9wb3ZlciBwLTIgdGV4dC14cyB0ZXh0LWZvcmVncm91bmQgc2hhZG93LW1kIGNhcmQtaGlnaGxpZ2h0Ij4KCQkJCQkJCXtyZW5kZXJUb29sdGlwfQoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCSkgOiBudWxsfQoJCQk8L2Rpdj4KCQk8L2Rpdj4KCSk7Cn0pOwpQaWVDaGFydEdyYXBoQmFzZS5kaXNwbGF5TmFtZSA9ICdQaWVDaGFydEdyYXBoJzsKCnR5cGUgUGllQ2hhcnRHcmFwaENvbXBvbmVudCA9IDxURGF0YSBleHRlbmRzIENoYXJ0RGF0dW0gPSBDaGFydERhdHVtPigKCXByb3BzOiBQaWVDaGFydEdyYXBoUHJvcHM8VERhdGE+ICYgeyByZWY/OiBSZWFjdC5SZWY8SFRNTERpdkVsZW1lbnQ+IH0sCikgPT4gUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbDsKCmV4cG9ydCBjb25zdCBQaWVDaGFydEdyYXBoID0gUGllQ2hhcnRHcmFwaEJhc2UgYXMgUGllQ2hhcnRHcmFwaENvbXBvbmVudDsKCmV4cG9ydCB0eXBlIFBpZUNoYXJ0TGVnZW5kUHJvcHMgPSBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD47CgpleHBvcnQgY29uc3QgUGllQ2hhcnRMZWdlbmQgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglQaWVDaGFydExlZ2VuZFByb3BzCj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCWNvbnN0IHsgc2xpY2VzLCBmb3JtYXRMYWJlbCB9ID0gdXNlUGllQ2hhcnRDb250ZXh0KCk7CgoJaWYgKCFzbGljZXMubGVuZ3RoKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17cmVmfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2ZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMyBweC00IHBiLTQgcHQtMiB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtzbGljZXMubWFwKChzbGljZSkgPT4gKAoJCQkJPGRpdiBrZXk9e3NsaWNlLmlkfSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KCQkJCQk8c3BhbgoJCQkJCQljbGFzc05hbWU9ImlubGluZS1mbGV4IGgtMi41IHctMSBzaHJpbmstMCByb3VuZGVkLVsxcHhdIgoJCQkJCQlzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IHNsaWNlLmNvbG9yIH19CgkJCQkJLz4KCQkJCQk8c3BhbiBjbGFzc05hbWU9InRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIj4KCQkJCQkJe2Zvcm1hdExhYmVsKHNsaWNlKX0KCQkJCQk8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJKSl9CgkJPC9kaXY+CgkpOwp9KTsKUGllQ2hhcnRMZWdlbmQuZGlzcGxheU5hbWUgPSAnUGllQ2hhcnRMZWdlbmQnOwoKZXhwb3J0IGludGVyZmFjZSBQaWVDaGFydERhdGFUYWJsZVByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUGllQ2hhcnREYXRhVGFibGUgPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTERpdkVsZW1lbnQsCglQaWVDaGFydERhdGFUYWJsZVByb3BzCj4oKHsgY2xhc3NOYW1lID0gJycsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQlyZWY9e3JlZn0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdiZy1jYXJkLW11dGVkLzMwIHNwYWNlLXktMiBib3JkZXItdCBib3JkZXItYm9yZGVyLzYwIHAtNCB0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L2Rpdj4KCSk7Cn0pOwpQaWVDaGFydERhdGFUYWJsZS5kaXNwbGF5TmFtZSA9ICdQaWVDaGFydERhdGFUYWJsZSc7CgpleHBvcnQgaW50ZXJmYWNlIFBpZUNoYXJ0RGF0YVRhYmxlQ29udGVudFByb3BzPAoJVERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bSwKPiB7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglyb3dDbGFzc05hbWU/OiBzdHJpbmc7CglsYWJlbENsYXNzTmFtZT86IHN0cmluZzsKCXZhbHVlQ2xhc3NOYW1lPzogc3RyaW5nOwoJcGVyY2VudGFnZUNsYXNzTmFtZT86IHN0cmluZzsKCXNob3dQZXJjZW50YWdlcz86IGJvb2xlYW47CglzaG93VG90YWxSb3c/OiBib29sZWFuOwoJdG90YWxMYWJlbD86IFJlYWN0LlJlYWN0Tm9kZTsKCXRvdGFsRm9ybWF0dGVyPzogKHRvdGFsOiBudW1iZXIpID0+IFJlYWN0LlJlYWN0Tm9kZTsKCXBlcmNlbnRhZ2VGb3JtYXR0ZXI/OiAoCgkJcGVyY2VudGFnZTogbnVtYmVyLAoJCXNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPiwKCSkgPT4gUmVhY3QuUmVhY3ROb2RlOwp9CgpleHBvcnQgZnVuY3Rpb24gUGllQ2hhcnREYXRhVGFibGVDb250ZW50PAoJVERhdGEgZXh0ZW5kcyBDaGFydERhdHVtID0gQ2hhcnREYXR1bSwKPih7CgljbGFzc05hbWUgPSAnJywKCXJvd0NsYXNzTmFtZSwKCWxhYmVsQ2xhc3NOYW1lLAoJdmFsdWVDbGFzc05hbWUsCglwZXJjZW50YWdlQ2xhc3NOYW1lLAoJc2hvd1BlcmNlbnRhZ2VzID0gdHJ1ZSwKCXNob3dUb3RhbFJvdyA9IHRydWUsCgl0b3RhbExhYmVsID0gJ1RvdGFsJywKCXRvdGFsRm9ybWF0dGVyLAoJcGVyY2VudGFnZUZvcm1hdHRlciwKfTogUGllQ2hhcnREYXRhVGFibGVDb250ZW50UHJvcHM8VERhdGE+KSB7Cgljb25zdCB7IHNsaWNlcywgdG90YWwsIGZvcm1hdExhYmVsLCBmb3JtYXRWYWx1ZSB9ID0KCQl1c2VQaWVDaGFydENvbnRleHQ8VERhdGE+KCk7CgoJaWYgKCFzbGljZXMubGVuZ3RoKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJY29uc3QgYmFzZVJvd0NsYXNzID0gc2hvd1BlcmNlbnRhZ2VzCgkJPyAnZ3JpZCBncmlkLWNvbHMtW21pbm1heCgwLDFmcilfYXV0b19hdXRvXSBpdGVtcy1jZW50ZXIgZ2FwLTMnCgkJOiAnZ3JpZCBncmlkLWNvbHMtW21pbm1heCgwLDFmcilfYXV0b10gaXRlbXMtY2VudGVyIGdhcC0zJzsKCgljb25zdCB0b3RhbFJvd0Jhc2VDbGFzcyA9IHNob3dQZXJjZW50YWdlcwoJCT8gJ2dyaWQgZ3JpZC1jb2xzLVttaW5tYXgoMCwxZnIpX2F1dG9fYXV0b10gaXRlbXMtY2VudGVyIGdhcC0zIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgcHQtMyB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcKCQk6ICdncmlkIGdyaWQtY29scy1bbWlubWF4KDAsMWZyKV9hdXRvXSBpdGVtcy1jZW50ZXIgZ2FwLTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBwdC0zIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJzsKCgljb25zdCByZW5kZXJQZXJjZW50YWdlID0gKHNsaWNlOiBQaWVDaGFydFNsaWNlPFREYXRhPikgPT4gewoJCWlmICghc2hvd1BlcmNlbnRhZ2VzKSByZXR1cm4gbnVsbDsKCgkJY29uc3QgY29udGVudCA9CgkJCXBlcmNlbnRhZ2VGb3JtYXR0ZXI/LihzbGljZS5wZXJjZW50YWdlLCBzbGljZSkgPz8KCQkJYCR7KHNsaWNlLnBlcmNlbnRhZ2UgKiAxMDApLnRvRml4ZWQoMSl9JWA7CgoJCXJldHVybiAoCgkJCTxzcGFuCgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSd0ZXh0LXJpZ2h0IHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQkJCQlwZXJjZW50YWdlQ2xhc3NOYW1lLAoJCQkJKX0KCQkJPgoJCQkJe2NvbnRlbnR9CgkJCTwvc3Bhbj4KCQkpOwoJfTsKCgljb25zdCByZXNvbHZlZFRvdGFsID0gdG90YWxGb3JtYXR0ZXI/Lih0b3RhbCkgPz8gdG90YWwudG9Mb2NhbGVTdHJpbmcoKTsKCglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPXtjbignc3BhY2UteS0yJywgY2xhc3NOYW1lKX0+CgkJCXtzbGljZXMubWFwKChzbGljZSkgPT4gKAoJCQkJPGRpdiBrZXk9e3NsaWNlLmlkfSBjbGFzc05hbWU9e2NuKGJhc2VSb3dDbGFzcywgcm93Q2xhc3NOYW1lKX0+CgkJCQkJPGRpdgoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQkJCQlsYWJlbENsYXNzTmFtZSwKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCTxzcGFuCgkJCQkJCQljbGFzc05hbWU9ImlubGluZS1mbGV4IGgtMi41IHctMSBzaHJpbmstMCByb3VuZGVkLVsxcHhdIgoJCQkJCQkJc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBzbGljZS5jb2xvciB9fQoJCQkJCQkvPgoJCQkJCQk8c3BhbiBjbGFzc05hbWU9InRydW5jYXRlIHRleHQtc20gZm9udC1tZWRpdW0iPgoJCQkJCQkJe2Zvcm1hdExhYmVsKHNsaWNlKX0KCQkJCQkJPC9zcGFuPgoJCQkJCTwvZGl2PgoJCQkJCTxzcGFuCgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkndGV4dC1yaWdodCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCcsCgkJCQkJCQl2YWx1ZUNsYXNzTmFtZSwKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCXtmb3JtYXRWYWx1ZShzbGljZSl9CgkJCQkJPC9zcGFuPgoJCQkJCXtyZW5kZXJQZXJjZW50YWdlKHNsaWNlKX0KCQkJCTwvZGl2PgoJCQkpKX0KCQkJe3Nob3dUb3RhbFJvdyA/ICgKCQkJCTxkaXYgY2xhc3NOYW1lPXtjbih0b3RhbFJvd0Jhc2VDbGFzcywgcm93Q2xhc3NOYW1lKX0+CgkJCQkJPHNwYW4+e3RvdGFsTGFiZWx9PC9zcGFuPgoJCQkJCTxzcGFuIGNsYXNzTmFtZT17Y24oJ3RleHQtcmlnaHQnLCB2YWx1ZUNsYXNzTmFtZSl9PgoJCQkJCQl7cmVzb2x2ZWRUb3RhbH0KCQkJCQk8L3NwYW4+CgkJCQkJe3Nob3dQZXJjZW50YWdlcyA/ICgKCQkJCQkJPHNwYW4KCQkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQkJJ3RleHQtcmlnaHQgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LWZvcmVncm91bmQvNDUnLAoJCQkJCQkJCXBlcmNlbnRhZ2VDbGFzc05hbWUsCgkJCQkJCQkpfQoJCQkJCQk+CgkJCQkJCQkxMDAlCgkJCQkJCTwvc3Bhbj4KCQkJCQkpIDogbnVsbH0KCQkJCTwvZGl2PgoJCQkpIDogbnVsbH0KCQk8L2Rpdj4KCSk7Cn0KCmV4cG9ydCBjb25zdCBQaWVDaGFydCA9IFBpZUNoYXJ0Um9vdDs="
,
  "popover.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmNvbnN0IHBvcG92ZXJUcmlnZ2VyVmFyaWFudHMgPSBjdmEoCgkicmVsYXRpdmUgaW5saW5lLWZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgYm9yZGVyIHNoYWRvdy1zbSBjYXJkLWhpZ2hsaWdodCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3csZmlsdGVyXSBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IHNocmluay0wIFsmX3N2Z106c2hyaW5rLTAgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUiLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6ICdiZy1jYXJkIGhvdmVyOmJnLWNhcmQtbXV0ZWQgYm9yZGVyLWJvcmRlciB0ZXh0LWZvcmVncm91bmQnLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ2gtOCBweC0zIHB5LTEuNSBweC0zIGdhcC0xLjUgaGFzLVs+c3ZnXTpweC0yLjUgdGV4dC1zbScsCgkJCQltZDogJ2gtOSBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIHRleHQtc20nLAoJCQkJbGc6ICdoLTEwIHB4LTYgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTQgdGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBwb3BvdmVyQ29udGVudFZhcmlhbnRzID0gY3ZhKAoJJ3JlbGF0aXZlIHctZml0IHJvdW5kZWQtbGcgYm9yZGVyIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCB0cmFuc2l0aW9uLXNoYWRvdyBmb2N1cy12aXNpYmxlOnJpbmctbm9uZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogYGJnLXBvcG92ZXIgYm9yZGVyLWJvcmRlciB0ZXh0LWZvcmVncm91bmRgLAoJCQl9LAoJCQlzaXplOiB7CgkJCQlzbTogJ3B4LTMgcHktMiB0ZXh0LXNtJywKCQkJCW1kOiAncHgtNCBweS0zIHRleHQtc20nLAoJCQkJbGc6ICdweC02IHB5LTQgdGV4dC1iYXNlJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7Cgpjb25zdCBwb3BvdmVyTW90aW9uID0KCSdkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggdHJhbnNpdGlvbi1bdHJhbnNsYXRlLG9wYWNpdHksc2NhbGVdIG9wYWNpdHktMCBzY2FsZS05NSAtdHJhbnNsYXRlLXktMiBkYXRhLWVudGVyOm9wYWNpdHktMTAwIGRhdGEtZW50ZXI6c2NhbGUtMTAwIGRhdGEtZW50ZXI6dHJhbnNsYXRlLXktMCBkYXRhLWxlYXZlOm9wYWNpdHktMCBkYXRhLWxlYXZlOnNjYWxlLTk1IGRhdGEtbGVhdmU6LXRyYW5zbGF0ZS15LTInOwoKdHlwZSBQb3BvdmVyUGxhY2VtZW50ID0KCXwgJ3RvcCcKCXwgJ3RvcC1zdGFydCcKCXwgJ3RvcC1lbmQnCgl8ICdib3R0b20nCgl8ICdib3R0b20tc3RhcnQnCgl8ICdib3R0b20tZW5kJwoJfCAnbGVmdCcKCXwgJ2xlZnQtc3RhcnQnCgl8ICdsZWZ0LWVuZCcKCXwgJ3JpZ2h0JwoJfCAncmlnaHQtc3RhcnQnCgl8ICdyaWdodC1lbmQnOwoKZXhwb3J0IGludGVyZmFjZSBQb3BvdmVyUHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCW9wZW4/OiBib29sZWFuOwoJcGxhY2VtZW50PzogUG9wb3ZlclBsYWNlbWVudDsKCWRlZmF1bHRPcGVuPzogYm9vbGVhbjsKCW9uT3BlbkNoYW5nZT86IChvcGVuOiBib29sZWFuKSA9PiB2b2lkOwp9CgpleHBvcnQgaW50ZXJmYWNlIFBvcG92ZXJUcmlnZ2VyUHJvcHMKCWV4dGVuZHMgVmFyaWFudFByb3BzPHR5cGVvZiBwb3BvdmVyVHJpZ2dlclZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJYXNDaGlsZD86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgUG9wb3ZlckNvbnRlbnRQcm9wcwoJZXh0ZW5kcyBWYXJpYW50UHJvcHM8dHlwZW9mIHBvcG92ZXJDb250ZW50VmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglwb3J0YWw/OiBib29sZWFuOwoJZml4ZWQ/OiBib29sZWFuOwoJZ3V0dGVyPzogbnVtYmVyOwoJc2hvd0Fycm93PzogYm9vbGVhbjsKfQoKZXhwb3J0IHR5cGUgUG9wb3ZlckhlYWRpbmdQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwKCXR5cGVvZiBBcmlha2l0LlBvcG92ZXJIZWFkaW5nCj47CgpleHBvcnQgdHlwZSBQb3BvdmVyRGVzY3JpcHRpb25Qcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwKCXR5cGVvZiBBcmlha2l0LlBvcG92ZXJEZXNjcmlwdGlvbgo+OwoKdHlwZSBQb3BvdmVySGVhZGluZ0VsZW1lbnQgPSBSZWFjdC5Db21wb25lbnRSZWY8dHlwZW9mIEFyaWFraXQuUG9wb3ZlckhlYWRpbmc+Owp0eXBlIFBvcG92ZXJEZXNjcmlwdGlvbkVsZW1lbnQgPSBSZWFjdC5Db21wb25lbnRSZWY8Cgl0eXBlb2YgQXJpYWtpdC5Qb3BvdmVyRGVzY3JpcHRpb24KPjsKCmNvbnN0IFBvcG92ZXJTdG9yZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PEFyaWFraXQuUG9wb3ZlclN0b3JlIHwgbnVsbD4oCgludWxsLAopOwoKZXhwb3J0IGNvbnN0IFBvcG92ZXI6IFJlYWN0LkZDPFBvcG92ZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCglvcGVuLAoJZGVmYXVsdE9wZW4gPSBmYWxzZSwKCW9uT3BlbkNoYW5nZSwKCXBsYWNlbWVudCwKfSkgPT4gewoJY29uc3Qgc3RvcmUgPSBBcmlha2l0LnVzZVBvcG92ZXJTdG9yZSh7CgkJLi4uKHBsYWNlbWVudCA/IHsgcGxhY2VtZW50IH0gOiB7fSksCgkJLi4uKG9wZW4gIT09IHVuZGVmaW5lZAoJCQk/IG9uT3BlbkNoYW5nZQoJCQkJPyB7IG9wZW4sIHNldE9wZW46IG9uT3BlbkNoYW5nZSB9CgkJCQk6IHsgb3BlbiB9CgkJCTogeyBkZWZhdWx0T3BlbiB9KSwKCX0pOwoKCXJldHVybiAoCgkJPFBvcG92ZXJTdG9yZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3N0b3JlfT4KCQkJPEFyaWFraXQuUG9wb3ZlclByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+CgkJCQk8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUiPntjaGlsZHJlbn08L2Rpdj4KCQkJPC9Bcmlha2l0LlBvcG92ZXJQcm92aWRlcj4KCQk8L1BvcG92ZXJTdG9yZUNvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFBvcG92ZXJUcmlnZ2VyOiBSZWFjdC5GQzxQb3BvdmVyVHJpZ2dlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWFzQ2hpbGQgPSBmYWxzZSwKCWNsYXNzTmFtZSA9ICcnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IFJlYWN0LnVzZUNvbnRleHQoUG9wb3ZlclN0b3JlQ29udGV4dCk7CglpZiAoIXN0b3JlKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXJUcmlnZ2VyIG11c3QgYmUgdXNlZCB3aXRoaW4gPFBvcG92ZXI+Jyk7CgoJaWYgKGFzQ2hpbGQgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7CgkJY29uc3QgY2hpbGQgPSBjaGlsZHJlbiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8eyBjbGFzc05hbWU/OiBzdHJpbmcgfT47CgkJY29uc3QgbWVyZ2VkID0gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCB7CgkJCWNsYXNzTmFtZTogY24oCgkJCQljaGlsZC5wcm9wcy5jbGFzc05hbWUsCgkJCQlwb3BvdmVyVHJpZ2dlclZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwKCQkJCSdmb250LW1lZGl1bScsCgkJCQljbGFzc05hbWUsCgkJCSksCgkJfSk7CgoJCXJldHVybiA8QXJpYWtpdC5Qb3BvdmVyRGlzY2xvc3VyZSByZW5kZXI9e21lcmdlZH0gLz47Cgl9CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5Qb3BvdmVyRGlzY2xvc3VyZQoJCQljbGFzc05hbWU9e2NuKAoJCQkJcG9wb3ZlclRyaWdnZXJWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksCgkJCQknZm9udC1tZWRpdW0nLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5Qb3BvdmVyRGlzY2xvc3VyZT4KCSk7Cn07CgpleHBvcnQgY29uc3QgUG9wb3ZlckNvbnRlbnQ6IFJlYWN0LkZDPFBvcG92ZXJDb250ZW50UHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgl2YXJpYW50ID0gJ2RlZmF1bHQnLAoJc2l6ZSA9ICdtZCcsCglwb3J0YWwgPSB0cnVlLAoJZml4ZWQgPSBmYWxzZSwKCWd1dHRlciA9IDAsCglzaG93QXJyb3cgPSB0cnVlLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IFJlYWN0LnVzZUNvbnRleHQoUG9wb3ZlclN0b3JlQ29udGV4dCk7CglpZiAoIXN0b3JlKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXJDb250ZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gPFBvcG92ZXI+Jyk7Cgljb25zdCBjdXJyZW50UGxhY2VtZW50ID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAnY3VycmVudFBsYWNlbWVudCcpOwoJY29uc3Qgc2hvdWxkVGludEFycm93ID0gY3VycmVudFBsYWNlbWVudD8uc3RhcnRzV2l0aCgnYm90dG9tJyk7Cgljb25zdCBhcnJvd1N0eWxlID0gc2hvdWxkVGludEFycm93CgkJPyB7IHN0cm9rZTogJ3ZhcigtLWFycm93LWhpZ2hsaWdodCknIH0KCQk6IHVuZGVmaW5lZDsKCglyZXR1cm4gKAoJCTxBcmlha2l0LlBvcG92ZXIKCQkJcG9ydGFsPXtwb3J0YWx9CgkJCWZpeGVkPXtmaXhlZH0KCQkJZ3V0dGVyPXtndXR0ZXJ9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQlwb3BvdmVyQ29udGVudFZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwKCQkJCXBvcG92ZXJNb3Rpb24sCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJPgoJCQl7c2hvd0Fycm93ID8gPEFyaWFraXQuUG9wb3ZlckFycm93IHN0eWxlPXthcnJvd1N0eWxlfSAvPiA6IG51bGx9CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuUG9wb3Zlcj4KCSk7Cn07CgpleHBvcnQgY29uc3QgUG9wb3ZlckhlYWRpbmcgPSBSZWFjdC5mb3J3YXJkUmVmPAoJUG9wb3ZlckhlYWRpbmdFbGVtZW50LAoJUG9wb3ZlckhlYWRpbmdQcm9wcwo+KCh7IGNsYXNzTmFtZSA9ICcnLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKCTxBcmlha2l0LlBvcG92ZXJIZWFkaW5nCgkJcmVmPXtyZWZ9CgkJY2xhc3NOYW1lPXtjbigKCQkJJ3RleHQtc20gbGVhZGluZy1ub25lIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCcsCgkJCWNsYXNzTmFtZSwKCQkpfQoJCXsuLi5wcm9wc30KCS8+CikpOwoKUG9wb3ZlckhlYWRpbmcuZGlzcGxheU5hbWUgPSAnUG9wb3ZlckhlYWRpbmcnOwoKZXhwb3J0IGNvbnN0IFBvcG92ZXJEZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8CglQb3BvdmVyRGVzY3JpcHRpb25FbGVtZW50LAoJUG9wb3ZlckRlc2NyaXB0aW9uUHJvcHMKPigoeyBjbGFzc05hbWUgPSAnJywgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCgk8QXJpYWtpdC5Qb3BvdmVyRGVzY3JpcHRpb24KCQlyZWY9e3JlZn0KCQljbGFzc05hbWU9e2NuKCd0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNzAnLCBjbGFzc05hbWUpfQoJCXsuLi5wcm9wc30KCS8+CikpOwoKUG9wb3ZlckRlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gJ1BvcG92ZXJEZXNjcmlwdGlvbic7"
,
  "progress.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBwcm9ncmVzc1ZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSB3LWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtZnVsbCcsCgkJJ2JnLWNhcmQtbXV0ZWQgc2hhZG93LWlubmVyJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ1smPmRpdl06YmctZm9yZWdyb3VuZCBkYXJrOlsmPmRpdl06YmctZm9yZWdyb3VuZC80NScsCgkJCQlzdWNjZXNzOiAnWyY+ZGl2XTpiZy1zdWNjZXNzLzgwIGRhcms6WyY+ZGl2XTpiZy1zdWNjZXNzLzQwJywKCQkJCXdhcm5pbmc6ICdbJj5kaXZdOmJnLXdhcm5pbmcvODAgZGFyazpbJj5kaXZdOmJnLXdhcm5pbmcvNDAnLAoJCQkJZGVzdHJ1Y3RpdmU6ICdbJj5kaXZdOmJnLWRlc3RydWN0aXZlLzgwIGRhcms6WyY+ZGl2XTpiZy1kZXN0cnVjdGl2ZS80MCcsCgkJCX0sCgkJCXNpemU6IHsKCQkJCW1kOiAnaC0xJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIFByb2dyZXNzUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgcHJvZ3Jlc3NWYXJpYW50cz4gewoJdmFsdWU/OiBudW1iZXI7CgltYXg/OiBudW1iZXI7CglzaG93TGFiZWw/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJJ2FyaWEtbGFiZWwnPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUHJvZ3Jlc3M6IFJlYWN0LkZDPFByb2dyZXNzUHJvcHM+ID0gKHsKCXZhbHVlID0gMCwKCW1heCA9IDEwMCwKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglzaXplID0gJ21kJywKCXNob3dMYWJlbCA9IGZhbHNlLAoJY2xhc3NOYW1lID0gJycsCgknYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLm1pbihNYXRoLm1heCgodmFsdWUgLyBtYXgpICogMTAwLCAwKSwgMTAwKTsKCglyZXR1cm4gKAoJCTxkaXYgY2xhc3NOYW1lPSJ3LWZ1bGwiPgoJCQl7c2hvd0xhYmVsICYmICgKCQkJCTxkaXYgY2xhc3NOYW1lPSJtYi0yIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiI+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCI+CgkJCQkJCXthcmlhTGFiZWwgfHwgJ1Byb2dyZXNzJ30KCQkJCQk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJtbC0yIHRleHQtc20gdGV4dC1mb3JlZ3JvdW5kLzQ1Ij4KCQkJCQkJe01hdGgucm91bmQocGVyY2VudGFnZSl9JQoJCQkJCTwvc3Bhbj4KCQkJCTwvZGl2PgoJCQkpfQoKCQkJPGRpdgoJCQkJY2xhc3NOYW1lPXtjbihwcm9ncmVzc1ZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJCXJvbGU9InByb2dyZXNzYmFyIgoJCQkJYXJpYS12YWx1ZW1pbj17MH0KCQkJCWFyaWEtdmFsdWVtYXg9e21heH0KCQkJCWFyaWEtdmFsdWVub3c9e3ZhbHVlfQoJCQkJYXJpYS1sYWJlbD17YXJpYUxhYmVsIHx8ICdQcm9ncmVzcyd9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCTxkaXYKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkncHJvZ3Jlc3MtZmlsbCBoLWZ1bGwgdHJhbnNpdGlvbi1bd2lkdGhdIGR1cmF0aW9uLTUwMCBlYXNlLXNtb290aCcsCgkJCQkJKX0KCQkJCQlzdHlsZT17eyB3aWR0aDogYCR7cGVyY2VudGFnZX0lYCB9fQoJCQkJLz4KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "radio-group.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBpbmRpY2F0b3JWYXJpYW50cyA9IGN2YSgKCSdyZWxhdGl2ZSBmbGV4IGgtMy41IHctMy41IHNocmluay0wIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1ib3JkZXIgc2hhZG93LXNtIGNhcmQtaGlnaGxpZ2h0JywKCXsKCQl2YXJpYW50czogewoJCQljaGVja2VkOiB7CgkJCQl0cnVlOiAnYm9yZGVyLWZvcmVncm91bmQnLAoJCQkJZmFsc2U6ICcnLAoJCQl9LAoJCQlkaXNhYmxlZDogewoJCQkJdHJ1ZTogJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQljaGVja2VkOiBmYWxzZSwKCQkJZGlzYWJsZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBSYWRpb0dyb3VwUHJvcHMKCWV4dGVuZHMgT21pdDwKCQlSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFyaWFraXQuUmFkaW9Hcm91cD4sCgkJJ3N0b3JlJwoJPiB7Cgl2YWx1ZT86IHN0cmluZzsKCWRlZmF1bHRWYWx1ZT86IHN0cmluZzsKCW9uVmFsdWVDaGFuZ2U/OiAodmFsdWU6IHN0cmluZyB8IG51bWJlciB8IG51bGwpID0+IHZvaWQ7CglkaXNhYmxlZD86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBSYWRpb0dyb3VwOiBSZWFjdC5GQzxSYWRpb0dyb3VwUHJvcHM+ID0gKHsKCXZhbHVlLAoJZGVmYXVsdFZhbHVlLAoJb25WYWx1ZUNoYW5nZSwKCWRpc2FibGVkID0gZmFsc2UsCgljbGFzc05hbWUsCgljaGlsZHJlbiwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHN0b3JlUHJvcHM6IFBhcmFtZXRlcnM8dHlwZW9mIEFyaWFraXQudXNlUmFkaW9TdG9yZT5bMF0gPSB7fTsKCWlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7CgkJc3RvcmVQcm9wcy52YWx1ZSA9IHZhbHVlOwoJCWlmIChvblZhbHVlQ2hhbmdlKSB7CgkJCXN0b3JlUHJvcHMuc2V0VmFsdWUgPSBvblZhbHVlQ2hhbmdlOwoJCX0KCX0gZWxzZSBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHsKCQlzdG9yZVByb3BzLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTsKCX0KCgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlUmFkaW9TdG9yZShzdG9yZVByb3BzKTsKCWNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gKHsgc3RvcmUsIGRpc2FibGVkIH0pLAoJCVtzdG9yZSwgZGlzYWJsZWRdLAoJKTsKCglyZXR1cm4gKAoJCTxSYWRpb0dyb3VwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT4KCQkJPEFyaWFraXQuUmFkaW9Qcm92aWRlciBzdG9yZT17c3RvcmV9PgoJCQkJPEFyaWFraXQuUmFkaW9Hcm91cAoJCQkJCXN0b3JlPXtzdG9yZX0KCQkJCQlhcmlhLWRpc2FibGVkPXtkaXNhYmxlZCB8fCB1bmRlZmluZWR9CgkJCQkJZGF0YS1kaXNhYmxlZD17ZGlzYWJsZWQgPyAnJyA6IHVuZGVmaW5lZH0KCQkJCQljbGFzc05hbWU9e2NuKCdmbGV4IGZsZXgtY29sIGdhcC0yJywgY2xhc3NOYW1lKX0KCQkJCQl7Li4ucHJvcHN9CgkJCQk+CgkJCQkJe2NoaWxkcmVufQoJCQkJPC9Bcmlha2l0LlJhZGlvR3JvdXA+CgkJCTwvQXJpYWtpdC5SYWRpb1Byb3ZpZGVyPgoJCTwvUmFkaW9Hcm91cENvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKaW50ZXJmYWNlIFJhZGlvR3JvdXBDb250ZXh0VmFsdWUgewoJc3RvcmU6IFJldHVyblR5cGU8dHlwZW9mIEFyaWFraXQudXNlUmFkaW9TdG9yZT47CglkaXNhYmxlZDogYm9vbGVhbjsKfQoKY29uc3QgUmFkaW9Hcm91cENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFJhZGlvR3JvdXBDb250ZXh0VmFsdWUgfCBudWxsPigKCW51bGwsCik7Cgpjb25zdCB1c2VSYWRpb0dyb3VwQ29udGV4dCA9ICgpID0+IHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KFJhZGlvR3JvdXBDb250ZXh0KTsKCWlmICghY29udGV4dCkKCQl0aHJvdyBuZXcgRXJyb3IoJ1JhZGlvR3JvdXBJdGVtIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBSYWRpb0dyb3VwJyk7CglyZXR1cm4gY29udGV4dDsKfTsKCmNvbnN0IGRvdFZhcmlhbnRzID0gY3ZhKAoJJ3JvdW5kZWQtZnVsbCBiZy1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tW3NjYWxlLG9wYWNpdHldIGR1cmF0aW9uLTEwMCBlYXNlLW91dC1xdWFkJywKCXsKCQl2YXJpYW50czogewoJCQljaGVja2VkOiB7CgkJCQl0cnVlOiAnc2NhbGUtMTAwIG9wYWNpdHktMTAwJywKCQkJCWZhbHNlOiAnc2NhbGUtMCBvcGFjaXR5LTAnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCWNoZWNrZWQ6IGZhbHNlLAoJCX0sCgl9LAopOwoKZXhwb3J0IGludGVyZmFjZSBSYWRpb0dyb3VwSXRlbVByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBBcmlha2l0LlJhZGlvPiwgJ3N0b3JlJz4gewoJbGFiZWw6IFJlYWN0LlJlYWN0Tm9kZTsKCWRlc2NyaXB0aW9uPzogUmVhY3QuUmVhY3ROb2RlOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUmFkaW9Hcm91cEl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPAoJSFRNTExhYmVsRWxlbWVudCwKCVJhZGlvR3JvdXBJdGVtUHJvcHMKPigoeyB2YWx1ZSwgbGFiZWwsIGRlc2NyaXB0aW9uLCBkaXNhYmxlZCwgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCWNvbnN0IHsgc3RvcmUsIGRpc2FibGVkOiBjb250ZXh0RGlzYWJsZWQgfSA9IHVzZVJhZGlvR3JvdXBDb250ZXh0KCk7Cgljb25zdCBpc0Rpc2FibGVkID0gZGlzYWJsZWQgPz8gY29udGV4dERpc2FibGVkOwoJY29uc3QgY3VycmVudFZhbHVlID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAndmFsdWUnKTsKCWNvbnN0IGlzQ2hlY2tlZCA9IGN1cnJlbnRWYWx1ZSA9PT0gdmFsdWU7Cgljb25zdCBpZCA9IFJlYWN0LnVzZUlkKCk7Cgljb25zdCBbZm9jdXNWaXNpYmxlLCBzZXRGb2N1c1Zpc2libGVdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwoKCXJldHVybiAoCgkJPGxhYmVsCgkJCXJlZj17cmVmfQoJCQlodG1sRm9yPXtpZH0KCQkJZGF0YS1mb2N1cy12aXNpYmxlPXtmb2N1c1Zpc2libGUgPyAnJyA6IHVuZGVmaW5lZH0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdncm91cCByZWxhdGl2ZSBmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yIGN1cnNvci1wb2ludGVyIHNlbGVjdC1ub25lIHJvdW5kZWQtbWQnLAoJCQkJJ2RhdGEtZm9jdXMtdmlzaWJsZTpyaW5nLTEgZGF0YS1mb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBkYXRhLWZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBkYXRhLWZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAnLAoJCQkJJ3RyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTEwMCBlYXNlLW91dC1xdWFkJywKCQkJCWlzRGlzYWJsZWQgJiYgJ2N1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQk+CgkJCTxBcmlha2l0LlJhZGlvCgkJCQlpZD17aWR9CgkJCQlzdG9yZT17c3RvcmV9CgkJCQl2YWx1ZT17dmFsdWV9CgkJCQlkaXNhYmxlZD17aXNEaXNhYmxlZH0KCQkJCWNsYXNzTmFtZT0ic3Itb25seSIKCQkJCW9uRm9jdXNWaXNpYmxlPXsoKSA9PiBzZXRGb2N1c1Zpc2libGUodHJ1ZSl9CgkJCQlvbkJsdXI9eygpID0+IHNldEZvY3VzVmlzaWJsZShmYWxzZSl9CgkJCQl7Li4ucHJvcHN9CgkJCS8+CgoJCQk8c3BhbgoJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCWluZGljYXRvclZhcmlhbnRzKHsKCQkJCQkJY2hlY2tlZDogaXNDaGVja2VkLAoJCQkJCQlkaXNhYmxlZDogaXNEaXNhYmxlZCwKCQkJCQl9KSwKCQkJCQknbXQtMC41JywKCQkJCSl9CgkJCT4KCQkJCTxzcGFuCgkJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQkJY2xhc3NOYW1lPXtjbihkb3RWYXJpYW50cyh7IGNoZWNrZWQ6IGlzQ2hlY2tlZCB9KSwgJ2gtMiB3LTInKX0KCQkJCS8+CgkJCTwvc3Bhbj4KCgkJCTxzcGFuIGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCI+CgkJCQk8c3BhbiBjbGFzc05hbWU9InRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIGxlYWRpbmctdGlnaHQiPgoJCQkJCXtsYWJlbH0KCQkJCTwvc3Bhbj4KCQkJCXtkZXNjcmlwdGlvbiAmJiAoCgkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtZm9yZWdyb3VuZC83MCBsZWFkaW5nLXNudWcgbXQtMC41Ij4KCQkJCQkJe2Rlc2NyaXB0aW9ufQoJCQkJCTwvc3Bhbj4KCQkJCSl9CgkJCTwvc3Bhbj4KCQk8L2xhYmVsPgoJKTsKfSk7CgpSYWRpb0dyb3VwSXRlbS5kaXNwbGF5TmFtZSA9ICdSYWRpb0dyb3VwSXRlbSc7"
,
  "scroll-area.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgp0eXBlIFNjcm9sbEFyZWFUeXBlID0gJ2hvdmVyJyB8ICdzY3JvbGwnIHwgJ2Fsd2F5cyc7CnR5cGUgU2Nyb2xsQXhpcyA9ICd2ZXJ0aWNhbCcgfCAnaG9yaXpvbnRhbCc7CnR5cGUgU2Nyb2xsRGlyZWN0aW9uID0gU2Nyb2xsQXhpcyB8ICdib3RoJzsKCmludGVyZmFjZSBTY3JvbGxNZXRyaWNzIHsKCXNpemU6IG51bWJlcjsKCXByb2dyZXNzOiBudW1iZXI7CglzY3JvbGxhYmxlOiBib29sZWFuOwp9CgppbnRlcmZhY2UgU2Nyb2xsQXJlYUNvbnRleHRWYWx1ZSB7CglzY3JvbGxBcmVhUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQgfCBudWxsPjsKCXZpZXdwb3J0UmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQgfCBudWxsPjsKCXR5cGU6IFNjcm9sbEFyZWFUeXBlOwoJc2Nyb2xsSGlkZURlbGF5OiBudW1iZXI7CglzY3JvbGxiYXJUaHVtYkNsYXNzTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkOwp9Cgpjb25zdCBTY3JvbGxBcmVhQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8U2Nyb2xsQXJlYUNvbnRleHRWYWx1ZSB8IG51bGw+KAoJbnVsbCwKKTsKCmNvbnN0IHNjcm9sbEFyZWFCYXNlQ2xhc3MgPSAnZ3JvdXAvc2Nyb2xsLWFyZWEgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuJzsKCmNvbnN0IHNjcm9sbFZpZXdwb3J0QmFzZUNsYXNzID0KCSdyZWxhdGl2ZSBzaXplLWZ1bGwgb3ZlcmZsb3ctYXV0byBbc2Nyb2xsYmFyLXdpZHRoOm5vbmVdIFstbXMtb3ZlcmZsb3ctc3R5bGU6bm9uZV0gWyY6Oi13ZWJraXQtc2Nyb2xsYmFyXTpoaWRkZW4nOwoKY29uc3Qgc2Nyb2xsQmFyVmFyaWFudHMgPSBjdmEoCgkncG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSB6LTIwIHNlbGVjdC1ub25lIHJvdW5kZWQtZnVsbCBiZy10cmFuc3BhcmVudCBvcGFjaXR5LTAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBvdmVyZmxvdy1oaWRkZW4nLAoJewoJCXZhcmlhbnRzOiB7CgkJCW9yaWVudGF0aW9uOiB7CgkJCQl2ZXJ0aWNhbDogJ3JpZ2h0LTEgdG9wLTEgYm90dG9tLTEnLAoJCQkJaG9yaXpvbnRhbDogJ2xlZnQtMSByaWdodC0xIGJvdHRvbS0xJywKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICcnLAoJCQkJbWQ6ICcnLAoJCQkJbGc6ICcnLAoJCQl9LAoJCX0sCgkJY29tcG91bmRWYXJpYW50czogWwoJCQl7IG9yaWVudGF0aW9uOiAndmVydGljYWwnLCBzaXplOiAnc20nLCBjbGFzczogJ3ctMScgfSwKCQkJeyBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywgc2l6ZTogJ21kJywgY2xhc3M6ICd3LTEuNScgfSwKCQkJeyBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywgc2l6ZTogJ2xnJywgY2xhc3M6ICd3LTInIH0sCgkJCXsgb3JpZW50YXRpb246ICdob3Jpem9udGFsJywgc2l6ZTogJ3NtJywgY2xhc3M6ICdoLTEnIH0sCgkJCXsgb3JpZW50YXRpb246ICdob3Jpem9udGFsJywgc2l6ZTogJ21kJywgY2xhc3M6ICdoLTEuNScgfSwKCQkJeyBvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLCBzaXplOiAnbGcnLCBjbGFzczogJ2gtMicgfSwKCQldLAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IE1JTl9USFVNQl9SQVRJTyA9IDAuMDg7CmNvbnN0IENPUk5FUl9HQVAgPSA4OwoKZnVuY3Rpb24gdXNlU2Nyb2xsQXJlYUNvbnRleHQoY29tcG9uZW50OiBzdHJpbmcpIHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KFNjcm9sbEFyZWFDb250ZXh0KTsKCWlmICghY29udGV4dCkgewoJCXRocm93IG5ldyBFcnJvcihgJHtjb21wb25lbnR9IG11c3QgYmUgdXNlZCB3aXRoaW4gPFNjcm9sbEFyZWE+YCk7Cgl9CglyZXR1cm4gY29udGV4dDsKfQoKZnVuY3Rpb24gY2FsY3VsYXRlQXhpc01ldHJpY3MoCgl0b3RhbDogbnVtYmVyLAoJdmlld3BvcnQ6IG51bWJlciwKCW9mZnNldDogbnVtYmVyLAopOiBTY3JvbGxNZXRyaWNzIHsKCWlmICh0b3RhbCA8PSB2aWV3cG9ydCB8fCB0b3RhbCA9PT0gMCkgewoJCXJldHVybiB7IHNpemU6IDEsIHByb2dyZXNzOiAwLCBzY3JvbGxhYmxlOiBmYWxzZSB9OwoJfQoKCWNvbnN0IHNpemUgPSBNYXRoLm1pbihNYXRoLm1heCh2aWV3cG9ydCAvIHRvdGFsLCAwKSwgMSk7Cgljb25zdCBtYXhTY3JvbGwgPSB0b3RhbCAtIHZpZXdwb3J0OwoJY29uc3QgcHJvZ3Jlc3MgPQoJCW1heFNjcm9sbCA+IDAgPyBNYXRoLm1pbihNYXRoLm1heChvZmZzZXQgLyBtYXhTY3JvbGwsIDApLCAxKSA6IDA7CgoJcmV0dXJuIHsKCQlzaXplLAoJCXByb2dyZXNzLAoJCXNjcm9sbGFibGU6IHRydWUsCgl9Owp9CgpmdW5jdGlvbiBjb21wb3NlUmVmczxUPigKCS4uLnJlZnM6IEFycmF5PFJlYWN0LlJlZjxUPiB8IHVuZGVmaW5lZD4KKTogUmVhY3QuUmVmQ2FsbGJhY2s8VD4gewoJcmV0dXJuIChub2RlKSA9PiB7CgkJZm9yIChjb25zdCByZWYgb2YgcmVmcykgewoJCQlpZiAoIXJlZikgY29udGludWU7CgkJCWlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7CgkJCQlyZWYobm9kZSk7CgkJCX0gZWxzZSB7CgkJCQkocmVmIGFzIFJlYWN0LlJlZk9iamVjdDxUIHwgbnVsbD4pLmN1cnJlbnQgPSBub2RlOwoJCQl9CgkJfQoJfTsKfQoKZXhwb3J0IGludGVyZmFjZSBTY3JvbGxBcmVhUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sICdjaGlsZHJlbic+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cgl0eXBlPzogU2Nyb2xsQXJlYVR5cGU7CglkaXJlY3Rpb24/OiBTY3JvbGxEaXJlY3Rpb247CglvblZpZXdwb3J0U2Nyb2xsPzogUmVhY3QuVUlFdmVudEhhbmRsZXI8SFRNTERpdkVsZW1lbnQ+OwoJc2Nyb2xsYmFyU2l6ZT86IFZhcmlhbnRQcm9wczx0eXBlb2Ygc2Nyb2xsQmFyVmFyaWFudHM+WydzaXplJ107Cglob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZT86IFZhcmlhbnRQcm9wczx0eXBlb2Ygc2Nyb2xsQmFyVmFyaWFudHM+WydzaXplJ107CglzY3JvbGxiYXJUaHVtYkNsYXNzTmFtZT86IHN0cmluZzsKCXNjcm9sbEhpZGVEZWxheT86IG51bWJlcjsKfQoKZXhwb3J0IGNvbnN0IFNjcm9sbEFyZWEgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBTY3JvbGxBcmVhUHJvcHM+KAoJKAoJCXsKCQkJY2hpbGRyZW4sCgkJCWNsYXNzTmFtZSwKCQkJdHlwZSA9ICdob3ZlcicsCgkJCWRpcmVjdGlvbiA9ICd2ZXJ0aWNhbCcsCgkJCW9uVmlld3BvcnRTY3JvbGwsCgkJCXNjcm9sbGJhclNpemUgPSAnbWQnLAoJCQlob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZSwKCQkJc2Nyb2xsYmFyVGh1bWJDbGFzc05hbWUsCgkJCXNjcm9sbEhpZGVEZWxheSA9IDYwMCwKCQkJLi4ucHJvcHMKCQl9LAoJCXJlZiwKCSkgPT4gewoJCWNvbnN0IHNjcm9sbEFyZWFSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTsKCQljb25zdCB2aWV3cG9ydFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwoKCQljb25zdCBjb21wb3NlZFJlZiA9IFJlYWN0LnVzZU1lbW8oCgkJCSgpID0+IGNvbXBvc2VSZWZzKHJlZiwgc2Nyb2xsQXJlYVJlZiksCgkJCVtyZWZdLAoJCSk7CgoJCWNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW88U2Nyb2xsQXJlYUNvbnRleHRWYWx1ZT4oCgkJCSgpID0+ICh7CgkJCQlzY3JvbGxBcmVhUmVmLAoJCQkJdmlld3BvcnRSZWYsCgkJCQl0eXBlLAoJCQkJc2Nyb2xsSGlkZURlbGF5LAoJCQkJc2Nyb2xsYmFyVGh1bWJDbGFzc05hbWUsCgkJCX0pLAoJCQlbdHlwZSwgc2Nyb2xsSGlkZURlbGF5LCBzY3JvbGxiYXJUaHVtYkNsYXNzTmFtZV0sCgkJKTsKCgkJY29uc3Qgc2hvd1ZlcnRpY2FsU2Nyb2xsQmFyID0KCQkJZGlyZWN0aW9uID09PSAndmVydGljYWwnIHx8IGRpcmVjdGlvbiA9PT0gJ2JvdGgnOwoJCWNvbnN0IHNob3dIb3Jpem9udGFsU2Nyb2xsQmFyID0KCQkJZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgfHwgZGlyZWN0aW9uID09PSAnYm90aCc7CgkJY29uc3QgcmVzb2x2ZWRIb3Jpem9udGFsU2l6ZSA9IGhvcml6b250YWxTY3JvbGxiYXJTaXplID8/IHNjcm9sbGJhclNpemU7CgoJCXJldHVybiAoCgkJCTxTY3JvbGxBcmVhQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT4KCQkJCTxkaXYKCQkJCQlyZWY9e2NvbXBvc2VkUmVmfQoJCQkJCWNsYXNzTmFtZT17Y24oc2Nyb2xsQXJlYUJhc2VDbGFzcywgY2xhc3NOYW1lKX0KCQkJCQl7Li4ucHJvcHN9CgkJCQk+CgkJCQkJPFNjcm9sbFZpZXdwb3J0IG9uU2Nyb2xsPXtvblZpZXdwb3J0U2Nyb2xsfT4KCQkJCQkJe2NoaWxkcmVufQoJCQkJCTwvU2Nyb2xsVmlld3BvcnQ+CgkJCQkJe3Nob3dWZXJ0aWNhbFNjcm9sbEJhciAmJiAoCgkJCQkJCTxTY3JvbGxCYXIgb3JpZW50YXRpb249InZlcnRpY2FsIiBzaXplPXtzY3JvbGxiYXJTaXplfSAvPgoJCQkJCSl9CgkJCQkJe3Nob3dIb3Jpem9udGFsU2Nyb2xsQmFyICYmICgKCQkJCQkJPFNjcm9sbEJhciBvcmllbnRhdGlvbj0iaG9yaXpvbnRhbCIgc2l6ZT17cmVzb2x2ZWRIb3Jpem9udGFsU2l6ZX0gLz4KCQkJCQkpfQoJCQkJPC9kaXY+CgkJCTwvU2Nyb2xsQXJlYUNvbnRleHQuUHJvdmlkZXI+CgkJKTsKCX0sCik7ClNjcm9sbEFyZWEuZGlzcGxheU5hbWUgPSAnU2Nyb2xsQXJlYSc7CgppbnRlcmZhY2UgU2Nyb2xsVmlld3BvcnRQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7fQoKY29uc3QgU2Nyb2xsVmlld3BvcnQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBTY3JvbGxWaWV3cG9ydFByb3BzPigKCSh7IGNsYXNzTmFtZSwgb25TY3JvbGwsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKCQljb25zdCB7IHZpZXdwb3J0UmVmIH0gPSB1c2VTY3JvbGxBcmVhQ29udGV4dCgnU2Nyb2xsVmlld3BvcnQnKTsKCgkJY29uc3QgY29tcG9zZWRSZWYgPSBSZWFjdC51c2VNZW1vKAoJCQkoKSA9PiBjb21wb3NlUmVmcyhyZWYsIHZpZXdwb3J0UmVmKSwKCQkJW3JlZiwgdmlld3BvcnRSZWZdLAoJCSk7CgoJCXJldHVybiAoCgkJCTxkaXYKCQkJCXJlZj17Y29tcG9zZWRSZWZ9CgkJCQlvblNjcm9sbD17b25TY3JvbGx9CgkJCQljbGFzc05hbWU9e2NuKHNjcm9sbFZpZXdwb3J0QmFzZUNsYXNzLCBjbGFzc05hbWUpfQoJCQkJey4uLnByb3BzfQoJCQk+CgkJCQl7Y2hpbGRyZW59CgkJCTwvZGl2PgoJCSk7Cgl9LAopOwpTY3JvbGxWaWV3cG9ydC5kaXNwbGF5TmFtZSA9ICdTY3JvbGxWaWV3cG9ydCc7CgpleHBvcnQgaW50ZXJmYWNlIFNjcm9sbEJhclByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHNjcm9sbEJhclZhcmlhbnRzPiB7CglvcmllbnRhdGlvbj86IFNjcm9sbEF4aXM7Cn0KCmNvbnN0IFNjcm9sbEJhciA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIFNjcm9sbEJhclByb3BzPigKCSgKCQl7IGNsYXNzTmFtZSwgb3JpZW50YXRpb24gPSAndmVydGljYWwnLCBzaXplID0gJ21kJywgc3R5bGUsIC4uLnByb3BzIH0sCgkJcmVmLAoJKSA9PiB7CgkJY29uc3QgewoJCQl2aWV3cG9ydFJlZiwKCQkJc2Nyb2xsQXJlYVJlZiwKCQkJdHlwZSwKCQkJc2Nyb2xsSGlkZURlbGF5LAoJCQlzY3JvbGxiYXJUaHVtYkNsYXNzTmFtZSwKCQl9ID0gdXNlU2Nyb2xsQXJlYUNvbnRleHQoJ1Njcm9sbEJhcicpOwoKCQljb25zdCBzY3JvbGxiYXJSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTsKCQljb25zdCB0aHVtYlJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MU3BhbkVsZW1lbnQgfCBudWxsPihudWxsKTsKCQljb25zdCBpc1Njcm9sbGFibGVSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpOwoKCQljb25zdCBjb21wb3NlZFJlZiA9IFJlYWN0LnVzZU1lbW8oCgkJCSgpID0+IGNvbXBvc2VSZWZzKHJlZiwgc2Nyb2xsYmFyUmVmKSwKCQkJW3JlZl0sCgkJKTsKCgkJY29uc3QgdXBkYXRlVGh1bWJQb3NpdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQkJY29uc3Qgdmlld3BvcnQgPSB2aWV3cG9ydFJlZi5jdXJyZW50OwoJCQljb25zdCB0aHVtYiA9IHRodW1iUmVmLmN1cnJlbnQ7CgkJCWNvbnN0IHNjcm9sbGJhciA9IHNjcm9sbGJhclJlZi5jdXJyZW50OwoJCQlpZiAoIXZpZXdwb3J0IHx8ICF0aHVtYiB8fCAhc2Nyb2xsYmFyKSByZXR1cm47CgoJCQljb25zdCBtZXRyaWNzID0gY2FsY3VsYXRlQXhpc01ldHJpY3MoCgkJCQlvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJwoJCQkJCT8gdmlld3BvcnQuc2Nyb2xsSGVpZ2h0CgkJCQkJOiB2aWV3cG9ydC5zY3JvbGxXaWR0aCwKCQkJCW9yaWVudGF0aW9uID09PSAndmVydGljYWwnCgkJCQkJPyB2aWV3cG9ydC5jbGllbnRIZWlnaHQKCQkJCQk6IHZpZXdwb3J0LmNsaWVudFdpZHRoLAoJCQkJb3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgPyB2aWV3cG9ydC5zY3JvbGxUb3AgOiB2aWV3cG9ydC5zY3JvbGxMZWZ0LAoJCQkpOwoKCQkJY29uc3Qgd2FzU2Nyb2xsYWJsZSA9IGlzU2Nyb2xsYWJsZVJlZi5jdXJyZW50OwoJCQlpc1Njcm9sbGFibGVSZWYuY3VycmVudCA9IG1ldHJpY3Muc2Nyb2xsYWJsZTsKCgkJCWlmIChtZXRyaWNzLnNjcm9sbGFibGUgJiYgIXdhc1Njcm9sbGFibGUpIHsKCQkJCXNjcm9sbGJhci5zdHlsZS5kaXNwbGF5ID0gJyc7CgkJCX0gZWxzZSBpZiAoIW1ldHJpY3Muc2Nyb2xsYWJsZSAmJiB3YXNTY3JvbGxhYmxlKSB7CgkJCQlzY3JvbGxiYXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCQkJfQoKCQkJaWYgKG1ldHJpY3Muc2Nyb2xsYWJsZSkgewoJCQkJY29uc3QgdGh1bWJGcmFjdGlvbiA9IE1hdGgubWF4KG1ldHJpY3Muc2l6ZSwgTUlOX1RIVU1CX1JBVElPKTsKCQkJCWNvbnN0IHRodW1iU2l6ZVBlcmNlbnQgPSB0aHVtYkZyYWN0aW9uICogMTAwOwoJCQkJY29uc3QgbWF4T2Zmc2V0ID0gTWF0aC5tYXgoMCwgMTAwIC0gdGh1bWJTaXplUGVyY2VudCk7CgkJCQljb25zdCBvZmZzZXRQZXJjZW50ID0gbWV0cmljcy5wcm9ncmVzcyAqIG1heE9mZnNldDsKCgkJCQlpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHsKCQkJCQl0aHVtYi5zdHlsZS5oZWlnaHQgPSBgJHt0aHVtYlNpemVQZXJjZW50fSVgOwoJCQkJCXRodW1iLnN0eWxlLnRvcCA9IGAke29mZnNldFBlcmNlbnR9JWA7CgkJCQl9IGVsc2UgewoJCQkJCXRodW1iLnN0eWxlLndpZHRoID0gYCR7dGh1bWJTaXplUGVyY2VudH0lYDsKCQkJCQl0aHVtYi5zdHlsZS5sZWZ0ID0gYCR7b2Zmc2V0UGVyY2VudH0lYDsKCQkJCX0KCQkJfQoJCX0sIFtvcmllbnRhdGlvbiwgdmlld3BvcnRSZWZdKTsKCgkJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQkJY29uc3Qgc2Nyb2xsYmFyID0gc2Nyb2xsYmFyUmVmLmN1cnJlbnQ7CgkJCWlmICghc2Nyb2xsYmFyKSByZXR1cm47CgoJCQlpZiAodHlwZSA9PT0gJ2Fsd2F5cycpIHsKCQkJCXNjcm9sbGJhci5zdHlsZS5vcGFjaXR5ID0gJzEnOwoJCQl9CgkJfSwgW3R5cGVdKTsKCgkJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQkJaWYgKHR5cGUgIT09ICdob3ZlcicpIHJldHVybjsKCgkJCWNvbnN0IHNjcm9sbEFyZWEgPSBzY3JvbGxBcmVhUmVmLmN1cnJlbnQ7CgkJCWNvbnN0IHNjcm9sbGJhciA9IHNjcm9sbGJhclJlZi5jdXJyZW50OwoJCQlpZiAoIXNjcm9sbEFyZWEgfHwgIXNjcm9sbGJhcikgcmV0dXJuOwoKCQkJbGV0IGhpZGVUaW1lcjogbnVtYmVyIHwgdW5kZWZpbmVkOwoKCQkJY29uc3Qgc2hvdyA9ICgpID0+IHsKCQkJCWlmIChoaWRlVGltZXIgIT09IHVuZGVmaW5lZCkgewoJCQkJCXdpbmRvdy5jbGVhclRpbWVvdXQoaGlkZVRpbWVyKTsKCQkJCX0KCQkJCXNjcm9sbGJhci5zdHlsZS5vcGFjaXR5ID0gJzEnOwoJCQl9OwoKCQkJY29uc3QgaGlkZSA9ICgpID0+IHsKCQkJCWhpZGVUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsKCQkJCQlzY3JvbGxiYXIuc3R5bGUub3BhY2l0eSA9ICcwJzsKCQkJCX0sIHNjcm9sbEhpZGVEZWxheSk7CgkJCX07CgoJCQlzY3JvbGxBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJlbnRlcicsIHNob3cpOwoJCQlzY3JvbGxBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIGhpZGUpOwoKCQkJcmV0dXJuICgpID0+IHsKCQkJCWlmIChoaWRlVGltZXIgIT09IHVuZGVmaW5lZCkgewoJCQkJCXdpbmRvdy5jbGVhclRpbWVvdXQoaGlkZVRpbWVyKTsKCQkJCX0KCQkJCXNjcm9sbEFyZWEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgc2hvdyk7CgkJCQlzY3JvbGxBcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIGhpZGUpOwoJCQl9OwoJCX0sIFt0eXBlLCBzY3JvbGxIaWRlRGVsYXksIHNjcm9sbEFyZWFSZWZdKTsKCgkJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQkJaWYgKHR5cGUgIT09ICdzY3JvbGwnKSByZXR1cm47CgoJCQljb25zdCB2aWV3cG9ydCA9IHZpZXdwb3J0UmVmLmN1cnJlbnQ7CgkJCWNvbnN0IHNjcm9sbGJhciA9IHNjcm9sbGJhclJlZi5jdXJyZW50OwoJCQlpZiAoIXZpZXdwb3J0IHx8ICFzY3JvbGxiYXIpIHJldHVybjsKCgkJCWxldCBoaWRlVGltZXI6IG51bWJlciB8IHVuZGVmaW5lZDsKCgkJCWNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHsKCQkJCXNjcm9sbGJhci5zdHlsZS5vcGFjaXR5ID0gJzEnOwoKCQkJCWlmIChoaWRlVGltZXIgIT09IHVuZGVmaW5lZCkgewoJCQkJCXdpbmRvdy5jbGVhclRpbWVvdXQoaGlkZVRpbWVyKTsKCQkJCX0KCgkJCQloaWRlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CgkJCQkJc2Nyb2xsYmFyLnN0eWxlLm9wYWNpdHkgPSAnMCc7CgkJCQl9LCBzY3JvbGxIaWRlRGVsYXkpOwoKCQkJCXJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVUaHVtYlBvc2l0aW9uKTsKCQkJfTsKCgkJCXZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCwgeyBwYXNzaXZlOiB0cnVlIH0pOwoKCQkJcmV0dXJuICgpID0+IHsKCQkJCWlmIChoaWRlVGltZXIgIT09IHVuZGVmaW5lZCkgewoJCQkJCXdpbmRvdy5jbGVhclRpbWVvdXQoaGlkZVRpbWVyKTsKCQkJCX0KCQkJCXZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7CgkJCX07CgkJfSwgW3R5cGUsIHNjcm9sbEhpZGVEZWxheSwgdmlld3BvcnRSZWYsIHVwZGF0ZVRodW1iUG9zaXRpb25dKTsKCgkJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQkJY29uc3Qgdmlld3BvcnQgPSB2aWV3cG9ydFJlZi5jdXJyZW50OwoJCQlpZiAoIXZpZXdwb3J0KSByZXR1cm47CgoJCQl1cGRhdGVUaHVtYlBvc2l0aW9uKCk7CgoJCQljb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7CgkJCQlyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlVGh1bWJQb3NpdGlvbik7CgkJCX07CgoJCQl2aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwsIHsgcGFzc2l2ZTogdHJ1ZSB9KTsKCgkJCWNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHsKCQkJCXJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVUaHVtYlBvc2l0aW9uKTsKCQkJfSk7CgkJCXJlc2l6ZU9ic2VydmVyLm9ic2VydmUodmlld3BvcnQpOwoKCQkJcmV0dXJuICgpID0+IHsKCQkJCXZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7CgkJCQlyZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7CgkJCX07CgkJfSwgW3ZpZXdwb3J0UmVmLCB1cGRhdGVUaHVtYlBvc2l0aW9uXSk7CgoJCWNvbnN0IHZpZXdwb3J0ID0gdmlld3BvcnRSZWYuY3VycmVudDsKCQljb25zdCBoYXNCb3RoID0KCQkJdmlld3BvcnQgJiYKCQkJdmlld3BvcnQuc2Nyb2xsSGVpZ2h0ID4gdmlld3BvcnQuY2xpZW50SGVpZ2h0ICYmCgkJCXZpZXdwb3J0LnNjcm9sbFdpZHRoID4gdmlld3BvcnQuY2xpZW50V2lkdGg7CgoJCWNvbnN0IHRyYWNrU3R5bGUgPQoJCQloYXNCb3RoICYmIG9yaWVudGF0aW9uID09PSAndmVydGljYWwnCgkJCQk/IHsgYm90dG9tOiBgY2FsYygwLjI1cmVtICsgJHtDT1JORVJfR0FQfXB4KWAgfQoJCQkJOiBoYXNCb3RoICYmIG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcKCQkJCQk/IHsgcmlnaHQ6IGBjYWxjKDAuMjVyZW0gKyAke0NPUk5FUl9HQVB9cHgpYCB9CgkJCQkJOiB1bmRlZmluZWQ7CgoJCXJldHVybiAoCgkJCTxkaXYKCQkJCXJlZj17Y29tcG9zZWRSZWZ9CgkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCWRhdGEtb3JpZW50YXRpb249e29yaWVudGF0aW9ufQoJCQkJY2xhc3NOYW1lPXtjbihzY3JvbGxCYXJWYXJpYW50cyh7IG9yaWVudGF0aW9uLCBzaXplIH0pLCBjbGFzc05hbWUpfQoJCQkJc3R5bGU9e3sKCQkJCQlkaXNwbGF5OiAnbm9uZScsCgkJCQkJLi4uKHRyYWNrU3R5bGUgPyB0cmFja1N0eWxlIDoge30pLAoJCQkJCS4uLnN0eWxlLAoJCQkJfX0KCQkJCXsuLi5wcm9wc30KCQkJPgoJCQkJPHNwYW4KCQkJCQlyZWY9e3RodW1iUmVmfQoJCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGJsb2NrIHJvdW5kZWQtZnVsbCcsCgkJCQkJCXNjcm9sbGJhclRodW1iQ2xhc3NOYW1lID8/ICdiZy1mb3JlZ3JvdW5kLzQ1JywKCQkJCQkJb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/ICdoLWZ1bGwgdG9wLTAnIDogJ3ctZnVsbCBsZWZ0LTAnLAoJCQkJCSl9CgkJCQkvPgoJCQk8L2Rpdj4KCQkpOwoJfSwKKTsKU2Nyb2xsQmFyLmRpc3BsYXlOYW1lID0gJ1Njcm9sbEJhcic7"
,
  "select.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2xpYi9pY29ucyc7CmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEnOwoKY29uc3Qgc2VsZWN0VHJpZ2dlclZhcmlhbnRzID0gY3ZhKAoJYHJlbGF0aXZlIGZsZXggdy1maXQgY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkLW1kIGJnLWNhcmQgdGV4dC1mb3JlZ3JvdW5kIGJvcmRlciBzaGFkb3ctc20gY2FyZC1oaWdobGlnaHQgcGxhY2Vob2xkZXI6dGV4dC1mb3JlZ3JvdW5kLzQ1IGhvdmVyOmJnLWNhcmQtbXV0ZWQgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixjb2xvcixib3gtc2hhZG93XSBlYXNlLW91dC1xdWFkIGR1cmF0aW9uLTEwMCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MGAsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogYGJvcmRlci1ib3JkZXIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTBgLAoJCQkJZXJyb3I6IGBib3JkZXItZGVzdHJ1Y3RpdmUvNDAgZm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzUwIGRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzUwYCwKCQkJCXN1Y2Nlc3M6IGBib3JkZXItc3VjY2Vzcy80MCBmb2N1cy12aXNpYmxlOnJpbmctc3VjY2Vzcy81MCBkYXJrOmZvY3VzLXZpc2libGU6cmluZy1zdWNjZXNzLzUwYCwKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICdoLTggcHgtMi41IHB5LTEuNSBweC0zIHRleHQtc20nLAoJCQkJbWQ6ICdoLTkgcHgtMyBweS0yIHRleHQtc20nLAoJCQkJbGc6ICdoLTEwIHB4LTQgcHktMiB0ZXh0LWJhc2UnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0UHJvcHMKCWV4dGVuZHMgVmFyaWFudFByb3BzPHR5cGVvZiBzZWxlY3RUcmlnZ2VyVmFyaWFudHM+IHsKCXZhbHVlPzogc3RyaW5nOwoJZGVmYXVsdFZhbHVlPzogc3RyaW5nOwoJb25WYWx1ZUNoYW5nZT86ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkOwoJZGlzYWJsZWQ/OiBib29sZWFuOwoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZXhwb3J0IGludGVyZmFjZSBTZWxlY3RUcmlnZ2VyUHJvcHMKCWV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2Ygc2VsZWN0VHJpZ2dlclZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIFNlbGVjdENvbnRlbnRQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJcG9ydGFsPzogYm9vbGVhbjsKCWZpeGVkPzogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBTZWxlY3RJdGVtUHJvcHMgewoJdmFsdWU6IHN0cmluZzsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7CglkaXNhYmxlZD86IGJvb2xlYW47Cn0KCmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0VmFsdWVQcm9wcyB7CglwbGFjZWhvbGRlcj86IHN0cmluZzsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKdHlwZSBTZWxlY3RTaXplID0gTm9uTnVsbGFibGU8CglWYXJpYW50UHJvcHM8dHlwZW9mIHNlbGVjdFRyaWdnZXJWYXJpYW50cz5bJ3NpemUnXQo+Owp0eXBlIFNlbGVjdFZhcmlhbnQgPSBOb25OdWxsYWJsZTwKCVZhcmlhbnRQcm9wczx0eXBlb2Ygc2VsZWN0VHJpZ2dlclZhcmlhbnRzPlsndmFyaWFudCddCj47Cgp0eXBlIEludGVybmFsQ3R4ID0gewoJc2l6ZTogU2VsZWN0U2l6ZTsKCXZhcmlhbnQ6IFNlbGVjdFZhcmlhbnQ7CglkaXNhYmxlZD86IGJvb2xlYW47Cn07Cgpjb25zdCBJbnRlcm5hbENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PEludGVybmFsQ3R4Pih7CglzaXplOiAnbWQnLAoJdmFyaWFudDogJ2RlZmF1bHQnLAp9KTsKCmV4cG9ydCBjb25zdCBTZWxlY3Q6IFJlYWN0LkZDPFNlbGVjdFByb3BzPiA9ICh7Cgl2YWx1ZTogY29udHJvbGxlZFZhbHVlLAoJZGVmYXVsdFZhbHVlLAoJb25WYWx1ZUNoYW5nZSwKCWRpc2FibGVkID0gZmFsc2UsCgljaGlsZHJlbiwKCXNpemUgPSAnbWQnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKfSkgPT4gewoJY29uc3Qgc3RvcmUgPSBBcmlha2l0LnVzZVNlbGVjdFN0b3JlKAoJCWNvbnRyb2xsZWRWYWx1ZSAhPT0gdW5kZWZpbmVkCgkJCT8gewoJCQkJCXZhbHVlOiBjb250cm9sbGVkVmFsdWUsCgkJCQkJc2V0VmFsdWU6ICh2KSA9PiBvblZhbHVlQ2hhbmdlPy4oU3RyaW5nKHYgPz8gJycpKSwKCQkJCQlhbmltYXRlZDogdHJ1ZSwKCQkJCX0KCQkJOiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZAoJCQkJPyB7CgkJCQkJCWRlZmF1bHRWYWx1ZSwKCQkJCQkJc2V0VmFsdWU6ICh2KSA9PiBvblZhbHVlQ2hhbmdlPy4oU3RyaW5nKHYgPz8gJycpKSwKCQkJCQkJYW5pbWF0ZWQ6IHRydWUsCgkJCQkJfQoJCQkJOiB7CgkJCQkJCXNldFZhbHVlOiAodikgPT4gb25WYWx1ZUNoYW5nZT8uKFN0cmluZyh2ID8/ICcnKSksCgkJCQkJCWFuaW1hdGVkOiB0cnVlLAoJCQkJCX0sCgkpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJY29uc29sZS5sb2coJ0NoaWxkIHJlLXJlbmRlcmVkIScpOwoJfSk7CgoJY29uc3Qgbm9ybWFsaXplZFNpemU6IFNlbGVjdFNpemUgPSBzaXplID8/ICdtZCc7Cgljb25zdCBub3JtYWxpemVkVmFyaWFudDogU2VsZWN0VmFyaWFudCA9IHZhcmlhbnQgPz8gJ2RlZmF1bHQnOwoJY29uc3QgY29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbzxJbnRlcm5hbEN0eD4oCgkJKCkgPT4gKHsgc2l6ZTogbm9ybWFsaXplZFNpemUsIHZhcmlhbnQ6IG5vcm1hbGl6ZWRWYXJpYW50LCBkaXNhYmxlZCB9KSwKCQlbbm9ybWFsaXplZFNpemUsIG5vcm1hbGl6ZWRWYXJpYW50LCBkaXNhYmxlZF0sCgkpOwoKCXJldHVybiAoCgkJPEFyaWFraXQuU2VsZWN0UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT4KCQkJPEludGVybmFsQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT4KCQkJCTxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSI+e2NoaWxkcmVufTwvZGl2PgoJCQk8L0ludGVybmFsQ29udGV4dC5Qcm92aWRlcj4KCQk8L0FyaWFraXQuU2VsZWN0UHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFNlbGVjdFRyaWdnZXI6IFJlYWN0LkZDPFNlbGVjdFRyaWdnZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCXNpemU6IHByb3BTaXplLAoJdmFyaWFudDogcHJvcFZhcmlhbnQsCglkaXNhYmxlZDogZGlzYWJsZWRQcm9wLAoJYXV0b0ZvY3VzLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChJbnRlcm5hbENvbnRleHQpOwoJY29uc3Qgc2VsZWN0ID0gQXJpYWtpdC51c2VTZWxlY3RDb250ZXh0KCk7Cgljb25zdCBpc09wZW4gPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc2VsZWN0LCAocykgPT4gcz8ub3BlbiA/PyBmYWxzZSk7Cgljb25zdCBzaXplOiBTZWxlY3RTaXplID0gcHJvcFNpemUgPz8gY3R4LnNpemUgPz8gJ21kJzsKCWNvbnN0IHZhcmlhbnQ6IFNlbGVjdFZhcmlhbnQgPSBwcm9wVmFyaWFudCA/PyBjdHgudmFyaWFudCA/PyAnZGVmYXVsdCc7Cgljb25zdCBkaXNhYmxlZCA9IGRpc2FibGVkUHJvcCA/PyBjdHguZGlzYWJsZWQgPz8gZmFsc2U7Cgljb25zdCB0cmlnZ2VyUHJvcHMgPSB7CgkJLi4ucHJvcHMsCgkJLi4uKHR5cGVvZiBhdXRvRm9jdXMgPT09ICd1bmRlZmluZWQnID8ge30gOiB7IGF1dG9Gb2N1cyB9KSwKCX07CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5TZWxlY3QKCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQljbGFzc05hbWU9e2NuKHNlbGVjdFRyaWdnZXJWYXJpYW50cyh7IHNpemUsIHZhcmlhbnQgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi50cmlnZ2VyUHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJCTxJY29ucy5DaGV2cm9uRG93bgoJCQkJYXJpYS1oaWRkZW49InRydWUiCgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSdtbC0yIGgtNCB3LTQgc2hyaW5rLTAgb3BhY2l0eS01MCB0cmFuc2l0aW9uLVtyb3RhdGVdIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCcsCgkJCQkJaXNPcGVuICYmICdyb3RhdGUtMTgwJywKCQkJCSl9CgkJCS8+CgkJPC9Bcmlha2l0LlNlbGVjdD4KCSk7Cn07CgpleHBvcnQgY29uc3QgU2VsZWN0Q29udGVudDogUmVhY3QuRkM8U2VsZWN0Q29udGVudFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJcG9ydGFsID0gdHJ1ZSwKCWZpeGVkID0gZmFsc2UsCn0pID0+IHsKCWNvbnN0IHNlbGVjdFN0b3JlID0gQXJpYWtpdC51c2VTZWxlY3RDb250ZXh0KCk7CglpZiAoIXNlbGVjdFN0b3JlKQoJCXRocm93IG5ldyBFcnJvcignU2VsZWN0Q29udGVudCBtdXN0IGJlIHVzZWQgd2l0aGluIDxTZWxlY3Q+Jyk7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5TZWxlY3RQb3BvdmVyCgkJCXNhbWVXaWR0aAoJCQlwb3J0YWw9e3BvcnRhbH0KCQkJZml4ZWQ9e2ZpeGVkfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2Fic29sdXRlIHotOTk5IG15LTEgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1wb3BvdmVyIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCcsCgkJCQknZm9jdXMtdmlzaWJsZTpyaW5nLW5vbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCQkJJ29yaWdpbi10b3AgLXRyYW5zbGF0ZS15LTIgc2NhbGUtOTUgb3BhY2l0eS0wIHRyYW5zaXRpb24tW3RyYW5zbGF0ZSxvcGFjaXR5LHNjYWxlXSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGggZGF0YS1lbnRlcjp0cmFuc2xhdGUteS0wIGRhdGEtZW50ZXI6c2NhbGUtMTAwIGRhdGEtZW50ZXI6b3BhY2l0eS0xMDAgZGF0YS1sZWF2ZTotdHJhbnNsYXRlLXktMiBkYXRhLWxlYXZlOnNjYWxlLTk1IGRhdGEtbGVhdmU6b3BhY2l0eS0wJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQk+CgkJCTxkaXYgY2xhc3NOYW1lPSJ6LTUwIj4KCQkJCTxTY3JvbGxBcmVhCgkJCQkJdHlwZT0ic2Nyb2xsIgoJCQkJCWNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBoLWZ1bGwgdy1mdWxsIG1heC1oLTQyIgoJCQkJPgoJCQkJCTxBcmlha2l0LlNlbGVjdExpc3QKCQkJCQkJc3RvcmU9e3NlbGVjdFN0b3JlfQoJCQkJCQljbGFzc05hbWU9ImZsZXggZmxleC1jb2wgcHktMSBmb2N1cy12aXNpYmxlOnJpbmctbm9uZSBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSIKCQkJCQk+CgkJCQkJCXtjaGlsZHJlbn0KCQkJCQk8L0FyaWFraXQuU2VsZWN0TGlzdD4KCQkJCTwvU2Nyb2xsQXJlYT4KCQkJPC9kaXY+CgkJPC9Bcmlha2l0LlNlbGVjdFBvcG92ZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFNlbGVjdEl0ZW06IFJlYWN0LkZDPFNlbGVjdEl0ZW1Qcm9wcz4gPSAoewoJdmFsdWUsCgljaGlsZHJlbiwKCWNsYXNzTmFtZSA9ICcnLAoJZGlzYWJsZWQgPSBmYWxzZSwKfSkgPT4gewoJY29uc3Qgc2VsZWN0ID0gQXJpYWtpdC51c2VTZWxlY3RDb250ZXh0KCk7Cgljb25zdCBpc1NlbGVjdGVkID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHNlbGVjdCwgKHMpID0+IHM/LnZhbHVlID09PSB2YWx1ZSk7CgoJcmV0dXJuICgKCQk8QXJpYWtpdC5TZWxlY3RJdGVtCgkJCXZhbHVlPXt2YWx1ZX0KCQkJZGlzYWJsZWQ9e2Rpc2FibGVkfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ3JlbGF0aXZlIG14LTEgZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQtc20gcHgtMiBweS0xLjUgdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQvNzAgb3V0bGluZS1ub25lIHNlbGVjdC1ub25lIGhvdmVyOmJnLXBvcG92ZXItbXV0ZWQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIGRhdGEtYWN0aXZlLWl0ZW06YmctcG9wb3Zlci1tdXRlZCBkYXRhLWFjdGl2ZS1pdGVtOnRleHQtZm9yZWdyb3VuZCcsCgkJCQkiWyZfc3ZnXTpzaHJpbmstMCBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IGdhcC0yIiwKCQkJCWRpc2FibGVkICYmICdwb2ludGVyLWV2ZW50cy1ub25lIGN1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQk+CgkJCTxzcGFuIGNsYXNzTmFtZT0iZmxleC0xIj57Y2hpbGRyZW59PC9zcGFuPgoJCQl7aXNTZWxlY3RlZCAmJiAoCgkJCQk8SWNvbnMuQ2hlY2sKCQkJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJCQljbGFzc05hbWU9Im1sLTIgaC00IHctNCB0ZXh0LWZvcmVncm91bmQvNzAiCgkJCQkvPgoJCQkpfQoJCTwvQXJpYWtpdC5TZWxlY3RJdGVtPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTZWxlY3RWYWx1ZTogUmVhY3QuRkM8U2VsZWN0VmFsdWVQcm9wcz4gPSAoewoJcGxhY2Vob2xkZXIgPSAnU2VsZWN0IGFuIG9wdGlvbi4uLicsCgljbGFzc05hbWUgPSAnJywKfSkgPT4gewoJY29uc3Qgc2VsZWN0ID0gQXJpYWtpdC51c2VTZWxlY3RDb250ZXh0KCk7Cgljb25zdCBjdXJyZW50VmFsdWUgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc2VsZWN0LCAocykgPT4gcz8udmFsdWUgPz8gJycpOwoJY29uc3QgaXRlbXMgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoc2VsZWN0LCAocykgPT4gcz8uaXRlbXMgPz8gW10pOwoJY29uc3QgY3VycmVudEl0ZW0gPSBpdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLnZhbHVlID09PSBjdXJyZW50VmFsdWUpOwoKCXJldHVybiAoCgkJPHNwYW4KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdibG9jayB0cnVuY2F0ZSB0ZXh0LWxlZnQgd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LWZvcmVncm91bmQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCT4KCQkJe2N1cnJlbnRJdGVtID8gKAoJCQkJY3VycmVudEl0ZW0uZWxlbWVudD8udGV4dENvbnRlbnQKCQkJKSA6ICgKCQkJCTxzcGFuIGNsYXNzTmFtZT0id2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LWZvcmVncm91bmQvNDUiPgoJCQkJCXtwbGFjZWhvbGRlcn0KCQkJCTwvc3Bhbj4KCQkJKX0KCQk8L3NwYW4+CgkpOwp9Ow=="
,
  "separator.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKCmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qgc2VwYXJhdG9yVmFyaWFudHMgPSBjdmEoJ3JlbGF0aXZlIHNocmluay0wIHJvdW5kZWQtZnVsbCBiZy1ib3JkZXInLCB7Cgl2YXJpYW50czogewoJCW9yaWVudGF0aW9uOiB7CgkJCWhvcml6b250YWw6ICd3LWZ1bGwnLAoJCQl2ZXJ0aWNhbDogJ2gtZnVsbCBtaW4taC00JywKCQl9LAoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJ2JnLWJvcmRlcicsCgkJCW11dGVkOiAnYmctYm9yZGVyLzYwJywKCQl9LAoJCXRoaWNrbmVzczogewoJCQlzbTogJycsCgkJCW1kOiAnJywKCQkJbGc6ICcnLAoJCX0sCgl9LAoJY29tcG91bmRWYXJpYW50czogWwoJCXsKCQkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCQkJdGhpY2tuZXNzOiAnc20nLAoJCQljbGFzczogJ2gtcHgnLAoJCX0sCgkJewoJCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJCQl0aGlja25lc3M6ICdtZCcsCgkJCWNsYXNzOiAnaC0wLjUnLAoJCX0sCgkJewoJCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJCQl0aGlja25lc3M6ICdsZycsCgkJCWNsYXNzOiAnaC0xJywKCQl9LAoJCXsKCQkJb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsCgkJCXRoaWNrbmVzczogJ3NtJywKCQkJY2xhc3M6ICd3LXB4JywKCQl9LAoJCXsKCQkJb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsCgkJCXRoaWNrbmVzczogJ21kJywKCQkJY2xhc3M6ICd3LTAuNScsCgkJfSwKCQl7CgkJCW9yaWVudGF0aW9uOiAndmVydGljYWwnLAoJCQl0aGlja25lc3M6ICdsZycsCgkJCWNsYXNzOiAndy0xJywKCQl9LAoJXSwKCWRlZmF1bHRWYXJpYW50czogewoJCW9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsCgkJdGhpY2tuZXNzOiAnc20nLAoJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCX0sCn0pOwoKZXhwb3J0IGludGVyZmFjZSBTZXBhcmF0b3JQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiBzZXBhcmF0b3JWYXJpYW50cz4gewoJLyoqCgkgKiBXaGVuIHRydWUsIHRoZSBzZXBhcmF0b3IgaXMgdHJlYXRlZCBhcyBkZWNvcmF0aXZlIGFuZCBoaWRkZW4gZnJvbSBhc3Npc3RpdmUgdGVjaC4KCSAqLwoJZGVjb3JhdGl2ZT86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBTZXBhcmF0b3I6IFJlYWN0LkZDPFNlcGFyYXRvclByb3BzPiA9ICh7CglvcmllbnRhdGlvbiA9ICdob3Jpem9udGFsJywKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCgl0aGlja25lc3MgPSAnc20nLAoJZGVjb3JhdGl2ZSA9IGZhbHNlLAoJcm9sZSwKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgY29tcHV0ZWRSb2xlID0gcm9sZSA/PyAoZGVjb3JhdGl2ZSA/ICdwcmVzZW50YXRpb24nIDogJ3NlcGFyYXRvcicpOwoKCWNvbnN0IGFyaWFQcm9wcyA9CgkJIWRlY29yYXRpdmUgJiYgY29tcHV0ZWRSb2xlID09PSAnc2VwYXJhdG9yJyAmJiBvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJwoJCQk/IHsgJ2FyaWEtb3JpZW50YXRpb24nOiAndmVydGljYWwnIGFzIGNvbnN0IH0KCQkJOiB7fTsKCglyZXR1cm4gKAoJCTxkaXYKCQkJcm9sZT17Y29tcHV0ZWRSb2xlfQoJCQlhcmlhLWhpZGRlbj17ZGVjb3JhdGl2ZSB8fCB1bmRlZmluZWR9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQlzZXBhcmF0b3JWYXJpYW50cyh7IG9yaWVudGF0aW9uLCB2YXJpYW50LCB0aGlja25lc3MgfSksCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5hcmlhUHJvcHN9CgkJCXsuLi5wcm9wc30KCQkvPgoJKTsKfTs="
,
  "sheet.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2xpYi9pY29ucyc7Cgpjb25zdCBzaGVldENvbnRlbnRWYXJpYW50cyA9IGN2YSgKCSdmaXhlZCBmbGV4IGZsZXgtY29sIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLXBvcG92ZXIgc2hhZG93LTJ4bCBjYXJkLWhpZ2hsaWdodCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGgnLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpZGU6IHsKCQkJCWxlZnQ6ICd0b3AtMCBsZWZ0LTAgaC1mdWxsIHJvdW5kZWQtci1sZycsCgkJCQlyaWdodDogJ3RvcC0wIHJpZ2h0LTAgaC1mdWxsIHJvdW5kZWQtbC1sZycsCgkJCQl0b3A6ICd0b3AtMCBsZWZ0LTAgdy1mdWxsIHJvdW5kZWQtYi1sZycsCgkJCQlib3R0b206ICdib3R0b20tMCBsZWZ0LTAgdy1mdWxsIHJvdW5kZWQtdC1sZycsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnJywKCQkJCW1kOiAnJywKCQkJCWxnOiAnJywKCQkJCXhsOiAnJywKCQkJCWZ1bGw6ICcnLAoJCQl9LAoJCX0sCgkJY29tcG91bmRWYXJpYW50czogWwoJCQl7CgkJCQlzaWRlOiAnbGVmdCcsCgkJCQlzaXplOiAnc20nLAoJCQkJY2xhc3M6ICd3LVs3MHZ3XSBzbTp3LTgwJywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ2xlZnQnLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAndy1bODB2d10gc206dy05NicsCgkJCX0sCgkJCXsKCQkJCXNpZGU6ICdsZWZ0JywKCQkJCXNpemU6ICdsZycsCgkJCQljbGFzczogJ3ctWzkwdnddIHNtOnctWzI4cmVtXScsCgkJCX0sCgkJCXsKCQkJCXNpZGU6ICdsZWZ0JywKCQkJCXNpemU6ICd4bCcsCgkJCQljbGFzczogJ3ctWzk1dnddIHNtOnctWzMycmVtXScsCgkJCX0sCgkJCXsKCQkJCXNpZGU6ICdsZWZ0JywKCQkJCXNpemU6ICdmdWxsJywKCQkJCWNsYXNzOiAndy1mdWxsJywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ3JpZ2h0JywKCQkJCXNpemU6ICdzbScsCgkJCQljbGFzczogJ3ctWzcwdnddIHNtOnctODAnLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAncmlnaHQnLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAndy1bODB2d10gc206dy05NicsCgkJCX0sCgkJCXsKCQkJCXNpZGU6ICdyaWdodCcsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICd3LVs5MHZ3XSBzbTp3LVsyOHJlbV0nLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAncmlnaHQnLAoJCQkJc2l6ZTogJ3hsJywKCQkJCWNsYXNzOiAndy1bOTV2d10gc206dy1bMzJyZW1dJywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ3JpZ2h0JywKCQkJCXNpemU6ICdmdWxsJywKCQkJCWNsYXNzOiAndy1mdWxsJywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ3RvcCcsCgkJCQlzaXplOiAnc20nLAoJCQkJY2xhc3M6ICdoLVs0MHZoXSBzbTpoLTgwJywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ3RvcCcsCgkJCQlzaXplOiAnbWQnLAoJCQkJY2xhc3M6ICdoLVs1NXZoXSBzbTpoLTk2JywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ3RvcCcsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICdoLVs3MHZoXSBzbTpoLVsyOHJlbV0nLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAndG9wJywKCQkJCXNpemU6ICd4bCcsCgkJCQljbGFzczogJ2gtWzg1dmhdIHNtOmgtWzMycmVtXScsCgkJCX0sCgkJCXsKCQkJCXNpZGU6ICd0b3AnLAoJCQkJc2l6ZTogJ2Z1bGwnLAoJCQkJY2xhc3M6ICdoLWZ1bGwnLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAnYm90dG9tJywKCQkJCXNpemU6ICdzbScsCgkJCQljbGFzczogJ2gtWzQwdmhdIHNtOmgtODAnLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAnYm90dG9tJywKCQkJCXNpemU6ICdtZCcsCgkJCQljbGFzczogJ2gtWzU1dmhdIHNtOmgtOTYnLAoJCQl9LAoJCQl7CgkJCQlzaWRlOiAnYm90dG9tJywKCQkJCXNpemU6ICdsZycsCgkJCQljbGFzczogJ2gtWzcwdmhdIHNtOmgtWzI4cmVtXScsCgkJCX0sCgkJCXsKCQkJCXNpZGU6ICdib3R0b20nLAoJCQkJc2l6ZTogJ3hsJywKCQkJCWNsYXNzOiAnaC1bODV2aF0gc206aC1bMzJyZW1dJywKCQkJfSwKCQkJewoJCQkJc2lkZTogJ2JvdHRvbScsCgkJCQlzaXplOiAnZnVsbCcsCgkJCQljbGFzczogJ2gtZnVsbCcsCgkJCX0sCgkJXSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2lkZTogJ3JpZ2h0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgU2hlZXRQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJb3Blbj86IGJvb2xlYW47Cglvbk9wZW5DaGFuZ2U/OiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDsKfQoKZXhwb3J0IGludGVyZmFjZSBTaGVldFRyaWdnZXJQcm9wcwoJZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWFzQ2hpbGQ/OiBib29sZWFuOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIFNoZWV0U3VyZmFjZVByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHNoZWV0Q29udGVudFZhcmlhbnRzPiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJc2hvd0Nsb3NlPzogYm9vbGVhbjsKCXJlc2l6YWJsZT86IGJvb2xlYW47CglhbGxvd1Nocmluaz86IGJvb2xlYW47Cn0KCmV4cG9ydCBpbnRlcmZhY2UgU2hlZXRIZWFkZXJQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIFNoZWV0VGl0bGVQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MSGVhZGluZ0VsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cglhcz86IFJlYWN0LkVsZW1lbnRUeXBlOwp9CgpleHBvcnQgaW50ZXJmYWNlIFNoZWV0RGVzY3JpcHRpb25Qcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MUGFyYWdyYXBoRWxlbWVudD4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBTaGVldEZvb3RlclByb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgU2hlZXRDbG9zZVByb3BzCglleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PiB7CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKCWFzQ2hpbGQ/OiBib29sZWFuOwp9CgppbnRlcmZhY2UgU2hlZXRDb250ZXh0VHlwZSB7CglzdG9yZTogQXJpYWtpdC5EaWFsb2dTdG9yZTsKfQoKY29uc3QgU2hlZXRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxTaGVldENvbnRleHRUeXBlIHwgdW5kZWZpbmVkPigKCXVuZGVmaW5lZCwKKTsKCmNvbnN0IHVzZVNoZWV0ID0gKCkgPT4gewoJY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoU2hlZXRDb250ZXh0KTsKCWlmICghY29udGV4dCkgewoJCXRocm93IG5ldyBFcnJvcignU2hlZXQgY29tcG9uZW50cyBtdXN0IGJlIHVzZWQgd2l0aGluIGEgU2hlZXQnKTsKCX0KCXJldHVybiBjb250ZXh0Owp9OwoKZXhwb3J0IGNvbnN0IFNoZWV0OiBSZWFjdC5GQzxTaGVldFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCW9wZW46IGNvbnRyb2xsZWRPcGVuLAoJb25PcGVuQ2hhbmdlLAp9KSA9PiB7Cgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlRGlhbG9nU3RvcmUoCgkJY29udHJvbGxlZE9wZW4gIT09IHVuZGVmaW5lZAoJCQk/IG9uT3BlbkNoYW5nZQoJCQkJPyB7IG9wZW46IGNvbnRyb2xsZWRPcGVuLCBzZXRPcGVuOiBvbk9wZW5DaGFuZ2UgfQoJCQkJOiB7IG9wZW46IGNvbnRyb2xsZWRPcGVuIH0KCQkJOiB1bmRlZmluZWQsCgkpOwoKCXJldHVybiAoCgkJPFNoZWV0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBzdG9yZSB9fT57Y2hpbGRyZW59PC9TaGVldENvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFNoZWV0VHJpZ2dlcjogUmVhY3QuRkM8U2hlZXRUcmlnZ2VyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglhc0NoaWxkID0gZmFsc2UsCglvbkNsaWNrLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgeyBzdG9yZSB9ID0gdXNlU2hlZXQoKTsKCWNvbnN0IGlzT3BlbiA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShzdG9yZSwgJ29wZW4nKTsKCgljb25zdCBoYW5kbGVDbGljayA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4gewoJCXN0b3JlLnNob3coKTsKCQlvbkNsaWNrPy4oZSk7Cgl9OwoKCWlmIChhc0NoaWxkICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkgewoJCXJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoCgkJCWNoaWxkcmVuIGFzIFJlYWN0LlJlYWN0RWxlbWVudDwKCQkJCVJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PgoJCQk+LAoJCQl7CgkJCQlvbkNsaWNrOiBoYW5kbGVDbGljaywKCQkJCSdhcmlhLWhhc3BvcHVwJzogJ2RpYWxvZycsCgkJCQknYXJpYS1leHBhbmRlZCc6IGlzT3BlbiwKCQkJCS4uLihjaGlsZHJlbi5wcm9wcyB8fCB7fSksCgkJCX0sCgkJKTsKCX0KCglyZXR1cm4gKAoJCTxidXR0b24KCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdpbmxpbmUtZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBmb250LW1lZGl1bSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXR5cGU9ImJ1dHRvbiIKCQkJb25DbGljaz17aGFuZGxlQ2xpY2t9CgkJCWFyaWEtaGFzcG9wdXA9ImRpYWxvZyIKCQkJYXJpYS1leHBhbmRlZD17aXNPcGVufQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9idXR0b24+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFNoZWV0U3VyZmFjZTogUmVhY3QuRkM8U2hlZXRTdXJmYWNlUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglzaWRlID0gJ3JpZ2h0JywKCXNpemUgPSAnbWQnLAoJc2hvd0Nsb3NlID0gdHJ1ZSwKCXJlc2l6YWJsZSA9IGZhbHNlLAoJYWxsb3dTaHJpbmsgPSBmYWxzZSwKCXN0eWxlOiBpbmxpbmVTdHlsZSwKCWF1dG9Gb2N1cywKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsgc3RvcmUgfSA9IHVzZVNoZWV0KCk7Cgljb25zdCBvcGVuID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAnb3BlbicpOwoJY29uc3QgW21vdW50ZWQsIHNldE1vdW50ZWRdID0gUmVhY3QudXNlU3RhdGUob3Blbik7Cgljb25zdCBjb250ZW50UmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCWNvbnN0IFtjdXN0b21TaXplLCBzZXRDdXN0b21TaXplXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpOwoJY29uc3QgYmFzZVNpemVSZWYgPSBSZWFjdC51c2VSZWYoMCk7Cgljb25zdCBzdGFydFBvc1JlZiA9IFJlYWN0LnVzZVJlZigwKTsKCWNvbnN0IHN0YXJ0U2l6ZVJlZiA9IFJlYWN0LnVzZVJlZigwKTsKCWNvbnN0IGlzUmVzaXppbmdSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKG9wZW4pIHsKCQkJc2V0TW91bnRlZCh0cnVlKTsKCQkJcmV0dXJuOwoJCX0KCQljb25zdCB0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gc2V0TW91bnRlZChmYWxzZSksIDIwMCk7CgkJcmV0dXJuICgpID0+IHdpbmRvdy5jbGVhclRpbWVvdXQodCk7Cgl9LCBbb3Blbl0pOwoKCWNvbnN0IGFwcGx5U2l6ZUZyb21Qb2ludGVyID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHBvaW50OiB7IGNsaWVudFg6IG51bWJlcjsgY2xpZW50WTogbnVtYmVyIH0pID0+IHsKCQkJaWYgKCFpc1Jlc2l6aW5nUmVmLmN1cnJlbnQpIHJldHVybjsKCQkJbGV0IGRlbHRhID0gMDsKCQkJaWYgKHNpZGUgPT09ICdsZWZ0JykgewoJCQkJZGVsdGEgPSBwb2ludC5jbGllbnRYIC0gc3RhcnRQb3NSZWYuY3VycmVudDsKCQkJfSBlbHNlIGlmIChzaWRlID09PSAncmlnaHQnKSB7CgkJCQlkZWx0YSA9IHN0YXJ0UG9zUmVmLmN1cnJlbnQgLSBwb2ludC5jbGllbnRYOwoJCQl9IGVsc2UgaWYgKHNpZGUgPT09ICd0b3AnKSB7CgkJCQlkZWx0YSA9IHBvaW50LmNsaWVudFkgLSBzdGFydFBvc1JlZi5jdXJyZW50OwoJCQl9IGVsc2UgewoJCQkJZGVsdGEgPSBzdGFydFBvc1JlZi5jdXJyZW50IC0gcG9pbnQuY2xpZW50WTsKCQkJfQoKCQkJY29uc3QgYmFzZSA9IGJhc2VTaXplUmVmLmN1cnJlbnQgfHwgMDsKCQkJY29uc3QgbmV4dCA9IHN0YXJ0U2l6ZVJlZi5jdXJyZW50ICsgZGVsdGE7CgkJCWNvbnN0IG1pbiA9IGFsbG93U2hyaW5rID8gMTAwIDogYmFzZTsKCQkJY29uc3QgbWF4ID0KCQkJCXNpZGUgPT09ICdsZWZ0JyB8fCBzaWRlID09PSAncmlnaHQnCgkJCQkJPyBNYXRoLnJvdW5kKHdpbmRvdy5pbm5lcldpZHRoICogMC45NSkKCQkJCQk6IE1hdGgucm91bmQod2luZG93LmlubmVySGVpZ2h0ICogMC45NSk7CgkJCWNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heChtaW4sIE1hdGgubWluKG5leHQsIG1heCkpOwoJCQlzZXRDdXN0b21TaXplKGNsYW1wZWQpOwoJCX0sCgkJW2FsbG93U2hyaW5rLCBzaWRlXSwKCSk7CgoJY29uc3Qgb25Nb3VzZU1vdmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHsKCQkJaWYgKCFpc1Jlc2l6aW5nUmVmLmN1cnJlbnQpIHJldHVybjsKCQkJYXBwbHlTaXplRnJvbVBvaW50ZXIoZXZlbnQpOwoJCX0sCgkJW2FwcGx5U2l6ZUZyb21Qb2ludGVyXSwKCSk7CgoJY29uc3Qgb25Ub3VjaE1vdmUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHsKCQkJaWYgKCFpc1Jlc2l6aW5nUmVmLmN1cnJlbnQpIHJldHVybjsKCQkJY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdOwoJCQlpZiAoIXRvdWNoKSByZXR1cm47CgkJCWFwcGx5U2l6ZUZyb21Qb2ludGVyKHRvdWNoKTsKCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQl9LAoJCVthcHBseVNpemVGcm9tUG9pbnRlcl0sCgkpOwoKCWNvbnN0IGVuZFJlc2l6ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQlpZiAoIWlzUmVzaXppbmdSZWYuY3VycmVudCkgcmV0dXJuOwoJCWlzUmVzaXppbmdSZWYuY3VycmVudCA9IGZhbHNlOwoJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZW5kUmVzaXplKTsKCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7CgkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBlbmRSZXNpemUpOwoJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgZW5kUmVzaXplKTsKCQlkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICcnOwoJCWRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICcnOwoJfSwgW29uTW91c2VNb3ZlLCBvblRvdWNoTW92ZV0pOwoKCWNvbnN0IGJlZ2luUmVzaXplID0gKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50IHwgUmVhY3QuVG91Y2hFdmVudCkgPT4gewoJCWlmICghcmVzaXphYmxlIHx8IHNpemUgPT09ICdmdWxsJykgcmV0dXJuOwoJCWNvbnN0IHBvaW50ID0gJ3RvdWNoZXMnIGluIGV2ZW50ID8gZXZlbnQudG91Y2hlc1swXSA6IGV2ZW50OwoJCWlmICghcG9pbnQpIHJldHVybjsKCgkJaXNSZXNpemluZ1JlZi5jdXJyZW50ID0gdHJ1ZTsKCQlzdGFydFBvc1JlZi5jdXJyZW50ID0KCQkJc2lkZSA9PT0gJ2xlZnQnIHx8IHNpZGUgPT09ICdyaWdodCcgPyBwb2ludC5jbGllbnRYIDogcG9pbnQuY2xpZW50WTsKCQljb25zdCBmYWxsYmFja1NpemUgPSAoKCkgPT4gewoJCQlpZiAoIWNvbnRlbnRSZWYuY3VycmVudCkgcmV0dXJuIDA7CgkJCWNvbnN0IHJlY3QgPSBjb250ZW50UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkJCXJldHVybiBzaWRlID09PSAnbGVmdCcgfHwgc2lkZSA9PT0gJ3JpZ2h0JyA/IHJlY3Qud2lkdGggOiByZWN0LmhlaWdodDsKCQl9KSgpOwoJCWNvbnN0IGJhc2VTaXplID0gYmFzZVNpemVSZWYuY3VycmVudCB8fCBmYWxsYmFja1NpemU7CgkJYmFzZVNpemVSZWYuY3VycmVudCA9IGJhc2VTaXplOwoJCXN0YXJ0U2l6ZVJlZi5jdXJyZW50ID0gY3VzdG9tU2l6ZSA/PyBiYXNlU2l6ZTsKCgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpOwoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlbmRSZXNpemUpOwoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCB7IHBhc3NpdmU6IGZhbHNlIH0pOwoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZW5kUmVzaXplKTsKCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIGVuZFJlc2l6ZSk7CgkJZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPQoJCQlzaWRlID09PSAnbGVmdCcgfHwgc2lkZSA9PT0gJ3JpZ2h0JyA/ICdjb2wtcmVzaXplJyA6ICdyb3ctcmVzaXplJzsKCQlkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7CgkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCX07CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIW9wZW4pIHsKCQkJZW5kUmVzaXplKCk7CgkJCWJhc2VTaXplUmVmLmN1cnJlbnQgPSAwOwoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBmcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewoJCQlpZiAoIWNvbnRlbnRSZWYuY3VycmVudCkgcmV0dXJuOwoJCQljb25zdCByZWN0ID0gY29udGVudFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoJCQliYXNlU2l6ZVJlZi5jdXJyZW50ID0KCQkJCXNpZGUgPT09ICdsZWZ0JyB8fCBzaWRlID09PSAncmlnaHQnID8gcmVjdC53aWR0aCA6IHJlY3QuaGVpZ2h0OwoJCQlzZXRDdXN0b21TaXplKG51bGwpOwoJCX0pOwoKCQlyZXR1cm4gKCkgPT4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lKTsKCX0sIFtvcGVuLCBzaWRlLCBlbmRSZXNpemVdKTsKCglSZWFjdC51c2VFZmZlY3QoCgkJKCkgPT4gKCkgPT4gewoJCQllbmRSZXNpemUoKTsKCQl9LAoJCVtlbmRSZXNpemVdLAoJKTsKCgljb25zdCBzaWRlVHJhbnNmb3JtID0KCQlzaWRlID09PSAnbGVmdCcKCQkJPyAnLXRyYW5zbGF0ZS14LWZ1bGwgZGF0YS1lbnRlcjp0cmFuc2xhdGUteC0wIGRhdGEtbGVhdmU6LXRyYW5zbGF0ZS14LWZ1bGwnCgkJCTogc2lkZSA9PT0gJ3JpZ2h0JwoJCQkJPyAndHJhbnNsYXRlLXgtZnVsbCBkYXRhLWVudGVyOnRyYW5zbGF0ZS14LTAgZGF0YS1sZWF2ZTp0cmFuc2xhdGUteC1mdWxsJwoJCQkJOiBzaWRlID09PSAndG9wJwoJCQkJCT8gJy10cmFuc2xhdGUteS1mdWxsIGRhdGEtZW50ZXI6dHJhbnNsYXRlLXktMCBkYXRhLWxlYXZlOi10cmFuc2xhdGUteS1mdWxsJwoJCQkJCTogJ3RyYW5zbGF0ZS15LWZ1bGwgZGF0YS1lbnRlcjp0cmFuc2xhdGUteS0wIGRhdGEtbGVhdmU6dHJhbnNsYXRlLXktZnVsbCc7Cgljb25zdCBpc0hvcml6b250YWwgPSBzaWRlID09PSAnbGVmdCcgfHwgc2lkZSA9PT0gJ3JpZ2h0JzsKCWNvbnN0IHJlc2l6ZXJMYWJlbCA9IGlzSG9yaXpvbnRhbAoJCT8gJ1Jlc2l6ZSBzaGVldCB3aWR0aCcKCQk6ICdSZXNpemUgc2hlZXQgaGVpZ2h0JzsKCWNvbnN0IGJhc2VTaXplID0gYmFzZVNpemVSZWYuY3VycmVudCB8fCAwOwoJY29uc3QgY3VycmVudFNpemUgPSBjdXN0b21TaXplID8/IGJhc2VTaXplOwoJY29uc3QgbWluU2l6ZSA9IGFsbG93U2hyaW5rID8gMTAwIDogYmFzZVNpemU7Cgljb25zdCBtYXhTaXplID0gTWF0aC5tYXgoCgkJbWluU2l6ZSwKCQl0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJwoJCQk/IGN1cnJlbnRTaXplCgkJCTogaXNIb3Jpem9udGFsCgkJCQk/IE1hdGgucm91bmQod2luZG93LmlubmVyV2lkdGggKiAwLjk1KQoJCQkJOiBNYXRoLnJvdW5kKHdpbmRvdy5pbm5lckhlaWdodCAqIDAuOTUpLAoJKTsKCgljb25zdCBhZGp1c3RTaXplID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGRlbHRhOiBudW1iZXIpID0+IHsKCQkJaWYgKCFyZXNpemFibGUgfHwgc2l6ZSA9PT0gJ2Z1bGwnKSByZXR1cm47CgkJCXNldEN1c3RvbVNpemUoKHByZXZpb3VzKSA9PiB7CgkJCQljb25zdCBiYXNlID0gYmFzZVNpemVSZWYuY3VycmVudCB8fCAwOwoJCQkJY29uc3QgY3VycmVudFZhbHVlID0gcHJldmlvdXMgPz8gYmFzZTsKCQkJCWNvbnN0IG1pbmltdW0gPSBhbGxvd1NocmluayA/IDEwMCA6IGJhc2U7CgkJCQljb25zdCB3aW5kb3dNYXhpbXVtID0KCQkJCQl0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJwoJCQkJCQk/IGN1cnJlbnRWYWx1ZQoJCQkJCQk6IGlzSG9yaXpvbnRhbAoJCQkJCQkJPyBNYXRoLnJvdW5kKHdpbmRvdy5pbm5lcldpZHRoICogMC45NSkKCQkJCQkJCTogTWF0aC5yb3VuZCh3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjk1KTsKCQkJCWNvbnN0IG1heGltdW0gPSBNYXRoLm1heChtaW5pbXVtLCB3aW5kb3dNYXhpbXVtKTsKCQkJCWNvbnN0IG5leHQgPSBNYXRoLm1heChtaW5pbXVtLCBNYXRoLm1pbihjdXJyZW50VmFsdWUgKyBkZWx0YSwgbWF4aW11bSkpOwoJCQkJaWYgKG5leHQgPT09IGN1cnJlbnRWYWx1ZSkgcmV0dXJuIHByZXZpb3VzOwoJCQkJcmV0dXJuIG5leHQ7CgkJCX0pOwoJCX0sCgkJW2FsbG93U2hyaW5rLCBpc0hvcml6b250YWwsIHJlc2l6YWJsZSwgc2l6ZV0sCgkpOwoKCWNvbnN0IGhhbmRsZUtleURvd24gPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7CgkJCWlmICghcmVzaXphYmxlIHx8IHNpemUgPT09ICdmdWxsJykgcmV0dXJuOwoJCQljb25zdCBzdGVwID0gZXZlbnQuc2hpZnRLZXkgPyA1MCA6IDEwOwoJCQlpZiAoaXNIb3Jpem9udGFsKSB7CgkJCQlpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBldmVudC5rZXkgPT09ICdBcnJvd1JpZ2h0JykgewoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJY29uc3QgZGlyZWN0aW9uID0KCQkJCQkJc2lkZSA9PT0gJ3JpZ2h0JwoJCQkJCQkJPyBldmVudC5rZXkgPT09ICdBcnJvd0xlZnQnCgkJCQkJCQkJPyAxCgkJCQkJCQkJOiAtMQoJCQkJCQkJOiBldmVudC5rZXkgPT09ICdBcnJvd1JpZ2h0JwoJCQkJCQkJCT8gMQoJCQkJCQkJCTogLTE7CgkJCQkJYWRqdXN0U2l6ZShkaXJlY3Rpb24gKiBzdGVwKTsKCQkJCX0KCQkJfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdBcnJvd1VwJyB8fCBldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nKSB7CgkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJY29uc3QgZGlyZWN0aW9uID0KCQkJCQlzaWRlID09PSAnYm90dG9tJwoJCQkJCQk/IGV2ZW50LmtleSA9PT0gJ0Fycm93VXAnCgkJCQkJCQk/IDEKCQkJCQkJCTogLTEKCQkJCQkJOiBldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nCgkJCQkJCQk/IDEKCQkJCQkJCTogLTE7CgkJCQlhZGp1c3RTaXplKGRpcmVjdGlvbiAqIHN0ZXApOwoJCQl9CgkJfSwKCQlbYWRqdXN0U2l6ZSwgaXNIb3Jpem9udGFsLCByZXNpemFibGUsIHNpZGUsIHNpemVdLAoJKTsKCglpZiAoIW1vdW50ZWQpIHJldHVybiBudWxsOwoKCWNvbnN0IHNpemVTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyB8IHVuZGVmaW5lZCA9CgkJY3VzdG9tU2l6ZSA9PSBudWxsCgkJCT8gdW5kZWZpbmVkCgkJCTogc2lkZSA9PT0gJ2xlZnQnIHx8IHNpZGUgPT09ICdyaWdodCcKCQkJCT8geyB3aWR0aDogYCR7Y3VzdG9tU2l6ZX1weGAgfQoJCQkJOiB7IGhlaWdodDogYCR7Y3VzdG9tU2l6ZX1weGAgfTsKCglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZwoJCQlzdG9yZT17c3RvcmV9CgkJCXBvcnRhbAoJCQliYWNrZHJvcD17CgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ2ZpeGVkIGluc2V0LTAgei00MCBiZy1vdmVybGF5LzUwIGJhY2tkcm9wLWJsdXItc20nLAoJCQkJCQknb3BhY2l0eS0wIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0zMDAgZWFzZS1zbW9vdGgnLAoJCQkJCQknZGF0YS1lbnRlcjpvcGFjaXR5LTEwMCBkYXRhLWxlYXZlOm9wYWNpdHktMCcsCgkJCQkJKX0KCQkJCS8+CgkJCX0KCQkJcmVmPXtjb250ZW50UmVmfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJc2hlZXRDb250ZW50VmFyaWFudHMoeyBzaWRlLCBzaXplIH0pLAoJCQkJJ3otNTAnLAoJCQkJc2lkZVRyYW5zZm9ybSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJc3R5bGU9e3sgLi4uKGlubGluZVN0eWxlIHx8IHt9KSwgLi4uKHNpemVTdHlsZSB8fCB7fSkgfX0KCQkJey4uLihhdXRvRm9jdXMgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBhdXRvRm9jdXMgfSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXtyZXNpemFibGUgJiYKCQkJCXNpemUgIT09ICdmdWxsJyAmJgoJCQkJKHNpZGUgPT09ICdsZWZ0JyB8fCBzaWRlID09PSAncmlnaHQnKSAmJiAoCgkJCQkJPGRpdgoJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJJ2Fic29sdXRlIHRvcC0xLzIgei0yMCBmbGV4IHctMiAtdHJhbnNsYXRlLXktMS8yIGN1cnNvci1jb2wtcmVzaXplIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlcicsCgkJCQkJCQlzaWRlID09PSAncmlnaHQnID8gJy1sZWZ0LTEnIDogJy1yaWdodC0xJywKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCTxocgoJCQkJCQkJYXJpYS1vcmllbnRhdGlvbj0idmVydGljYWwiCgkJCQkJCQlhcmlhLXZhbHVlbm93PXtjdXJyZW50U2l6ZX0KCQkJCQkJCWFyaWEtdmFsdWVtaW49e21pblNpemV9CgkJCQkJCQlhcmlhLXZhbHVlbWF4PXttYXhTaXplfQoJCQkJCQkJYXJpYS1sYWJlbD17cmVzaXplckxhYmVsfQoJCQkJCQkJdGFiSW5kZXg9ezB9CgkJCQkJCQlvbktleURvd249e2hhbmRsZUtleURvd259CgkJCQkJCQlvbk1vdXNlRG93bj17YmVnaW5SZXNpemV9CgkJCQkJCQlvblRvdWNoU3RhcnQ9e2JlZ2luUmVzaXplfQoJCQkJCQkJY2xhc3NOYW1lPSJhYnNvbHV0ZSBpbnNldC0wIG0tMCBoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtWzJweF0gYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctcG9wb3Zlci1tdXRlZCB0cmFuc2l0aW9uLXNoYWRvdyBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSIKCQkJCQkJLz4KCQkJCQkJPGRpdiBjbGFzc05hbWU9InotMTAgcG9pbnRlci1ldmVudHMtbm9uZSBmbGV4IGgtOCB3LTIgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtWzJweF0gYmctYm9yZGVyLzYwIj4KCQkJCQkJCTxJY29ucy5EcmFnSGFuZGxlIGNsYXNzTmFtZT0ic2l6ZS0zIiAvPgoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCSl9CgoJCQl7cmVzaXphYmxlICYmCgkJCQlzaXplICE9PSAnZnVsbCcgJiYKCQkJCShzaWRlID09PSAndG9wJyB8fCBzaWRlID09PSAnYm90dG9tJykgJiYgKAoJCQkJCTxkaXYKCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCSdhYnNvbHV0ZSBsZWZ0LTEvMiB6LTIwIGZsZXggaC0yIC10cmFuc2xhdGUteC0xLzIgY3Vyc29yLXJvdy1yZXNpemUgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyJywKCQkJCQkJCXNpZGUgPT09ICdib3R0b20nID8gJy10b3AtMScgOiAnLWJvdHRvbS0xJywKCQkJCQkJKX0KCQkJCQk+CgkJCQkJCTxocgoJCQkJCQkJYXJpYS1vcmllbnRhdGlvbj0iaG9yaXpvbnRhbCIKCQkJCQkJCWFyaWEtdmFsdWVub3c9e2N1cnJlbnRTaXplfQoJCQkJCQkJYXJpYS12YWx1ZW1pbj17bWluU2l6ZX0KCQkJCQkJCWFyaWEtdmFsdWVtYXg9e21heFNpemV9CgkJCQkJCQlhcmlhLWxhYmVsPXtyZXNpemVyTGFiZWx9CgkJCQkJCQl0YWJJbmRleD17MH0KCQkJCQkJCW9uS2V5RG93bj17aGFuZGxlS2V5RG93bn0KCQkJCQkJCW9uTW91c2VEb3duPXtiZWdpblJlc2l6ZX0KCQkJCQkJCW9uVG91Y2hTdGFydD17YmVnaW5SZXNpemV9CgkJCQkJCQljbGFzc05hbWU9ImFic29sdXRlIGluc2V0LTAgbS0wIGgtZnVsbCB3LWZ1bGwgcm91bmRlZC1bMnB4XSBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1wb3BvdmVyLW11dGVkIHRyYW5zaXRpb24tc2hhZG93IGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIgoJCQkJCQkvPgoJCQkJCQk8ZGl2IGNsYXNzTmFtZT0iei0xMCBwb2ludGVyLWV2ZW50cy1ub25lIGZsZXggaC0yIHctOCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1bMnB4XSBiZy1ib3JkZXIvNjAiPgoJCQkJCQkJPEljb25zLkRyYWdIYW5kbGUgY2xhc3NOYW1lPSJzaXplLTMgcm90YXRlLTkwIiAvPgoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCSl9CgoJCQl7c2hvd0Nsb3NlICYmICgKCQkJCTxBcmlha2l0LkRpYWxvZ0Rpc21pc3MgY2xhc3NOYW1lPSJhYnNvbHV0ZSB0b3AtMiByaWdodC0yIHotMTAgaW5saW5lLWZsZXggaC02IHctNiBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1zbSB0ZXh0LWZvcmVncm91bmQvNDUgaG92ZXI6YmctcG9wb3Zlci1tdXRlZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQvNzAgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixjb2xvcixib3gtc2hhZG93XSBlYXNlLW91dC1xdWFkIGR1cmF0aW9uLTEwMCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSI+CgkJCQkJPEljb25zLlggYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KCQkJCQk8QXJpYWtpdC5WaXN1YWxseUhpZGRlbj5DbG9zZTwvQXJpYWtpdC5WaXN1YWxseUhpZGRlbj4KCQkJCTwvQXJpYWtpdC5EaWFsb2dEaXNtaXNzPgoJCQkpfQoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LkRpYWxvZz4KCSk7Cn07CgpleHBvcnQgaW50ZXJmYWNlIFNoZWV0Q29udGVudFByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgU2hlZXRDb250ZW50OiBSZWFjdC5GQzxTaGVldENvbnRlbnRQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2ZsZXgtMSBwLTQgdGV4dC1zbSBsZWFkaW5nLXNudWcgdGV4dC1mb3JlZ3JvdW5kLzcwJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTaGVldEhlYWRlcjogUmVhY3QuRkM8U2hlZXRIZWFkZXJQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NuKCdweC00IHB0LTQnLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9PgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFNoZWV0VGl0bGU6IFJlYWN0LkZDPFNoZWV0VGl0bGVQcm9wcz4gPSAoewoJY2hpbGRyZW4sCgljbGFzc05hbWUgPSAnJywKCWFzOiBfQ29tcG9uZW50ID0gJ2gyJywKCS4uLnByb3BzCn0pID0+IHsKCXJldHVybiAoCgkJPEFyaWFraXQuRGlhbG9nSGVhZGluZwoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ3RleHQtYmFzZSBsZWFkaW5nLW5vbmUgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5EaWFsb2dIZWFkaW5nPgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTaGVldERlc2NyaXB0aW9uOiBSZWFjdC5GQzxTaGVldERlc2NyaXB0aW9uUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxBcmlha2l0LkRpYWxvZ0Rlc2NyaXB0aW9uCgkJCWNsYXNzTmFtZT17Y24oCgkJCQknbXQtMSB0ZXh0LXNtIGxlYWRpbmctc251ZyB0ZXh0LWZvcmVncm91bmQvNDUgdGV4dC1iYWxhbmNlJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5EaWFsb2dEZXNjcmlwdGlvbj4KCSk7Cn07CgpleHBvcnQgY29uc3QgU2hlZXRGb290ZXI6IFJlYWN0LkZDPFNoZWV0Rm9vdGVyUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7CglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdtdC1hdXRvIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zIGJvcmRlci10IGJvcmRlci1ib3JkZXIvNjAgYmctW2NvbG9yLW1peChpbl9va2xjaCx2YXIoLS1jb2xvci1wb3BvdmVyKV83MCUsdmFyKC0tY29sb3ItcG9wb3Zlci1tdXRlZClfMzAlKV0gcC00JywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvZGl2PgoJKTsKfTsKCmV4cG9ydCBjb25zdCBTaGVldENsb3NlOiBSZWFjdC5GQzxTaGVldENsb3NlUHJvcHM+ID0gKHsKCWNoaWxkcmVuLAoJY2xhc3NOYW1lID0gJycsCglhc0NoaWxkID0gZmFsc2UsCglkaXNhYmxlZCwKCWF1dG9Gb2N1cywKCW9uQ2xpY2ssCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7IHN0b3JlIH0gPSB1c2VTaGVldCgpOwoJY29uc3QgZm9yd2FyZGVkUHJvcHMgPSB7CgkJLi4uKGRpc2FibGVkICE9PSB1bmRlZmluZWQgPyB7IGRpc2FibGVkIH0gOiB7fSksCgkJLi4uKGF1dG9Gb2N1cyAhPT0gdW5kZWZpbmVkID8geyBhdXRvRm9jdXMgfSA6IHt9KSwKCX07CgoJaWYgKGFzQ2hpbGQgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7CgkJY29uc3QgY2hpbGQgPSBjaGlsZHJlbiBhcyBSZWFjdC5SZWFjdEVsZW1lbnQ8CgkJCVJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PgoJCT47CgkJY29uc3QgaGFuZGxlQ2xpY2s6IFJlYWN0Lk1vdXNlRXZlbnRIYW5kbGVyPEhUTUxCdXR0b25FbGVtZW50PiA9IChlKSA9PiB7CgkJCXN0b3JlLmhpZGUoKTsKCQkJY2hpbGQucHJvcHM/Lm9uQ2xpY2s/LihlKTsKCQkJb25DbGljaz8uKGUpOwoJCX07CgkJcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgewoJCQlvbkNsaWNrOiBoYW5kbGVDbGljaywKCQkJLi4uZm9yd2FyZGVkUHJvcHMsCgkJCS4uLnByb3BzLAoJCQkuLi4oY2hpbGQucHJvcHMgfHwge30pLAoJCX0pOwoJfQoKCXJldHVybiAoCgkJPEFyaWFraXQuRGlhbG9nRGlzbWlzcwoJCQlzdG9yZT17c3RvcmV9CgkJCWNsYXNzTmFtZT17Y24oCgkJCQkiaW5saW5lLWZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgYmctdHJhbnNwYXJlbnQgaC05IHB4LTQgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTMgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNCBzaHJpbmstMCBbJl9zdmddOnNocmluay0wIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIGhvdmVyOmJnLXBvcG92ZXItbXV0ZWQgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixib3gtc2hhZG93XSBlYXNlLW91dC1xdWFkIGR1cmF0aW9uLTEwMCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSIsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXR5cGU9ImJ1dHRvbiIKCQkJb25DbGljaz17b25DbGlja30KCQkJey4uLmZvcndhcmRlZFByb3BzfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW4gfHwgJ0Nsb3NlJ30KCQk8L0FyaWFraXQuRGlhbG9nRGlzbWlzcz4KCSk7Cn07"
,
  "sidebar.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgUm9sZSB9IGZyb20gJ0Bhcmlha2l0L3JlYWN0JzsKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2xpYi9pY29ucyc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBDb21tYW5kSywgdHlwZSBDb21tYW5kS0l0ZW0gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY29tbWFuZC1rJzsKaW1wb3J0IHsgS2JkIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2tiZCc7CmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEnOwppbXBvcnQgeyBTZXBhcmF0b3IgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VwYXJhdG9yJzsKaW1wb3J0IHsKCVNoZWV0LAoJU2hlZXRDb250ZW50LAoJU2hlZXREZXNjcmlwdGlvbiwKCVNoZWV0SGVhZGVyLAoJU2hlZXRTdXJmYWNlLAoJU2hlZXRUaXRsZSwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2hlZXQnOwppbXBvcnQgewoJVG9vbHRpcCwKCVRvb2x0aXBDb250ZW50LAoJdHlwZSBUb29sdGlwQ29udGVudFByb3BzLAoJdHlwZSBUb29sdGlwUHJvcHMsCglUb29sdGlwVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdG9vbHRpcCc7Cgpjb25zdCBTSURFQkFSX1dJRFRIID0gJzE4cmVtJzsKY29uc3QgU0lERUJBUl9XSURUSF9NT0JJTEUgPSAnMTlyZW0nOwpjb25zdCBTSURFQkFSX0hPVkVSX1pPTkUgPSAxMjsKY29uc3QgU0lERUJBUl9NT0JJTEVfU0hFRVRfU1RZTEVTID0gewoJJy0tc2hlZXQtd2lkdGgnOiBTSURFQkFSX1dJRFRIX01PQklMRSwKCXdpZHRoOiAndmFyKC0tc2hlZXQtd2lkdGgpJywKfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzOwpjb25zdCBTSURFQkFSX0hPVkVSX1pPTkVfU1RZTEUgPSB7Cgl3aWR0aDogU0lERUJBUl9IT1ZFUl9aT05FLAp9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXM7Cgp0eXBlIFNpZGViYXJNZW51SXRlbUNvbnRleHRWYWx1ZSA9IHsKCWNvbGxhcHNpYmxlOiBib29sZWFuOwoJb3BlbjogYm9vbGVhbjsKCXRvZ2dsZTogKCkgPT4gdm9pZDsKfTsKCmNvbnN0IFNpZGViYXJNZW51SXRlbUNvbnRleHQgPQoJUmVhY3QuY3JlYXRlQ29udGV4dDxTaWRlYmFyTWVudUl0ZW1Db250ZXh0VmFsdWUgfCBudWxsPihudWxsKTsKCmNvbnN0IHVzZVNpZGViYXJNZW51SXRlbSA9ICgpID0+IFJlYWN0LnVzZUNvbnRleHQoU2lkZWJhck1lbnVJdGVtQ29udGV4dCk7Cgp0eXBlIFNpZGViYXJDb250ZXh0VmFsdWUgPSB7CglzaWRlOiAnbGVmdCcgfCAncmlnaHQnOwoJc3RhdGU6ICdleHBhbmRlZCcgfCAnY29sbGFwc2VkJzsKCW9wZW46IGJvb2xlYW47CglzZXRPcGVuOiAob3BlbjogYm9vbGVhbiB8ICgob3BlbjogYm9vbGVhbikgPT4gYm9vbGVhbikpID0+IHZvaWQ7Cgl0b2dnbGVTaWRlYmFyOiAoKSA9PiB2b2lkOwoJaXNNb2JpbGU6IGJvb2xlYW47CglvcGVuTW9iaWxlOiBib29sZWFuOwoJc2V0T3Blbk1vYmlsZTogKG9wZW46IGJvb2xlYW4gfCAoKG9wZW46IGJvb2xlYW4pID0+IGJvb2xlYW4pKSA9PiB2b2lkOwoJaXNQZWVraW5nOiBib29sZWFuOwoJc3RhcnRQZWVrOiAoKSA9PiB2b2lkOwoJc3RvcFBlZWs6ICgpID0+IHZvaWQ7Cn07Cgpjb25zdCBTaWRlYmFyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8U2lkZWJhckNvbnRleHRWYWx1ZSB8IG51bGw+KG51bGwpOwoKZnVuY3Rpb24gdXNlU2lkZWJhcigpIHsKCWNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KFNpZGViYXJDb250ZXh0KTsKCWlmICghY29udGV4dCkgewoJCXRocm93IG5ldyBFcnJvcigndXNlU2lkZWJhciBtdXN0IGJlIHVzZWQgd2l0aGluIGEgU2lkZWJhclByb3ZpZGVyLicpOwoJfQoKCXJldHVybiBjb250ZXh0Owp9CgpmdW5jdGlvbiB1c2VNZWRpYVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcpIHsKCWNvbnN0IFttYXRjaGVzLCBzZXRNYXRjaGVzXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93Lm1hdGNoTWVkaWEpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgbWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KTsKCQljb25zdCB1cGRhdGVNYXRjaGVzID0gKCkgPT4gc2V0TWF0Y2hlcyhtZWRpYVF1ZXJ5Lm1hdGNoZXMpOwoKCQl1cGRhdGVNYXRjaGVzKCk7CgkJbWVkaWFRdWVyeS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVNYXRjaGVzKTsKCgkJcmV0dXJuICgpID0+IG1lZGlhUXVlcnkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdXBkYXRlTWF0Y2hlcyk7Cgl9LCBbcXVlcnldKTsKCglyZXR1cm4gbWF0Y2hlczsKfQoKZnVuY3Rpb24gdXNlSXNNb2JpbGUoKSB7CglyZXR1cm4gdXNlTWVkaWFRdWVyeSgnKG1heC13aWR0aDogNzY4cHgpJyk7Cn0KCnR5cGUgQ29udHJvbGxhYmxlU3RhdGVQcm9wczxUPiA9IHsKCXZhbHVlPzogVCB8IHVuZGVmaW5lZDsKCWRlZmF1bHRWYWx1ZTogVDsKCW9uQ2hhbmdlPzogKHZhbHVlOiBUKSA9PiB2b2lkOwp9OwoKZnVuY3Rpb24gdXNlQ29udHJvbGxhYmxlU3RhdGU8VD4oewoJdmFsdWUsCglkZWZhdWx0VmFsdWUsCglvbkNoYW5nZSwKfTogQ29udHJvbGxhYmxlU3RhdGVQcm9wczxUPikgewoJY29uc3QgW2ludGVybmFsVmFsdWUsIHNldEludGVybmFsVmFsdWVdID0gUmVhY3QudXNlU3RhdGUoZGVmYXVsdFZhbHVlKTsKCWNvbnN0IGlzQ29udHJvbGxlZCA9IHZhbHVlICE9PSB1bmRlZmluZWQ7Cgljb25zdCBjdXJyZW50VmFsdWUgPSBpc0NvbnRyb2xsZWQgPyAodmFsdWUgYXMgVCkgOiBpbnRlcm5hbFZhbHVlOwoJY29uc3QgdmFsdWVSZWYgPSBSZWFjdC51c2VSZWYoY3VycmVudFZhbHVlKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCXZhbHVlUmVmLmN1cnJlbnQgPSBjdXJyZW50VmFsdWU7Cgl9LCBbY3VycmVudFZhbHVlXSk7CgoJY29uc3Qgc2V0VmFsdWUgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkobmV4dFZhbHVlOiBUIHwgKChwcmV2aW91czogVCkgPT4gVCkpID0+IHsKCQkJY29uc3QgcmVzb2x2ZWRWYWx1ZSA9CgkJCQl0eXBlb2YgbmV4dFZhbHVlID09PSAnZnVuY3Rpb24nCgkJCQkJPyAobmV4dFZhbHVlIGFzIChwcmV2aW91czogVCkgPT4gVCkodmFsdWVSZWYuY3VycmVudCkKCQkJCQk6IG5leHRWYWx1ZTsKCQkJaWYgKCFpc0NvbnRyb2xsZWQpIHsKCQkJCXNldEludGVybmFsVmFsdWUocmVzb2x2ZWRWYWx1ZSk7CgkJCX0KCQkJb25DaGFuZ2U/LihyZXNvbHZlZFZhbHVlKTsKCQl9LAoJCVtpc0NvbnRyb2xsZWQsIG9uQ2hhbmdlXSwKCSk7CgoJcmV0dXJuIFtjdXJyZW50VmFsdWUsIHNldFZhbHVlXSBhcyBjb25zdDsKfQoKZnVuY3Rpb24gdXNlUGVla1N0YXRlKG9wZW46IGJvb2xlYW4sIGlzTW9iaWxlOiBib29sZWFuKSB7Cgljb25zdCBbaXNQZWVraW5nLCBzZXRJc1BlZWtpbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwoJY29uc3QgcGVla1RpbWVvdXRSZWYgPSBSZWFjdC51c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7CgoJY29uc3QgY2xlYXJQZWVrVGltZW91dCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQlpZiAocGVla1RpbWVvdXRSZWYuY3VycmVudCAhPT0gbnVsbCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewoJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KHBlZWtUaW1lb3V0UmVmLmN1cnJlbnQpOwoJCQlwZWVrVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDsKCQl9Cgl9LCBbXSk7CgoJY29uc3Qgc3RhcnRQZWVrID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCWlmIChvcGVuIHx8IGlzTW9iaWxlKSB7CgkJCXJldHVybjsKCQl9CgkJY2xlYXJQZWVrVGltZW91dCgpOwoJCXNldElzUGVla2luZyh0cnVlKTsKCX0sIFtjbGVhclBlZWtUaW1lb3V0LCBpc01vYmlsZSwgb3Blbl0pOwoKCWNvbnN0IHN0b3BQZWVrID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCWlmIChvcGVuIHx8IGlzTW9iaWxlKSB7CgkJCXJldHVybjsKCQl9CgkJY2xlYXJQZWVrVGltZW91dCgpOwoJCWlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgewoJCQlzZXRJc1BlZWtpbmcoZmFsc2UpOwoJCQlyZXR1cm47CgkJfQoJCXBlZWtUaW1lb3V0UmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CgkJCXNldElzUGVla2luZyhmYWxzZSk7CgkJCXBlZWtUaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsOwoJCX0sIDE1MCk7Cgl9LCBbY2xlYXJQZWVrVGltZW91dCwgaXNNb2JpbGUsIG9wZW5dKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCXJldHVybiAoKSA9PiBjbGVhclBlZWtUaW1lb3V0KCk7Cgl9LCBbY2xlYXJQZWVrVGltZW91dF0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKG9wZW4pIHsKCQkJc2V0SXNQZWVraW5nKGZhbHNlKTsKCQl9Cgl9LCBbb3Blbl0pOwoKCXJldHVybiB7IGlzUGVla2luZywgc3RhcnRQZWVrLCBzdG9wUGVlayB9IGFzIGNvbnN0Owp9Cgp0eXBlIFNpZGViYXJQcm92aWRlclByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHM8J2Rpdic+ICYgewoJc2lkZT86ICdsZWZ0JyB8ICdyaWdodCc7CglkZWZhdWx0T3Blbj86IGJvb2xlYW47CglvcGVuPzogYm9vbGVhbjsKCW9uT3BlbkNoYW5nZT86IChvcGVuOiBib29sZWFuKSA9PiB2b2lkOwp9OwoKZnVuY3Rpb24gU2lkZWJhclByb3ZpZGVyKHsKCXNpZGUgPSAnbGVmdCcsCglkZWZhdWx0T3BlbiA9IHRydWUsCglvcGVuOiBvcGVuUHJvcCwKCW9uT3BlbkNoYW5nZSwKCWNsYXNzTmFtZSwKCWNoaWxkcmVuLAoJc3R5bGUsCgkuLi5wcm9wcwp9OiBTaWRlYmFyUHJvdmlkZXJQcm9wcykgewoJY29uc3QgaXNNb2JpbGUgPSB1c2VJc01vYmlsZSgpOwoJY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoewoJCWRlZmF1bHRWYWx1ZTogZGVmYXVsdE9wZW4sCgkJLi4uKG9wZW5Qcm9wICE9PSB1bmRlZmluZWQgPyB7IHZhbHVlOiBvcGVuUHJvcCB9IDoge30pLAoJCS4uLihvbk9wZW5DaGFuZ2UgPyB7IG9uQ2hhbmdlOiBvbk9wZW5DaGFuZ2UgfSA6IHt9KSwKCX0pOwoJY29uc3QgW29wZW5Nb2JpbGUsIHNldE9wZW5Nb2JpbGVdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwoJY29uc3QgeyBpc1BlZWtpbmcsIHN0YXJ0UGVlaywgc3RvcFBlZWsgfSA9IHVzZVBlZWtTdGF0ZShvcGVuLCBpc01vYmlsZSk7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIWlzTW9iaWxlKSB7CgkJCXNldE9wZW5Nb2JpbGUoZmFsc2UpOwoJCX0KCX0sIFtpc01vYmlsZV0pOwoKCWNvbnN0IHRvZ2dsZVNpZGViYXIgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJaWYgKGlzTW9iaWxlKSB7CgkJCXNldE9wZW5Nb2JpbGUoKHZhbHVlKSA9PiAhdmFsdWUpOwoJCQlyZXR1cm47CgkJfQoJCXNldE9wZW4oKHZhbHVlKSA9PiAhdmFsdWUpOwoJfSwgW2lzTW9iaWxlLCBzZXRPcGVuXSk7CgoJY29uc3Qgc3RhdGUgPSBvcGVuID8gJ2V4cGFuZGVkJyA6ICdjb2xsYXBzZWQnOwoKCWNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW88U2lkZWJhckNvbnRleHRWYWx1ZT4oCgkJKCkgPT4gKHsKCQkJc2lkZSwKCQkJb3BlbiwKCQkJc2V0T3BlbiwKCQkJdG9nZ2xlU2lkZWJhciwKCQkJc3RhdGUsCgkJCWlzTW9iaWxlLAoJCQlvcGVuTW9iaWxlLAoJCQlzZXRPcGVuTW9iaWxlLAoJCQlpc1BlZWtpbmcsCgkJCXN0YXJ0UGVlaywKCQkJc3RvcFBlZWssCgkJfSksCgkJWwoJCQlzaWRlLAoJCQlvcGVuLAoJCQlzZXRPcGVuLAoJCQl0b2dnbGVTaWRlYmFyLAoJCQlzdGF0ZSwKCQkJaXNNb2JpbGUsCgkJCW9wZW5Nb2JpbGUsCgkJCXN0YXJ0UGVlaywKCQkJc3RvcFBlZWssCgkJCWlzUGVla2luZywKCQldLAoJKTsKCgljb25zdCBwcm92aWRlclN0eWxlID0gUmVhY3QudXNlTWVtbygKCQkoKSA9PgoJCQkoewoJCQkJJy0tc2lkZWJhci13aWR0aCc6IFNJREVCQVJfV0lEVEgsCgkJCQknLS1zaWRlYmFyLXdpZHRoLW1vYmlsZSc6IFNJREVCQVJfV0lEVEhfTU9CSUxFLAoJCQkJLi4uc3R5bGUsCgkJCX0pIGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsCgkJW3N0eWxlXSwKCSk7CgoJcmV0dXJuICgKCQk8U2lkZWJhckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+CgkJCTxkaXYKCQkJCWRhdGEtc2xvdD0ic2lkZWJhci13cmFwcGVyIgoJCQkJZGF0YS1zdGF0ZT17c3RhdGV9CgkJCQlkYXRhLXNpZGU9e3NpZGV9CgkJCQlkYXRhLXBlZWs9e2lzUGVla2luZyA/ICd0cnVlJyA6ICdmYWxzZSd9CgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSdncm91cC9zaWRlYmFyLXdyYXBwZXIgcmVsYXRpdmUgZmxleCBtaW4taC05NiB3LWZ1bGwnLAoJCQkJCWNsYXNzTmFtZSwKCQkJCSl9CgkJCQlzdHlsZT17cHJvdmlkZXJTdHlsZX0KCQkJCXsuLi5wcm9wc30KCQkJPgoJCQkJe2NoaWxkcmVufQoJCQk8L2Rpdj4KCQk8L1NpZGViYXJDb250ZXh0LlByb3ZpZGVyPgoJKTsKfQoKdHlwZSBTaWRlYmFyUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wczwnZGl2Jz4gJiB7CglzaWRlPzogJ2xlZnQnIHwgJ3JpZ2h0JzsKfTsKCmZ1bmN0aW9uIFNpZGViYXIoewoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCglzaWRlOiBzaWRlUHJvcCwKCS4uLnByb3BzCn06IFNpZGViYXJQcm9wcykgewoJY29uc3QgewoJCXNpZGU6IGNvbnRleHRTaWRlLAoJCXN0YXRlLAoJCWlzTW9iaWxlLAoJCW9wZW4sCgkJb3Blbk1vYmlsZSwKCQlzZXRPcGVuTW9iaWxlLAoJCWlzUGVla2luZywKCQlzdGFydFBlZWssCgkJc3RvcFBlZWssCgl9ID0gdXNlU2lkZWJhcigpOwoJY29uc3Qgc2lkZSA9IHNpZGVQcm9wID8/IGNvbnRleHRTaWRlOwoJY29uc3QgaXNWaXNpYmxlID0gb3BlbiB8fCBpc1BlZWtpbmc7Cgljb25zdCBpc0Zsb2F0aW5nID0gIW9wZW47CgoJaWYgKGlzTW9iaWxlKSB7CgkJcmV0dXJuICgKCQkJPFNpZGViYXJNb2JpbGVWaWV3CgkJCQlzaWRlPXtzaWRlfQoJCQkJb3Blbk1vYmlsZT17b3Blbk1vYmlsZX0KCQkJCXNldE9wZW5Nb2JpbGU9e3NldE9wZW5Nb2JpbGV9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9TaWRlYmFyTW9iaWxlVmlldz4KCQkpOwoJfQoKCXJldHVybiAoCgkJPFNpZGViYXJEZXNrdG9wVmlldwoJCQl7Li4ucHJvcHN9CgkJCWNsYXNzTmFtZT17Y2xhc3NOYW1lfQoJCQlzaWRlPXtzaWRlfQoJCQlzdGF0ZT17c3RhdGV9CgkJCWlzT3Blbj17b3Blbn0KCQkJaXNWaXNpYmxlPXtpc1Zpc2libGV9CgkJCWlzRmxvYXRpbmc9e2lzRmxvYXRpbmd9CgkJCXN0YXJ0UGVlaz17c3RhcnRQZWVrfQoJCQlzdG9wUGVlaz17c3RvcFBlZWt9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9TaWRlYmFyRGVza3RvcFZpZXc+CgkpOwp9Cgp0eXBlIFNpZGViYXJNb2JpbGVWaWV3UHJvcHMgPSB7CglzaWRlOiAnbGVmdCcgfCAncmlnaHQnOwoJb3Blbk1vYmlsZTogYm9vbGVhbjsKCXNldE9wZW5Nb2JpbGU6IFNpZGViYXJDb250ZXh0VmFsdWVbJ3NldE9wZW5Nb2JpbGUnXTsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cn07CgpmdW5jdGlvbiBTaWRlYmFyTW9iaWxlVmlldyh7CglzaWRlLAoJb3Blbk1vYmlsZSwKCXNldE9wZW5Nb2JpbGUsCgljaGlsZHJlbiwKfTogU2lkZWJhck1vYmlsZVZpZXdQcm9wcykgewoJcmV0dXJuICgKCQk8U2hlZXQgb3Blbj17b3Blbk1vYmlsZX0gb25PcGVuQ2hhbmdlPXtzZXRPcGVuTW9iaWxlfT4KCQkJPFNoZWV0U3VyZmFjZQoJCQkJc2hvd0Nsb3NlPXtmYWxzZX0KCQkJCXNpZGU9e3NpZGV9CgkJCQlzdHlsZT17U0lERUJBUl9NT0JJTEVfU0hFRVRfU1RZTEVTfQoJCQk+CgkJCQk8U2hlZXRIZWFkZXIgY2xhc3NOYW1lPSJzci1vbmx5Ij4KCQkJCQk8U2hlZXRUaXRsZT5TaWRlYmFyPC9TaGVldFRpdGxlPgoJCQkJCTxTaGVldERlc2NyaXB0aW9uPkRpc3BsYXlzIHRoZSBzaWRlYmFyIG5hdmlnYXRpb24uPC9TaGVldERlc2NyaXB0aW9uPgoJCQkJPC9TaGVldEhlYWRlcj4KCQkJCTxTaGVldENvbnRlbnQgY2xhc3NOYW1lPSJwLTAgcmVsYXRpdmUiPgoJCQkJCTxTaWRlYmFyVHJpZ2dlcgoJCQkJCQlmbG9hdGluZz17ZmFsc2V9CgkJCQkJCWNsYXNzTmFtZT0iYWJzb2x1dGUgcmlnaHQtMyB0b3AtMyBoLTggdy04IG1kOmZsZXggYm9yZGVyLW5vbmUgYmVmb3JlOmNvbnRlbnQtbm9uZSEgYmVmb3JlOnNoYWRvdy1ub25lISIKCQkJCQkvPgoJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuIj4KCQkJCQkJe2NoaWxkcmVufQoJCQkJCTwvZGl2PgoJCQkJPC9TaGVldENvbnRlbnQ+CgkJCTwvU2hlZXRTdXJmYWNlPgoJCTwvU2hlZXQ+CgkpOwp9Cgp0eXBlIFNpZGViYXJEZXNrdG9wVmlld1Byb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHM8J2Rpdic+ICYgewoJc2lkZTogJ2xlZnQnIHwgJ3JpZ2h0JzsKCXN0YXRlOiAnZXhwYW5kZWQnIHwgJ2NvbGxhcHNlZCc7Cglpc09wZW46IGJvb2xlYW47Cglpc1Zpc2libGU6IGJvb2xlYW47Cglpc0Zsb2F0aW5nOiBib29sZWFuOwoJc3RhcnRQZWVrOiAoKSA9PiB2b2lkOwoJc3RvcFBlZWs6ICgpID0+IHZvaWQ7Cn07CgpmdW5jdGlvbiBTaWRlYmFyRGVza3RvcFZpZXcoewoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCglzaWRlLAoJc3RhdGUsCglpc09wZW4sCglpc1Zpc2libGUsCglpc0Zsb2F0aW5nLAoJc3RhcnRQZWVrLAoJc3RvcFBlZWssCgkuLi5wcm9wcwp9OiBTaWRlYmFyRGVza3RvcFZpZXdQcm9wcykgewoJY29uc3QgZ2FwQ2xhc3NlcyA9IGNuKAoJCSdyZWxhdGl2ZSBoaWRkZW4gaC1mdWxsIHNocmluay0wIHRyYW5zaXRpb24tW3dpZHRoXSBkdXJhdGlvbi00NTAgZWFzZS1zbW9vdGggbWQ6YmxvY2snLAoJCWlzT3BlbiA/ICd3LSgtLXNpZGViYXItd2lkdGgpJyA6ICd3LTAnLAoJKTsKCWNvbnN0IGhvdmVyWm9uZUNsYXNzZXMgPSBjbigKCQknYWJzb2x1dGUgaW5zZXQteS0wIHotMzAnLAoJCXNpZGUgPT09ICdsZWZ0JyA/ICdsZWZ0LTAnIDogJ3JpZ2h0LTAnLAoJKTsKCWNvbnN0IGZsb2F0aW5nQ2xhc3NlcyA9IGlzRmxvYXRpbmcKCQk/ICd0b3AtMiBib3R0b20tMiByb3VuZGVkLWxnIGNhcmQtaGlnaGxpZ2h0JwoJCTogJ2luc2V0LXktMCBoLWZ1bGwnOwoJY29uc3Qgc2lkZVBvc2l0aW9uQ2xhc3NlcyA9CgkJc2lkZSA9PT0gJ2xlZnQnCgkJCT8gaXNGbG9hdGluZwoJCQkJPyAnbGVmdC0yIGJvcmRlcicKCQkJCTogJ2xlZnQtMCBib3JkZXItcicKCQkJOiBpc0Zsb2F0aW5nCgkJCQk/ICdyaWdodC0yIGJvcmRlcicKCQkJCTogJ3JpZ2h0LTAgYm9yZGVyLWwnOwoJY29uc3QgaGlkZGVuVHJhbnNsYXRlQ2xhc3NlcyA9CgkJc2lkZSA9PT0gJ2xlZnQnCgkJCT8gJy10cmFuc2xhdGUteC1bY2FsYygxMDAlKzEuNXJlbSldJwoJCQk6ICd0cmFuc2xhdGUteC1bY2FsYygxMDAlKzEuNXJlbSldJzsKCWNvbnN0IHZpc2liaWxpdHlDbGFzc2VzID0gaXNWaXNpYmxlCgkJPyAncG9pbnRlci1ldmVudHMtYXV0byB0cmFuc2xhdGUteC0wJwoJCTogY24oJ3BvaW50ZXItZXZlbnRzLW5vbmUnLCBoaWRkZW5UcmFuc2xhdGVDbGFzc2VzKTsKCWNvbnN0IGNvbnRhaW5lckNsYXNzZXMgPSBjbigKCQknYWJzb2x1dGUgei00MCBmbGV4IHctKC0tc2lkZWJhci13aWR0aCkgZmxleC1jb2wgYmctcG9wb3ZlciBib3JkZXItYm9yZGVyIHRleHQtZm9yZWdyb3VuZCB0cmFuc2l0aW9uLVt0cmFuc2xhdGUsd2lkdGgsdHJhbnNmb3JtXSBkdXJhdGlvbi00NTAgZWFzZS1zbW9vdGgnLAoJCWlzVmlzaWJsZSAmJgoJCQkhaXNGbG9hdGluZyAmJgoJCQkndHJhbnNpdGlvbi1bdHJhbnNsYXRlLHdpZHRoLHRyYW5zZm9ybSxsZWZ0LHJpZ2h0LHRvcCxib3R0b20sYm9yZGVyLXJhZGl1c10nLAoJCWZsb2F0aW5nQ2xhc3NlcywKCQlzaWRlUG9zaXRpb25DbGFzc2VzLAoJCXZpc2liaWxpdHlDbGFzc2VzLAoJKTsKCglyZXR1cm4gKAoJCTxkaXYKCQkJZGF0YS1zbG90PSJzaWRlYmFyIgoJCQlkYXRhLXN0YXRlPXtzdGF0ZX0KCQkJZGF0YS1zaWRlPXtzaWRlfQoJCQlkYXRhLXZpc2libGU9e2lzVmlzaWJsZSA/ICd0cnVlJyA6ICdmYWxzZSd9CgkJCWRhdGEtZmxvYXRpbmc9e2lzRmxvYXRpbmcgPyAndHJ1ZScgOiAnZmFsc2UnfQoJCQlhcmlhLWhpZGRlbj17aXNPcGVuID8gdW5kZWZpbmVkIDogdHJ1ZX0KCQkJY2xhc3NOYW1lPXtjbignZ3JvdXAvc2lkZWJhciByZWxhdGl2ZSB6LTUwIGhpZGRlbiBtZDpmbGV4JywgY2xhc3NOYW1lKX0KCQkJey4uLnByb3BzfQoJCT4KCQkJPGRpdiBkYXRhLXNsb3Q9InNpZGViYXItZ2FwIiBjbGFzc05hbWU9e2dhcENsYXNzZXN9IC8+CgkJCTxkaXYKCQkJCWRhdGEtc2xvdD0ic2lkZWJhci1ob3Zlci16b25lIgoJCQkJY2xhc3NOYW1lPXtob3ZlclpvbmVDbGFzc2VzfQoJCQkJc3R5bGU9e1NJREVCQVJfSE9WRVJfWk9ORV9TVFlMRX0KCQkJCW9uUG9pbnRlckVudGVyPXtzdGFydFBlZWt9CgkJCQlvblBvaW50ZXJMZWF2ZT17c3RvcFBlZWt9CgkJCS8+CgkJCTxkaXYKCQkJCWRhdGEtc2xvdD0ic2lkZWJhci1jb250YWluZXIiCgkJCQljbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzZXN9CgkJCQlvblBvaW50ZXJFbnRlcj17c3RhcnRQZWVrfQoJCQkJb25Qb2ludGVyTGVhdmU9e3N0b3BQZWVrfQoJCQk+CgkJCQk8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUgZmxleCBoLWZ1bGwgdy1mdWxsIGZsZXgtY29sIj4KCQkJCQk8U2lkZWJhclRyaWdnZXIKCQkJCQkJZmxvYXRpbmc9e2ZhbHNlfQoJCQkJCQljbGFzc05hbWU9ImFic29sdXRlIHJpZ2h0LTMgdG9wLTMgaGlkZGVuIGgtOCB3LTggbWQ6ZmxleCBob3ZlcjpiZy10cmFuc3BhcmVudCBib3JkZXItbm9uZSBiZWZvcmU6Y29udGVudC1ub25lISBiZWZvcmU6c2hhZG93LW5vbmUhIgoJCQkJCS8+CgkJCQkJe2NoaWxkcmVufQoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCTwvZGl2PgoJKTsKfQoKdHlwZSBTaWRlYmFyVHJpZ2dlclByb3BzID0gT21pdDwKCVJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBCdXR0b24+LAoJJ2NoaWxkcmVuJwo+ICYgewoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7CglmbG9hdGluZz86IGJvb2xlYW47Cn07CgpmdW5jdGlvbiBTaWRlYmFyVHJpZ2dlcih7CgljbGFzc05hbWUsCgljaGlsZHJlbiwKCWZsb2F0aW5nID0gdHJ1ZSwKCW9uQ2xpY2ssCgkuLi5wcm9wcwp9OiBTaWRlYmFyVHJpZ2dlclByb3BzKSB7Cgljb25zdCB7IHRvZ2dsZVNpZGViYXIgfSA9IHVzZVNpZGViYXIoKTsKCglyZXR1cm4gKAoJCTxCdXR0b24KCQkJdHlwZT0iYnV0dG9uIgoJCQl2YXJpYW50PSJpY29uIgoJCQlkYXRhLXNsb3Q9InNpZGViYXItdHJpZ2dlciIKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdncm91cC9zaWRlYmFyLXRyaWdnZXIgY3Vyc29yLXBvaW50ZXIgYmctcG9wb3ZlciB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6YmctcG9wb3Zlci1tdXRlZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgYm9yZGVyIGJvcmRlci1ib3JkZXIgY2FyZC1oaWdobGlnaHQnLAoJCQkJZmxvYXRpbmcgJiYKCQkJCQknYWJzb2x1dGUgdG9wLTQuNSBsZWZ0LTQuNSB6LTIwIGgtMTAgdy0xMCByb3VuZGVkLW1kIHNoYWRvdy1sZycsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCW9uQ2xpY2s9eyhldmVudCkgPT4gewoJCQkJb25DbGljaz8uKGV2ZW50KTsKCQkJCXRvZ2dsZVNpZGViYXIoKTsKCQkJfX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVuID8/IDxJY29ucy5WaWV3VmVydGljYWwgY2xhc3NOYW1lPSJzaXplLTUiIC8+fQoJCQk8c3BhbiBjbGFzc05hbWU9InNyLW9ubHkiPlRvZ2dsZSBzaWRlYmFyPC9zcGFuPgoJCTwvQnV0dG9uPgoJKTsKfQoKZnVuY3Rpb24gU2lkZWJhckluc2V0KHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5Db21wb25lbnRQcm9wczwnbWFpbic+KSB7CglyZXR1cm4gKAoJCTxtYWluCgkJCWRhdGEtc2xvdD0ic2lkZWJhci1pbnNldCIKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdyZWxhdGl2ZSB3LWZ1bGwgdHJhbnNpdGlvbi1bcGFkZGluZ10gZHVyYXRpb24tNDUwIGVhc2Utc21vb3RoJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCS8+CgkpOwp9Cgp0eXBlIFNpZGViYXJJbnB1dFByb3BzID0gT21pdDwKCVJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBCdXR0b24+LAoJJ2NoaWxkcmVuJyB8ICd2YXJpYW50JyB8ICdzaXplJwo+ICYgewoJaXRlbXM/OiBDb21tYW5kS0l0ZW1bXTsKCXBsYWNlaG9sZGVyPzogc3RyaW5nOwp9OwoKZnVuY3Rpb24gU2lkZWJhcklucHV0KHsKCWNsYXNzTmFtZSwKCW9uQ2xpY2ssCglpdGVtcyA9IFtdLAoJcGxhY2Vob2xkZXIgPSAnU2VhcmNoLi4uJywKCWRpc2FibGVkLAoJLi4ucHJvcHMKfTogU2lkZWJhcklucHV0UHJvcHMpIHsKCWNvbnN0IFtvcGVuLCBzZXRPcGVuXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTsKCWNvbnN0IGlzRGlzYWJsZWQgPSBCb29sZWFuKGRpc2FibGVkKTsKCglyZXR1cm4gKAoJCTw+CgkJCTxCdXR0b24KCQkJCXR5cGU9ImJ1dHRvbiIKCQkJCWRhdGEtc2xvdD0ic2lkZWJhci1pbnB1dCIKCQkJCXNpemU9Im1kIgoJCQkJdmFyaWFudD0iZ2hvc3QiCgkJCQlkaXNhYmxlZD17aXNEaXNhYmxlZH0KCQkJCW9uQ2xpY2s9eyhldmVudCkgPT4gewoJCQkJCWlmIChpc0Rpc2FibGVkKSB7CgkJCQkJCW9uQ2xpY2s/LihldmVudCk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQkJb25DbGljaz8uKGV2ZW50KTsKCQkJCQlzZXRPcGVuKHRydWUpOwoJCQkJfX0KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ2dyb3VwL3NpZGViYXItaW5wdXQgaC05IHB4LTMgcHktMiB3LWZ1bGwganVzdGlmeS1zdGFydCBnYXAtMiByb3VuZGVkLW1kIGJnLWNhcmQgaG92ZXI6YmctY2FyZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQvNzAgdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQvNDUnLAoJCQkJCSdib3JkZXIgYm9yZGVyLWJvcmRlciBkYXJrOmJvcmRlci1ub25lIHJpbmctMiByaW5nLWNhcmQtbXV0ZWQnLAoJCQkJCSJyZWxhdGl2ZSBiZWZvcmU6Y29udGVudC1bJyddIGJlZm9yZTphYnNvbHV0ZSBiZWZvcmU6aW5zZXQtMCBiZWZvcmU6cm91bmRlZC1tZCBiZWZvcmU6cG9pbnRlci1ldmVudHMtbm9uZSIsCgkJCQkJJ2Rhcms6YmVmb3JlOnNoYWRvdy1baW5zZXRfMF8xcHhfMF9yZ2IoMF8wXzAvMC4xKSxpbnNldF8wXy0xcHhfMF9va2xjaChmcm9tX3ZhcigtLWFycm93LWhpZ2hsaWdodClfbF9jX2gvMC42KV0nLAoJCQkJCWlzRGlzYWJsZWQgJiYgJ29wYWNpdHktNTAnLAoJCQkJCWNsYXNzTmFtZSwKCQkJCSl9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCTxJY29ucy5TZWFyY2ggY2xhc3NOYW1lPSJzaXplLTUgdGV4dC1mb3JlZ3JvdW5kLzQ1IiAvPgoJCQkJPHNwYW4gY2xhc3NOYW1lPSJmbGV4LTEgdHJ1bmNhdGUgdGV4dC1sZWZ0Ij57cGxhY2Vob2xkZXJ9PC9zcGFuPgoJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggZ2FwLTEgaXRlbXMtY2VudGVyIj4KCQkJCQk8S2JkIHNpemU9Im1kIiBjbGFzc05hbWU9ImJnLWNhcmQtbXV0ZWQiPgoJCQkJCQnijJggSwoJCQkJCTwvS2JkPgoJCQkJPC9kaXY+CgkJCTwvQnV0dG9uPgoKCQkJPENvbW1hbmRLIGl0ZW1zPXtpdGVtc30gb3Blbj17b3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRPcGVufSAvPgoJCTwvPgoJKTsKfQoKZnVuY3Rpb24gU2lkZWJhckhlYWRlcih7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfTogUmVhY3QuQ29tcG9uZW50UHJvcHM8J2Rpdic+KSB7CglyZXR1cm4gKAoJCTxkaXYKCQkJZGF0YS1zbG90PSJzaWRlYmFyLWhlYWRlciIKCQkJY2xhc3NOYW1lPXtjbigKCQkJCSdmbGV4IGZsZXgtY29sIGdhcC0zIGJvcmRlci1iIGJvcmRlci1ib3JkZXIvNjAgcC00JywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLnByb3BzfQoJCS8+CgkpOwp9CgpmdW5jdGlvbiBTaWRlYmFyRm9vdGVyKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5Db21wb25lbnRQcm9wczwnZGl2Jz4pIHsKCXJldHVybiAoCgkJPGRpdgoJCQlkYXRhLXNsb3Q9InNpZGViYXItZm9vdGVyIgoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ2ZsZXggZmxleC1jb2wgZ2FwLTMgYmctW2NvbG9yLW1peChpbl9va2xjaCx2YXIoLS1jb2xvci1wb3BvdmVyKV83MCUsdmFyKC0tY29sb3ItcG9wb3Zlci1tdXRlZClfMzAlKV0gYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCBwLTQnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQl7Li4ucHJvcHN9CgkJLz4KCSk7Cn0KCmZ1bmN0aW9uIFNpZGViYXJTZXBhcmF0b3IoewoJY2xhc3NOYW1lLAoJLi4ucHJvcHMKfTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIFNlcGFyYXRvcj4pIHsKCXJldHVybiAoCgkJPFNlcGFyYXRvcgoJCQl2YXJpYW50PSJtdXRlZCIKCQkJZGF0YS1zbG90PSJzaWRlYmFyLXNlcGFyYXRvciIKCQkJY2xhc3NOYW1lPXtjbignbXktMicsIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQkvPgoJKTsKfQoKZnVuY3Rpb24gU2lkZWJhckNvbnRlbnQoeyBjbGFzc05hbWUsIC4uLnByb3BzIH06IFJlYWN0LkNvbXBvbmVudFByb3BzPCdkaXYnPikgewoJcmV0dXJuICgKCQk8U2Nyb2xsQXJlYSB0eXBlPSJzY3JvbGwiIGNsYXNzTmFtZT0iZmxleC0xIj4KCQkJPGRpdgoJCQkJZGF0YS1zbG90PSJzaWRlYmFyLWNvbnRlbnQiCgkJCQljbGFzc05hbWU9e2NuKCdmbGV4IGZsZXgtMSBmbGV4LWNvbCBnYXAtMyBwLTQnLCBjbGFzc05hbWUpfQoJCQkJey4uLnByb3BzfQoJCQkvPgoJCTwvU2Nyb2xsQXJlYT4KCSk7Cn0KCmZ1bmN0aW9uIFNpZGViYXJHcm91cCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfTogUmVhY3QuQ29tcG9uZW50UHJvcHM8J2Rpdic+KSB7CglyZXR1cm4gKAoJCTxkaXYKCQkJZGF0YS1zbG90PSJzaWRlYmFyLWdyb3VwIgoJCQljbGFzc05hbWU9e2NuKCdmbGV4IHctZnVsbCBtaW4tdy0wIGZsZXgtY29sJywgY2xhc3NOYW1lKX0KCQkJey4uLnByb3BzfQoJCS8+CgkpOwp9CgpmdW5jdGlvbiBTaWRlYmFyR3JvdXBMYWJlbCh7CgljbGFzc05hbWUsCglhc0NoaWxkID0gZmFsc2UsCgljaGlsZHJlbiwKCS4uLnByb3BzCn06IFJlYWN0LkNvbXBvbmVudFByb3BzPCdkaXYnPiAmIHsgYXNDaGlsZD86IGJvb2xlYW4gfSkgewoJY29uc3QgY2xhc3NlcyA9IGNuKAoJCSdmbGV4IGgtOCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtMiB0ZXh0LXhzIGZvbnQtbWVkaXVtIHVwcGVyY2FzZSB0cmFja2luZy13aWRlc3QgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQljbGFzc05hbWUsCgkpOwoKCWlmIChhc0NoaWxkICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkgewoJCXJldHVybiAoCgkJCTxSb2xlCgkJCQlkYXRhLXNsb3Q9InNpZGViYXItZ3JvdXAtbGFiZWwiCgkJCQljbGFzc05hbWU9e2NsYXNzZXN9CgkJCQl7Li4ucHJvcHN9CgkJCQlyZW5kZXI9e2NoaWxkcmVufQoJCQkvPgoJCSk7Cgl9CgoJcmV0dXJuICgKCQk8ZGl2IGRhdGEtc2xvdD0ic2lkZWJhci1ncm91cC1sYWJlbCIgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ucHJvcHN9PgoJCQl7Y2hpbGRyZW59CgkJPC9kaXY+CgkpOwp9CgpmdW5jdGlvbiBTaWRlYmFyR3JvdXBBY3Rpb24oewoJY2xhc3NOYW1lLAoJYXNDaGlsZCA9IGZhbHNlLAoJY2hpbGRyZW4sCgkuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczwnYnV0dG9uJz4gJiB7IGFzQ2hpbGQ/OiBib29sZWFuIH0pIHsKCWNvbnN0IGNsYXNzZXMgPSBjbigKCQknYWJzb2x1dGUgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHJpZ2h0LTIgZmxleCBzaXplLTYgY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIGhvdmVyOmJnLXBvcG92ZXItbXV0ZWQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIHRyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsY29sb3IsYm94LXNoYWRvd10gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAnLAoJCWNsYXNzTmFtZSwKCSk7CgoJaWYgKGFzQ2hpbGQgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7CgkJcmV0dXJuICgKCQkJPFJvbGUuYnV0dG9uCgkJCQlkYXRhLXNsb3Q9InNpZGViYXItZ3JvdXAtYWN0aW9uIgoJCQkJY2xhc3NOYW1lPXtjbGFzc2VzfQoJCQkJey4uLnByb3BzfQoJCQkJcmVuZGVyPXtjaGlsZHJlbn0KCQkJLz4KCQkpOwoJfQoKCXJldHVybiAoCgkJPGJ1dHRvbgoJCQl0eXBlPSJidXR0b24iCgkJCWRhdGEtc2xvdD0ic2lkZWJhci1ncm91cC1hY3Rpb24iCgkJCWNsYXNzTmFtZT17Y2xhc3Nlc30KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvYnV0dG9uPgoJKTsKfQoKZnVuY3Rpb24gU2lkZWJhckdyb3VwQ29udGVudCh7CgljbGFzc05hbWUsCgkuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczwnZGl2Jz4pIHsKCXJldHVybiAoCgkJPGRpdgoJCQlkYXRhLXNsb3Q9InNpZGViYXItZ3JvdXAtY29udGVudCIKCQkJY2xhc3NOYW1lPXtjbignZmxleCBmbGV4LWNvbCBnYXAtMScsIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQkvPgoJKTsKfQoKZnVuY3Rpb24gU2lkZWJhck1lbnUoeyBjbGFzc05hbWUsIC4uLnByb3BzIH06IFJlYWN0LkNvbXBvbmVudFByb3BzPCd1bCc+KSB7CglyZXR1cm4gKAoJCTx1bAoJCQlkYXRhLXNsb3Q9InNpZGViYXItbWVudSIKCQkJY2xhc3NOYW1lPXtjbignZmxleCBmbGV4LWNvbCBnYXAtMScsIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQkvPgoJKTsKfQoKdHlwZSBTaWRlYmFyTWVudUl0ZW1Qcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzPCdsaSc+ICYgewoJY29sbGFwc2libGU/OiBib29sZWFuOwoJZGVmYXVsdE9wZW4/OiBib29sZWFuOwoJb3Blbj86IGJvb2xlYW47Cglvbk9wZW5DaGFuZ2U/OiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDsKfTsKCmZ1bmN0aW9uIFNpZGViYXJNZW51SXRlbSh7CgljbGFzc05hbWUsCgljaGlsZHJlbiwKCWNvbGxhcHNpYmxlID0gZmFsc2UsCglkZWZhdWx0T3BlbiA9IGZhbHNlLAoJb3Blbjogb3BlblByb3AsCglvbk9wZW5DaGFuZ2UsCgkuLi5wcm9wcwp9OiBTaWRlYmFyTWVudUl0ZW1Qcm9wcykgewoJY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoewoJCWRlZmF1bHRWYWx1ZTogZGVmYXVsdE9wZW4sCgkJLi4uKG9wZW5Qcm9wICE9PSB1bmRlZmluZWQgPyB7IHZhbHVlOiBvcGVuUHJvcCB9IDoge30pLAoJCS4uLihvbk9wZW5DaGFuZ2UgPyB7IG9uQ2hhbmdlOiBvbk9wZW5DaGFuZ2UgfSA6IHt9KSwKCX0pOwoKCWNvbnN0IHRvZ2dsZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQlpZiAoIWNvbGxhcHNpYmxlKSByZXR1cm47CgkJc2V0T3BlbigocHJldmlvdXMpID0+ICFwcmV2aW91cyk7Cgl9LCBbY29sbGFwc2libGUsIHNldE9wZW5dKTsKCgljb25zdCBjb250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQlpZiAoIWNvbGxhcHNpYmxlKSByZXR1cm4gbnVsbDsKCQlyZXR1cm4gewoJCQljb2xsYXBzaWJsZSwKCQkJb3BlbiwKCQkJdG9nZ2xlLAoJCX07Cgl9LCBbY29sbGFwc2libGUsIG9wZW4sIHRvZ2dsZV0pOwoKCXJldHVybiAoCgkJPFNpZGViYXJNZW51SXRlbUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+CgkJCTxsaQoJCQkJZGF0YS1zbG90PSJzaWRlYmFyLW1lbnUtaXRlbSIKCQkJCWRhdGEtc3RhdGU9e2NvbGxhcHNpYmxlID8gKG9wZW4gPyAnb3BlbicgOiAnY2xvc2VkJykgOiB1bmRlZmluZWR9CgkJCQlkYXRhLWNvbGxhcHNpYmxlPXtjb2xsYXBzaWJsZSA/ICd0cnVlJyA6IHVuZGVmaW5lZH0KCQkJCWNsYXNzTmFtZT17Y24oJ2dyb3VwL21lbnUtaXRlbSByZWxhdGl2ZScsIGNsYXNzTmFtZSl9CgkJCQl7Li4ucHJvcHN9CgkJCT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9saT4KCQk8L1NpZGViYXJNZW51SXRlbUNvbnRleHQuUHJvdmlkZXI+CgkpOwp9Cgpjb25zdCBzaWRlYmFyTmF2QnV0dG9uQmFzZUNsYXNzZXMgPQoJImN1cnNvci1wb2ludGVyIGZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBiZy10cmFuc3BhcmVudCBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IGp1c3RpZnktc3RhcnQgZ2FwLTMgcm91bmRlZC1tZCBoLTkgcHgtNCBweS0yIGdhcC0yIGhhcy1bc3ZnOm5vdChbZGF0YS1zbG90PXNpZGViYXItbWVudS1pbmRpY2F0b3JdKV06cHgtMyB0ZXh0LXNtIHRleHQtbGVmdCBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS01IHNocmluay0wIFsmX3N2Z106c2hyaW5rLTAgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kLzcwIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIHRyYW5zaXRpb24tW2JveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwIjsKY29uc3Qgc2lkZWJhck5hdlN1YkJ1dHRvbkJhc2VDbGFzc2VzID0KCSJjdXJzb3ItcG9pbnRlciBmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1zdGFydCBnYXAtMyBiZy10cmFuc3BhcmVudCBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHJvdW5kZWQtbWQgZmlyc3Q6bXQtMSBoLTggcHgtMyBweS0xLjUgcHgtMyBnYXAtMS41IGhhcy1bc3ZnXTpweC0yLjUgdGV4dC1zbSB0ZXh0LWxlZnQgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNSBzaHJpbmstMCBbJl9zdmddOnNocmluay0wIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZC83MCBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSB0cmFuc2l0aW9uLVtib3gtc2hhZG93XSBlYXNlLW91dC1xdWFkIGR1cmF0aW9uLTEwMCI7Cgpjb25zdCBzaWRlYmFyTmF2QnV0dG9uU3RhdGVDbGFzc2VzID0KCSdyZWxhdGl2ZSBob3ZlcjpiZy1wb3BvdmVyLW11dGVkIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBkYXRhLVthY3RpdmU9dHJ1ZV06YmctcG9wb3Zlci1tdXRlZCBkYXRhLVthY3RpdmU9dHJ1ZV06dGV4dC1mb3JlZ3JvdW5kIGRhdGEtW2FjdGl2ZT10cnVlXTpjYXJkLWhpZ2hsaWdodCBkYXJrOmRhdGEtW2FjdGl2ZT10cnVlXTpib3JkZXItYm9yZGVyJzsKY29uc3Qgc2lkZWJhck1lbnVCdXR0b25CYXNlQ2xhc3NlcyA9IGBncm91cC9tZW51LWJ1dHRvbiBwZWVyL21lbnUtYnV0dG9uICR7c2lkZWJhck5hdkJ1dHRvbkJhc2VDbGFzc2VzfWA7Cgp0eXBlIFNpZGViYXJNZW51QnV0dG9uVG9vbHRpcFByb3BzID0gewoJY29udGVudDogUmVhY3QuUmVhY3ROb2RlOwoJZGVsYXlEdXJhdGlvbj86IFRvb2x0aXBQcm9wc1snZGVsYXlEdXJhdGlvbiddOwoJcGxhY2VtZW50PzogVG9vbHRpcFByb3BzWydwbGFjZW1lbnQnXTsKCWd1dHRlcj86IFRvb2x0aXBQcm9wc1snZ3V0dGVyJ107Cglwb3J0YWw/OiBUb29sdGlwUHJvcHNbJ3BvcnRhbCddOwoJZml4ZWQ/OiBUb29sdGlwUHJvcHNbJ2ZpeGVkJ107CglzaG93QXJyb3c/OiBUb29sdGlwUHJvcHNbJ3Nob3dBcnJvdyddOwoJY29udGVudFByb3BzPzogT21pdDxUb29sdGlwQ29udGVudFByb3BzLCAnY2hpbGRyZW4nPjsKfTsKCnR5cGUgU2lkZWJhck1lbnVCdXR0b25Qcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzPCdidXR0b24nPiAmIHsKCWFzQ2hpbGQ/OiBib29sZWFuOwoJaXNBY3RpdmU/OiBib29sZWFuOwoJdG9vbHRpcD86IFJlYWN0LlJlYWN0Tm9kZSB8IFNpZGViYXJNZW51QnV0dG9uVG9vbHRpcFByb3BzOwp9OwoKZnVuY3Rpb24gU2lkZWJhck1lbnVCdXR0b24oewoJY2xhc3NOYW1lLAoJaXNBY3RpdmUgPSBmYWxzZSwKCWFzQ2hpbGQgPSBmYWxzZSwKCWNoaWxkcmVuLAoJdHlwZSwKCW9uQ2xpY2ssCgl0b29sdGlwLAoJLi4ucHJvcHMKfTogU2lkZWJhck1lbnVCdXR0b25Qcm9wcykgewoJY29uc3QgbWVudUl0ZW0gPSB1c2VTaWRlYmFyTWVudUl0ZW0oKTsKCWNvbnN0IHsgc3RhdGUsIGlzTW9iaWxlIH0gPSB1c2VTaWRlYmFyKCk7Cgljb25zdCBjbGFzc2VzID0gY24oCgkJc2lkZWJhck1lbnVCdXR0b25CYXNlQ2xhc3NlcywKCQlzaWRlYmFyTmF2QnV0dG9uU3RhdGVDbGFzc2VzLAoJCWNsYXNzTmFtZSwKCSk7Cgljb25zdCBoYW5kbGVDbGljazogUmVhY3QuTW91c2VFdmVudEhhbmRsZXI8SFRNTEJ1dHRvbkVsZW1lbnQ+ID0gKGV2ZW50KSA9PiB7CgkJb25DbGljaz8uKGV2ZW50KTsKCQlpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiYgbWVudUl0ZW0/LmNvbGxhcHNpYmxlKSB7CgkJCW1lbnVJdGVtLnRvZ2dsZSgpOwoJCX0KCX07Cgljb25zdCBzaGFyZWRQcm9wcyA9IHsKCQkuLi5wcm9wcywKCQljbGFzc05hbWU6IGNsYXNzZXMsCgkJJ2RhdGEtc2lkZWJhcic6ICdtZW51LWJ1dHRvbicsCgkJJ2RhdGEtc2xvdCc6ICdzaWRlYmFyLW1lbnUtYnV0dG9uJywKCQknZGF0YS1hY3RpdmUnOiBpc0FjdGl2ZSwKCQkuLi4obWVudUl0ZW0/LmNvbGxhcHNpYmxlID8geyAnYXJpYS1leHBhbmRlZCc6IG1lbnVJdGVtLm9wZW4gfSA6IHt9KSwKCX07CgoJY29uc3QgaW5kaWNhdG9yID0gbWVudUl0ZW0/LmNvbGxhcHNpYmxlID8gKAoJCTxJY29ucy5DaGV2cm9uRG93bgoJCQlhcmlhLWhpZGRlbj0idHJ1ZSIKCQkJZGF0YS1zdGF0ZT17bWVudUl0ZW0ub3BlbiA/ICdvcGVuJyA6ICdjbG9zZWQnfQoJCQlkYXRhLXNsb3Q9InNpZGViYXItbWVudS1pbmRpY2F0b3IiCgkJCWNsYXNzTmFtZT0ibWwtYXV0byBzaXplLTQgc2hyaW5rLTAgdGV4dC1mb3JlZ3JvdW5kLzcwIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMCBlYXNlLXNtb290aCBkYXRhLVtzdGF0ZT1jbG9zZWRdOi1yb3RhdGUtOTAiCgkJLz4KCSkgOiBudWxsOwoKCWNvbnN0IGJ1dHRvbiA9CgkJYXNDaGlsZCAmJiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikgPyAoCgkJCTxSb2xlLmJ1dHRvbiB7Li4uc2hhcmVkUHJvcHN9IG9uQ2xpY2s9e2hhbmRsZUNsaWNrfSByZW5kZXI9e2NoaWxkcmVufSAvPgoJCSkgOiAoCgkJCTxidXR0b24gdHlwZT17dHlwZSA/PyAnYnV0dG9uJ30gb25DbGljaz17aGFuZGxlQ2xpY2t9IHsuLi5zaGFyZWRQcm9wc30+CgkJCQl7Y2hpbGRyZW59CgkJCQl7aW5kaWNhdG9yfQoJCQk8L2J1dHRvbj4KCQkpOwoKCWNvbnN0IHRvb2x0aXBDb25maWcgPQoJCVJlYWN0LnVzZU1lbW88U2lkZWJhck1lbnVCdXR0b25Ub29sdGlwUHJvcHMgfCBudWxsPigoKSA9PiB7CgkJCWlmICghdG9vbHRpcCkgcmV0dXJuIG51bGw7CgkJCWlmICgKCQkJCVJlYWN0LmlzVmFsaWRFbGVtZW50KHRvb2x0aXApIHx8CgkJCQl0eXBlb2YgdG9vbHRpcCA9PT0gJ3N0cmluZycgfHwKCQkJCXR5cGVvZiB0b29sdGlwID09PSAnbnVtYmVyJwoJCQkpIHsKCQkJCXJldHVybiB7IGNvbnRlbnQ6IHRvb2x0aXAgfTsKCQkJfQoJCQlpZiAoCgkJCQl0eXBlb2YgdG9vbHRpcCA9PT0gJ29iamVjdCcgJiYKCQkJCXRvb2x0aXAgIT09IG51bGwgJiYKCQkJCSdjb250ZW50JyBpbiB0b29sdGlwICYmCgkJCQl0b29sdGlwLmNvbnRlbnQgIT09IHVuZGVmaW5lZAoJCQkpIHsKCQkJCXJldHVybiB0b29sdGlwIGFzIFNpZGViYXJNZW51QnV0dG9uVG9vbHRpcFByb3BzOwoJCQl9CgkJCXJldHVybiB7IGNvbnRlbnQ6IHRvb2x0aXAgYXMgUmVhY3QuUmVhY3ROb2RlIH07CgkJfSwgW3Rvb2x0aXBdKTsKCglpZiAoIXRvb2x0aXBDb25maWcpIHsKCQlyZXR1cm4gYnV0dG9uOwoJfQoKCWNvbnN0IHsKCQljb250ZW50LAoJCWRlbGF5RHVyYXRpb24sCgkJcGxhY2VtZW50LAoJCWd1dHRlciwKCQlwb3J0YWwsCgkJZml4ZWQsCgkJc2hvd0Fycm93LAoJCWNvbnRlbnRQcm9wcywKCX0gPSB0b29sdGlwQ29uZmlnOwoJY29uc3QgeyBoaWRkZW46IGNvbnRlbnRIaWRkZW4sIC4uLnJlc3RDb250ZW50UHJvcHMgfSA9IGNvbnRlbnRQcm9wcyA/PyB7fTsKCWNvbnN0IGRlZmF1bHRTaG91bGRIaWRlID0gc3RhdGUgIT09ICdjb2xsYXBzZWQnIHx8IGlzTW9iaWxlOwoJY29uc3Qgc2hvdWxkU2tpcFRvb2x0aXAgPSBjb250ZW50SGlkZGVuID8/IGRlZmF1bHRTaG91bGRIaWRlOwoKCWlmIChzaG91bGRTa2lwVG9vbHRpcCkgewoJCXJldHVybiBidXR0b247Cgl9CgoJcmV0dXJuICgKCQk8VG9vbHRpcAoJCQlkZWxheUR1cmF0aW9uPXtkZWxheUR1cmF0aW9uID8/IDQwMH0KCQkJcGxhY2VtZW50PXtwbGFjZW1lbnQgPz8gJ3JpZ2h0J30KCQkJZ3V0dGVyPXtndXR0ZXIgPz8gNH0KCQkJcG9ydGFsPXtwb3J0YWwgPz8gdHJ1ZX0KCQkJZml4ZWQ9e2ZpeGVkID8/IGZhbHNlfQoJCQlzaG93QXJyb3c9e3Nob3dBcnJvdyA/PyB0cnVlfQoJCT4KCQkJPFRvb2x0aXBUcmlnZ2VyIGNsYXNzTmFtZT0idy1mdWxsIj57YnV0dG9ufTwvVG9vbHRpcFRyaWdnZXI+CgkJCTxUb29sdGlwQ29udGVudCBjbGFzc05hbWU9InAtMSB0ZXh0LXhzIHJvdW5kZWQiIHsuLi5yZXN0Q29udGVudFByb3BzfT4KCQkJCXtjb250ZW50fQoJCQk8L1Rvb2x0aXBDb250ZW50PgoJCTwvVG9vbHRpcD4KCSk7Cn0KCmZ1bmN0aW9uIFNpZGViYXJNZW51QWN0aW9uKHsKCWNsYXNzTmFtZSwKCXNob3dPbkhvdmVyID0gZmFsc2UsCgkuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczwnYnV0dG9uJz4gJiB7IHNob3dPbkhvdmVyPzogYm9vbGVhbiB9KSB7CglyZXR1cm4gKAoJCTxidXR0b24KCQkJdHlwZT0iYnV0dG9uIgoJCQlkYXRhLXNsb3Q9InNpZGViYXItbWVudS1hY3Rpb24iCgkJCWNsYXNzTmFtZT17Y24oCgkJCQknYWJzb2x1dGUgei0xMCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgcmlnaHQtMiBmbGV4IHNpemUtNiBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1zbSBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHRleHQtZm9yZWdyb3VuZC83MCB0cmFuc2l0aW9uLWFsbCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgaG92ZXI6YmctcG9wb3Zlci1tdXRlZCcsCgkJCQlzaG93T25Ib3ZlciAmJgoJCQkJCSdvcGFjaXR5LTAgdHJhbnNpdGlvbi1vcGFjaXR5IGdyb3VwLWhvdmVyL21lbnUtaXRlbTpvcGFjaXR5LTEwMCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQkvPgoJKTsKfQoKZnVuY3Rpb24gU2lkZWJhck1lbnVTdWIoewoJY2xhc3NOYW1lLAoJY2hpbGRyZW4sCgkuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczwndWwnPikgewoJY29uc3QgbWVudUl0ZW0gPSB1c2VTaWRlYmFyTWVudUl0ZW0oKTsKCWNvbnN0IGlzT3BlbiA9IG1lbnVJdGVtPy5vcGVuID8/IHRydWU7Cgljb25zdCBzdWJSZWYgPSBSZWFjdC51c2VSZWY8SFRNTFVMaXN0RWxlbWVudD4obnVsbCk7Cgljb25zdCBbbWVhc3VyZWRIZWlnaHQsIHNldE1lYXN1cmVkSGVpZ2h0XSA9IFJlYWN0LnVzZVN0YXRlKDApOwoKCWNvbnN0IG1lYXN1cmVIZWlnaHQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7CgkJY29uc3QgZWxlbWVudCA9IHN1YlJlZi5jdXJyZW50OwoJCWlmICghZWxlbWVudCkgcmV0dXJuOwoJCWNvbnN0IG5leHRIZWlnaHQgPSBlbGVtZW50LnNjcm9sbEhlaWdodDsKCQlzZXRNZWFzdXJlZEhlaWdodCgodmFsdWUpID0+ICh2YWx1ZSA9PT0gbmV4dEhlaWdodCA/IHZhbHVlIDogbmV4dEhlaWdodCkpOwoJfSwgW10pOwoKCVJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJbWVhc3VyZUhlaWdodCgpOwoJfSwgW21lYXN1cmVIZWlnaHRdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhKCdSZXNpemVPYnNlcnZlcicgaW4gd2luZG93KSkgewoJCQlyZXR1cm47CgkJfQoJCWNvbnN0IGVsZW1lbnQgPSBzdWJSZWYuY3VycmVudDsKCQlpZiAoIWVsZW1lbnQpIHJldHVybjsKCQljb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiBtZWFzdXJlSGVpZ2h0KCkpOwoJCXJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7CgkJcmV0dXJuICgpID0+IHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKCX0sIFttZWFzdXJlSGVpZ2h0XSk7CgoJY29uc3QgaW5saW5lU3R5bGVzID0gUmVhY3QudXNlTWVtbzxSZWFjdC5DU1NQcm9wZXJ0aWVzPigoKSA9PiB7CgkJY29uc3QgaGVpZ2h0VmFsdWUgPSBgJHttZWFzdXJlZEhlaWdodH1weGA7CgkJcmV0dXJuIHsKCQkJJy0tc2lkZWJhci1tZW51LXN1Yi1oZWlnaHQnOiBoZWlnaHRWYWx1ZSwKCQkJbWF4SGVpZ2h0OiBpc09wZW4gPyBoZWlnaHRWYWx1ZSA6ICcwcHgnLAoJCX07Cgl9LCBbaXNPcGVuLCBtZWFzdXJlZEhlaWdodF0pOwoKCXJldHVybiAoCgkJPHVsCgkJCXJlZj17c3ViUmVmfQoJCQlkYXRhLXNsb3Q9InNpZGViYXItbWVudS1zdWIiCgkJCWRhdGEtc3RhdGU9e2lzT3BlbiA/ICdvcGVuJyA6ICdjbG9zZWQnfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ21sLTQgcGwtMiBmbGV4IGZsZXgtY29sIG92ZXJmbG93LWhpZGRlbiBib3JkZXItYm9yZGVyIHRyYW5zaXRpb24tW21heC1oZWlnaHQsb3BhY2l0eV0gZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoJywKCQkJCSdyZWxhdGl2ZSBiZWZvcmU6YWJzb2x1dGUgYmVmb3JlOmxlZnQtMCBiZWZvcmU6dG9wLTIgYmVmb3JlOmJvdHRvbS0yIGJlZm9yZTp3LXB4IGJlZm9yZTpiZy1ib3JkZXInLAoJCQkJaXNPcGVuCgkJCQkJPyAncG9pbnRlci1ldmVudHMtYXV0byBvcGFjaXR5LTEwMCcKCQkJCQk6ICdwb2ludGVyLWV2ZW50cy1ub25lIG9wYWNpdHktMCcsCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXN0eWxlPXtpbmxpbmVTdHlsZXN9CgkJCWFyaWEtaGlkZGVuPXtpc09wZW4gPyB1bmRlZmluZWQgOiB0cnVlfQoJCQl7Li4ucHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC91bD4KCSk7Cn0KCmZ1bmN0aW9uIFNpZGViYXJNZW51U3ViSXRlbSh7CgljbGFzc05hbWUsCgkuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczwnbGknPikgewoJcmV0dXJuICgKCQk8bGkKCQkJZGF0YS1zbG90PSJzaWRlYmFyLW1lbnUtc3ViLWl0ZW0iCgkJCWNsYXNzTmFtZT17Y24oJ2dyb3VwL21lbnUtc3ViLWl0ZW0gcmVsYXRpdmUnLCBjbGFzc05hbWUpfQoJCQl7Li4ucHJvcHN9CgkJLz4KCSk7Cn0KCmZ1bmN0aW9uIFNpZGViYXJNZW51U3ViQnV0dG9uKHsKCWNsYXNzTmFtZSwKCWFzQ2hpbGQgPSBmYWxzZSwKCWlzQWN0aXZlID0gZmFsc2UsCgljaGlsZHJlbiwKCXR5cGUsCgl0YWJJbmRleDogdGFiSW5kZXhQcm9wLAoJdG9vbHRpcCwKCS4uLnByb3BzCn06IFJlYWN0LkNvbXBvbmVudFByb3BzPCdidXR0b24nPiAmIHsKCWFzQ2hpbGQ/OiBib29sZWFuOwoJaXNBY3RpdmU/OiBib29sZWFuOwoJdG9vbHRpcD86IFJlYWN0LlJlYWN0Tm9kZSB8IFNpZGViYXJNZW51QnV0dG9uVG9vbHRpcFByb3BzOwp9KSB7Cgljb25zdCBtZW51SXRlbSA9IHVzZVNpZGViYXJNZW51SXRlbSgpOwoJY29uc3QgeyBzdGF0ZSwgaXNNb2JpbGUgfSA9IHVzZVNpZGViYXIoKTsKCWNvbnN0IGNsYXNzZXMgPSBjbigKCQlzaWRlYmFyTmF2U3ViQnV0dG9uQmFzZUNsYXNzZXMsCgkJc2lkZWJhck5hdkJ1dHRvblN0YXRlQ2xhc3NlcywKCQljbGFzc05hbWUsCgkpOwoJY29uc3QgY29tcHV0ZWRUYWJJbmRleCA9CgkJdGFiSW5kZXhQcm9wICE9PSB1bmRlZmluZWQKCQkJPyB0YWJJbmRleFByb3AKCQkJOiBtZW51SXRlbT8uY29sbGFwc2libGUgJiYgIW1lbnVJdGVtLm9wZW4KCQkJCT8gLTEKCQkJCTogdW5kZWZpbmVkOwoJY29uc3Qgc2hhcmVkUHJvcHMgPSB7CgkJLi4ucHJvcHMsCgkJY2xhc3NOYW1lOiBjbGFzc2VzLAoJCSdkYXRhLXNsb3QnOiAnc2lkZWJhci1tZW51LXN1Yi1idXR0b24nLAoJCSdkYXRhLWFjdGl2ZSc6IGlzQWN0aXZlLAoJCXRhYkluZGV4OiBjb21wdXRlZFRhYkluZGV4LAoJfTsKCgljb25zdCBidXR0b24gPQoJCWFzQ2hpbGQgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pID8gKAoJCQk8Um9sZS5idXR0b24gey4uLnNoYXJlZFByb3BzfSByZW5kZXI9e2NoaWxkcmVufSAvPgoJCSkgOiAoCgkJCTxidXR0b24gdHlwZT17dHlwZSA/PyAnYnV0dG9uJ30gey4uLnNoYXJlZFByb3BzfT4KCQkJCXtjaGlsZHJlbn0KCQkJPC9idXR0b24+CgkJKTsKCgljb25zdCB0b29sdGlwQ29uZmlnID0KCQlSZWFjdC51c2VNZW1vPFNpZGViYXJNZW51QnV0dG9uVG9vbHRpcFByb3BzIHwgbnVsbD4oKCkgPT4gewoJCQlpZiAoIXRvb2x0aXApIHJldHVybiBudWxsOwoJCQlpZiAoCgkJCQlSZWFjdC5pc1ZhbGlkRWxlbWVudCh0b29sdGlwKSB8fAoJCQkJdHlwZW9mIHRvb2x0aXAgPT09ICdzdHJpbmcnIHx8CgkJCQl0eXBlb2YgdG9vbHRpcCA9PT0gJ251bWJlcicKCQkJKSB7CgkJCQlyZXR1cm4geyBjb250ZW50OiB0b29sdGlwIH07CgkJCX0KCQkJaWYgKAoJCQkJdHlwZW9mIHRvb2x0aXAgPT09ICdvYmplY3QnICYmCgkJCQl0b29sdGlwICE9PSBudWxsICYmCgkJCQknY29udGVudCcgaW4gdG9vbHRpcCAmJgoJCQkJdG9vbHRpcC5jb250ZW50ICE9PSB1bmRlZmluZWQKCQkJKSB7CgkJCQlyZXR1cm4gdG9vbHRpcCBhcyBTaWRlYmFyTWVudUJ1dHRvblRvb2x0aXBQcm9wczsKCQkJfQoJCQlyZXR1cm4geyBjb250ZW50OiB0b29sdGlwIGFzIFJlYWN0LlJlYWN0Tm9kZSB9OwoJCX0sIFt0b29sdGlwXSk7CgoJaWYgKCF0b29sdGlwQ29uZmlnKSB7CgkJcmV0dXJuIGJ1dHRvbjsKCX0KCgljb25zdCB7CgkJY29udGVudCwKCQlkZWxheUR1cmF0aW9uLAoJCXBsYWNlbWVudCwKCQlndXR0ZXIsCgkJcG9ydGFsLAoJCWZpeGVkLAoJCXNob3dBcnJvdywKCQljb250ZW50UHJvcHMsCgl9ID0gdG9vbHRpcENvbmZpZzsKCWNvbnN0IHsgaGlkZGVuOiBjb250ZW50SGlkZGVuLCAuLi5yZXN0Q29udGVudFByb3BzIH0gPSBjb250ZW50UHJvcHMgPz8ge307Cgljb25zdCBkZWZhdWx0U2hvdWxkSGlkZSA9IHN0YXRlICE9PSAnY29sbGFwc2VkJyB8fCBpc01vYmlsZTsKCWNvbnN0IHNob3VsZFNraXBUb29sdGlwID0gY29udGVudEhpZGRlbiA/PyBkZWZhdWx0U2hvdWxkSGlkZTsKCglpZiAoc2hvdWxkU2tpcFRvb2x0aXApIHsKCQlyZXR1cm4gYnV0dG9uOwoJfQoKCXJldHVybiAoCgkJPFRvb2x0aXAKCQkJZGVsYXlEdXJhdGlvbj17ZGVsYXlEdXJhdGlvbiA/PyA0MDB9CgkJCXBsYWNlbWVudD17cGxhY2VtZW50ID8/ICdyaWdodCd9CgkJCWd1dHRlcj17Z3V0dGVyID8/IDR9CgkJCXBvcnRhbD17cG9ydGFsID8/IHRydWV9CgkJCWZpeGVkPXtmaXhlZCA/PyBmYWxzZX0KCQkJc2hvd0Fycm93PXtzaG93QXJyb3cgPz8gdHJ1ZX0KCQk+CgkJCTxUb29sdGlwVHJpZ2dlciBjbGFzc05hbWU9InctZnVsbCI+e2J1dHRvbn08L1Rvb2x0aXBUcmlnZ2VyPgoJCQk8VG9vbHRpcENvbnRlbnQgY2xhc3NOYW1lPSJwLTEgdGV4dC14cyByb3VuZGVkIiB7Li4ucmVzdENvbnRlbnRQcm9wc30+CgkJCQl7Y29udGVudH0KCQkJPC9Ub29sdGlwQ29udGVudD4KCQk8L1Rvb2x0aXA+CgkpOwp9CgpleHBvcnQgewoJU2lkZWJhciwKCVNpZGViYXJDb250ZW50LAoJU2lkZWJhckZvb3RlciwKCVNpZGViYXJHcm91cCwKCVNpZGViYXJHcm91cEFjdGlvbiwKCVNpZGViYXJHcm91cENvbnRlbnQsCglTaWRlYmFyR3JvdXBMYWJlbCwKCVNpZGViYXJIZWFkZXIsCglTaWRlYmFySW5wdXQsCglTaWRlYmFySW5zZXQsCglTaWRlYmFyTWVudSwKCVNpZGViYXJNZW51QWN0aW9uLAoJU2lkZWJhck1lbnVCdXR0b24sCglTaWRlYmFyTWVudUl0ZW0sCglTaWRlYmFyTWVudVN1YiwKCVNpZGViYXJNZW51U3ViQnV0dG9uLAoJU2lkZWJhck1lbnVTdWJJdGVtLAoJU2lkZWJhclByb3ZpZGVyLAoJU2lkZWJhclNlcGFyYXRvciwKCVNpZGViYXJUcmlnZ2VyLAoJdXNlU2lkZWJhciwKfTs="
,
  "skeleton.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBza2VsZXRvblZhcmlhbnRzID0gY3ZhKCdiZy1jYXJkLW11dGVkJywgewoJdmFyaWFudHM6IHsKCQl2YXJpYW50OiB7CgkJCWRlZmF1bHQ6ICcnLAoJCQlzaGltbWVyOgoJCQkJInJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiBhZnRlcjphYnNvbHV0ZSBhZnRlcjppbnNldC0wIGFmdGVyOmFuaW1hdGUtW3NoaW1tZXJfMnNfZWFzZS1vdXRfaW5maW5pdGVdIGFmdGVyOmJnLVtsaW5lYXItZ3JhZGllbnQoOTBkZWcsdHJhbnNwYXJlbnRfMCUscmdiYSgwLDAsMCwwLjA1KV81MCUsdHJhbnNwYXJlbnRfMTAwJSldIGFmdGVyOmNvbnRlbnQtWycnXSBkYXJrOmFmdGVyOmJnLVtsaW5lYXItZ3JhZGllbnQoOTBkZWcsdHJhbnNwYXJlbnRfMCUscmdiYSgyNTUsMjU1LDI1NSwwLjA1KV81MCUsdHJhbnNwYXJlbnRfMTAwJSldIiwKCQl9LAoJCXNoYXBlOiB7CgkJCXJlY3RhbmdsZTogJ3JvdW5kZWQnLAoJCQljaXJjbGU6ICdyb3VuZGVkLWZ1bGwnLAoJCQl0ZXh0OiAncm91bmRlZCcsCgkJfSwKCQlzaXplOiB7CgkJCXNtOiAnJywKCQkJbWQ6ICcnLAoJCQlsZzogJycsCgkJfSwKCX0sCgljb21wb3VuZFZhcmlhbnRzOiBbCgkJewoJCQlzaGFwZTogJ3RleHQnLAoJCQlzaXplOiAnc20nLAoJCQljbGFzczogJ2gtMycsCgkJfSwKCQl7CgkJCXNoYXBlOiAndGV4dCcsCgkJCXNpemU6ICdtZCcsCgkJCWNsYXNzOiAnaC00JywKCQl9LAoJCXsKCQkJc2hhcGU6ICd0ZXh0JywKCQkJc2l6ZTogJ2xnJywKCQkJY2xhc3M6ICdoLTUnLAoJCX0sCgkJewoJCQlzaGFwZTogJ2NpcmNsZScsCgkJCXNpemU6ICdzbScsCgkJCWNsYXNzOiAnaC04IHctOCcsCgkJfSwKCQl7CgkJCXNoYXBlOiAnY2lyY2xlJywKCQkJc2l6ZTogJ21kJywKCQkJY2xhc3M6ICdoLTEyIHctMTInLAoJCX0sCgkJewoJCQlzaGFwZTogJ2NpcmNsZScsCgkJCXNpemU6ICdsZycsCgkJCWNsYXNzOiAnaC0xNiB3LTE2JywKCQl9LAoJCXsKCQkJc2hhcGU6ICdyZWN0YW5nbGUnLAoJCQlzaXplOiAnc20nLAoJCQljbGFzczogJ2gtOCcsCgkJfSwKCQl7CgkJCXNoYXBlOiAncmVjdGFuZ2xlJywKCQkJc2l6ZTogJ21kJywKCQkJY2xhc3M6ICdoLTEyJywKCQl9LAoJCXsKCQkJc2hhcGU6ICdyZWN0YW5nbGUnLAoJCQlzaXplOiAnbGcnLAoJCQljbGFzczogJ2gtMTYnLAoJCX0sCgldLAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCXNoYXBlOiAncmVjdGFuZ2xlJywKCQlzaXplOiAnbWQnLAoJfSwKfSk7Cgpjb25zdCBsYXN0VGV4dExpbmVWYXJpYW50cyA9IGN2YSgnJywgewoJdmFyaWFudHM6IHsKCQlpc0xhc3Q6IHsKCQkJdHJ1ZTogJ3ctMy80JywKCQkJZmFsc2U6ICd3LWZ1bGwnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJaXNMYXN0OiBmYWxzZSwKCX0sCn0pOwoKZXhwb3J0IGludGVyZmFjZSBTa2VsZXRvblByb3BzCglleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHNrZWxldG9uVmFyaWFudHM+IHsKCXdpZHRoPzogc3RyaW5nIHwgbnVtYmVyOwoJaGVpZ2h0Pzogc3RyaW5nIHwgbnVtYmVyOwoJbGluZXM/OiBudW1iZXI7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBTa2VsZXRvbjogUmVhY3QuRkM8U2tlbGV0b25Qcm9wcz4gPSAoewoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAoJc2hhcGUgPSAncmVjdGFuZ2xlJywKCXdpZHRoLAoJaGVpZ2h0LAoJbGluZXMgPSAxLAoJY2xhc3NOYW1lID0gJycsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBsaW5lS2V5cyA9IHVzZU1lbW8oCgkJKCkgPT4KCQkJQXJyYXkuZnJvbSh7IGxlbmd0aDogbGluZXMgfSwgKCkgPT4KCQkJCXR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmICdyYW5kb21VVUlEJyBpbiBjcnlwdG8KCQkJCQk/IChjcnlwdG8gYXMgQ3J5cHRvKS5yYW5kb21VVUlEKCkKCQkJCQk6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLAoJCQkpLAoJCVtsaW5lc10sCgkpOwoKCWlmIChzaGFwZSA9PT0gJ3RleHQnICYmIGxpbmVzID4gMSkgewoJCXJldHVybiAoCgkJCTxkaXYKCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJcm9sZT0icHJlc2VudGF0aW9uIgoJCQkJY2xhc3NOYW1lPXtjbignc3BhY2UteS0yJywgY2xhc3NOYW1lKX0KCQkJCXsuLi5wcm9wc30KCQkJPgoJCQkJe2xpbmVLZXlzLm1hcCgoa2V5LCBpbmRleCkgPT4gKAoJCQkJCTxkaXYKCQkJCQkJa2V5PXtrZXl9CgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQlza2VsZXRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2hhcGUsIHNpemUgfSksCgkJCQkJCQlsYXN0VGV4dExpbmVWYXJpYW50cyh7IGlzTGFzdDogaW5kZXggPT09IGxpbmVzIC0gMSB9KSwKCQkJCQkJKX0KCQkJCQkJc3R5bGU9e3sKCQkJCQkJCXdpZHRoOiB3aWR0aCAmJiBpbmRleCA9PT0gMCA/IHdpZHRoIDogdW5kZWZpbmVkLAoJCQkJCQkJaGVpZ2h0OiBoZWlnaHQgPyBoZWlnaHQgOiB1bmRlZmluZWQsCgkJCQkJCX19CgkJCQkJLz4KCQkJCSkpfQoJCQk8L2Rpdj4KCQkpOwoJfQoKCWNvbnN0IGlubGluZVN0eWxlczogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHt9OwoJaWYgKHdpZHRoKSBpbmxpbmVTdHlsZXMud2lkdGggPSB3aWR0aDsKCWlmIChoZWlnaHQpIGlubGluZVN0eWxlcy5oZWlnaHQgPSBoZWlnaHQ7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQlyb2xlPSJwcmVzZW50YXRpb24iCgkJCWNsYXNzTmFtZT17Y24oCgkJCQlza2VsZXRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2hhcGUsIHNpemUgfSksCgkJCQlzaGFwZSA9PT0gJ2NpcmNsZScgPyAnJyA6ICd3LWZ1bGwnLAoJCQkJY2xhc3NOYW1lLAoJCQkpfQoJCQlzdHlsZT17aW5saW5lU3R5bGVzfQoJCQl7Li4ucHJvcHN9CgkJLz4KCSk7Cn07"
,
  "slider.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCB3cmFwcGVyVmFyaWFudHMgPSBjdmEoJ3JlbGF0aXZlIGN1cnNvci1wb2ludGVyIGZsZXggZ2FwLTInLCB7Cgl2YXJpYW50czogewoJCW9yaWVudGF0aW9uOiB7CgkJCWhvcml6b250YWw6ICdmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1zdGFydCcsCgkJCXZlcnRpY2FsOiAnZmxleC1jb2wtcmV2ZXJzZSBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXInLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCX0sCn0pOwoKY29uc3Qgc2xpZGVyVmFyaWFudHMgPSBjdmEoCgkncmVsYXRpdmUgY3Vyc29yLXBvaW50ZXIgdG91Y2gtbm9uZSByb3VuZGVkLWZ1bGwgc2VsZWN0LW5vbmUgdHJhbnNpdGlvbi1zaGFkb3cgZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAnLAoJewoJCXZhcmlhbnRzOiB7CgkJCW9yaWVudGF0aW9uOiB7CgkJCQlob3Jpem9udGFsOiAndy1mdWxsJywKCQkJCXZlcnRpY2FsOiAnaC1mdWxsJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJCX0sCgl9LAopOwoKY29uc3QgdHJhY2tWYXJpYW50cyA9IGN2YSgKCSdyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1mdWxsIGJnLWNhcmQtbXV0ZWQgc2hhZG93LWlubmVyJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQltZDogJ2gtMSB3LWZ1bGwnLAoJCQl9LAoJCQlvcmllbnRhdGlvbjogewoJCQkJaG9yaXpvbnRhbDogJycsCgkJCQl2ZXJ0aWNhbDogJycsCgkJCX0sCgkJfSwKCQljb21wb3VuZFZhcmlhbnRzOiBbCgkJCXsKCQkJCXNpemU6ICdtZCcsCgkJCQlvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJywKCQkJCWNsYXNzOiAnaC1mdWxsIHctMScsCgkJCX0sCgkJXSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCQl9LAoJfSwKKTsKCmNvbnN0IGZpbGxWYXJpYW50cyA9IGN2YSgnYWJzb2x1dGUnLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJ2JnLWZvcmVncm91bmQgZGFyazpiZy1mb3JlZ3JvdW5kLzUwJywKCQl9LAoJCXNpemU6IHsKCQkJbWQ6ICdoLTEnLAoJCX0sCgkJb3JpZW50YXRpb246IHsKCQkJaG9yaXpvbnRhbDogJ3RvcC0wIGxlZnQtMCcsCgkJCXZlcnRpY2FsOiAnYm90dG9tLTAgbGVmdC0wJywKCQl9LAoJfSwKCWNvbXBvdW5kVmFyaWFudHM6IFsKCQl7CgkJCXNpemU6ICdtZCcsCgkJCW9yaWVudGF0aW9uOiAndmVydGljYWwnLAoJCQljbGFzczogJ3ctMScsCgkJfSwKCV0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJc2l6ZTogJ21kJywKCQlvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLAoJfSwKfSk7Cgpjb25zdCB0aHVtYlZhcmlhbnRzID0gY3ZhKCdhYnNvbHV0ZSBvcmlnaW4tY2VudGVyIHJvdW5kZWQtZnVsbCBzaGFkb3ctbWQnLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJ2JvcmRlci1ib3JkZXIgYm9yZGVyIGJnLWNhcmQgZGFyazpiZy1mb3JlZ3JvdW5kJywKCQl9LAoJCXNpemU6IHsKCQkJbWQ6ICdzaXplLTQnLAoJCX0sCgkJb3JpZW50YXRpb246IHsKCQkJaG9yaXpvbnRhbDogJ3RvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMicsCgkJCXZlcnRpY2FsOiAnbGVmdC0xLzIgLXRyYW5zbGF0ZS14LTEvMicsCgkJfSwKCQlkaXNhYmxlZDogewoJCQl0cnVlOiAnY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTAnLAoJCQlmYWxzZTogJ2N1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCXNpemU6ICdtZCcsCgkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCQlkaXNhYmxlZDogZmFsc2UsCgl9LAp9KTsKCmV4cG9ydCBpbnRlcmZhY2UgU2xpZGVyUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sICdvbkNoYW5nZSc+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2Ygc2xpZGVyVmFyaWFudHM+IHsKCXZhbHVlPzogbnVtYmVyOwoJZGVmYXVsdFZhbHVlPzogbnVtYmVyOwoJbWluPzogbnVtYmVyOwoJbWF4PzogbnVtYmVyOwoJc3RlcD86IG51bWJlcjsKCWRpc2FibGVkPzogYm9vbGVhbjsKCXNpemU/OiAnbWQnOwoJdmFyaWFudD86ICdkZWZhdWx0JzsKCWxhYmVsPzogc3RyaW5nOwoJc2hvd0xhYmVsPzogYm9vbGVhbjsKCXNob3dWYWx1ZT86IGJvb2xlYW47Cglmb3JtYXRWYWx1ZT86ICh2YWx1ZTogbnVtYmVyKSA9PiBzdHJpbmc7CglnZXRWYWx1ZVRleHQ/OiAodmFsdWU6IG51bWJlcikgPT4gc3RyaW5nOwoJb25DaGFuZ2U/OiAodmFsdWU6IG51bWJlcikgPT4gdm9pZDsKCW9uVmFsdWVDb21taXQ/OiAodmFsdWU6IG51bWJlcikgPT4gdm9pZDsKCWNsYXNzTmFtZT86IHN0cmluZzsKCXRyYWNrQ2xhc3NOYW1lPzogc3RyaW5nOwoJdGh1bWJDbGFzc05hbWU/OiBzdHJpbmc7CgknYXJpYS1sYWJlbCc/OiBzdHJpbmc7CgknYXJpYS1sYWJlbGxlZGJ5Jz86IHN0cmluZzsKfQoKZXhwb3J0IGNvbnN0IFNsaWRlcjogUmVhY3QuRkM8U2xpZGVyUHJvcHM+ID0gKHsKCXZhbHVlOiBjb250cm9sbGVkVmFsdWUsCglkZWZhdWx0VmFsdWUgPSAwLAoJbWluID0gMCwKCW1heCA9IDEwMCwKCXN0ZXAgPSAxLAoJZGlzYWJsZWQgPSBmYWxzZSwKCXNpemUgPSAnbWQnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCW9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnLAoJbGFiZWwsCglzaG93TGFiZWwgPSBmYWxzZSwKCXNob3dWYWx1ZSA9IGZhbHNlLAoJZm9ybWF0VmFsdWUgPSAodmFsdWUpID0+IHZhbHVlLnRvU3RyaW5nKCksCglnZXRWYWx1ZVRleHQsCglvbkNoYW5nZSwKCW9uVmFsdWVDb21taXQsCgljbGFzc05hbWUgPSAnJywKCXRyYWNrQ2xhc3NOYW1lID0gJycsCgl0aHVtYkNsYXNzTmFtZSA9ICcnLAoJJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsCgknYXJpYS1sYWJlbGxlZGJ5JzogYXJpYUxhYmVsbGVkQnksCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCBbaW50ZXJuYWxWYWx1ZSwgc2V0SW50ZXJuYWxWYWx1ZV0gPSB1c2VTdGF0ZShkZWZhdWx0VmFsdWUpOwoJY29uc3QgW2lzRHJhZ2dpbmcsIHNldElzRHJhZ2dpbmddID0gdXNlU3RhdGUoZmFsc2UpOwoJY29uc3Qgc2xpZGVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCWNvbnN0IHRodW1iUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTsKCgljb25zdCBpc0NvbnRyb2xsZWQgPSBjb250cm9sbGVkVmFsdWUgIT09IHVuZGVmaW5lZDsKCWNvbnN0IGN1cnJlbnRWYWx1ZSA9IGlzQ29udHJvbGxlZCA/IGNvbnRyb2xsZWRWYWx1ZSA6IGludGVybmFsVmFsdWU7CgoJY29uc3QgaGVhZGVyTGFiZWwgPSBsYWJlbCA/PyBhcmlhTGFiZWwgPz8gJ1ZhbHVlJzsKCgljb25zdCBjbGFtcFZhbHVlID0gdXNlQ2FsbGJhY2soCgkJKHZhbDogbnVtYmVyKSA9PiB7CgkJCXJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsKSk7CgkJfSwKCQlbbWluLCBtYXhdLAoJKTsKCgljb25zdCByb3VuZFRvU3RlcCA9IHVzZUNhbGxiYWNrKAoJCSh2YWw6IG51bWJlcikgPT4gewoJCQlyZXR1cm4gTWF0aC5yb3VuZCh2YWwgLyBzdGVwKSAqIHN0ZXA7CgkJfSwKCQlbc3RlcF0sCgkpOwoKCWNvbnN0IGdldFBlcmNlbnRhZ2UgPSB1c2VDYWxsYmFjaygKCQkodmFsOiBudW1iZXIpID0+IHsKCQkJcmV0dXJuICgodmFsIC0gbWluKSAvIChtYXggLSBtaW4pKSAqIDEwMDsKCQl9LAoJCVttaW4sIG1heF0sCgkpOwoKCWNvbnN0IGdldFZhbHVlRnJvbVBlcmNlbnRhZ2UgPSB1c2VDYWxsYmFjaygKCQkocGVyY2VudGFnZTogbnVtYmVyKSA9PiB7CgkJCWNvbnN0IHZhbCA9IChwZXJjZW50YWdlIC8gMTAwKSAqIChtYXggLSBtaW4pICsgbWluOwoJCQlyZXR1cm4gcm91bmRUb1N0ZXAoY2xhbXBWYWx1ZSh2YWwpKTsKCQl9LAoJCVttaW4sIG1heCwgcm91bmRUb1N0ZXAsIGNsYW1wVmFsdWVdLAoJKTsKCgljb25zdCBnZXRQb3NpdGlvbkZyb21FdmVudCA9IHVzZUNhbGxiYWNrKAoJCShldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHsKCQkJaWYgKCFzbGlkZXJSZWYuY3VycmVudCkgcmV0dXJuIDA7CgoJCQljb25zdCByZWN0ID0gc2xpZGVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkJCWNvbnN0IGZpcnN0VG91Y2ggPQoJCQkJJ3RvdWNoZXMnIGluIGV2ZW50ICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMAoJCQkJCT8gZXZlbnQudG91Y2hlc1swXQoJCQkJCTogbnVsbDsKCQkJY29uc3QgY2xpZW50WCA9CgkJCQlmaXJzdFRvdWNoPy5jbGllbnRYID8/ICgnY2xpZW50WCcgaW4gZXZlbnQgPyBldmVudC5jbGllbnRYIDogMCk7CgkJCWNvbnN0IGNsaWVudFkgPQoJCQkJZmlyc3RUb3VjaD8uY2xpZW50WSA/PyAoJ2NsaWVudFknIGluIGV2ZW50ID8gZXZlbnQuY2xpZW50WSA6IDApOwoKCQkJaWYgKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHsKCQkJCXJldHVybiAoKGNsaWVudFggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aCkgKiAxMDA7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gKChyZWN0LmJvdHRvbSAtIGNsaWVudFkpIC8gcmVjdC5oZWlnaHQpICogMTAwOwoJCQl9CgkJfSwKCQlbb3JpZW50YXRpb25dLAoJKTsKCgljb25zdCBoYW5kbGVWYWx1ZUNoYW5nZSA9IHVzZUNhbGxiYWNrKAoJCShuZXdWYWx1ZTogbnVtYmVyKSA9PiB7CgkJCWNvbnN0IGNsYW1wZWRWYWx1ZSA9IGNsYW1wVmFsdWUobmV3VmFsdWUpOwoKCQkJaWYgKCFpc0NvbnRyb2xsZWQpIHsKCQkJCXNldEludGVybmFsVmFsdWUoY2xhbXBlZFZhbHVlKTsKCQkJfQoKCQkJb25DaGFuZ2U/LihjbGFtcGVkVmFsdWUpOwoJCX0sCgkJW2lzQ29udHJvbGxlZCwgb25DaGFuZ2UsIGNsYW1wVmFsdWVdLAoJKTsKCgljb25zdCBoYW5kbGVNb3VzZURvd24gPSB1c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHsKCQkJaWYgKGRpc2FibGVkKSByZXR1cm47CgoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQlzZXRJc0RyYWdnaW5nKHRydWUpOwoKCQkJc2xpZGVyUmVmLmN1cnJlbnQ/LmZvY3VzKCk7CgoJCQljb25zdCBwZXJjZW50YWdlID0gZ2V0UG9zaXRpb25Gcm9tRXZlbnQoZXZlbnQubmF0aXZlRXZlbnQpOwoJCQljb25zdCBuZXdWYWx1ZSA9IGdldFZhbHVlRnJvbVBlcmNlbnRhZ2UocGVyY2VudGFnZSk7CgkJCWhhbmRsZVZhbHVlQ2hhbmdlKG5ld1ZhbHVlKTsKCQl9LAoJCVtkaXNhYmxlZCwgZ2V0UG9zaXRpb25Gcm9tRXZlbnQsIGdldFZhbHVlRnJvbVBlcmNlbnRhZ2UsIGhhbmRsZVZhbHVlQ2hhbmdlXSwKCSk7CgoJY29uc3QgaGFuZGxlVG91Y2hTdGFydCA9IHVzZUNhbGxiYWNrKAoJCShldmVudDogUmVhY3QuVG91Y2hFdmVudCkgPT4gewoJCQlpZiAoZGlzYWJsZWQpIHJldHVybjsKCgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCXNldElzRHJhZ2dpbmcodHJ1ZSk7CgoJCQlzbGlkZXJSZWYuY3VycmVudD8uZm9jdXMoKTsKCgkJCWNvbnN0IHBlcmNlbnRhZ2UgPSBnZXRQb3NpdGlvbkZyb21FdmVudChldmVudC5uYXRpdmVFdmVudCk7CgkJCWNvbnN0IG5ld1ZhbHVlID0gZ2V0VmFsdWVGcm9tUGVyY2VudGFnZShwZXJjZW50YWdlKTsKCQkJaGFuZGxlVmFsdWVDaGFuZ2UobmV3VmFsdWUpOwoJCX0sCgkJW2Rpc2FibGVkLCBnZXRQb3NpdGlvbkZyb21FdmVudCwgZ2V0VmFsdWVGcm9tUGVyY2VudGFnZSwgaGFuZGxlVmFsdWVDaGFuZ2VdLAoJKTsKCgljb25zdCBoYW5kbGVNb3VzZU1vdmUgPSB1c2VDYWxsYmFjaygKCQkoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHsKCQkJaWYgKCFpc0RyYWdnaW5nIHx8IGRpc2FibGVkKSByZXR1cm47CgoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQljb25zdCBwZXJjZW50YWdlID0gZ2V0UG9zaXRpb25Gcm9tRXZlbnQoZXZlbnQpOwoJCQljb25zdCBuZXdWYWx1ZSA9IGdldFZhbHVlRnJvbVBlcmNlbnRhZ2UocGVyY2VudGFnZSk7CgkJCWhhbmRsZVZhbHVlQ2hhbmdlKG5ld1ZhbHVlKTsKCQl9LAoJCVsKCQkJaXNEcmFnZ2luZywKCQkJZGlzYWJsZWQsCgkJCWdldFBvc2l0aW9uRnJvbUV2ZW50LAoJCQlnZXRWYWx1ZUZyb21QZXJjZW50YWdlLAoJCQloYW5kbGVWYWx1ZUNoYW5nZSwKCQldLAoJKTsKCgljb25zdCBoYW5kbGVUb3VjaE1vdmUgPSB1c2VDYWxsYmFjaygKCQkoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHsKCQkJaWYgKCFpc0RyYWdnaW5nIHx8IGRpc2FibGVkKSByZXR1cm47CgoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQljb25zdCBwZXJjZW50YWdlID0gZ2V0UG9zaXRpb25Gcm9tRXZlbnQoZXZlbnQpOwoJCQljb25zdCBuZXdWYWx1ZSA9IGdldFZhbHVlRnJvbVBlcmNlbnRhZ2UocGVyY2VudGFnZSk7CgkJCWhhbmRsZVZhbHVlQ2hhbmdlKG5ld1ZhbHVlKTsKCQl9LAoJCVsKCQkJaXNEcmFnZ2luZywKCQkJZGlzYWJsZWQsCgkJCWdldFBvc2l0aW9uRnJvbUV2ZW50LAoJCQlnZXRWYWx1ZUZyb21QZXJjZW50YWdlLAoJCQloYW5kbGVWYWx1ZUNoYW5nZSwKCQldLAoJKTsKCgljb25zdCBoYW5kbGVNb3VzZVVwID0gdXNlQ2FsbGJhY2soKCkgPT4gewoJCWlmICghaXNEcmFnZ2luZykgcmV0dXJuOwoKCQlzZXRJc0RyYWdnaW5nKGZhbHNlKTsKCQlvblZhbHVlQ29tbWl0Py4oY3VycmVudFZhbHVlKTsKCX0sIFtpc0RyYWdnaW5nLCBvblZhbHVlQ29tbWl0LCBjdXJyZW50VmFsdWVdKTsKCgljb25zdCBoYW5kbGVUb3VjaEVuZCA9IHVzZUNhbGxiYWNrKCgpID0+IHsKCQlpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjsKCgkJc2V0SXNEcmFnZ2luZyhmYWxzZSk7CgkJb25WYWx1ZUNvbW1pdD8uKGN1cnJlbnRWYWx1ZSk7Cgl9LCBbaXNEcmFnZ2luZywgb25WYWx1ZUNvbW1pdCwgY3VycmVudFZhbHVlXSk7CgoJY29uc3QgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKAoJCShldmVudDogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4gewoJCQlpZiAoZGlzYWJsZWQpIHJldHVybjsKCgkJCWxldCBuZXdWYWx1ZSA9IGN1cnJlbnRWYWx1ZTsKCgkJCXN3aXRjaCAoZXZlbnQua2V5KSB7CgkJCQljYXNlICdBcnJvd0xlZnQnOgoJCQkJY2FzZSAnQXJyb3dEb3duJzoKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCW5ld1ZhbHVlID0gY3VycmVudFZhbHVlIC0gc3RlcDsKCQkJCQlicmVhazsKCQkJCWNhc2UgJ0Fycm93UmlnaHQnOgoJCQkJY2FzZSAnQXJyb3dVcCc6CgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQluZXdWYWx1ZSA9IGN1cnJlbnRWYWx1ZSArIHN0ZXA7CgkJCQkJYnJlYWs7CgkJCQljYXNlICdIb21lJzoKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCW5ld1ZhbHVlID0gbWluOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAnRW5kJzoKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCW5ld1ZhbHVlID0gbWF4OwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAnUGFnZURvd24nOgoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJbmV3VmFsdWUgPSBjdXJyZW50VmFsdWUgLSBzdGVwICogMTA7CgkJCQkJYnJlYWs7CgkJCQljYXNlICdQYWdlVXAnOgoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJbmV3VmFsdWUgPSBjdXJyZW50VmFsdWUgKyBzdGVwICogMTA7CgkJCQkJYnJlYWs7CgkJCQlkZWZhdWx0OgoJCQkJCXJldHVybjsKCQkJfQoKCQkJaGFuZGxlVmFsdWVDaGFuZ2UoY2xhbXBWYWx1ZShuZXdWYWx1ZSkpOwoJCX0sCgkJW2Rpc2FibGVkLCBjdXJyZW50VmFsdWUsIHN0ZXAsIG1pbiwgbWF4LCBoYW5kbGVWYWx1ZUNoYW5nZSwgY2xhbXBWYWx1ZV0sCgkpOwoKCXVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFpc0RyYWdnaW5nKSByZXR1cm47CgoJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlVG91Y2hNb3ZlKTsKCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBoYW5kbGVUb3VjaEVuZCk7CgoJCXJldHVybiAoKSA9PiB7CgkJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7CgkJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNoTW92ZSk7CgkJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTsKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBoYW5kbGVUb3VjaEVuZCk7CgkJfTsKCX0sIFsKCQlpc0RyYWdnaW5nLAoJCWhhbmRsZU1vdXNlTW92ZSwKCQloYW5kbGVUb3VjaE1vdmUsCgkJaGFuZGxlTW91c2VVcCwKCQloYW5kbGVUb3VjaEVuZCwKCV0pOwoKCWNvbnN0IGN1cnJlbnRPcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uIHx8ICdob3Jpem9udGFsJzsKCWNvbnN0IGN1cnJlbnRTaXplID0gc2l6ZSB8fCAnbWQnOwoJY29uc3QgY3VycmVudFZhcmlhbnQgPSB2YXJpYW50IHx8ICdkZWZhdWx0JzsKCgljb25zdCBwZXJjZW50YWdlID0gZ2V0UGVyY2VudGFnZShjdXJyZW50VmFsdWUpOwoKCWNvbnN0IGZpbGxTdHlsZSA9CgkJY3VycmVudE9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcKCQkJPyB7IHdpZHRoOiBgJHtwZXJjZW50YWdlfSVgIH0KCQkJOiB7IGhlaWdodDogYCR7cGVyY2VudGFnZX0lYCB9OwoKCWNvbnN0IHRodW1iU3R5bGUgPQoJCWN1cnJlbnRPcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnCgkJCT8geyBsZWZ0OiBgJHtwZXJjZW50YWdlfSVgLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpJyB9CgkJCTogeyBib3R0b206IGAke3BlcmNlbnRhZ2V9JWAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoNTAlKScgfTsKCglyZXR1cm4gKAoJCTxkaXYKCQkJY2xhc3NOYW1lPXtjbigKCQkJCXdyYXBwZXJWYXJpYW50cyh7IG9yaWVudGF0aW9uOiBjdXJyZW50T3JpZW50YXRpb24gfSksCgkJCQljbGFzc05hbWUsCgkJCSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXsoc2hvd0xhYmVsIHx8IHNob3dWYWx1ZSkgJiYgKAoJCQkJPGRpdiBjbGFzc05hbWU9ImZsZXggZ2FwLTIgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB3LWZpdCI+CgkJCQkJe3Nob3dMYWJlbCAmJiAoCgkJCQkJCTxzcGFuIGNsYXNzTmFtZT0idGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvNzAiPgoJCQkJCQkJe2hlYWRlckxhYmVsfQoJCQkJCQk8L3NwYW4+CgkJCQkJKX0KCQkJCQl7c2hvd1ZhbHVlICYmICgKCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZC80NSI+CgkJCQkJCQl7Zm9ybWF0VmFsdWUoY3VycmVudFZhbHVlKX0KCQkJCQkJPC9zcGFuPgoJCQkJCSl9CgkJCQk8L2Rpdj4KCQkJKX0KCgkJCTxkaXYKCQkJCXJlZj17c2xpZGVyUmVmfQoJCQkJcm9sZT0ic2xpZGVyIgoJCQkJdGFiSW5kZXg9e2Rpc2FibGVkID8gLTEgOiAwfQoJCQkJYXJpYS12YWx1ZW1pbj17bWlufQoJCQkJYXJpYS12YWx1ZW1heD17bWF4fQoJCQkJYXJpYS12YWx1ZW5vdz17Y3VycmVudFZhbHVlfQoJCQkJYXJpYS12YWx1ZXRleHQ9ewoJCQkJCWdldFZhbHVlVGV4dAoJCQkJCQk/IGdldFZhbHVlVGV4dChjdXJyZW50VmFsdWUpCgkJCQkJCTogZm9ybWF0VmFsdWU/LihjdXJyZW50VmFsdWUpCgkJCQl9CgkJCQlhcmlhLW9yaWVudGF0aW9uPXtjdXJyZW50T3JpZW50YXRpb259CgkJCQlhcmlhLWxhYmVsPXthcmlhTGFiZWx9CgkJCQlhcmlhLWxhYmVsbGVkYnk9e2FyaWFMYWJlbGxlZEJ5fQoJCQkJYXJpYS1kaXNhYmxlZD17ZGlzYWJsZWR9CgkJCQljbGFzc05hbWU9e2NuKHNsaWRlclZhcmlhbnRzKHsgb3JpZW50YXRpb246IGN1cnJlbnRPcmllbnRhdGlvbiB9KSl9CgkJCQlvbk1vdXNlRG93bj17aGFuZGxlTW91c2VEb3dufQoJCQkJb25Ub3VjaFN0YXJ0PXtoYW5kbGVUb3VjaFN0YXJ0fQoJCQkJb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufQoJCQkJb25CbHVyPXsoKSA9PiBvblZhbHVlQ29tbWl0Py4oY3VycmVudFZhbHVlKX0KCQkJPgoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCXRyYWNrVmFyaWFudHMoewoJCQkJCQkJc2l6ZTogY3VycmVudFNpemUsCgkJCQkJCQlvcmllbnRhdGlvbjogY3VycmVudE9yaWVudGF0aW9uLAoJCQkJCQl9KSwKCQkJCQkJdHJhY2tDbGFzc05hbWUsCgkJCQkJKX0KCQkJCT4KCQkJCQk8ZGl2CgkJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCQlmaWxsVmFyaWFudHMoewoJCQkJCQkJCXZhcmlhbnQ6IGN1cnJlbnRWYXJpYW50LAoJCQkJCQkJCXNpemU6IGN1cnJlbnRTaXplLAoJCQkJCQkJCW9yaWVudGF0aW9uOiBjdXJyZW50T3JpZW50YXRpb24sCgkJCQkJCQl9KSwKCQkJCQkJKX0KCQkJCQkJc3R5bGU9e2ZpbGxTdHlsZX0KCQkJCQkvPgoJCQkJPC9kaXY+CgoJCQkJPGRpdgoJCQkJCXJlZj17dGh1bWJSZWZ9CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJdGh1bWJWYXJpYW50cyh7CgkJCQkJCQl2YXJpYW50OiBjdXJyZW50VmFyaWFudCwKCQkJCQkJCXNpemU6IGN1cnJlbnRTaXplLAoJCQkJCQkJb3JpZW50YXRpb246IGN1cnJlbnRPcmllbnRhdGlvbiwKCQkJCQkJCWRpc2FibGVkOiBkaXNhYmxlZCwKCQkJCQkJfSksCgkJCQkJCWlzRHJhZ2dpbmcgJiYgJ3JpbmctMiByaW5nLXJpbmcvNTAnLAoJCQkJCQl0aHVtYkNsYXNzTmFtZSwKCQkJCQkpfQoJCQkJCXN0eWxlPXt0aHVtYlN0eWxlfQoJCQkJLz4KCQkJPC9kaXY+CgkJPC9kaXY+CgkpOwp9Ow=="
,
  "spinner.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCB0eXBlIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7Cgpjb25zdCBzcGlubmVyVmFyaWFudHMgPSBjdmEoWydpbmxpbmUtYmxvY2sgYW5pbWF0ZS1zcGluIHRleHQtY3VycmVudCddLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJ3RleHQtZm9yZWdyb3VuZC83MCcsCgkJfSwKCQlzaXplOiB7CgkJCXNtOiAnc2l6ZS00JywKCQkJbWQ6ICdzaXplLTYnLAoJCQlsZzogJ3NpemUtOCcsCgkJfSwKCX0sCglkZWZhdWx0VmFyaWFudHM6IHsKCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJc2l6ZTogJ21kJywKCX0sCn0pOwoKZXhwb3J0IGludGVyZmFjZSBTcGlubmVyUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2Ygc3Bpbm5lclZhcmlhbnRzPiB7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBjb25zdCBTcGlubmVyOiBSZWFjdC5GQzxTcGlubmVyUHJvcHM+ID0gKHsKCXNpemUgPSAnbWQnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCWNsYXNzTmFtZSA9ICcnLAoJLi4ucHJvcHMKfSkgPT4gewoJcmV0dXJuICgKCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L3VzZVNlbWFudGljRWxlbWVudHM6IHNwaW5uZXIgaW50ZW50aW9uYWxseSB1c2VzIGEgZGl2IHdpdGggcm9sZT0ic3RhdHVzIiBmb3IgYWNjZXNzaWJpbGl0eSAqLwoJCTxkaXYKCQkJcm9sZT0ic3RhdHVzIgoJCQlhcmlhLWxpdmU9InBvbGl0ZSIKCQkJYXJpYS1idXN5PSJ0cnVlIgoJCQljbGFzc05hbWU9e2NuKHNwaW5uZXJWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCTxzdmcKCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJdmlld0JveD0iMCAwIDI0IDI0IgoJCQkJZmlsbD0ibm9uZSIKCQkJCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKCQkJCWNsYXNzTmFtZT0idy1mdWxsIGgtZnVsbCIKCQkJPgoJCQkJPHBhdGgKCQkJCQlmaWxsUnVsZT0iZXZlbm9kZCIKCQkJCQljbGlwUnVsZT0iZXZlbm9kZCIKCQkJCQlkPSJNMTIgMEMxMy4wMjY1IDAgMTQuMDIyNyAwLjEyOTYwNyAxNC45NzM2IDAuMzcyMDdMMTkgOVYyLjI1NTg2QzIyLjAyNzEgNC40MzQzMyAyNCA3Ljk4NTc0IDI0IDEyQzI0IDE4LjYyNzQgMTguNjI3NCAyNCAxMiAyNEMxMC45NzMxIDI0IDkuOTc2NzEgMjMuODY5NiA5LjAyNTM5IDIzLjYyN0w1IDE1VjIxLjc0MzJDMS45NzMxMyAxOS41NjQ3IDAgMTYuMDE0MSAwIDEyQzAgNS4zNzI1OCA1LjM3MjU4IDAgMTIgMFpNMTIgNUM4LjEzNDAxIDUgNSA4LjEzNDAxIDUgMTJDNSAxNS44NjYgOC4xMzQwMSAxOSAxMiAxOUMxNS44NjYgMTkgMTkgMTUuODY2IDE5IDEyQzE5IDguMTM0MDEgMTUuODY2IDUgMTIgNVoiCgkJCQkJZmlsbD0iY3VycmVudENvbG9yIgoJCQkJLz4KCQkJPC9zdmc+CgkJCTxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+TG9hZGluZy4uLjwvc3Bhbj4KCQk8L2Rpdj4KCSk7Cn07"
,
  "switch.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qgc3dpdGNoVmFyaWFudHMgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXRyYW5zcGFyZW50JywKCQknY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixib3gtc2hhZG93XSBlYXNlLW91dC1xdWFkIGR1cmF0aW9uLTEwMCcsCgkJJ3BlZXItZm9jdXMtdmlzaWJsZTpyaW5nLTEgcGVlci1mb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJJ3BlZXItZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIHBlZXItZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCcsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnaC01IHctOScsCgkJCQltZDogJ2gtNiB3LTExJywKCQkJCWxnOiAnaC03IHctMTMnLAoJCQl9LAoJCQljaGVja2VkOiB7CgkJCQl0cnVlOiAnJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQkJZGlzYWJsZWQ6IHsKCQkJCXRydWU6ICdjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQljb21wb3VuZFZhcmlhbnRzOiBbCgkJCXsKCQkJCWNoZWNrZWQ6IHRydWUsCgkJCQljbGFzczogJ2JnLWZvcmVncm91bmQvMzAgcGVlci1mb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCcsCgkJCX0sCgkJCXsKCQkJCWNoZWNrZWQ6IGZhbHNlLAoJCQkJY2xhc3M6ICdiZy1mb3JlZ3JvdW5kLzE1IHBlZXItZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAnLAoJCQl9LAoJCV0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJCWNoZWNrZWQ6IGZhbHNlLAoJCQlkaXNhYmxlZDogZmFsc2UsCgkJfSwKCX0sCik7Cgpjb25zdCB0aHVtYlZhcmlhbnRzID0gY3ZhKAoJWwoJCSdpbmxpbmUtYmxvY2sgcm91bmRlZC1mdWxsIGJnLWNhcmQgZGFyazpiZy1mb3JlZ3JvdW5kJywKCQknc2hhZG93LXNtIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTEwMCBlYXNlLW91dC1xdWFkJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdzaXplLTQnLAoJCQkJbWQ6ICdzaXplLTUnLAoJCQkJbGc6ICdzaXplLTYnLAoJCQl9LAoJCQljaGVja2VkOiB7CgkJCQl0cnVlOiAnJywKCQkJCWZhbHNlOiAnJywKCQkJfSwKCQl9LAoJCWNvbXBvdW5kVmFyaWFudHM6IFsKCQkJeyBzaXplOiAnc20nLCBjaGVja2VkOiB0cnVlLCBjbGFzczogJ3RyYW5zbGF0ZS14LTQnIH0sCgkJCXsgc2l6ZTogJ3NtJywgY2hlY2tlZDogZmFsc2UsIGNsYXNzOiAndHJhbnNsYXRlLXgtMCcgfSwKCQkJeyBzaXplOiAnbWQnLCBjaGVja2VkOiB0cnVlLCBjbGFzczogJ3RyYW5zbGF0ZS14LTUnIH0sCgkJCXsgc2l6ZTogJ21kJywgY2hlY2tlZDogZmFsc2UsIGNsYXNzOiAndHJhbnNsYXRlLXgtMCcgfSwKCQkJeyBzaXplOiAnbGcnLCBjaGVja2VkOiB0cnVlLCBjbGFzczogJ3RyYW5zbGF0ZS14LTYnIH0sCgkJCXsgc2l6ZTogJ2xnJywgY2hlY2tlZDogZmFsc2UsIGNsYXNzOiAndHJhbnNsYXRlLXgtMCcgfSwKCQldLAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlzaXplOiAnbWQnLAoJCQljaGVja2VkOiBmYWxzZSwKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgU3dpdGNoUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFyaWFraXQuQ2hlY2tib3g+LCAnc2l6ZSc+LAoJCU9taXQ8VmFyaWFudFByb3BzPHR5cGVvZiBzd2l0Y2hWYXJpYW50cz4sICdjaGVja2VkJyB8ICdkaXNhYmxlZCc+IHsKCXNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7CglkaXNhYmxlZD86IGJvb2xlYW47CgljbGFzc05hbWU/OiBzdHJpbmc7CglvbkNoZWNrZWRDaGFuZ2U/OiAoY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZDsKfQoKZXhwb3J0IGNvbnN0IFN3aXRjaDogUmVhY3QuRkM8U3dpdGNoUHJvcHM+ID0gKHsKCXNpemUgPSAnbWQnLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWNsYXNzTmFtZSwKCW9uQ2hlY2tlZENoYW5nZSwKCWNoZWNrZWQsCglkZWZhdWx0Q2hlY2tlZCwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGlkID0gUmVhY3QudXNlSWQoKTsKCWNvbnN0IHN0b3JlID0gQXJpYWtpdC51c2VDaGVja2JveFN0b3JlKAoJCWNoZWNrZWQgIT09IHVuZGVmaW5lZAoJCQk/IG9uQ2hlY2tlZENoYW5nZQoJCQkJPyB7CgkJCQkJCXZhbHVlOiBjaGVja2VkLAoJCQkJCQlzZXRWYWx1ZTogKHZhbCkgPT4gewoJCQkJCQkJY29uc3QgbmV4dCA9IEFycmF5LmlzQXJyYXkodmFsKQoJCQkJCQkJCT8gdmFsLnNvbWUoQm9vbGVhbikKCQkJCQkJCQk6IHZhbCA9PT0gdHJ1ZTsKCQkJCQkJCW9uQ2hlY2tlZENoYW5nZShuZXh0KTsKCQkJCQkJfSwKCQkJCQl9CgkJCQk6IHsgdmFsdWU6IGNoZWNrZWQgfQoJCQk6IHsgZGVmYXVsdFZhbHVlOiBkZWZhdWx0Q2hlY2tlZCA/PyBmYWxzZSB9LAoJKTsKCWNvbnN0IHZhbHVlID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKHN0b3JlLCAndmFsdWUnKTsKCWNvbnN0IGlzQ2hlY2tlZCA9IHZhbHVlID09PSB0cnVlOwoKCXJldHVybiAoCgkJPD4KCQkJPEFyaWFraXQuQ2hlY2tib3gKCQkJCWlkPXtpZH0KCQkJCXN0b3JlPXtzdG9yZX0KCQkJCXJvbGU9InN3aXRjaCIKCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCWNsYXNzTmFtZT0icGVlciBzci1vbmx5IgoJCQkJey4uLnByb3BzfQoJCQkvPgoJCQk8bGFiZWwKCQkJCWh0bWxGb3I9e2lkfQoJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQlzd2l0Y2hWYXJpYW50cyh7IHNpemUsIGNoZWNrZWQ6IGlzQ2hlY2tlZCwgZGlzYWJsZWQgfSksCgkJCQkJY2xhc3NOYW1lLAoJCQkJKX0KCQkJPgoJCQkJPHNwYW4gY2xhc3NOYW1lPXt0aHVtYlZhcmlhbnRzKHsgc2l6ZSwgY2hlY2tlZDogaXNDaGVja2VkIH0pfSAvPgoJCQk8L2xhYmVsPgoJCTwvPgoJKTsKfTs="
,
  "table.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7Cgl0eXBlIENvbHVtbkRlZiwKCXR5cGUgQ29sdW1uTWV0YSwKCWZsZXhSZW5kZXIsCglnZXRDb3JlUm93TW9kZWwsCglnZXRTb3J0ZWRSb3dNb2RlbCwKCXR5cGUgUm93LAoJdHlwZSBSb3dTZWxlY3Rpb25TdGF0ZSwKCXR5cGUgU29ydGluZ1N0YXRlLAoJdHlwZSBUYWJsZU9wdGlvbnMsCgl1c2VSZWFjdFRhYmxlLAp9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC10YWJsZSc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBJY29ucyB9IGZyb20gJ0AvbGliL2ljb25zJzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2hlY2tib3gnOwoKZGVjbGFyZSBtb2R1bGUgJ0B0YW5zdGFjay9yZWFjdC10YWJsZScgewoJLy8gQWxsb3cgY29uc3VtZXJzIHRvIGNvbmZpZ3VyZSBwcmVzZW50YXRpb24gZGV0YWlscyBvbiBjb2x1bW4gZGVmaW5pdGlvbnMuCglpbnRlcmZhY2UgQ29sdW1uTWV0YTxURGF0YSwgVFZhbHVlPiB7CgkJYWxpZ24/OiAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCc7CgkJd2lkdGg/OiBudW1iZXIgfCBzdHJpbmc7CgkJbWluV2lkdGg/OiBudW1iZXIgfCBzdHJpbmc7CgkJbWF4V2lkdGg/OiBudW1iZXIgfCBzdHJpbmc7CgkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCWhlYWRlckNsYXNzTmFtZT86IHN0cmluZzsKCQloZWFkZXJUb29sdGlwPzogc3RyaW5nOwoJCS8qKgoJCSAqIFBoYW50b20gYnJhbmQgdG8gcmVmZXJlbmNlIGdlbmVyaWNzIGFuZCBzYXRpc2Z5IHR5cGUgY2hlY2tlcnMuCgkJICogTm90IGZvciBwdWJsaWMgdXNlLgoJCSAqLwoJCXJlYWRvbmx5IF9fbWV0YUdlbmVyaWNzQnJhbmRfXz86IHsKCQkJcmVhZG9ubHkgZGF0YT86IFREYXRhOwoJCQlyZWFkb25seSB2YWx1ZT86IFRWYWx1ZTsKCQl9OwoJfQp9Cgpjb25zdCB0YWJsZVZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkJywKCQkncm91bmRlZC1sZyBzaGFkb3ctbWQgY2FyZC1oaWdobGlnaHQnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQlkZW5zaXR5OiB7CgkJCQljb21mb3J0YWJsZTogJ3RleHQtc20nLAoJCQkJY29tcGFjdDogJ3RleHQteHMnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCWRlbnNpdHk6ICdjb21mb3J0YWJsZScsCgkJfSwKCX0sCik7Cgpjb25zdCBoZWFkZXJDZWxsVmFyaWFudHMgPSBjdmEoCglbCgkJJ2ZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtbGcgcC00IHRleHQtZm9yZWdyb3VuZC83MCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRyYWNraW5nLXdpZGUgdXBwZXJjYXNlJywKCQkndHJhbnNpdGlvbi1zaGFkb3cgZHVyYXRpb24tMTAwIGVhc2Utb3V0LXF1YWQnLAoJCSdmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCSdmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJYWxpZ246IHsKCQkJCWxlZnQ6ICdqdXN0aWZ5LXN0YXJ0IHRleHQtbGVmdCcsCgkJCQljZW50ZXI6ICdqdXN0aWZ5LWNlbnRlciB0ZXh0LWNlbnRlcicsCgkJCQlyaWdodDogJ2p1c3RpZnktZW5kIHRleHQtcmlnaHQnLAoJCQl9LAoJCQlzb3J0YWJsZTogewoJCQkJdHJ1ZTogJ2N1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtZm9yZWdyb3VuZCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCXNvcnRlZDogewoJCQkJYXNjOiAndGV4dC1mb3JlZ3JvdW5kJywKCQkJCWRlc2M6ICd0ZXh0LWZvcmVncm91bmQnLAoJCQkJbm9uZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJYWxpZ246ICdsZWZ0JywKCQkJc29ydGFibGU6IGZhbHNlLAoJCQlzb3J0ZWQ6ICdub25lJywKCQl9LAoJfSwKKTsKCmNvbnN0IGNlbGxWYXJpYW50cyA9IGN2YShbJ3B4LTQgcHktMyB0ZXh0LWZvcmVncm91bmQnLCAnd2hpdGVzcGFjZS1ub3dyYXAnXSwgewoJdmFyaWFudHM6IHsKCQlhbGlnbjogewoJCQlsZWZ0OiAndGV4dC1sZWZ0JywKCQkJY2VudGVyOiAndGV4dC1jZW50ZXInLAoJCQlyaWdodDogJ3RleHQtcmlnaHQnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJYWxpZ246ICdsZWZ0JywKCX0sCn0pOwoKY29uc3Qgcm93VmFyaWFudHMgPSBjdmEoCglbJ3JlbGF0aXZlIGdyaWQgaXRlbXMtY2VudGVyJywgJ2JvcmRlci1iIGJvcmRlci1ib3JkZXIvNjAgbGFzdDpib3JkZXItMCddLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNlbGVjdGVkOiB7CgkJCQl0cnVlOiAnYmctY2FyZC1tdXRlZCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJCWFjdGl2ZTogewoJCQkJdHJ1ZTogJ3otMTAgdHJhbnNpdGlvbi1zaGFkb3cgZHVyYXRpb24tMTAwIGVhc2Utb3V0LXF1YWQgZm9jdXMtdmlzaWJsZTp6LTEwIGZvY3VzLXZpc2libGU6cm91bmRlZC1sZyBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2VsZWN0ZWQ6IGZhbHNlLAoJCQlhY3RpdmU6IGZhbHNlLAoJCX0sCgl9LAopOwoKY29uc3QgY29tcG9zaXRlT3B0aW9ucyA9IHsKCW9yaWVudGF0aW9uOiAndmVydGljYWwnIGFzIGNvbnN0LAoJZm9jdXNMb29wOiBmYWxzZSwKfTsKCmZ1bmN0aW9uIHJlc29sdmVVcGRhdGVyPFQ+KHVwZGF0ZXI6IFQgfCAoKG9sZDogVCkgPT4gVCksIHByZXZpb3VzOiBUKTogVCB7CglyZXR1cm4gdHlwZW9mIHVwZGF0ZXIgPT09ICdmdW5jdGlvbicKCQk/ICh1cGRhdGVyIGFzIChvbGQ6IFQpID0+IFQpKHByZXZpb3VzKQoJCTogdXBkYXRlcjsKfQoKZXhwb3J0IGludGVyZmFjZSBUYWJsZVByb3BzPFREYXRhPgoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sCgkJVmFyaWFudFByb3BzPHR5cGVvZiB0YWJsZVZhcmlhbnRzPiB7Cgljb2x1bW5zOiBDb2x1bW5EZWY8VERhdGEsIHVua25vd24+W107CglkYXRhOiBURGF0YVtdOwoJZW5hYmxlU29ydGluZz86IGJvb2xlYW47CgllbmFibGVSb3dTZWxlY3Rpb24/OiBib29sZWFuOwoJYWN0aXZlUm93SWQ/OiBzdHJpbmc7CglvbkFjdGl2ZVJvd0NoYW5nZT86IChyb3dJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkOwoJb25Sb3dDbGljaz86IChyb3c6IFJvdzxURGF0YT4pID0+IHZvaWQ7Cglpbml0aWFsU29ydGluZz86IFNvcnRpbmdTdGF0ZTsKCXNvcnRpbmdTdGF0ZT86IFNvcnRpbmdTdGF0ZTsKCW9uU29ydGluZ0NoYW5nZT86IChzb3J0aW5nOiBTb3J0aW5nU3RhdGUpID0+IHZvaWQ7Cglyb3dTZWxlY3Rpb25TdGF0ZT86IFJvd1NlbGVjdGlvblN0YXRlOwoJb25Sb3dTZWxlY3Rpb25DaGFuZ2U/OiAoc3RhdGU6IFJvd1NlbGVjdGlvblN0YXRlKSA9PiB2b2lkOwoJb25TZWxlY3RlZFJvd3NDaGFuZ2U/OiAocm93czogUm93PFREYXRhPltdKSA9PiB2b2lkOwoJZW1wdHlTdGF0ZT86IFJlYWN0LlJlYWN0Tm9kZTsKCWdldFJvd0lkPzogKG9yaWdpbmFsUm93OiBURGF0YSwgaW5kZXg6IG51bWJlciwgcGFyZW50PzogUm93PFREYXRhPikgPT4gc3RyaW5nOwp9CgpleHBvcnQgZnVuY3Rpb24gVGFibGU8VERhdGE+KHsKCWNvbHVtbnMsCglkYXRhLAoJZW5hYmxlU29ydGluZyA9IHRydWUsCgllbmFibGVSb3dTZWxlY3Rpb24gPSBmYWxzZSwKCWRlbnNpdHksCgljbGFzc05hbWUgPSAnJywKCW9uUm93Q2xpY2ssCglpbml0aWFsU29ydGluZyA9IFtdLAoJc29ydGluZ1N0YXRlLAoJb25Tb3J0aW5nQ2hhbmdlLAoJcm93U2VsZWN0aW9uU3RhdGUsCglvblJvd1NlbGVjdGlvbkNoYW5nZSwKCW9uU2VsZWN0ZWRSb3dzQ2hhbmdlLAoJZW1wdHlTdGF0ZSwKCWFjdGl2ZVJvd0lkLAoJb25BY3RpdmVSb3dDaGFuZ2UsCglnZXRSb3dJZCwKCS4uLnByb3BzCn06IFRhYmxlUHJvcHM8VERhdGE+KSB7Cgljb25zdCBpc1NvcnRpbmdDb250cm9sbGVkID0gc29ydGluZ1N0YXRlICE9PSB1bmRlZmluZWQ7Cgljb25zdCBbaW50ZXJuYWxTb3J0aW5nLCBzZXRJbnRlcm5hbFNvcnRpbmddID0KCQlSZWFjdC51c2VTdGF0ZTxTb3J0aW5nU3RhdGU+KGluaXRpYWxTb3J0aW5nKTsKCWNvbnN0IHNvcnRpbmcgPSBpc1NvcnRpbmdDb250cm9sbGVkID8gc29ydGluZ1N0YXRlIDogaW50ZXJuYWxTb3J0aW5nOwoKCWNvbnN0IGlzUm93U2VsZWN0aW9uQ29udHJvbGxlZCA9IHJvd1NlbGVjdGlvblN0YXRlICE9PSB1bmRlZmluZWQ7Cgljb25zdCBbaW50ZXJuYWxSb3dTZWxlY3Rpb24sIHNldEludGVybmFsUm93U2VsZWN0aW9uXSA9CgkJUmVhY3QudXNlU3RhdGU8Um93U2VsZWN0aW9uU3RhdGU+KHt9KTsKCWNvbnN0IHJvd1NlbGVjdGlvbiA9IGlzUm93U2VsZWN0aW9uQ29udHJvbGxlZAoJCT8gcm93U2VsZWN0aW9uU3RhdGUKCQk6IGludGVybmFsUm93U2VsZWN0aW9uOwoKCWNvbnN0IGF1Z21lbnRlZENvbHVtbnMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQlpZiAoIWVuYWJsZVJvd1NlbGVjdGlvbikgewoJCQlyZXR1cm4gY29sdW1uczsKCQl9CgoJCWNvbnN0IHNlbGVjdGlvbkNvbHVtbjogQ29sdW1uRGVmPFREYXRhLCB1bmtub3duPiA9IHsKCQkJaWQ6ICdfX3NlbGVjdGlvbl9fJywKCQkJZW5hYmxlU29ydGluZzogZmFsc2UsCgkJCWVuYWJsZUhpZGluZzogZmFsc2UsCgkJCWhlYWRlcjogKHsgdGFibGUgfSkgPT4gewoJCQkJcmV0dXJuICgKCQkJCQk8ZGl2IGNsYXNzTmFtZT0iZmxleCBqdXN0aWZ5LWNlbnRlciBwLTEiPgoJCQkJCQk8Q2hlY2tib3gKCQkJCQkJCWFyaWEtbGFiZWw9IlNlbGVjdCBhbGwgcm93cyIKCQkJCQkJCXNpemU9InNtIgoJCQkJCQkJY2hlY2tlZD17dGFibGUuZ2V0SXNBbGxSb3dzU2VsZWN0ZWQoKX0KCQkJCQkJCW9uQ2hlY2tlZENoYW5nZT17KHZhbHVlKSA9PgoJCQkJCQkJCXRhYmxlLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZChCb29sZWFuKHZhbHVlKSkKCQkJCQkJCX0KCQkJCQkJLz4KCQkJCQk8L2Rpdj4KCQkJCSk7CgkJCX0sCgkJCWNlbGw6ICh7IHJvdyB9KSA9PiB7CgkJCQlyZXR1cm4gKAoJCQkJCTxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktY2VudGVyIHAtMSI+CgkJCQkJCTxDaGVja2JveAoJCQkJCQkJYXJpYS1sYWJlbD0iU2VsZWN0IHJvdyIKCQkJCQkJCXNpemU9InNtIgoJCQkJCQkJZGlzYWJsZWQ9eyFyb3cuZ2V0Q2FuU2VsZWN0KCl9CgkJCQkJCQljaGVja2VkPXtyb3cuZ2V0SXNTZWxlY3RlZCgpfQoJCQkJCQkJb25DaGVja2VkQ2hhbmdlPXsodmFsdWUpID0+IHJvdy50b2dnbGVTZWxlY3RlZChCb29sZWFuKHZhbHVlKSl9CgkJCQkJCS8+CgkJCQkJPC9kaXY+CgkJCQkpOwoJCQl9LAoJCQltZXRhOiB7CgkJCQlhbGlnbjogJ2NlbnRlcicsCgkJCQl3aWR0aDogJzQ4cHgnLAoJCQkJaGVhZGVyQ2xhc3NOYW1lOiAncHgtMicsCgkJCQljbGFzc05hbWU6ICdweC0yJywKCQkJfSwKCQl9OwoKCQlyZXR1cm4gW3NlbGVjdGlvbkNvbHVtbiwgLi4uY29sdW1uc107Cgl9LCBbY29sdW1ucywgZW5hYmxlUm93U2VsZWN0aW9uXSk7CgoJY29uc3QgdGFibGVPcHRpb25zOiBUYWJsZU9wdGlvbnM8VERhdGE+ID0gewoJCWNvbHVtbnM6IGF1Z21lbnRlZENvbHVtbnMsCgkJZGF0YSwKCQlzdGF0ZTogewoJCQlzb3J0aW5nLAoJCQlyb3dTZWxlY3Rpb24sCgkJfSwKCQllbmFibGVTb3J0aW5nLAoJCWVuYWJsZVJvd1NlbGVjdGlvbiwKCQlvblNvcnRpbmdDaGFuZ2U6ICh1cGRhdGVyKSA9PiB7CgkJCWNvbnN0IG5leHQgPSByZXNvbHZlVXBkYXRlcih1cGRhdGVyLCBzb3J0aW5nKTsKCQkJaWYgKCFpc1NvcnRpbmdDb250cm9sbGVkKSB7CgkJCQlzZXRJbnRlcm5hbFNvcnRpbmcobmV4dCk7CgkJCX0KCQkJb25Tb3J0aW5nQ2hhbmdlPy4obmV4dCk7CgkJfSwKCQlvblJvd1NlbGVjdGlvbkNoYW5nZTogKHVwZGF0ZXIpID0+IHsKCQkJY29uc3QgbmV4dCA9IHJlc29sdmVVcGRhdGVyKHVwZGF0ZXIsIHJvd1NlbGVjdGlvbik7CgkJCWlmICghaXNSb3dTZWxlY3Rpb25Db250cm9sbGVkKSB7CgkJCQlzZXRJbnRlcm5hbFJvd1NlbGVjdGlvbihuZXh0KTsKCQkJfQoJCQlvblJvd1NlbGVjdGlvbkNoYW5nZT8uKG5leHQpOwoJCX0sCgkJZ2V0Q29yZVJvd01vZGVsOiBnZXRDb3JlUm93TW9kZWwoKSwKCX07CgoJaWYgKGdldFJvd0lkKSB7CgkJdGFibGVPcHRpb25zLmdldFJvd0lkID0gZ2V0Um93SWQ7Cgl9CgoJaWYgKGVuYWJsZVNvcnRpbmcpIHsKCQl0YWJsZU9wdGlvbnMuZ2V0U29ydGVkUm93TW9kZWwgPSBnZXRTb3J0ZWRSb3dNb2RlbCgpOwoJfQoKCWNvbnN0IHRhYmxlID0gdXNlUmVhY3RUYWJsZSh0YWJsZU9wdGlvbnMpOwoKCS8qIGJpb21lLWlnbm9yZSBsaW50L2NvcnJlY3RuZXNzL3VzZUV4aGF1c3RpdmVEZXBlbmRlbmNpZXM6IHJvdyBzZWxlY3Rpb24gY2FsbGJhY2sgbXVzdCBydW4gd2hlbiBzZWxlY3Rpb24gY2hhbmdlcyAqLwoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIW9uU2VsZWN0ZWRSb3dzQ2hhbmdlKSByZXR1cm47CgkJY29uc3Qgc2VsZWN0ZWRSb3dzID0gdGFibGUKCQkJLmdldFNlbGVjdGVkUm93TW9kZWwoKQoJCQkucm93cy5tYXAoKHRhYmxlUm93KSA9PiB0YWJsZVJvdyk7CgkJb25TZWxlY3RlZFJvd3NDaGFuZ2Uoc2VsZWN0ZWRSb3dzKTsKCX0sIFt0YWJsZSwgb25TZWxlY3RlZFJvd3NDaGFuZ2UsIHJvd1NlbGVjdGlvbl0pOwoKCWNvbnN0IGNvbXBvc2l0ZSA9IEFyaWFraXQudXNlQ29tcG9zaXRlU3RvcmUoewoJCS4uLmNvbXBvc2l0ZU9wdGlvbnMsCgkJZGVmYXVsdEFjdGl2ZUlkOiBudWxsLAoJfSk7Cgljb25zdCBhY3RpdmVDb21wb3NpdGVJZCA9IEFyaWFraXQudXNlU3RvcmVTdGF0ZShjb21wb3NpdGUsICdhY3RpdmVJZCcpOwoJY29uc3QgdGFibGVSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwoKCWNvbnN0IHZpc2libGVDb2x1bW5zID0gdGFibGUuZ2V0VmlzaWJsZUxlYWZDb2x1bW5zKCk7Cgljb25zdCBncmlkVGVtcGxhdGVDb2x1bW5zID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJcmV0dXJuIHZpc2libGVDb2x1bW5zCgkJCS5tYXAoKGNvbHVtbikgPT4gewoJCQkJY29uc3QgbWV0YSA9IGNvbHVtbi5jb2x1bW5EZWYubWV0YSBhcwoJCQkJCXwgQ29sdW1uTWV0YTxURGF0YSwgdW5rbm93bj4KCQkJCQl8IHVuZGVmaW5lZDsKCQkJCWNvbnN0IHdpZHRoID0gbWV0YT8ud2lkdGg7CgkJCQlpZiAodHlwZW9mIHdpZHRoID09PSAnbnVtYmVyJykgewoJCQkJCXJldHVybiBgbWlubWF4KCR7d2lkdGh9cHgsICR7d2lkdGh9cHgpYDsKCQkJCX0KCQkJCWlmICh0eXBlb2Ygd2lkdGggPT09ICdzdHJpbmcnKSB7CgkJCQkJcmV0dXJuIHdpZHRoOwoJCQkJfQoJCQkJcmV0dXJuICdtaW5tYXgoMCwgMWZyKSc7CgkJCX0pCgkJCS5qb2luKCcgJyk7Cgl9LCBbdmlzaWJsZUNvbHVtbnNdKTsKCgljb25zdCByb3dzID0gdGFibGUuZ2V0Um93TW9kZWwoKS5yb3dzOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKGFjdGl2ZVJvd0lkICE9PSB1bmRlZmluZWQpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29tcG9zaXRlLnNldEFjdGl2ZUlkKG51bGwpOwoJfSwgW2FjdGl2ZVJvd0lkLCBjb21wb3NpdGVdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmIChyb3dzLmxlbmd0aCA9PT0gMCkgewoJCQlyZXR1cm47CgkJfQoKCQljb25zdCByZXNvbHZlQ29tcG9zaXRlSWQgPSAocm93SWQ6IHN0cmluZykgPT4gYHJvdy0ke3Jvd0lkfWA7CgoJCWlmIChhY3RpdmVSb3dJZCAhPT0gdW5kZWZpbmVkKSB7CgkJCWNvbnN0IGNvbnRyb2xsZWRJZCA9IHJlc29sdmVDb21wb3NpdGVJZChhY3RpdmVSb3dJZCk7CgkJCWlmIChhY3RpdmVDb21wb3NpdGVJZCAhPT0gY29udHJvbGxlZElkKSB7CgkJCQljb21wb3NpdGUuc2V0QWN0aXZlSWQoY29udHJvbGxlZElkKTsKCQkJfQoJCQlyZXR1cm47CgkJfQoKCQljb25zdCBmYWxsYmFja0lkID0gcm93c1swXT8uaWQ7CgkJaWYgKCFmYWxsYmFja0lkKSB7CgkJCXJldHVybjsKCQl9CgoJCWlmICghYWN0aXZlQ29tcG9zaXRlSWQpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgaXNBY3RpdmVSb3dQcmVzZW50ID0gcm93cy5zb21lKAoJCQkocm93KSA9PiByZXNvbHZlQ29tcG9zaXRlSWQocm93LmlkKSA9PT0gYWN0aXZlQ29tcG9zaXRlSWQsCgkJKTsKCQlpZiAoIWlzQWN0aXZlUm93UHJlc2VudCkgewoJCQljb21wb3NpdGUuc2V0QWN0aXZlSWQocmVzb2x2ZUNvbXBvc2l0ZUlkKGZhbGxiYWNrSWQpKTsKCQl9Cgl9LCBbYWN0aXZlUm93SWQsIHJvd3MsIGNvbXBvc2l0ZSwgYWN0aXZlQ29tcG9zaXRlSWRdKTsKCglSZWFjdC51c2VFZmZlY3QoKCkgPT4gewoJCWlmICghb25BY3RpdmVSb3dDaGFuZ2UpIHJldHVybjsKCQljb25zdCByZXNvbHZlZElkID0gYWN0aXZlQ29tcG9zaXRlSWQ/LnJlcGxhY2UoL15yb3ctLywgJycpOwoJCW9uQWN0aXZlUm93Q2hhbmdlKHJlc29sdmVkSWQpOwoJfSwgW2FjdGl2ZUNvbXBvc2l0ZUlkLCBvbkFjdGl2ZVJvd0NoYW5nZV0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKGFjdGl2ZVJvd0lkICE9PSB1bmRlZmluZWQpIHsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgaGFuZGxlUG9pbnRlckRvd24gPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4gewoJCQljb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgTm9kZSB8IG51bGw7CgkJCWlmICghdGFyZ2V0KSByZXR1cm47CgkJCWlmICghdGFibGVSZWYuY3VycmVudD8uY29udGFpbnModGFyZ2V0KSkgewoJCQkJY29tcG9zaXRlLnNldEFjdGl2ZUlkKG51bGwpOwoJCQl9CgkJfTsKCgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBoYW5kbGVQb2ludGVyRG93bik7CgkJcmV0dXJuICgpID0+IHsKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBoYW5kbGVQb2ludGVyRG93bik7CgkJfTsKCX0sIFthY3RpdmVSb3dJZCwgY29tcG9zaXRlXSk7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXJlZj17dGFibGVSZWZ9CgkJCWNsYXNzTmFtZT17Y24odGFibGVWYXJpYW50cyh7IGRlbnNpdHkgfSksIGNsYXNzTmFtZSl9CgkJCXsuLi5wcm9wc30KCQk+CgkJCXt0YWJsZS5nZXRIZWFkZXJHcm91cHMoKS5tYXAoKGhlYWRlckdyb3VwKSA9PiAoCgkJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L3VzZVNlbWFudGljRWxlbWVudHM6IFVzaW5nIGRpdi1iYXNlZCBncmlkIHN0cnVjdHVyZSBmb3IgcmVzcG9uc2l2ZSBsYXlvdXQgKi8KCQkJCTxkaXYKCQkJCQlrZXk9e2hlYWRlckdyb3VwLmlkfQoJCQkJCXJvbGU9InJvdyIKCQkJCQljbGFzc05hbWU9ImdyaWQgYm9yZGVyLWIgYm9yZGVyLWJvcmRlci82MCBiZy1jYXJkLW11dGVkLzUwIGRhcms6YmctY2FyZC1tdXRlZC8zMCByb3VuZGVkLXQtbGciCgkJCQkJc3R5bGU9e3sgZ3JpZFRlbXBsYXRlQ29sdW1ucyB9fQoJCQkJCXRhYkluZGV4PXstMX0KCQkJCT4KCQkJCQl7aGVhZGVyR3JvdXAuaGVhZGVycy5tYXAoKGhlYWRlcikgPT4gewoJCQkJCQlpZiAoaGVhZGVyLmlzUGxhY2Vob2xkZXIpIHsKCQkJCQkJCXJldHVybiA8ZGl2IGtleT17aGVhZGVyLmlkfSAvPjsKCQkJCQkJfQoKCQkJCQkJY29uc3QgY29sdW1uID0gaGVhZGVyLmNvbHVtbjsKCQkJCQkJY29uc3QgbWV0YSA9IGNvbHVtbi5jb2x1bW5EZWYubWV0YSBhcwoJCQkJCQkJfCBDb2x1bW5NZXRhPFREYXRhLCB1bmtub3duPgoJCQkJCQkJfCB1bmRlZmluZWQ7CgkJCQkJCWNvbnN0IGFsaWduID0gbWV0YT8uYWxpZ24gPz8gJ2xlZnQnOwoJCQkJCQljb25zdCBoZWFkZXJDbGFzc05hbWUgPSBtZXRhPy5oZWFkZXJDbGFzc05hbWU7CgkJCQkJCWNvbnN0IHNvcnRTdGF0ZVJhdyA9IGNvbHVtbi5nZXRJc1NvcnRlZCgpOwoJCQkJCQljb25zdCBzb3J0U3RhdGVWYXJpYW50OiAnYXNjJyB8ICdkZXNjJyB8ICdub25lJyA9CgkJCQkJCQlzb3J0U3RhdGVSYXcgPT09ICdhc2MnIHx8IHNvcnRTdGF0ZVJhdyA9PT0gJ2Rlc2MnCgkJCQkJCQkJPyBzb3J0U3RhdGVSYXcKCQkJCQkJCQk6ICdub25lJzsKCQkJCQkJY29uc3QgY2FuU29ydCA9IGVuYWJsZVNvcnRpbmcgJiYgY29sdW1uLmdldENhblNvcnQoKTsKCgkJCQkJCWlmICghY2FuU29ydCkgewoJCQkJCQkJcmV0dXJuICgKCQkJCQkJCQkvKiBiaW9tZS1pZ25vcmUgbGludC9hMTF5L3VzZVNlbWFudGljRWxlbWVudHM6IFVzaW5nIGRpdiBmb3IgZmxleGlibGUgY29sdW1uIGhlYWRlciBsYXlvdXQgKi8KCQkJCQkJCQk8ZGl2CgkJCQkJCQkJCWtleT17aGVhZGVyLmlkfQoJCQkJCQkJCQlyb2xlPSJjb2x1bW5oZWFkZXIiCgkJCQkJCQkJCXRpdGxlPXttZXRhPy5oZWFkZXJUb29sdGlwfQoJCQkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCQkJaGVhZGVyQ2VsbFZhcmlhbnRzKHsKCQkJCQkJCQkJCQlhbGlnbiwKCQkJCQkJCQkJCQlzb3J0YWJsZTogZmFsc2UsCgkJCQkJCQkJCQkJc29ydGVkOiAnbm9uZScsCgkJCQkJCQkJCQl9KSwKCQkJCQkJCQkJCWhlYWRlckNsYXNzTmFtZSwKCQkJCQkJCQkJKX0KCQkJCQkJCQkJdGFiSW5kZXg9ey0xfQoJCQkJCQkJCT4KCQkJCQkJCQkJPHNwYW4gY2xhc3NOYW1lPSJ0cnVuY2F0ZSB0ZXh0LXhzIGZvbnQtbWVkaXVtIj4KCQkJCQkJCQkJCXtmbGV4UmVuZGVyKAoJCQkJCQkJCQkJCWhlYWRlci5jb2x1bW4uY29sdW1uRGVmLmhlYWRlciwKCQkJCQkJCQkJCQloZWFkZXIuZ2V0Q29udGV4dCgpLAoJCQkJCQkJCQkJKX0KCQkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJKTsKCQkJCQkJfQoKCQkJCQkJcmV0dXJuICgKCQkJCQkJCS8qIGJpb21lLWlnbm9yZSBsaW50L2ExMXkvdXNlU2VtYW50aWNFbGVtZW50czogU29ydGluZyB0b2dnbGUgbmVlZHMgYnV0dG9uIHNlbWFudGljcyAqLwoJCQkJCQkJPGJ1dHRvbgoJCQkJCQkJCWtleT17aGVhZGVyLmlkfQoJCQkJCQkJCXR5cGU9ImJ1dHRvbiIKCQkJCQkJCQlyb2xlPSJjb2x1bW5oZWFkZXIiCgkJCQkJCQkJdGl0bGU9e21ldGE/LmhlYWRlclRvb2x0aXB9CgkJCQkJCQkJb25DbGljaz17Y29sdW1uLmdldFRvZ2dsZVNvcnRpbmdIYW5kbGVyKCl9CgkJCQkJCQkJYXJpYS1zb3J0PXsKCQkJCQkJCQkJc29ydFN0YXRlUmF3ID09PSAnYXNjJwoJCQkJCQkJCQkJPyAnYXNjZW5kaW5nJwoJCQkJCQkJCQkJOiBzb3J0U3RhdGVSYXcgPT09ICdkZXNjJwoJCQkJCQkJCQkJCT8gJ2Rlc2NlbmRpbmcnCgkJCQkJCQkJCQkJOiAnbm9uZScKCQkJCQkJCQl9CgkJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQkJaGVhZGVyQ2VsbFZhcmlhbnRzKHsKCQkJCQkJCQkJCWFsaWduLAoJCQkJCQkJCQkJc29ydGFibGU6IHRydWUsCgkJCQkJCQkJCQlzb3J0ZWQ6IHNvcnRTdGF0ZVZhcmlhbnQsCgkJCQkJCQkJCX0pLAoJCQkJCQkJCQloZWFkZXJDbGFzc05hbWUsCgkJCQkJCQkJKX0KCQkJCQkJCT4KCQkJCQkJCQk8c3BhbiBjbGFzc05hbWU9InRydW5jYXRlIHRleHQteHMgZm9udC1tZWRpdW0iPgoJCQkJCQkJCQl7ZmxleFJlbmRlcigKCQkJCQkJCQkJCWhlYWRlci5jb2x1bW4uY29sdW1uRGVmLmhlYWRlciwKCQkJCQkJCQkJCWhlYWRlci5nZXRDb250ZXh0KCksCgkJCQkJCQkJCSl9CgkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJCTxzcGFuIGNsYXNzTmFtZT0ibWwtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciI+CgkJCQkJCQkJCTxJY29ucy5DYXJldFNvcnQKCQkJCQkJCQkJCWFyaWEtaGlkZGVuPSJ0cnVlIgoJCQkJCQkJCQkJY2xhc3NOYW1lPSJoLTMuNSB3LTMuNSB0ZXh0LWZvcmVncm91bmQvNzAiCgkJCQkJCQkJCS8+CgkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJPC9idXR0b24+CgkJCQkJCSk7CgkJCQkJfSl9CgkJCQk8L2Rpdj4KCQkJKSl9CgoJCQk8QXJpYWtpdC5Db21wb3NpdGUKCQkJCXN0b3JlPXtjb21wb3NpdGV9CgkJCQlyb2xlPSJncmlkIgoJCQkJYXJpYS1yb3djb3VudD17cm93cy5sZW5ndGh9CgkJCQlhcmlhLWNvbGNvdW50PXt2aXNpYmxlQ29sdW1ucy5sZW5ndGh9CgkJCQljbGFzc05hbWU9InJvdW5kZWQtbGcgdHJhbnNpdGlvbi1zaGFkb3cgZHVyYXRpb24tMTAwIGVhc2Utb3V0LXF1YWQgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUiCgkJCT4KCQkJCXtyb3dzLmxlbmd0aCA9PT0gMCAmJiAoCgkJCQkJPGRpdiBjbGFzc05hbWU9InB4LTYgcHktMTAgdGV4dC1jZW50ZXIgdGV4dC1mb3JlZ3JvdW5kLzcwIj4KCQkJCQkJe2VtcHR5U3RhdGUgPz8gJ05vIGRhdGEgYXZhaWxhYmxlJ30KCQkJCQk8L2Rpdj4KCQkJCSl9CgoJCQkJe3Jvd3MubWFwKChyb3cpID0+IHsKCQkJCQljb25zdCByb3dNZXRhSWQgPSBgcm93LSR7cm93LmlkfWA7CgkJCQkJY29uc3QgaXNBY3RpdmUgPSBhY3RpdmVDb21wb3NpdGVJZCA9PT0gcm93TWV0YUlkOwoJCQkJCXJldHVybiAoCgkJCQkJCTxBcmlha2l0LkNvbXBvc2l0ZUl0ZW0KCQkJCQkJCWtleT17cm93LmlkfQoJCQkJCQkJaWQ9e3Jvd01ldGFJZH0KCQkJCQkJCXJvbGU9InJvdyIKCQkJCQkJCWZvY3VzYWJsZQoJCQkJCQkJZGF0YS1yb3ctaWQ9e3Jvdy5pZH0KCQkJCQkJCWFyaWEtc2VsZWN0ZWQ9e3Jvdy5nZXRJc1NlbGVjdGVkKCkgfHwgdW5kZWZpbmVkfQoJCQkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJCQlyb3dWYXJpYW50cyh7CgkJCQkJCQkJCXNlbGVjdGVkOiByb3cuZ2V0SXNTZWxlY3RlZCgpLAoJCQkJCQkJCQlhY3RpdmU6IGlzQWN0aXZlLAoJCQkJCQkJCX0pLAoJCQkJCQkJKX0KCQkJCQkJCW9uQ2xpY2s9eygpID0+IG9uUm93Q2xpY2s/Lihyb3cpfQoJCQkJCQkJb25LZXlEb3duPXsoZXZlbnQpID0+IHsKCQkJCQkJCQlpZiAoIW9uUm93Q2xpY2spIHJldHVybjsKCQkJCQkJCQlpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7CgkJCQkJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJCW9uUm93Q2xpY2socm93KTsKCQkJCQkJCQl9CgkJCQkJCQl9fQoJCQkJCQkJcmVuZGVyPXsoaXRlbVByb3BzKSA9PiAoCgkJCQkJCQkJPGRpdgoJCQkJCQkJCQl7Li4uaXRlbVByb3BzfQoJCQkJCQkJCQlzdHlsZT17eyAuLi5pdGVtUHJvcHMuc3R5bGUsIGdyaWRUZW1wbGF0ZUNvbHVtbnMgfX0KCQkJCQkJCQk+CgkJCQkJCQkJCXtyb3cuZ2V0VmlzaWJsZUNlbGxzKCkubWFwKChjZWxsKSA9PiB7CgkJCQkJCQkJCQljb25zdCBtZXRhID0gY2VsbC5jb2x1bW4uY29sdW1uRGVmLm1ldGEgYXMKCQkJCQkJCQkJCQl8IENvbHVtbk1ldGE8VERhdGEsIHVua25vd24+CgkJCQkJCQkJCQkJfCB1bmRlZmluZWQ7CgkJCQkJCQkJCQljb25zdCBhbGlnbiA9IG1ldGE/LmFsaWduID8/ICdsZWZ0JzsKCgkJCQkJCQkJCQlyZXR1cm4gKAoJCQkJCQkJCQkJCS8qIGJpb21lLWlnbm9yZSBsaW50L2ExMXkvdXNlU2VtYW50aWNFbGVtZW50czogVXNpbmcgZGl2IGdyaWRjZWxscyBmb3IgbGF5b3V0IGZsZXhpYmlsaXR5ICovCgkJCQkJCQkJCQkJPGRpdgoJCQkJCQkJCQkJCQlrZXk9e2NlbGwuaWR9CgkJCQkJCQkJCQkJCXJvbGU9ImdyaWRjZWxsIgoJCQkJCQkJCQkJCQljbGFzc05hbWU9e2NuKGNlbGxWYXJpYW50cyh7IGFsaWduIH0pLCBtZXRhPy5jbGFzc05hbWUpfQoJCQkJCQkJCQkJCQl0YWJJbmRleD17LTF9CgkJCQkJCQkJCQkJPgoJCQkJCQkJCQkJCQl7ZmxleFJlbmRlcigKCQkJCQkJCQkJCQkJCWNlbGwuY29sdW1uLmNvbHVtbkRlZi5jZWxsLAoJCQkJCQkJCQkJCQkJY2VsbC5nZXRDb250ZXh0KCksCgkJCQkJCQkJCQkJCSl9CgkJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQkpOwoJCQkJCQkJCQl9KX0KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCSl9CgkJCQkJCS8+CgkJCQkJKTsKCQkJCX0pfQoJCQk8L0FyaWFraXQuQ29tcG9zaXRlPgoJCTwvZGl2PgoJKTsKfQoKZXhwb3J0IHsgdGFibGVWYXJpYW50cyB9OwpleHBvcnQgdHlwZSB7IENvbHVtbkRlZiwgUm93IH07"
,
  "tabs.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgdGFic0xpc3RWYXJpYW50cyA9IGN2YSgKCSdyZWxhdGl2ZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LXNtJywKCXsKCQl2YXJpYW50czogewoJCQlvcmllbnRhdGlvbjogewoJCQkJaG9yaXpvbnRhbDogJ2ZsZXgtcm93JywKCQkJCXZlcnRpY2FsOiAndy1maXQgZmxleC1jb2wnLAoJCQl9LAoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAncm91bmRlZC1tZCBiZy1jYXJkIGJvcmRlci1ib3JkZXIgYm9yZGVyIGNhcmQtaGlnaGxpZ2h0JywKCQkJCXBpbGxzOiAnZ2FwLTEnLAoJCQkJdW5kZXJsaW5lOiAnYm9yZGVyLWJvcmRlci82MCBnYXAtMCBib3JkZXItYicsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAnJywKCQkJCW1kOiAnJywKCQkJCWxnOiAnJywKCQkJfSwKCQl9LAoJCWNvbXBvdW5kVmFyaWFudHM6IFsKCQkJeyB2YXJpYW50OiAnZGVmYXVsdCcsIHNpemU6ICdzbScsIGNsYXNzOiAncC0wLjUnIH0sCgkJCXsgdmFyaWFudDogJ2RlZmF1bHQnLCBzaXplOiAnbWQnLCBjbGFzczogJ3AtMScgfSwKCQkJeyB2YXJpYW50OiAnZGVmYXVsdCcsIHNpemU6ICdsZycsIGNsYXNzOiAncC0xLjUnIH0sCgkJXSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJb3JpZW50YXRpb246ICdob3Jpem9udGFsJywKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCQlzaXplOiAnbWQnLAoJCX0sCgl9LAopOwoKY29uc3QgdGFic1RyaWdnZXJWYXJpYW50cyA9IGN2YSgKCWBpbmxpbmUtZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZm9udC1tZWRpdW0gd2hpdGVzcGFjZS1ub3dyYXAgdHJhbnNpdGlvbi1bY29sb3IsYm94LXNoYWRvd10gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNCBbJl9zdmddOnNocmluay0wIGZvY3VzLXZpc2libGU6Ym9yZGVyLWJvcmRlciBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTBgLAoJewoJCXZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6IHsKCQkJCWRlZmF1bHQ6IGB3LWZ1bGwgcm91bmRlZC1zbSB0ZXh0LWZvcmVncm91bmQvNzAgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIGRhdGEtYWN0aXZlLWl0ZW06YmctY2FyZC1tdXRlZCBkYXRhLWFjdGl2ZS1pdGVtOnRleHQtZm9yZWdyb3VuZGAsCgkJCQlwaWxsczogYHJvdW5kZWQtc20gdGV4dC1mb3JlZ3JvdW5kLzcwIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBkYXRhLWFjdGl2ZS1pdGVtOmJnLWZvcmVncm91bmQgZGF0YS1hY3RpdmUtaXRlbTp0ZXh0LWNhcmQgZGF0YS1hY3RpdmUtaXRlbTpzaGFkb3ctc21gLAoJCQkJdW5kZXJsaW5lOiBgYm9yZGVyLWItMiBib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1mb3JlZ3JvdW5kLzcwIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBkYXRhLWFjdGl2ZS1pdGVtOmJvcmRlci1mb3JlZ3JvdW5kLzc1IGRhdGEtYWN0aXZlLWl0ZW06dGV4dC1mb3JlZ3JvdW5kYCwKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICcnLAoJCQkJbWQ6ICcnLAoJCQkJbGc6ICcnLAoJCQl9LAoJCX0sCgkJY29tcG91bmRWYXJpYW50czogWwoJCQl7CgkJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCQlzaXplOiAnc20nLAoJCQkJY2xhc3M6ICdoLTcuNSBweC0zIHB5LTEuNSBweC0zIGdhcC0xLjUgaGFzLVs+c3ZnXTpweC0yLjUgdGV4dC1zbScsCgkJCX0sCgkJCXsKCQkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJCXNpemU6ICdtZCcsCgkJCQljbGFzczogJ2gtOCBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zIHRleHQtc20nLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICdoLTguNSBweC02IGdhcC0yIGhhcy1bPnN2Z106cHgtNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAncGlsbHMnLAoJCQkJc2l6ZTogJ3NtJywKCQkJCWNsYXNzOiAnaC03LjUgcHgtMyBweS0xLjUgcHgtMyBnYXAtMS41IGhhcy1bPnN2Z106cHgtMi41IHRleHQtc20nLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAncGlsbHMnLAoJCQkJc2l6ZTogJ21kJywKCQkJCWNsYXNzOiAnaC04IHB4LTQgcHktMiBnYXAtMiBoYXMtWz5zdmddOnB4LTMgdGV4dC1zbScsCgkJCX0sCgkJCXsKCQkJCXZhcmlhbnQ6ICdwaWxscycsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICdoLTguNSBweC02IGdhcC0yIGhhcy1bPnN2Z106cHgtNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCQl7CgkJCQl2YXJpYW50OiAndW5kZXJsaW5lJywKCQkJCXNpemU6ICdzbScsCgkJCQljbGFzczogJ2gtNy41IHB4LTMgcHktMS41IHB4LTMgZ2FwLTEuNSBoYXMtWz5zdmddOnB4LTIuNSB0ZXh0LXNtJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ3VuZGVybGluZScsCgkJCQlzaXplOiAnbWQnLAoJCQkJY2xhc3M6ICdoLTggcHgtNCBweS0yIGdhcC0yIGhhcy1bPnN2Z106cHgtMyB0ZXh0LXNtJywKCQkJfSwKCQkJewoJCQkJdmFyaWFudDogJ3VuZGVybGluZScsCgkJCQlzaXplOiAnbGcnLAoJCQkJY2xhc3M6ICdoLTguNSBweC02IGdhcC0yIGhhcy1bPnN2Z106cHgtNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCV0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmludGVyZmFjZSBUYWJzU3R5bGVDb250ZXh0VmFsdWUgewoJdmFyaWFudDogJ2RlZmF1bHQnIHwgJ3BpbGxzJyB8ICd1bmRlcmxpbmUnOwoJc2l6ZTogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJb3JpZW50YXRpb246ICdob3Jpem9udGFsJyB8ICd2ZXJ0aWNhbCc7CglkaXNhYmxlZDogYm9vbGVhbjsKfQoKY29uc3QgVGFic1N0eWxlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8VGFic1N0eWxlQ29udGV4dFZhbHVlIHwgbnVsbD4oCgludWxsLAopOwoKZnVuY3Rpb24gdXNlVGFic1N0eWxlQ29udGV4dCgpIHsKCWNvbnN0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoVGFic1N0eWxlQ29udGV4dCk7CglpZiAoIWN0eCkgdGhyb3cgbmV3IEVycm9yKCdUYWJzIGNvbXBvbmVudHMgbXVzdCBiZSB1c2VkIHdpdGhpbiA8VGFicz4nKTsKCXJldHVybiBjdHg7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgVGFic1Byb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZT86IHN0cmluZzsKCWRlZmF1bHRWYWx1ZT86IHN0cmluZzsKCW9uVmFsdWVDaGFuZ2U/OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDsKCW9yaWVudGF0aW9uPzogJ2hvcml6b250YWwnIHwgJ3ZlcnRpY2FsJzsKCXZhcmlhbnQ/OiAnZGVmYXVsdCcgfCAncGlsbHMnIHwgJ3VuZGVybGluZSc7CglzaXplPzogJ3NtJyB8ICdtZCcgfCAnbGcnOwoJY2xhc3NOYW1lPzogc3RyaW5nOwoJZGlzYWJsZWQ/OiBib29sZWFuOwp9CgpleHBvcnQgZnVuY3Rpb24gVGFicyh7CgljaGlsZHJlbiwKCXZhbHVlLAoJZGVmYXVsdFZhbHVlLAoJb25WYWx1ZUNoYW5nZSwKCW9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnLAoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAoJY2xhc3NOYW1lLAoJZGlzYWJsZWQgPSBmYWxzZSwKfTogVGFic1Byb3BzKSB7Cgljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlVGFiU3RvcmUoewoJCWRlZmF1bHRTZWxlY3RlZElkOiBkZWZhdWx0VmFsdWUsCgkJc2VsZWN0ZWRJZDogdmFsdWUsCgkJc2V0U2VsZWN0ZWRJZDogKGlkKSA9PiB7CgkJCWlmIChpZCAhPSBudWxsKSB7CgkJCQlvblZhbHVlQ2hhbmdlPy4oaWQpOwoJCQl9CgkJfSwKCQlvcmllbnRhdGlvbiwKCX0pOwoKCXJldHVybiAoCgkJPFRhYnNTdHlsZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgdmFyaWFudCwgc2l6ZSwgb3JpZW50YXRpb24sIGRpc2FibGVkIH19PgoJCQk8QXJpYWtpdC5UYWJQcm92aWRlciBzdG9yZT17c3RvcmV9PgoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24ob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgJiYgJ2ZsZXggZ2FwLTQnLCBjbGFzc05hbWUpfQoJCQkJCWRhdGEtb3JpZW50YXRpb249e29yaWVudGF0aW9ufQoJCQkJCWRhdGEtdmFyaWFudD17dmFyaWFudH0KCQkJCQlkYXRhLXNpemU9e3NpemV9CgkJCQkJZGF0YS1kaXNhYmxlZD17ZGlzYWJsZWQgPyAnJyA6IHVuZGVmaW5lZH0KCQkJCT4KCQkJCQl7Y2hpbGRyZW59CgkJCQk8L2Rpdj4KCQkJPC9Bcmlha2l0LlRhYlByb3ZpZGVyPgoJCTwvVGFic1N0eWxlQ29udGV4dC5Qcm92aWRlcj4KCSk7Cn0KCmV4cG9ydCB0eXBlIFRhYnNMaXN0UHJvcHMgPSBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD47CgpleHBvcnQgZnVuY3Rpb24gVGFic0xpc3QoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBUYWJzTGlzdFByb3BzKSB7Cgljb25zdCB7IG9yaWVudGF0aW9uLCB2YXJpYW50LCBzaXplIH0gPSB1c2VUYWJzU3R5bGVDb250ZXh0KCk7Cgljb25zdCB7IGF1dG9Gb2N1cywgLi4ucmVzdCB9ID0gcHJvcHM7CglyZXR1cm4gKAoJCTxBcmlha2l0LlRhYkxpc3QKCQkJY2xhc3NOYW1lPXtjbigKCQkJCXRhYnNMaXN0VmFyaWFudHMoeyBvcmllbnRhdGlvbiwgdmFyaWFudCwgc2l6ZSB9KSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJey4uLihhdXRvRm9jdXMgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBhdXRvRm9jdXMgfSl9CgkJCXsuLi5yZXN0fQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5UYWJMaXN0PgoJKTsKfQoKZXhwb3J0IGludGVyZmFjZSBUYWJzVHJpZ2dlclByb3BzCglleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PiwKCQlWYXJpYW50UHJvcHM8dHlwZW9mIHRhYnNUcmlnZ2VyVmFyaWFudHM+IHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cgl2YWx1ZTogc3RyaW5nOwp9CgpleHBvcnQgZnVuY3Rpb24gVGFic1RyaWdnZXIoewoJY2hpbGRyZW4sCgl2YWx1ZSwKCWNsYXNzTmFtZSwKCWRpc2FibGVkOiBkaXNhYmxlZFByb3AsCgkuLi5yZXN0Cn06IFRhYnNUcmlnZ2VyUHJvcHMpIHsKCWNvbnN0IHsgdmFyaWFudCwgc2l6ZSwgZGlzYWJsZWQgfSA9IHVzZVRhYnNTdHlsZUNvbnRleHQoKTsKCWNvbnN0IGlzRGlzYWJsZWQgPSBkaXNhYmxlZFByb3AgPz8gZGlzYWJsZWQ7Cgljb25zdCB7IGF1dG9Gb2N1cywgaWQsIC4uLnJlc3RQcm9wcyB9ID0gcmVzdDsKCXJldHVybiAoCgkJPEFyaWFraXQuVGFiCgkJCWlkPXtpZCA/PyB2YWx1ZX0KCQkJY2xhc3NOYW1lPXtjbih0YWJzVHJpZ2dlclZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSB9KSwgY2xhc3NOYW1lKX0KCQkJZGlzYWJsZWQ9e2lzRGlzYWJsZWR9CgkJCXsuLi4oYXV0b0ZvY3VzID09PSB1bmRlZmluZWQgPyB7fSA6IHsgYXV0b0ZvY3VzIH0pfQoJCQl7Li4ucmVzdFByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCTwvQXJpYWtpdC5UYWI+CgkpOwp9CgpleHBvcnQgaW50ZXJmYWNlIFRhYnNDb250ZW50UHJvcHMgewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCXZhbHVlOiBzdHJpbmc7CgljbGFzc05hbWU/OiBzdHJpbmc7Cn0KCmV4cG9ydCBmdW5jdGlvbiBUYWJzQ29udGVudCh7IGNoaWxkcmVuLCB2YWx1ZSwgY2xhc3NOYW1lIH06IFRhYnNDb250ZW50UHJvcHMpIHsKCXJldHVybiAoCgkJPEFyaWFraXQuVGFiUGFuZWwKCQkJdGFiSWQ9e3ZhbHVlfQoJCQljbGFzc05hbWU9e2NuKAoJCQkJJ3JlbGF0aXZlIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuVGFiUGFuZWw+CgkpOwp9"
,
  "textarea.tsx": "aW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3Qgd3JhcHBlclZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSBpbmxpbmUtZmxleCBtaW4tdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyJywKCQknYmctY2FyZCB0ZXh0LWZvcmVncm91bmQnLAoJCSdmb2N1cy13aXRoaW46cmluZy0xIGZvY3VzLXdpdGhpbjpyaW5nLW9mZnNldC0xJywKCQknZm9jdXMtd2l0aGluOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwJywKCQkndHJhbnNpdGlvbi1zaGFkb3cgZHVyYXRpb24tMTAwIGVhc2Utb3V0LXF1YWQnLAoJCSdoYXMtWzpkaXNhYmxlZF06Y3Vyc29yLW5vdC1hbGxvd2VkIGhhcy1bOmRpc2FibGVkXTpvcGFjaXR5LTUwJywKCQknc2hhZG93LXNtIGNhcmQtaGlnaGxpZ2h0JywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogWydib3JkZXItYm9yZGVyJywgJ2ZvY3VzLXdpdGhpbjpyaW5nLXJpbmcvNTAnXSwKCQkJCWVycm9yOiBbJ2JvcmRlci1kZXN0cnVjdGl2ZS80MCcsICdmb2N1cy13aXRoaW46cmluZy1kZXN0cnVjdGl2ZS81MCddLAoJCQkJc3VjY2VzczogWydib3JkZXItc3VjY2Vzcy80MCcsICdmb2N1cy13aXRoaW46cmluZy1zdWNjZXNzLzUwJ10sCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJdmFyaWFudDogJ2RlZmF1bHQnLAoJCX0sCgl9LAopOwoKY29uc3QgdGV4dGFyZWFWYXJpYW50cyA9IGN2YSgKCVsKCQknaC1mdWxsIG1pbi13LWZ1bGwgYmctdHJhbnNwYXJlbnQgb3V0bGluZS1ub25lJywKCQkncGxhY2Vob2xkZXI6dGV4dC1mb3JlZ3JvdW5kLzQ1JywKCQknZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogewoJCQkJc206ICdweC0yLjUgcHktMS41IHRleHQtc20nLAoJCQkJbWQ6ICdweC0zIHB5LTIgdGV4dC1zbScsCgkJCQlsZzogJ3B4LTMuNSBweS0yLjUgdGV4dC1iYXNlJywKCQkJfSwKCQkJcmVzaXplOiB7CgkJCQlub25lOiAncmVzaXplLW5vbmUnLAoJCQkJdmVydGljYWw6ICdyZXNpemUteScsCgkJCQlob3Jpem9udGFsOiAncmVzaXplLXgnLAoJCQkJYm90aDogJ3Jlc2l6ZScsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsKCQkJc2l6ZTogJ21kJywKCQkJcmVzaXplOiAndmVydGljYWwnLAoJCX0sCgl9LAopOwoKY29uc3QgbWVzc2FnZVZhcmlhbnRzID0gY3ZhKCdtdC0xLjUgdGV4dC1zbScsIHsKCXZhcmlhbnRzOiB7CgkJdHlwZTogewoJCQllcnJvcjogJ3RleHQtZGVzdHJ1Y3RpdmUvOTAnLAoJCQlzdWNjZXNzOiAndGV4dC1zdWNjZXNzLzkwJywKCQkJaGVscGVyOiAndGV4dC1mb3JlZ3JvdW5kLzcwJywKCQl9LAoJfSwKfSk7CgpleHBvcnQgaW50ZXJmYWNlIFRleHRhcmVhUHJvcHMKCWV4dGVuZHMgT21pdDxSZWFjdC5UZXh0YXJlYUhUTUxBdHRyaWJ1dGVzPEhUTUxUZXh0QXJlYUVsZW1lbnQ+LCAnc2l6ZSc+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgdGV4dGFyZWFWYXJpYW50cz4gewoJbGFiZWw/OiBzdHJpbmc7CgloZWxwZXJUZXh0Pzogc3RyaW5nOwoJZXJyb3JNZXNzYWdlPzogc3RyaW5nOwoJc3VjY2Vzc01lc3NhZ2U/OiBzdHJpbmc7CgljbGFzc05hbWU/OiBzdHJpbmc7Cgljb250YWluZXJDbGFzc05hbWU/OiBzdHJpbmc7Cgl3cmFwcGVyQ2xhc3NOYW1lPzogc3RyaW5nOwoJdmFyaWFudD86ICdkZWZhdWx0JyB8ICdlcnJvcicgfCAnc3VjY2Vzcyc7Cn0KCmV4cG9ydCBjb25zdCBUZXh0YXJlYTogUmVhY3QuRkM8VGV4dGFyZWFQcm9wcz4gPSAoewoJdmFyaWFudCA9ICdkZWZhdWx0JywKCXNpemUgPSAnbWQnLAoJcmVzaXplID0gJ3ZlcnRpY2FsJywKCWxhYmVsLAoJaGVscGVyVGV4dCwKCWVycm9yTWVzc2FnZSwKCXN1Y2Nlc3NNZXNzYWdlLAoJY2xhc3NOYW1lID0gJycsCgljb250YWluZXJDbGFzc05hbWUgPSAnJywKCXdyYXBwZXJDbGFzc05hbWUgPSAnJywKCWRpc2FibGVkLAoJcm93cyA9IDQsCglpZCwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGRpc3BsYXlFcnJvck1lc3NhZ2UgPSB2YXJpYW50ID09PSAnZXJyb3InICYmIGVycm9yTWVzc2FnZTsKCWNvbnN0IGRpc3BsYXlTdWNjZXNzTWVzc2FnZSA9IHZhcmlhbnQgPT09ICdzdWNjZXNzJyAmJiBzdWNjZXNzTWVzc2FnZTsKCWNvbnN0IGF1dG9JZCA9IFJlYWN0LnVzZUlkKCk7Cgljb25zdCB0ZXh0YXJlYUlkID0gaWQgPz8gYXV0b0lkOwoJY29uc3QgaGVscGVySWQgPSBoZWxwZXJUZXh0ID8gYCR7dGV4dGFyZWFJZH0taGVscGVyYCA6IHVuZGVmaW5lZDsKCWNvbnN0IGVycm9ySWQgPSBkaXNwbGF5RXJyb3JNZXNzYWdlID8gYCR7dGV4dGFyZWFJZH0tZXJyb3JgIDogdW5kZWZpbmVkOwoJY29uc3Qgc3VjY2Vzc0lkID0gZGlzcGxheVN1Y2Nlc3NNZXNzYWdlID8gYCR7dGV4dGFyZWFJZH0tc3VjY2Vzc2AgOiB1bmRlZmluZWQ7Cgljb25zdCBkZXNjcmliZWRCeSA9CgkJW2hlbHBlcklkLCBlcnJvcklkLCBzdWNjZXNzSWRdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJykgfHwgdW5kZWZpbmVkOwoKCXJldHVybiAoCgkJPGRpdiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzTmFtZX0+CgkJCXtsYWJlbCAmJiAoCgkJCQk8bGFiZWwKCQkJCQlodG1sRm9yPXt0ZXh0YXJlYUlkfQoJCQkJCWNsYXNzTmFtZT0ibWItMS41IGJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kIgoJCQkJPgoJCQkJCXtsYWJlbH0KCQkJCTwvbGFiZWw+CgkJCSl9CgoJCQk8ZGl2IGNsYXNzTmFtZT17Y24od3JhcHBlclZhcmlhbnRzKHsgdmFyaWFudCB9KSwgd3JhcHBlckNsYXNzTmFtZSl9PgoJCQkJPHRleHRhcmVhCgkJCQkJY2xhc3NOYW1lPXtjbih0ZXh0YXJlYVZhcmlhbnRzKHsgc2l6ZSwgcmVzaXplIH0pLCBjbGFzc05hbWUpfQoJCQkJCWRpc2FibGVkPXtkaXNhYmxlZH0KCQkJCQlyb3dzPXtyb3dzfQoJCQkJCWlkPXt0ZXh0YXJlYUlkfQoJCQkJCWFyaWEtZGVzY3JpYmVkYnk9e2Rlc2NyaWJlZEJ5fQoJCQkJCWFyaWEtaW52YWxpZD17dmFyaWFudCA9PT0gJ2Vycm9yJyA/IHRydWUgOiB1bmRlZmluZWR9CgkJCQkJey4uLnByb3BzfQoJCQkJLz4KCQkJPC9kaXY+CgoJCQl7ZGlzcGxheUVycm9yTWVzc2FnZSAmJiAoCgkJCQk8cAoJCQkJCWlkPXtlcnJvcklkfQoJCQkJCWNsYXNzTmFtZT17bWVzc2FnZVZhcmlhbnRzKHsgdHlwZTogJ2Vycm9yJyB9KX0KCQkJCQlhcmlhLWxpdmU9InBvbGl0ZSIKCQkJCT4KCQkJCQl7ZXJyb3JNZXNzYWdlfQoJCQkJPC9wPgoJCQkpfQoJCQl7ZGlzcGxheVN1Y2Nlc3NNZXNzYWdlICYmICgKCQkJCTxwCgkJCQkJaWQ9e3N1Y2Nlc3NJZH0KCQkJCQljbGFzc05hbWU9e21lc3NhZ2VWYXJpYW50cyh7IHR5cGU6ICdzdWNjZXNzJyB9KX0KCQkJCQlhcmlhLWxpdmU9InBvbGl0ZSIKCQkJCT4KCQkJCQl7c3VjY2Vzc01lc3NhZ2V9CgkJCQk8L3A+CgkJCSl9CgkJCXtoZWxwZXJUZXh0ICYmICFkaXNwbGF5RXJyb3JNZXNzYWdlICYmICFkaXNwbGF5U3VjY2Vzc01lc3NhZ2UgJiYgKAoJCQkJPHAgaWQ9e2hlbHBlcklkfSBjbGFzc05hbWU9e21lc3NhZ2VWYXJpYW50cyh7IHR5cGU6ICdoZWxwZXInIH0pfT4KCQkJCQl7aGVscGVyVGV4dH0KCQkJCTwvcD4KCQkJKX0KCQk8L2Rpdj4KCSk7Cn07"
,
  "toast.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSc7CmltcG9ydCBSZWFjdCwgewoJdXNlQ2FsbGJhY2ssCgl1c2VFZmZlY3QsCgl1c2VMYXlvdXRFZmZlY3QsCgl1c2VNZW1vLAoJdXNlUmVmLAoJdXNlU3RhdGUsCn0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgSWNvbnMgfSBmcm9tICdAL2xpYi9pY29ucyc7Cgpjb25zdCBQT1NJVElPTl9DT05GSUdTID0gewoJJ3RvcC1sZWZ0JzogewoJCWFuaW1hdGVJbjogeyB4OiAtMTAwLCB5OiAtMjAgfSwKCQlhbmltYXRlT3V0OiB7IHg6IC0xMDAsIHk6IC0yMCB9LAoJfSwKCSd0b3AtY2VudGVyJzogewoJCWFuaW1hdGVJbjogeyB4OiAwLCB5OiAtMTAwIH0sCgkJYW5pbWF0ZU91dDogeyB4OiAwLCB5OiAtMTAwIH0sCgl9LAoJJ3RvcC1yaWdodCc6IHsKCQlhbmltYXRlSW46IHsgeDogMTAwLCB5OiAtMjAgfSwKCQlhbmltYXRlT3V0OiB7IHg6IDEwMCwgeTogLTIwIH0sCgl9LAoJJ2JvdHRvbS1sZWZ0JzogewoJCWFuaW1hdGVJbjogeyB4OiAtMTAwLCB5OiAyMCB9LAoJCWFuaW1hdGVPdXQ6IHsgeDogLTEwMCwgeTogMTAwIH0sCgl9LAoJJ2JvdHRvbS1jZW50ZXInOiB7CgkJYW5pbWF0ZUluOiB7IHg6IDAsIHk6IDEwMCB9LAoJCWFuaW1hdGVPdXQ6IHsgeDogMCwgeTogMTAwIH0sCgl9LAoJJ2JvdHRvbS1yaWdodCc6IHsKCQlhbmltYXRlSW46IHsgeDogMTAwLCB5OiAyMCB9LAoJCWFuaW1hdGVPdXQ6IHsgeDogMTAwLCB5OiAxMDAgfSwKCX0sCn0gYXMgY29uc3Q7Cgpjb25zdCBGT0NVU0FCTEVfU0VMRUNUT1JTID0gWwoJJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSknLAoJJ2lucHV0Om5vdChbZGlzYWJsZWRdKScsCgkndGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pJywKCSdzZWxlY3Q6bm90KFtkaXNhYmxlZF0pJywKCSdhW2hyZWZdJywKCSdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9Ii0xIl0pJywKXS5qb2luKCcsICcpOwoKY29uc3QgQU5JTUFUSU9OX0NPTkZJRyA9IHsKCUVOVEVSX0RVUkFUSU9OOiAwLjc1LAoJRVhJVF9EVVJBVElPTjogMC43NSwKCVNUQUNLX0RVUkFUSU9OOiAwLjc1LAoJU1RBQ0tfT0ZGU0VUOiAxNiwKCUVYUEFOREVEX0dBUDogMTIsCglTQ0FMRV9GQUNUT1I6IDAuMDQsCglNSU5fU0NBTEU6IDAuOTIsCglNQVhfVklTSUJMRV9UT0FTVFM6IDMsCglaX0lOREVYX0JBU0U6IDUwLAoJRUFTSU5HX0RFRkFVTFQ6ICd2YXIoLS1lYXNlLXNtb290aCknLAoJRUFTSU5HX0VYSVQ6ICd2YXIoLS1lYXNlLXNtb290aCknLAp9IGFzIGNvbnN0OwoKY29uc3QgU1dJUEVfRElTTUlTU19USFJFU0hPTEQgPSA0NTsKY29uc3QgU1dJUEVfRElTTUlTU19WRUxPQ0lUWSA9IDAuMTE7CmNvbnN0IFNXSVBFX0VYSVRfRElTVEFOQ0UgPSA2MDA7Cgp0eXBlIFN3aXBlRGlyZWN0aW9uID0gJ3RvcCcgfCAnYm90dG9tJyB8ICdsZWZ0JyB8ICdyaWdodCc7CnR5cGUgU3dpcGVBeGlzID0gJ3gnIHwgJ3knOwoKdHlwZSBUb2FzdFN1YnNjcmliZXIgPSAodG9hc3RzOiBUb2FzdERhdGFbXSkgPT4gdm9pZDsKCmNsYXNzIFRvYXN0U3RhdGUgewoJcHJpdmF0ZSB0b2FzdHM6IFRvYXN0RGF0YVtdID0gW107Cglwcml2YXRlIHN1YnNjcmliZXJzOiBTZXQ8VG9hc3RTdWJzY3JpYmVyPiA9IG5ldyBTZXQoKTsKCXByaXZhdGUgaWRDb3VudGVyID0gMDsKCglzdWJzY3JpYmUoY2FsbGJhY2s6IFRvYXN0U3Vic2NyaWJlcik6ICgpID0+IHZvaWQgewoJCXRoaXMuc3Vic2NyaWJlcnMuYWRkKGNhbGxiYWNrKTsKCQlyZXR1cm4gKCkgPT4gewoJCQl0aGlzLnN1YnNjcmliZXJzLmRlbGV0ZShjYWxsYmFjayk7CgkJfTsKCX0KCglwcml2YXRlIG5vdGlmeSgpOiB2b2lkIHsKCQl0aGlzLnN1YnNjcmliZXJzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7CgkJCWNhbGxiYWNrKFsuLi50aGlzLnRvYXN0c10pOwoJCX0pOwoJfQoKCXByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcgewoJCXJldHVybiBgdG9hc3QtJHtEYXRlLm5vdygpfS0keysrdGhpcy5pZENvdW50ZXJ9YDsKCX0KCglhZGQoZGF0YTogT21pdDxUb2FzdERhdGEsICdpZCc+KTogc3RyaW5nIHsKCQljb25zdCBpZCA9IHRoaXMuZ2VuZXJhdGVJZCgpOwoJCWNvbnN0IG5ld1RvYXN0OiBUb2FzdERhdGEgPSB7IC4uLmRhdGEsIGlkIH07CgkJdGhpcy50b2FzdHMgPSBbbmV3VG9hc3QsIC4uLnRoaXMudG9hc3RzXTsKCQl0aGlzLm5vdGlmeSgpOwoJCXJldHVybiBpZDsKCX0KCglyZW1vdmUoaWQ6IHN0cmluZyk6IHZvaWQgewoJCXRoaXMudG9hc3RzID0gdGhpcy50b2FzdHMuZmlsdGVyKCh0b2FzdCkgPT4gdG9hc3QuaWQgIT09IGlkKTsKCQl0aGlzLm5vdGlmeSgpOwoJfQoKCXVwZGF0ZShpZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPFRvYXN0RGF0YT4pOiB2b2lkIHsKCQl0aGlzLnRvYXN0cyA9IHRoaXMudG9hc3RzLm1hcCgodG9hc3QpID0+CgkJCXRvYXN0LmlkID09PSBpZCA/IHsgLi4udG9hc3QsIC4uLmRhdGEgfSA6IHRvYXN0LAoJCSk7CgkJdGhpcy5ub3RpZnkoKTsKCX0KCglkaXNtaXNzQWxsKCk6IHZvaWQgewoJCXRoaXMudG9hc3RzID0gdGhpcy50b2FzdHMubWFwKCh0b2FzdCkgPT4gKHsKCQkJLi4udG9hc3QsCgkJCXNob3VsZENsb3NlOiB0cnVlLAoJCQlkdXJhdGlvbjogMCwKCQl9KSk7CgkJdGhpcy5ub3RpZnkoKTsKCX0KCglnZXRUb2FzdHMoKTogVG9hc3REYXRhW10gewoJCXJldHVybiBbLi4udGhpcy50b2FzdHNdOwoJfQp9Cgpjb25zdCB0b2FzdFN0YXRlID0gbmV3IFRvYXN0U3RhdGUoKTsKCmNsYXNzIFRvYXN0ZXJJbnN0YW5jZU1hbmFnZXIgewoJcHJpdmF0ZSBhY3RpdmVJbnN0YW5jZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDsKCXByaXZhdGUgaW5zdGFuY2VDb3VudGVyID0gMDsKCglyZWdpc3Rlckluc3RhbmNlKCk6IHN0cmluZyB7CgkJY29uc3QgaW5zdGFuY2VJZCA9IGB0b2FzdGVyLSR7Kyt0aGlzLmluc3RhbmNlQ291bnRlcn1gOwoJCWlmICghdGhpcy5hY3RpdmVJbnN0YW5jZUlkKSB7CgkJCXRoaXMuYWN0aXZlSW5zdGFuY2VJZCA9IGluc3RhbmNlSWQ7CgkJfQoJCXJldHVybiBpbnN0YW5jZUlkOwoJfQoKCXVucmVnaXN0ZXJJbnN0YW5jZShpbnN0YW5jZUlkOiBzdHJpbmcpOiB2b2lkIHsKCQlpZiAodGhpcy5hY3RpdmVJbnN0YW5jZUlkID09PSBpbnN0YW5jZUlkKSB7CgkJCXRoaXMuYWN0aXZlSW5zdGFuY2VJZCA9IG51bGw7CgkJfQoJfQoKCWlzQWN0aXZlSW5zdGFuY2UoaW5zdGFuY2VJZDogc3RyaW5nKTogYm9vbGVhbiB7CgkJcmV0dXJuIHRoaXMuYWN0aXZlSW5zdGFuY2VJZCA9PT0gaW5zdGFuY2VJZDsKCX0KfQoKY29uc3QgdG9hc3Rlckluc3RhbmNlTWFuYWdlciA9IG5ldyBUb2FzdGVySW5zdGFuY2VNYW5hZ2VyKCk7Cgpjb25zdCB0b2FzdENvbnRhaW5lclZhcmlhbnRzID0gY3ZhKAoJJ3BvaW50ZXItZXZlbnRzLWF1dG8gZml4ZWQgcm91bmRlZC1sZyBib3JkZXIgc2hhZG93LTJ4bCBjYXJkLWhpZ2hsaWdodCB3aWxsLWNoYW5nZS10cmFuc2Zvcm0gYm9yZGVyLWJvcmRlciBiZy1wb3BvdmVyJywKCXsKCQl2YXJpYW50czogewoJCQlwb3NpdGlvbjogewoJCQkJJ3RvcC1sZWZ0JzogJ3RvcC00IGxlZnQtNCB3LWZ1bGwgbWF4LXctc20nLAoJCQkJJ3RvcC1jZW50ZXInOgoJCQkJCSd0b3AtNCBsZWZ0LTEvMiB3LWZ1bGwgbWF4LXctc20gLXRyYW5zbGF0ZS14LTEvMiB0cmFuc2Zvcm0nLAoJCQkJJ3RvcC1yaWdodCc6ICd0b3AtNCByaWdodC00IHctZnVsbCBtYXgtdy1zbScsCgkJCQknYm90dG9tLWxlZnQnOiAnYm90dG9tLTQgbGVmdC00IHctZnVsbCBtYXgtdy1zbScsCgkJCQknYm90dG9tLWNlbnRlcic6CgkJCQkJJ2JvdHRvbS00IGxlZnQtMS8yIHctZnVsbCBtYXgtdy1zbSAtdHJhbnNsYXRlLXgtMS8yIHRyYW5zZm9ybScsCgkJCQknYm90dG9tLXJpZ2h0JzogJ3JpZ2h0LTQgYm90dG9tLTQgdy1mdWxsIG1heC13LXNtJywKCQkJfSwKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogJ3RleHQtZm9yZWdyb3VuZCcsCgkJCQlzdWNjZXNzOiAndGV4dC1zdWNjZXNzLzkwJywKCQkJCXdhcm5pbmc6ICd0ZXh0LXdhcm5pbmcvOTAnLAoJCQkJZGVzdHJ1Y3RpdmU6ICd0ZXh0LWRlc3RydWN0aXZlLzkwJywKCQkJfSwKCQl9LAoJCWRlZmF1bHRWYXJpYW50czogewoJCQlwb3NpdGlvbjogJ2JvdHRvbS1jZW50ZXInLAoJCQl2YXJpYW50OiAnZGVmYXVsdCcsCgkJfSwKCX0sCik7Cgpjb25zdCB0b2FzdENvbnRlbnRWYXJpYW50cyA9IGN2YSgncmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGcnLCB7Cgl2YXJpYW50czogewoJCXZhcmlhbnQ6IHsKCQkJZGVmYXVsdDogJycsCgkJCXN1Y2Nlc3M6ICcnLAoJCQl3YXJuaW5nOiAnJywKCQkJZGVzdHJ1Y3RpdmU6ICcnLAoJCX0sCgl9LAoJZGVmYXVsdFZhcmlhbnRzOiB7CgkJdmFyaWFudDogJ2RlZmF1bHQnLAoJfSwKfSk7CgpleHBvcnQgdHlwZSBUb2FzdFBvc2l0aW9uID0KCXwgJ3RvcC1sZWZ0JwoJfCAndG9wLWNlbnRlcicKCXwgJ3RvcC1yaWdodCcKCXwgJ2JvdHRvbS1sZWZ0JwoJfCAnYm90dG9tLWNlbnRlcicKCXwgJ2JvdHRvbS1yaWdodCc7Cgpjb25zdCBnZXREZWZhdWx0U3dpcGVEaXJlY3Rpb25zID0gKAoJcG9zaXRpb24/OiBUb2FzdFBvc2l0aW9uIHwgbnVsbCwKKTogU3dpcGVEaXJlY3Rpb25bXSA9PiB7CglpZiAoIXBvc2l0aW9uKSB7CgkJcmV0dXJuIFsndG9wJywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0J107Cgl9CgoJY29uc3QgW3ZlcnRpY2FsLCBob3Jpem9udGFsXSA9IHBvc2l0aW9uLnNwbGl0KCctJykgYXMgWwoJCXN0cmluZywKCQlzdHJpbmcgfCB1bmRlZmluZWQsCgldOwoJY29uc3QgZGlyZWN0aW9uczogU3dpcGVEaXJlY3Rpb25bXSA9IFtdOwoKCWlmICh2ZXJ0aWNhbCA9PT0gJ3RvcCcgfHwgdmVydGljYWwgPT09ICdib3R0b20nKSB7CgkJZGlyZWN0aW9ucy5wdXNoKHZlcnRpY2FsKTsKCX0KCglpZiAoaG9yaXpvbnRhbCA9PT0gJ2xlZnQnIHx8IGhvcml6b250YWwgPT09ICdyaWdodCcpIHsKCQlkaXJlY3Rpb25zLnB1c2goaG9yaXpvbnRhbCk7Cgl9CgoJaWYgKGRpcmVjdGlvbnMubGVuZ3RoID09PSAwKSB7CgkJZGlyZWN0aW9ucy5wdXNoKCd0b3AnLCAnYm90dG9tJyk7Cgl9CgoJcmV0dXJuIGRpcmVjdGlvbnM7Cn07CgpleHBvcnQgaW50ZXJmYWNlIFRvYXN0RGF0YSBleHRlbmRzIFZhcmlhbnRQcm9wczx0eXBlb2YgdG9hc3RDb250YWluZXJWYXJpYW50cz4gewoJaWQ6IHN0cmluZzsKCXRpdGxlPzogc3RyaW5nOwoJZGVzY3JpcHRpb24/OiBzdHJpbmc7CgljbGFzc05hbWU/OiBzdHJpbmc7CglkdXJhdGlvbj86IG51bWJlcjsKCWFjdGlvbj86IHsKCQlsYWJlbDogc3RyaW5nOwoJCW9uQ2xpY2s6ICgpID0+IHZvaWQ7Cgl9OwoJb25DbG9zZT86ICgpID0+IHZvaWQ7CglzaG91bGRDbG9zZT86IGJvb2xlYW47Cglpc0xlYXZpbmc/OiBib29sZWFuOwp9CgpleHBvcnQgY29uc3QgdG9hc3QgPSAoZGF0YTogT21pdDxUb2FzdERhdGEsICdpZCc+IHwgc3RyaW5nKTogc3RyaW5nID0+IHsKCWlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHsKCQlyZXR1cm4gdG9hc3RTdGF0ZS5hZGQoeyBkZXNjcmlwdGlvbjogZGF0YSB9KTsKCX0KCXJldHVybiB0b2FzdFN0YXRlLmFkZChkYXRhKTsKfTsKCnRvYXN0LnN1Y2Nlc3MgPSAoZGF0YTogT21pdDxUb2FzdERhdGEsICdpZCcgfCAndmFyaWFudCc+IHwgc3RyaW5nKTogc3RyaW5nID0+IHsKCWlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHsKCQlyZXR1cm4gdG9hc3RTdGF0ZS5hZGQoeyBkZXNjcmlwdGlvbjogZGF0YSwgdmFyaWFudDogJ3N1Y2Nlc3MnIH0pOwoJfQoJcmV0dXJuIHRvYXN0U3RhdGUuYWRkKHsgLi4uZGF0YSwgdmFyaWFudDogJ3N1Y2Nlc3MnIH0pOwp9OwoKdG9hc3Qud2FybmluZyA9IChkYXRhOiBPbWl0PFRvYXN0RGF0YSwgJ2lkJyB8ICd2YXJpYW50Jz4gfCBzdHJpbmcpOiBzdHJpbmcgPT4gewoJaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgewoJCXJldHVybiB0b2FzdFN0YXRlLmFkZCh7IGRlc2NyaXB0aW9uOiBkYXRhLCB2YXJpYW50OiAnd2FybmluZycgfSk7Cgl9CglyZXR1cm4gdG9hc3RTdGF0ZS5hZGQoeyAuLi5kYXRhLCB2YXJpYW50OiAnd2FybmluZycgfSk7Cn07Cgp0b2FzdC5lcnJvciA9IChkYXRhOiBPbWl0PFRvYXN0RGF0YSwgJ2lkJyB8ICd2YXJpYW50Jz4gfCBzdHJpbmcpOiBzdHJpbmcgPT4gewoJaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgewoJCXJldHVybiB0b2FzdFN0YXRlLmFkZCh7IGRlc2NyaXB0aW9uOiBkYXRhLCB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnIH0pOwoJfQoJcmV0dXJuIHRvYXN0U3RhdGUuYWRkKHsgLi4uZGF0YSwgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyB9KTsKfTsKCnRvYXN0LmRpc21pc3MgPSAoaWQ6IHN0cmluZyk6IHZvaWQgPT4gewoJdG9hc3RTdGF0ZS51cGRhdGUoaWQsIHsgc2hvdWxkQ2xvc2U6IHRydWUgfSk7Cn07Cgp0b2FzdC5kaXNtaXNzQWxsID0gKCk6IHZvaWQgPT4gewoJdG9hc3RTdGF0ZS5kaXNtaXNzQWxsKCk7Cn07Cgp0eXBlIFBvc2l0aW9uZWRUb2FzdCA9IFRvYXN0RGF0YSAmIHsKCWluZGV4OiBudW1iZXI7CglyZW5kZXJJbmRleDogbnVtYmVyOwoJdG90YWw6IG51bWJlcjsKfTsKCmludGVyZmFjZSBUb2FzdEl0ZW1Qcm9wcyB7Cgl0b2FzdDogUG9zaXRpb25lZFRvYXN0OwoJb25SZW1vdmU6IChpZDogc3RyaW5nKSA9PiB2b2lkOwoJaXNHcm91cEhvdmVyZWQ/OiBib29sZWFuOwoJZXhwYW5kZWRPZmZzZXQ/OiBudW1iZXI7CglleHBhbmRlZEdhcD86IG51bWJlcjsKCWNvbGxhcHNlZE9mZnNldD86IG51bWJlcjsKCWhpZGRlbkNvbGxhcHNlZE9mZnNldD86IG51bWJlcjsKCW9uSGVpZ2h0Q2hhbmdlPzogKGlkOiBzdHJpbmcsIGhlaWdodDogbnVtYmVyKSA9PiB2b2lkOwoJb25Hcm91cEhvdmVyRW50ZXI/OiAoKSA9PiB2b2lkOwp9Cgpjb25zdCBUb2FzdEl0ZW06IFJlYWN0LkZDPFRvYXN0SXRlbVByb3BzPiA9IFJlYWN0Lm1lbW8oCgkoewoJCXRvYXN0LAoJCW9uUmVtb3ZlLAoJCWlzR3JvdXBIb3ZlcmVkID0gZmFsc2UsCgkJZXhwYW5kZWRPZmZzZXQgPSAwLAoJCWV4cGFuZGVkR2FwID0gQU5JTUFUSU9OX0NPTkZJRy5FWFBBTkRFRF9HQVAsCgkJY29sbGFwc2VkT2Zmc2V0LAoJCWhpZGRlbkNvbGxhcHNlZE9mZnNldCwKCQlvbkhlaWdodENoYW5nZSwKCQlvbkdyb3VwSG92ZXJFbnRlciwKCX0pID0+IHsKCQljb25zdCB0b2FzdFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7CgkJY29uc3QgdGltZW91dFJlZiA9IHVzZVJlZjxSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGw+KG51bGwpOwoJCWNvbnN0IHRpbWVyU3RhcnRSZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7CgkJY29uc3QgcmVtYWluaW5nUmVmID0gdXNlUmVmPG51bWJlcj4oTnVtYmVyLk5hTik7CgkJY29uc3QgZW50ZXJBbmltYXRpb25SZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7CgkJY29uc3QgaXNFeGl0aW5nID0gdXNlUmVmKGZhbHNlKTsKCQljb25zdCBleGl0QW5pbWF0aW9uQ29tcGxldGVSZWYgPSB1c2VSZWYoZmFsc2UpOwoJCWNvbnN0IGhhc0FuaW1hdGVkSW4gPSB1c2VSZWYoZmFsc2UpOwoJCWNvbnN0IHBvaW50ZXJTdGFydFJlZiA9IHVzZVJlZjx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsPihudWxsKTsKCQljb25zdCBkcmFnU3RhcnRUaW1lUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpOwoJCWNvbnN0IHN3aXBlQXhpc1JlZiA9IHVzZVJlZjxTd2lwZUF4aXMgfCBudWxsPihudWxsKTsKCQljb25zdCBsYXN0U3dpcGVSZWYgPSB1c2VSZWY8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9Pih7IHg6IDAsIHk6IDAgfSk7CgkJY29uc3QgW2lzSXRlbUhvdmVyZWQsIHNldElzSXRlbUhvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpOwoJCWNvbnN0IFtpc1N3aXBpbmcsIHNldElzU3dpcGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CgkJY29uc3QgW3N3aXBlRGlzbWlzc0RpcmVjdGlvbiwgc2V0U3dpcGVEaXNtaXNzRGlyZWN0aW9uXSA9CgkJCXVzZVN0YXRlPFN3aXBlRGlyZWN0aW9uIHwgbnVsbD4obnVsbCk7CgkJY29uc3QgW2FuaW1hdGlvblN0YXRlLCBzZXRBbmltYXRpb25TdGF0ZV0gPSB1c2VTdGF0ZTwKCQkJJ2VudGVyaW5nJyB8ICdlbnRlcmVkJyB8ICdleGl0aW5nJyB8ICdzdGFja2luZycKCQk+KCdlbnRlcmluZycpOwoKCQljb25zdCB7CgkJCWlkLAoJCQl0aXRsZSwKCQkJZGVzY3JpcHRpb24sCgkJCXZhcmlhbnQgPSAnZGVmYXVsdCcsCgkJCWR1cmF0aW9uID0gNTAwMCwKCQkJYWN0aW9uLAoJCQlpbmRleCwKCQkJcmVuZGVySW5kZXgsCgkJCXNob3VsZENsb3NlLAoJCQlwb3NpdGlvbiA9ICdib3R0b20tY2VudGVyJywKCQkJY2xhc3NOYW1lID0gJycsCgkJCW9uQ2xvc2UsCgkJfSA9IHRvYXN0OwoKCQljb25zdCB0aXRsZUlkID0gdGl0bGUgPyBgJHtpZH0tdGl0bGVgIDogdW5kZWZpbmVkOwoJCWNvbnN0IGRlc2NyaXB0aW9uSWQgPSBkZXNjcmlwdGlvbiA/IGAke2lkfS1kZXNjYCA6IHVuZGVmaW5lZDsKCQljb25zdCBsaXZlUm9sZSA9IHZhcmlhbnQgPT09ICdkZXN0cnVjdGl2ZScgPyAnYWxlcnQnIDogJ3N0YXR1cyc7CgkJY29uc3QgbGl2ZVBvbGl0ZW5lc3MgPSB2YXJpYW50ID09PSAnZGVzdHJ1Y3RpdmUnID8gJ2Fzc2VydGl2ZScgOiAncG9saXRlJzsKCgkJY29uc3QgY29uZmlnID0gUE9TSVRJT05fQ09ORklHU1twb3NpdGlvbiBhcyBrZXlvZiB0eXBlb2YgUE9TSVRJT05fQ09ORklHU107CgoJCWNvbnN0IHN3aXBlRGlyZWN0aW9ucyA9IHVzZU1lbW8oCgkJCSgpID0+IGdldERlZmF1bHRTd2lwZURpcmVjdGlvbnMocG9zaXRpb24pLAoJCQlbcG9zaXRpb25dLAoJCSk7CgoJCWNvbnN0IGNsZWFyU3dpcGVSZWZzID0gdXNlQ2FsbGJhY2soKCkgPT4gewoJCQlwb2ludGVyU3RhcnRSZWYuY3VycmVudCA9IG51bGw7CgkJCWRyYWdTdGFydFRpbWVSZWYuY3VycmVudCA9IG51bGw7CgkJCXN3aXBlQXhpc1JlZi5jdXJyZW50ID0gbnVsbDsKCQkJbGFzdFN3aXBlUmVmLmN1cnJlbnQgPSB7IHg6IDAsIHk6IDAgfTsKCQl9LCBbXSk7CgoJCXVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJCWlmICghdG9hc3RSZWYuY3VycmVudCkgcmV0dXJuOwoJCQljb25zdCBlbCA9IHRvYXN0UmVmLmN1cnJlbnQ7CgkJCWNvbnN0IG5vdGlmeSA9ICgpID0+IHsKCQkJCWlmICghb25IZWlnaHRDaGFuZ2UpIHJldHVybjsKCQkJCW9uSGVpZ2h0Q2hhbmdlKGlkLCBlbC5vZmZzZXRIZWlnaHQpOwoJCQl9OwoJCQlub3RpZnkoKTsKCQkJY29uc3Qgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gbm90aWZ5KCkpOwoJCQlyby5vYnNlcnZlKGVsKTsKCQkJcmV0dXJuICgpID0+IHJvLmRpc2Nvbm5lY3QoKTsKCQl9LCBbaWQsIG9uSGVpZ2h0Q2hhbmdlXSk7CgoJCWNvbnN0IGdldEZvY3VzYWJsZUVsZW1lbnRzID0gdXNlQ2FsbGJhY2soKCkgPT4gewoJCQlpZiAoIXRvYXN0UmVmLmN1cnJlbnQpIHJldHVybiBbXTsKCQkJcmV0dXJuIEFycmF5LmZyb20oCgkJCQl0b2FzdFJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoRk9DVVNBQkxFX1NFTEVDVE9SUyksCgkJCSkgYXMgSFRNTEVsZW1lbnRbXTsKCQl9LCBbXSk7CgoJCWNvbnN0IGhhbmRsZVRyYW5zaXRpb25FbmQgPSB1c2VDYWxsYmFjaygKCQkJKGU6IFJlYWN0LlRyYW5zaXRpb25FdmVudCkgPT4gewoJCQkJaWYgKGUudGFyZ2V0ICE9PSB0b2FzdFJlZi5jdXJyZW50KSByZXR1cm47CgkJCQlpZiAoZS5wcm9wZXJ0eU5hbWUgIT09ICdvcGFjaXR5JyAmJiBlLnByb3BlcnR5TmFtZSAhPT0gJ3RyYW5zZm9ybScpCgkJCQkJcmV0dXJuOwoJCQkJaWYgKGFuaW1hdGlvblN0YXRlICE9PSAnZXhpdGluZycpIHJldHVybjsKCQkJCWlmIChleGl0QW5pbWF0aW9uQ29tcGxldGVSZWYuY3VycmVudCkgcmV0dXJuOwoKCQkJCWV4aXRBbmltYXRpb25Db21wbGV0ZVJlZi5jdXJyZW50ID0gdHJ1ZTsKCQkJCW9uQ2xvc2U/LigpOwoJCQkJb25SZW1vdmUoaWQpOwoJCQl9LAoJCQlbYW5pbWF0aW9uU3RhdGUsIGlkLCBvblJlbW92ZSwgb25DbG9zZV0sCgkJKTsKCgkJY29uc3QgaGFuZGxlQ2xvc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7CgkJCWlmICghdG9hc3RSZWYuY3VycmVudCB8fCBpc0V4aXRpbmcuY3VycmVudCkgcmV0dXJuOwoKCQkJaXNFeGl0aW5nLmN1cnJlbnQgPSB0cnVlOwoJCQlleGl0QW5pbWF0aW9uQ29tcGxldGVSZWYuY3VycmVudCA9IGZhbHNlOwoKCQkJdG9hc3RTdGF0ZS51cGRhdGUoaWQsIHsgc2hvdWxkQ2xvc2U6IHRydWUgfSk7CgoJCQlpZiAoZW50ZXJBbmltYXRpb25SZWYuY3VycmVudCkgewoJCQkJY2FuY2VsQW5pbWF0aW9uRnJhbWUoZW50ZXJBbmltYXRpb25SZWYuY3VycmVudCk7CgkJCQllbnRlckFuaW1hdGlvblJlZi5jdXJyZW50ID0gbnVsbDsKCQkJfQoKCQkJaWYgKHRpbWVvdXRSZWYuY3VycmVudCkgewoJCQkJY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7CgkJCQl0aW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsOwoJCQl9CgoJCQlzZXRBbmltYXRpb25TdGF0ZSgnZXhpdGluZycpOwoJCQl0b2FzdFN0YXRlLnVwZGF0ZShpZCwgeyBzaG91bGRDbG9zZTogdHJ1ZSwgaXNMZWF2aW5nOiB0cnVlIH0pOwoJCX0sIFtpZF0pOwoKCQl1c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAoc2hvdWxkQ2xvc2UpIHsKCQkJCWhhbmRsZUNsb3NlKCk7CgkJCX0KCQl9LCBbc2hvdWxkQ2xvc2UsIGhhbmRsZUNsb3NlXSk7CgoJCWNvbnN0IHN0YWNrSGlkZGVuID0gaW5kZXggPj0gQU5JTUFUSU9OX0NPTkZJRy5NQVhfVklTSUJMRV9UT0FTVFM7CgkJY29uc3QgaGlkZGVuQnlTdGFja2luZyA9IHN0YWNrSGlkZGVuICYmIGFuaW1hdGlvblN0YXRlICE9PSAnZXhpdGluZyc7CgkJY29uc3QgaXNTdGFja0xlYWRlciA9IGluZGV4ID09PSAwOwoJCWNvbnN0IGlzTGF0ZXN0ID0gaXNTdGFja0xlYWRlciAmJiAhc2hvdWxkQ2xvc2U7CgoJCXVzZUVmZmVjdCgoKSA9PiB7CgkJCWlmIChpc1N3aXBpbmcpIHJldHVybjsKCQkJaWYgKHN3aXBlRGlzbWlzc0RpcmVjdGlvbikgcmV0dXJuOwoJCQljb25zdCBub2RlID0gdG9hc3RSZWYuY3VycmVudDsKCQkJaWYgKCFub2RlKSByZXR1cm47CgkJCW5vZGUuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtdHJhbnNsYXRlLXgnLCAnMHB4Jyk7CgkJCW5vZGUuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtdHJhbnNsYXRlLXknLCAnMHB4Jyk7CgkJfSwgW2lzU3dpcGluZywgc3dpcGVEaXNtaXNzRGlyZWN0aW9uXSk7CgoJCXVzZUxheW91dEVmZmVjdCgoKSA9PiB7CgkJCWlmICghdG9hc3RSZWYuY3VycmVudCB8fCBpc0V4aXRpbmcuY3VycmVudCkgcmV0dXJuOwoKCQkJY29uc3QgZWxlbWVudCA9IHRvYXN0UmVmLmN1cnJlbnQ7CgoJCQljb25zdCBzZXRGb2N1c1RvVG9hc3QgPSAoKSA9PiB7CgkJCQlpZiAoIWlzTGF0ZXN0KSByZXR1cm47CgkJCQljb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKCk7CgkJCQljb25zdCBmaXJzdEZvY3VzYWJsZSA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdOwoJCQkJaWYgKGZpcnN0Rm9jdXNhYmxlKSB7CgkJCQkJZmlyc3RGb2N1c2FibGUuZm9jdXMoKTsKCQkJCQlyZXR1cm47CgkJCQl9CgkJCQllbGVtZW50LmZvY3VzKCk7CgkJCX07CgoJCQlpZiAoIWhhc0FuaW1hdGVkSW4uY3VycmVudCAmJiBpc0xhdGVzdCkgewoJCQkJaGFzQW5pbWF0ZWRJbi5jdXJyZW50ID0gdHJ1ZTsKCQkJCXNldEFuaW1hdGlvblN0YXRlKCdlbnRlcmluZycpOwoKCQkJCWVudGVyQW5pbWF0aW9uUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewoJCQkJCWVudGVyQW5pbWF0aW9uUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewoJCQkJCQlzZXRBbmltYXRpb25TdGF0ZSgnZW50ZXJlZCcpOwoJCQkJCQlpZiAoYWN0aW9uKSB7CgkJCQkJCQlzZXRUaW1lb3V0KAoJCQkJCQkJCXNldEZvY3VzVG9Ub2FzdCwKCQkJCQkJCQlBTklNQVRJT05fQ09ORklHLkVOVEVSX0RVUkFUSU9OICogMTAwMCwKCQkJCQkJCSk7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCX0pOwoJCQl9IGVsc2UgaWYgKGhhc0FuaW1hdGVkSW4uY3VycmVudCkgewoJCQkJaWYgKGFuaW1hdGlvblN0YXRlICE9PSAnc3RhY2tpbmcnIHx8IGluZGV4ID4gMCkgewoJCQkJCXNldEFuaW1hdGlvblN0YXRlKCdzdGFja2luZycpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJc2V0QW5pbWF0aW9uU3RhdGUoJ3N0YWNraW5nJyk7CgkJCX0KCQl9LCBbaW5kZXgsIGdldEZvY3VzYWJsZUVsZW1lbnRzLCBhbmltYXRpb25TdGF0ZSwgYWN0aW9uLCBpc0xhdGVzdF0pOwoKCQl1c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAoc2hvdWxkQ2xvc2UgfHwgIWhhc0FuaW1hdGVkSW4uY3VycmVudCkgcmV0dXJuOwoJCQlpZiAoZHVyYXRpb24gPD0gMCkgcmV0dXJuOwoKCQkJaWYgKHJlbWFpbmluZ1JlZi5jdXJyZW50ID09IG51bGwgfHwgTnVtYmVyLmlzTmFOKHJlbWFpbmluZ1JlZi5jdXJyZW50KSkgewoJCQkJcmVtYWluaW5nUmVmLmN1cnJlbnQgPSBkdXJhdGlvbjsKCQkJfQoKCQkJY29uc3QgaXNQYXVzZWQgPQoJCQkJaXNHcm91cEhvdmVyZWQgfHwgaXNJdGVtSG92ZXJlZCB8fCBpc1N3aXBpbmcgfHwgaGlkZGVuQnlTdGFja2luZzsKCQkJaWYgKGlzUGF1c2VkKSB7CgkJCQlpZiAodGltZW91dFJlZi5jdXJyZW50KSB7CgkJCQkJY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7CgkJCQkJdGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDsKCQkJCX0KCQkJCWlmICh0aW1lclN0YXJ0UmVmLmN1cnJlbnQgIT09IG51bGwpIHsKCQkJCQljb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRpbWVyU3RhcnRSZWYuY3VycmVudDsKCQkJCQlyZW1haW5pbmdSZWYuY3VycmVudCA9IE1hdGgubWF4KDAsIHJlbWFpbmluZ1JlZi5jdXJyZW50IC0gZWxhcHNlZCk7CgkJCQkJdGltZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDsKCQkJCX0KCQkJCXJldHVybjsKCQkJfQoKCQkJaWYgKCF0aW1lb3V0UmVmLmN1cnJlbnQpIHsKCQkJCWNvbnN0IG1zID0gTWF0aC5tYXgoMCwgcmVtYWluaW5nUmVmLmN1cnJlbnQgPz8gZHVyYXRpb24pOwoJCQkJaWYgKG1zID09PSAwKSB7CgkJCQkJaGFuZGxlQ2xvc2UoKTsKCQkJCQlyZXR1cm47CgkJCQl9CgkJCQl0aW1lclN0YXJ0UmVmLmN1cnJlbnQgPSBEYXRlLm5vdygpOwoJCQkJdGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7CgkJCQkJaGFuZGxlQ2xvc2UoKTsKCQkJCX0sIG1zKTsKCQkJfQoKCQkJcmV0dXJuICgpID0+IHsKCQkJCWlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHsKCQkJCQljbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTsKCQkJCQlpZiAodGltZXJTdGFydFJlZi5jdXJyZW50ICE9PSBudWxsKSB7CgkJCQkJCWNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gdGltZXJTdGFydFJlZi5jdXJyZW50OwoJCQkJCQlyZW1haW5pbmdSZWYuY3VycmVudCA9IE1hdGgubWF4KDAsIHJlbWFpbmluZ1JlZi5jdXJyZW50IC0gZWxhcHNlZCk7CgkJCQkJfQoJCQkJCXRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7CgkJCQkJdGltZXJTdGFydFJlZi5jdXJyZW50ID0gbnVsbDsKCQkJCX0KCQkJfTsKCQl9LCBbCgkJCWR1cmF0aW9uLAoJCQlzaG91bGRDbG9zZSwKCQkJaGFuZGxlQ2xvc2UsCgkJCWlzR3JvdXBIb3ZlcmVkLAoJCQlpc0l0ZW1Ib3ZlcmVkLAoJCQlpc1N3aXBpbmcsCgkJCWhpZGRlbkJ5U3RhY2tpbmcsCgkJXSk7CgoJCXVzZUVmZmVjdCgoKSA9PiB7CgkJCXJlbWFpbmluZ1JlZi5jdXJyZW50ID0gZHVyYXRpb247CgkJfSwgW2R1cmF0aW9uXSk7CgoJCXVzZUVmZmVjdCgoKSA9PiB7CgkJCXJldHVybiAoKSA9PiB7CgkJCQlpZiAoZW50ZXJBbmltYXRpb25SZWYuY3VycmVudCkgewoJCQkJCWNhbmNlbEFuaW1hdGlvbkZyYW1lKGVudGVyQW5pbWF0aW9uUmVmLmN1cnJlbnQpOwoJCQkJfQoJCQkJaWYgKHRpbWVvdXRSZWYuY3VycmVudCkgewoJCQkJCWNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpOwoJCQkJfQoJCQl9OwoJCX0sIFtdKTsKCgkJY29uc3QgaXNUb3BQb3NpdGlvbiA9IHBvc2l0aW9uPy5zdGFydHNXaXRoKCd0b3AtJyk7CgkJY29uc3QgbWF4VmlzaWJsZUluZGV4ID0gTWF0aC5tYXgoCgkJCTAsCgkJCUFOSU1BVElPTl9DT05GSUcuTUFYX1ZJU0lCTEVfVE9BU1RTIC0gMSwKCQkpOwoJCWNvbnN0IHZpc2libGVJbmRleCA9IE1hdGgubWluKGluZGV4LCBtYXhWaXNpYmxlSW5kZXgpOwoJCWNvbnN0IGRlZmF1bHRDb2xsYXBzZWRPZmZzZXQgPSBpc1RvcFBvc2l0aW9uCgkJCT8gaW5kZXggKiBBTklNQVRJT05fQ09ORklHLlNUQUNLX09GRlNFVAoJCQk6IC0oaW5kZXggKiBBTklNQVRJT05fQ09ORklHLlNUQUNLX09GRlNFVCk7CgkJY29uc3QgcmVzb2x2ZWRDb2xsYXBzZWRPZmZzZXQgPQoJCQl0eXBlb2YgY29sbGFwc2VkT2Zmc2V0ID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUoY29sbGFwc2VkT2Zmc2V0KQoJCQkJPyBjb2xsYXBzZWRPZmZzZXQKCQkJCTogZGVmYXVsdENvbGxhcHNlZE9mZnNldDsKCQljb25zdCByZXNvbHZlZEhpZGRlbkNvbGxhcHNlZE9mZnNldCA9CgkJCXR5cGVvZiBoaWRkZW5Db2xsYXBzZWRPZmZzZXQgPT09ICdudW1iZXInICYmCgkJCU51bWJlci5pc0Zpbml0ZShoaWRkZW5Db2xsYXBzZWRPZmZzZXQpCgkJCQk/IGhpZGRlbkNvbGxhcHNlZE9mZnNldAoJCQkJOiByZXNvbHZlZENvbGxhcHNlZE9mZnNldDsKCQljb25zdCBzY2FsZSA9IE1hdGgubWF4KAoJCQlBTklNQVRJT05fQ09ORklHLk1JTl9TQ0FMRSwKCQkJMSAtIGluZGV4ICogQU5JTUFUSU9OX0NPTkZJRy5TQ0FMRV9GQUNUT1IsCgkJKTsKCQljb25zdCB2aXNpYmxlU2NhbGUgPSBNYXRoLm1heCgKCQkJQU5JTUFUSU9OX0NPTkZJRy5NSU5fU0NBTEUsCgkJCTEgLSB2aXNpYmxlSW5kZXggKiBBTklNQVRJT05fQ09ORklHLlNDQUxFX0ZBQ1RPUiwKCQkpOwoJCWNvbnN0IHpJbmRleCA9IEFOSU1BVElPTl9DT05GSUcuWl9JTkRFWF9CQVNFIC0gcmVuZGVySW5kZXg7CgoJCWNvbnN0IHRyYW5zZm9ybVN0eWxlID0gdXNlTWVtbygoKSA9PiB7CgkJCWNvbnN0IGJhc2VPZmZzZXRZID0gc3RhY2tIaWRkZW4KCQkJCT8gcmVzb2x2ZWRIaWRkZW5Db2xsYXBzZWRPZmZzZXQKCQkJCTogcmVzb2x2ZWRDb2xsYXBzZWRPZmZzZXQ7CgkJCWNvbnN0IHByb21vdGlvbk9mZnNldCA9CgkJCQl0eXBlb2YgZXhwYW5kZWRHYXAgPT09ICdudW1iZXInCgkJCQkJPyBleHBhbmRlZEdhcAoJCQkJCTogQU5JTUFUSU9OX0NPTkZJRy5FWFBBTkRFRF9HQVA7CgkJCWNvbnN0IGV4cGFuZGVkVHJhbnNsYXRlWSA9IGlzVG9wUG9zaXRpb24KCQkJCT8gZXhwYW5kZWRPZmZzZXQKCQkJCTogLWV4cGFuZGVkT2Zmc2V0OwoJCQljb25zdCBoaWRkZW5FeHBhbmRlZFRyYW5zbGF0ZVkgPSBleHBhbmRlZFRyYW5zbGF0ZVkgLSBwcm9tb3Rpb25PZmZzZXQ7CgoJCQlsZXQgdHJhbnNsYXRlWCA9IDA7CgkJCWxldCB0cmFuc2xhdGVZID0gYmFzZU9mZnNldFk7CgkJCWxldCBzY2FsZVZhbHVlID0gc3RhY2tIaWRkZW4KCQkJCT8gdmlzaWJsZUluZGV4ID09PSAwCgkJCQkJPyAxCgkJCQkJOiB2aXNpYmxlU2NhbGUKCQkJCTogaXNTdGFja0xlYWRlcgoJCQkJCT8gMQoJCQkJCTogc2NhbGU7CgkJCWxldCBvcGFjaXR5VmFsdWUgPSBzdGFja0hpZGRlbiA/IDAgOiAxOwoKCQkJaWYgKHN0YWNrSGlkZGVuKSB7CgkJCQlpZiAoaXNHcm91cEhvdmVyZWQgJiYgYW5pbWF0aW9uU3RhdGUgIT09ICdleGl0aW5nJykgewoJCQkJCXRyYW5zbGF0ZVggPSAwOwoJCQkJCXRyYW5zbGF0ZVkgPSBoaWRkZW5FeHBhbmRlZFRyYW5zbGF0ZVk7CgkJCQkJc2NhbGVWYWx1ZSA9IDE7CgkJCQl9CgkJCX0gZWxzZSBpZiAoaXNHcm91cEhvdmVyZWQgJiYgYW5pbWF0aW9uU3RhdGUgIT09ICdleGl0aW5nJykgewoJCQkJdHJhbnNsYXRlWCA9IDA7CgkJCQl0cmFuc2xhdGVZID0gZXhwYW5kZWRUcmFuc2xhdGVZOwoJCQkJc2NhbGVWYWx1ZSA9IDE7CgkJCQlvcGFjaXR5VmFsdWUgPSAxOwoJCQl9IGVsc2UgewoJCQkJc3dpdGNoIChhbmltYXRpb25TdGF0ZSkgewoJCQkJCWNhc2UgJ2VudGVyaW5nJzoKCQkJCQkJdHJhbnNsYXRlWCA9IGNvbmZpZy5hbmltYXRlSW4ueDsKCQkJCQkJdHJhbnNsYXRlWSA9IGNvbmZpZy5hbmltYXRlSW4ueTsKCQkJCQkJc2NhbGVWYWx1ZSA9IDE7CgkJCQkJCW9wYWNpdHlWYWx1ZSA9IDA7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgJ2VudGVyZWQnOgoJCQkJCQl0cmFuc2xhdGVYID0gMDsKCQkJCQkJdHJhbnNsYXRlWSA9IGJhc2VPZmZzZXRZOwoJCQkJCQlzY2FsZVZhbHVlID0gMTsKCQkJCQkJb3BhY2l0eVZhbHVlID0gMTsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAnZXhpdGluZyc6IHsKCQkJCQkJc2NhbGVWYWx1ZSA9IDE7CgkJCQkJCW9wYWNpdHlWYWx1ZSA9IDA7CgkJCQkJCWlmIChzd2lwZURpc21pc3NEaXJlY3Rpb24pIHsKCQkJCQkJCXN3aXRjaCAoc3dpcGVEaXNtaXNzRGlyZWN0aW9uKSB7CgkJCQkJCQkJY2FzZSAnbGVmdCc6CgkJCQkJCQkJCXRyYW5zbGF0ZVggPSAtU1dJUEVfRVhJVF9ESVNUQU5DRTsKCQkJCQkJCQkJdHJhbnNsYXRlWSA9IDA7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgJ3JpZ2h0JzoKCQkJCQkJCQkJdHJhbnNsYXRlWCA9IFNXSVBFX0VYSVRfRElTVEFOQ0U7CgkJCQkJCQkJCXRyYW5zbGF0ZVkgPSAwOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICd0b3AnOgoJCQkJCQkJCQl0cmFuc2xhdGVYID0gMDsKCQkJCQkJCQkJdHJhbnNsYXRlWSA9IC1TV0lQRV9FWElUX0RJU1RBTkNFOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICdib3R0b20nOgoJCQkJCQkJCQl0cmFuc2xhdGVYID0gMDsKCQkJCQkJCQkJdHJhbnNsYXRlWSA9IFNXSVBFX0VYSVRfRElTVEFOQ0U7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWRlZmF1bHQ6CgkJCQkJCQkJCXRyYW5zbGF0ZVggPSBjb25maWcuYW5pbWF0ZU91dC54OwoJCQkJCQkJCQl0cmFuc2xhdGVZID0gY29uZmlnLmFuaW1hdGVPdXQueTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl0cmFuc2xhdGVYID0gY29uZmlnLmFuaW1hdGVPdXQueDsKCQkJCQkJCXRyYW5zbGF0ZVkgPSBjb25maWcuYW5pbWF0ZU91dC55OwoJCQkJCQl9CgkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCQlkZWZhdWx0OgoJCQkJCQl0cmFuc2xhdGVYID0gMDsKCQkJCQkJdHJhbnNsYXRlWSA9IGJhc2VPZmZzZXRZOwoJCQkJCQlzY2FsZVZhbHVlID0gaXNTdGFja0xlYWRlciA/IDEgOiBzY2FsZTsKCQkJCQkJb3BhY2l0eVZhbHVlID0gc3RhY2tIaWRkZW4gPyAwIDogMTsKCQkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCgkJCWNvbnN0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoY2FsYygke3RyYW5zbGF0ZVh9cHggKyB2YXIoLS1zd2lwZS10cmFuc2xhdGUteCwgMHB4KSksIGNhbGMoJHt0cmFuc2xhdGVZfXB4ICsgdmFyKC0tc3dpcGUtdHJhbnNsYXRlLXksIDBweCkpKSBzY2FsZSgke3NjYWxlVmFsdWV9KWA7CgoJCQlyZXR1cm4gewoJCQkJdHJhbnNmb3JtLAoJCQkJb3BhY2l0eTogb3BhY2l0eVZhbHVlLAoJCQl9OwoJCX0sIFsKCQkJYW5pbWF0aW9uU3RhdGUsCgkJCWNvbmZpZy5hbmltYXRlSW4ueCwKCQkJY29uZmlnLmFuaW1hdGVJbi55LAoJCQljb25maWcuYW5pbWF0ZU91dC54LAoJCQljb25maWcuYW5pbWF0ZU91dC55LAoJCQlleHBhbmRlZE9mZnNldCwKCQkJaXNHcm91cEhvdmVyZWQsCgkJCWlzU3RhY2tMZWFkZXIsCgkJCWlzVG9wUG9zaXRpb24sCgkJCXZpc2libGVJbmRleCwKCQkJdmlzaWJsZVNjYWxlLAoJCQlzdGFja0hpZGRlbiwKCQkJcmVzb2x2ZWRDb2xsYXBzZWRPZmZzZXQsCgkJCXJlc29sdmVkSGlkZGVuQ29sbGFwc2VkT2Zmc2V0LAoJCQlleHBhbmRlZEdhcCwKCQkJc2NhbGUsCgkJCXN3aXBlRGlzbWlzc0RpcmVjdGlvbiwKCQldKTsKCgkJY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9uID0gdXNlTWVtbygoKSA9PiB7CgkJCXN3aXRjaCAoYW5pbWF0aW9uU3RhdGUpIHsKCQkJCWNhc2UgJ2VudGVyaW5nJzoKCQkJCWNhc2UgJ2VudGVyZWQnOgoJCQkJCXJldHVybiBgJHtBTklNQVRJT05fQ09ORklHLkVOVEVSX0RVUkFUSU9OfXNgOwoJCQkJY2FzZSAnZXhpdGluZyc6CgkJCQkJcmV0dXJuIGAke0FOSU1BVElPTl9DT05GSUcuRVhJVF9EVVJBVElPTn1zYDsKCQkJCWRlZmF1bHQ6CgkJCQkJcmV0dXJuIGAke0FOSU1BVElPTl9DT05GSUcuU1RBQ0tfRFVSQVRJT059c2A7CgkJCX0KCQl9LCBbYW5pbWF0aW9uU3RhdGVdKTsKCgkJY29uc3QgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdXNlTWVtbygoKSA9PiB7CgkJCXJldHVybiBhbmltYXRpb25TdGF0ZSA9PT0gJ2V4aXRpbmcnCgkJCQk/IEFOSU1BVElPTl9DT05GSUcuRUFTSU5HX0VYSVQKCQkJCTogQU5JTUFUSU9OX0NPTkZJRy5FQVNJTkdfREVGQVVMVDsKCQl9LCBbYW5pbWF0aW9uU3RhdGVdKTsKCgkJY29uc3QgY2FuU3dpcGUgPSBzd2lwZURpcmVjdGlvbnMubGVuZ3RoID4gMDsKCQljb25zdCBzd2lwZUN1cnNvckNsYXNzID0gY2FuU3dpcGUKCQkJPyBpc1N3aXBpbmcKCQkJCT8gJ2N1cnNvci1ncmFiYmluZycKCQkJCTogJ2N1cnNvci1ncmFiJwoJCQk6IHVuZGVmaW5lZDsKCgkJY29uc3QgaGFuZGxlUG9pbnRlckRvd24gPSB1c2VDYWxsYmFjaygKCQkJKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7CgkJCQlpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgJiYgZXZlbnQuYnV0dG9uICE9PSAwKSByZXR1cm47CgkJCQlpZiAoZXZlbnQuYnV0dG9uID09PSAyKSByZXR1cm47CgkJCQlpZiAoaXNFeGl0aW5nLmN1cnJlbnQpIHJldHVybjsKCgkJCQljb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7CgkJCQlpZiAodGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbiwgYSwgaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKSkgewoJCQkJCXJldHVybjsKCQkJCX0KCgkJCQljbGVhclN3aXBlUmVmcygpOwoJCQkJcG9pbnRlclN0YXJ0UmVmLmN1cnJlbnQgPSB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfTsKCQkJCWRyYWdTdGFydFRpbWVSZWYuY3VycmVudCA9IERhdGUubm93KCk7CgkJCQljb25zdCBub2RlID0gdG9hc3RSZWYuY3VycmVudDsKCQkJCWlmIChub2RlKSB7CgkJCQkJbm9kZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zd2lwZS10cmFuc2xhdGUteCcsICcwcHgnKTsKCQkJCQlub2RlLnN0eWxlLnNldFByb3BlcnR5KCctLXN3aXBlLXRyYW5zbGF0ZS15JywgJzBweCcpOwoJCQkJfQoJCQkJc2V0U3dpcGVEaXNtaXNzRGlyZWN0aW9uKG51bGwpOwoJCQkJc2V0SXNTd2lwaW5nKHRydWUpOwoJCQkJZXZlbnQuY3VycmVudFRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpOwoJCQl9LAoJCQlbY2xlYXJTd2lwZVJlZnNdLAoJCSk7CgoJCWNvbnN0IGhhbmRsZVBvaW50ZXJNb3ZlID0gdXNlQ2FsbGJhY2soCgkJCShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4gewoJCQkJaWYgKCFwb2ludGVyU3RhcnRSZWYuY3VycmVudCkgcmV0dXJuOwoJCQkJaWYgKGlzRXhpdGluZy5jdXJyZW50KSByZXR1cm47CgoJCQkJaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7CgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCX0KCgkJCQljb25zdCB4RGVsdGEgPSBldmVudC5jbGllbnRYIC0gcG9pbnRlclN0YXJ0UmVmLmN1cnJlbnQueDsKCQkJCWNvbnN0IHlEZWx0YSA9IGV2ZW50LmNsaWVudFkgLSBwb2ludGVyU3RhcnRSZWYuY3VycmVudC55OwoKCQkJCWxldCBheGlzID0gc3dpcGVBeGlzUmVmLmN1cnJlbnQ7CgkJCQlpZiAoIWF4aXMpIHsKCQkJCQlpZiAoTWF0aC5hYnMoeERlbHRhKSA+IDEgfHwgTWF0aC5hYnMoeURlbHRhKSA+IDEpIHsKCQkJCQkJYXhpcyA9IE1hdGguYWJzKHhEZWx0YSkgPiBNYXRoLmFicyh5RGVsdGEpID8gJ3gnIDogJ3knOwoJCQkJCQlzd2lwZUF4aXNSZWYuY3VycmVudCA9IGF4aXM7CgkJCQkJfSBlbHNlIHsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCgkJCQljb25zdCBkYW1wZW4gPSAoZGVsdGE6IG51bWJlcikgPT4gewoJCQkJCWNvbnN0IGZhY3RvciA9IE1hdGguYWJzKGRlbHRhKSAvIDIwOwoJCQkJCXJldHVybiBkZWx0YSAqICgxIC8gKDEuNSArIGZhY3RvcikpOwoJCQkJfTsKCgkJCQlsZXQgbmV4dFggPSAwOwoJCQkJbGV0IG5leHRZID0gMDsKCgkJCQlpZiAoYXhpcyA9PT0gJ3gnKSB7CgkJCQkJY29uc3QgYWxsb3dMZWZ0ID0gc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCdsZWZ0Jyk7CgkJCQkJY29uc3QgYWxsb3dSaWdodCA9IHN3aXBlRGlyZWN0aW9ucy5pbmNsdWRlcygncmlnaHQnKTsKCQkJCQlpZiAoIWFsbG93TGVmdCAmJiAhYWxsb3dSaWdodCkgewoJCQkJCQlzd2lwZUF4aXNSZWYuY3VycmVudCA9ICd5JzsKCQkJCQkJYXhpcyA9ICd5JzsKCQkJCQl9IGVsc2UgaWYgKChhbGxvd0xlZnQgJiYgeERlbHRhIDwgMCkgfHwgKGFsbG93UmlnaHQgJiYgeERlbHRhID4gMCkpIHsKCQkJCQkJbmV4dFggPSB4RGVsdGE7CgkJCQkJfSBlbHNlIHsKCQkJCQkJbmV4dFggPSBkYW1wZW4oeERlbHRhKTsKCQkJCQl9CgkJCQl9CgoJCQkJaWYgKGF4aXMgPT09ICd5JykgewoJCQkJCWNvbnN0IGFsbG93VG9wID0gc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKCd0b3AnKTsKCQkJCQljb25zdCBhbGxvd0JvdHRvbSA9IHN3aXBlRGlyZWN0aW9ucy5pbmNsdWRlcygnYm90dG9tJyk7CgkJCQkJaWYgKCFhbGxvd1RvcCAmJiAhYWxsb3dCb3R0b20pIHsKCQkJCQkJc3dpcGVBeGlzUmVmLmN1cnJlbnQgPSAneCc7CgkJCQkJCWF4aXMgPSAneCc7CgkJCQkJfSBlbHNlIGlmICgoYWxsb3dUb3AgJiYgeURlbHRhIDwgMCkgfHwgKGFsbG93Qm90dG9tICYmIHlEZWx0YSA+IDApKSB7CgkJCQkJCW5leHRZID0geURlbHRhOwoJCQkJCX0gZWxzZSB7CgkJCQkJCW5leHRZID0gZGFtcGVuKHlEZWx0YSk7CgkJCQkJfQoJCQkJfQoKCQkJCWxhc3RTd2lwZVJlZi5jdXJyZW50ID0geyB4OiBuZXh0WCwgeTogbmV4dFkgfTsKCQkJCWNvbnN0IG5vZGUgPSB0b2FzdFJlZi5jdXJyZW50OwoJCQkJaWYgKG5vZGUpIHsKCQkJCQlub2RlLnN0eWxlLnNldFByb3BlcnR5KCctLXN3aXBlLXRyYW5zbGF0ZS14JywgYCR7bmV4dFh9cHhgKTsKCQkJCQlub2RlLnN0eWxlLnNldFByb3BlcnR5KCctLXN3aXBlLXRyYW5zbGF0ZS15JywgYCR7bmV4dFl9cHhgKTsKCQkJCX0KCQkJfSwKCQkJW3N3aXBlRGlyZWN0aW9uc10sCgkJKTsKCgkJY29uc3QgaGFuZGxlUG9pbnRlclVwID0gdXNlQ2FsbGJhY2soCgkJCShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4gewoJCQkJaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuaGFzUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKSkgewoJCQkJCWV2ZW50LmN1cnJlbnRUYXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7CgkJCQl9CgoJCQkJaWYgKCFwb2ludGVyU3RhcnRSZWYuY3VycmVudCkgewoJCQkJCXNldFN3aXBlRGlzbWlzc0RpcmVjdGlvbihudWxsKTsKCQkJCQlzZXRJc1N3aXBpbmcoZmFsc2UpOwoJCQkJCWNsZWFyU3dpcGVSZWZzKCk7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCWNvbnN0IGVsYXBzZWQgPSBkcmFnU3RhcnRUaW1lUmVmLmN1cnJlbnQKCQkJCQk/IERhdGUubm93KCkgLSBkcmFnU3RhcnRUaW1lUmVmLmN1cnJlbnQKCQkJCQk6IDA7CgoJCQkJY29uc3QgYXhpcyA9IHN3aXBlQXhpc1JlZi5jdXJyZW50OwoJCQkJY29uc3QgeyB4LCB5IH0gPSBsYXN0U3dpcGVSZWYuY3VycmVudDsKCQkJCWxldCBkaXNtaXNzZWQgPSBmYWxzZTsKCgkJCQlpZiAoYXhpcykgewoJCQkJCWNvbnN0IGRpc3RhbmNlID0gYXhpcyA9PT0gJ3gnID8geCA6IHk7CgkJCQkJY29uc3QgdmVsb2NpdHkgPSBlbGFwc2VkID4gMCA/IE1hdGguYWJzKGRpc3RhbmNlKSAvIGVsYXBzZWQgOiAwOwoJCQkJCWNvbnN0IG1lZXRzVGhyZXNob2xkID0KCQkJCQkJTWF0aC5hYnMoZGlzdGFuY2UpID49IFNXSVBFX0RJU01JU1NfVEhSRVNIT0xEIHx8CgkJCQkJCXZlbG9jaXR5ID4gU1dJUEVfRElTTUlTU19WRUxPQ0lUWTsKCgkJCQkJaWYgKG1lZXRzVGhyZXNob2xkICYmIE1hdGguYWJzKGRpc3RhbmNlKSA+IDApIHsKCQkJCQkJbGV0IGRpcmVjdGlvbjogU3dpcGVEaXJlY3Rpb247CgkJCQkJCWlmIChheGlzID09PSAneCcpIHsKCQkJCQkJCWRpcmVjdGlvbiA9IGRpc3RhbmNlID4gMCA/ICdyaWdodCcgOiAnbGVmdCc7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlkaXJlY3Rpb24gPSBkaXN0YW5jZSA+IDAgPyAnYm90dG9tJyA6ICd0b3AnOwoJCQkJCQl9CgoJCQkJCQlpZiAoc3dpcGVEaXJlY3Rpb25zLmluY2x1ZGVzKGRpcmVjdGlvbikpIHsKCQkJCQkJCXNldFN3aXBlRGlzbWlzc0RpcmVjdGlvbihkaXJlY3Rpb24pOwoJCQkJCQkJZGlzbWlzc2VkID0gdHJ1ZTsKCQkJCQkJCWhhbmRsZUNsb3NlKCk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgoJCQkJaWYgKCFkaXNtaXNzZWQpIHsKCQkJCQlzZXRTd2lwZURpc21pc3NEaXJlY3Rpb24obnVsbCk7CgkJCQl9CgoJCQkJc2V0SXNTd2lwaW5nKGZhbHNlKTsKCQkJCWNsZWFyU3dpcGVSZWZzKCk7CgkJCX0sCgkJCVtjbGVhclN3aXBlUmVmcywgaGFuZGxlQ2xvc2UsIHN3aXBlRGlyZWN0aW9uc10sCgkJKTsKCgkJY29uc3QgaGFuZGxlUG9pbnRlckNhbmNlbCA9IHVzZUNhbGxiYWNrKAoJCQkoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHsKCQkJCWlmIChldmVudC5jdXJyZW50VGFyZ2V0Lmhhc1BvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCkpIHsKCQkJCQlldmVudC5jdXJyZW50VGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpOwoJCQkJfQoJCQkJc2V0U3dpcGVEaXNtaXNzRGlyZWN0aW9uKG51bGwpOwoJCQkJc2V0SXNTd2lwaW5nKGZhbHNlKTsKCQkJCWNsZWFyU3dpcGVSZWZzKCk7CgkJCX0sCgkJCVtjbGVhclN3aXBlUmVmc10sCgkJKTsKCgkJcmV0dXJuICgKCQkJPGRpdgoJCQkJcmVmPXt0b2FzdFJlZn0KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJdG9hc3RDb250YWluZXJWYXJpYW50cyh7IHBvc2l0aW9uLCB2YXJpYW50IH0pLAoJCQkJCWNsYXNzTmFtZSwKCQkJCQlzd2lwZUN1cnNvckNsYXNzLAoJCQkJCXN0YWNrSGlkZGVuICYmICdwb2ludGVyLWV2ZW50cy1ub25lJywKCQkJCSl9CgkJCQlzdHlsZT17ewoJCQkJCXRyYW5zZm9ybU9yaWdpbjogcG9zaXRpb24/LnN0YXJ0c1dpdGgoJ3RvcC0nKQoJCQkJCQk/ICdjZW50ZXIgdG9wJwoJCQkJCQk6ICdjZW50ZXIgYm90dG9tJywKCQkJCQl6SW5kZXgsCgkJCQkJdHJhbnNpdGlvbjogaXNTd2lwaW5nCgkJCQkJCT8gYHRyYW5zZm9ybSAwcyBsaW5lYXIsIG9wYWNpdHkgJHt0cmFuc2l0aW9uRHVyYXRpb259ICR7dHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9ufWAKCQkJCQkJOiBgdHJhbnNmb3JtICR7dHJhbnNpdGlvbkR1cmF0aW9ufSAke3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbn0sIG9wYWNpdHkgJHt0cmFuc2l0aW9uRHVyYXRpb259ICR7dHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9ufWAsCgkJCQkJLi4udHJhbnNmb3JtU3R5bGUsCgkJCQl9fQoJCQkJcm9sZT17c3RhY2tIaWRkZW4gPyB1bmRlZmluZWQgOiBsaXZlUm9sZX0KCQkJCWFyaWEtbGl2ZT17c3RhY2tIaWRkZW4gPyB1bmRlZmluZWQgOiBsaXZlUG9saXRlbmVzc30KCQkJCWFyaWEtYXRvbWljPXtzdGFja0hpZGRlbiA/IHVuZGVmaW5lZCA6ICd0cnVlJ30KCQkJCWFyaWEtZGVzY3JpYmVkYnk9e3N0YWNrSGlkZGVuID8gdW5kZWZpbmVkIDogZGVzY3JpcHRpb25JZH0KCQkJCWFyaWEtaGlkZGVuPXtzdGFja0hpZGRlbiA/IHRydWUgOiB1bmRlZmluZWR9CgkJCQl0YWJJbmRleD17LTF9CgkJCQlvblRyYW5zaXRpb25FbmQ9e2hhbmRsZVRyYW5zaXRpb25FbmR9CgkJCQlkYXRhLXRvYXN0LWlkPXtpZH0KCQkJPgoJCQkJPGRpdgoJCQkJCXJvbGU9ImFsZXJ0IgoJCQkJCWNsYXNzTmFtZT17Y24oc3dpcGVDdXJzb3JDbGFzcyl9CgkJCQkJb25Qb2ludGVyRG93bj17aGFuZGxlUG9pbnRlckRvd259CgkJCQkJb25Qb2ludGVyTW92ZT17aGFuZGxlUG9pbnRlck1vdmV9CgkJCQkJb25Qb2ludGVyVXA9e2hhbmRsZVBvaW50ZXJVcH0KCQkJCQlvblBvaW50ZXJDYW5jZWw9e2hhbmRsZVBvaW50ZXJDYW5jZWx9CgkJCQkJb25Nb3VzZUVudGVyPXsoKSA9PiB7CgkJCQkJCXNldElzSXRlbUhvdmVyZWQodHJ1ZSk7CgkJCQkJCW9uR3JvdXBIb3ZlckVudGVyPy4oKTsKCQkJCQl9fQoJCQkJCW9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SXNJdGVtSG92ZXJlZChmYWxzZSl9CgkJCQkJb25Gb2N1c0NhcHR1cmU9eygpID0+IHNldElzSXRlbUhvdmVyZWQodHJ1ZSl9CgkJCQkJb25CbHVyQ2FwdHVyZT17KGUpID0+IHsKCQkJCQkJY29uc3QgY3VycmVudCA9IHRvYXN0UmVmLmN1cnJlbnQ7CgkJCQkJCWNvbnN0IG5leHQgPSBlLnJlbGF0ZWRUYXJnZXQgYXMgTm9kZSB8IG51bGw7CgkJCQkJCWlmICghY3VycmVudCB8fCAhbmV4dCB8fCAhY3VycmVudC5jb250YWlucyhuZXh0KSkgewoJCQkJCQkJc2V0SXNJdGVtSG92ZXJlZChmYWxzZSk7CgkJCQkJCX0KCQkJCQl9fQoJCQkJPgoJCQkJCTxkaXYgY2xhc3NOYW1lPXtjbih0b2FzdENvbnRlbnRWYXJpYW50cyh7IHZhcmlhbnQgfSkpfT4KCQkJCQkJPGJ1dHRvbgoJCQkJCQkJdHlwZT0iYnV0dG9uIgoJCQkJCQkJb25DbGljaz17aGFuZGxlQ2xvc2V9CgkJCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQkJCSdhYnNvbHV0ZSB0b3AtMiByaWdodC0yIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtc20gcC0xIHRleHQtZm9yZWdyb3VuZC80NSBob3ZlcjpiZy1wb3BvdmVyLW11dGVkIGhvdmVyOnRleHQtZm9yZWdyb3VuZC83MCB0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGNvbG9yLGJveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQkJCQkJCSl9CgkJCQkJCQlhcmlhLWxhYmVsPSJDbG9zZSB0b2FzdCIKCQkJCQkJPgoJCQkJCQkJPEljb25zLlggYXJpYS1oaWRkZW49InRydWUiIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KCQkJCQkJPC9idXR0b24+CgoJCQkJCQk8ZGl2IGNsYXNzTmFtZT0icC00IHByLTgiPgoJCQkJCQkJe3RpdGxlICYmICgKCQkJCQkJCQk8ZGl2CgkJCQkJCQkJCWlkPXt0aXRsZUlkfQoJCQkJCQkJCQljbGFzc05hbWU9Im1iLTEgdGV4dC1zbSBsZWFkaW5nLW5vbmUgZm9udC1tZWRpdW0gc2VsZWN0LW5vbmUiCgkJCQkJCQkJPgoJCQkJCQkJCQl7dGl0bGV9CgkJCQkJCQkJPC9kaXY+CgkJCQkJCQkpfQoJCQkJCQkJe2Rlc2NyaXB0aW9uICYmICgKCQkJCQkJCQk8ZGl2CgkJCQkJCQkJCWlkPXtkZXNjcmlwdGlvbklkfQoJCQkJCQkJCQljbGFzc05hbWU9InRleHQtc20gbGVhZGluZy1zbnVnIHRleHQtZm9yZWdyb3VuZC83MCB0ZXh0LWJhbGFuY2Ugc2VsZWN0LW5vbmUiCgkJCQkJCQkJPgoJCQkJCQkJCQl7ZGVzY3JpcHRpb259CgkJCQkJCQkJPC9kaXY+CgkJCQkJCQkpfQoJCQkJCQkJe2FjdGlvbiAmJiAoCgkJCQkJCQkJPGRpdiBjbGFzc05hbWU9Im10LTMiPgoJCQkJCQkJCQk8YnV0dG9uCgkJCQkJCQkJCQl0eXBlPSJidXR0b24iCgkJCQkJCQkJCQlvbkNsaWNrPXsoKSA9PiB7CgkJCQkJCQkJCQkJYWN0aW9uLm9uQ2xpY2soKTsKCQkJCQkJCQkJCQloYW5kbGVDbG9zZSgpOwoJCQkJCQkJCQkJfX0KCQkJCQkJCQkJCWNsYXNzTmFtZT0icmVsYXRpdmUgaW5saW5lLWZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgcHgtMyBweS0xLjUgdGV4dC1zbSBmb250LW1lZGl1bSBiZy1saW5lYXItdG8tYiBmcm9tLWdyYWRpZW50LWZyb20gdG8tZ3JhZGllbnQtdG8gaG92ZXI6Y29udHJhc3QtOTAgdHJhbnNpdGlvbi1bYmFja2dyb3VuZC1jb2xvcixjb2xvcixib3gtc2hhZG93LGZpbHRlcl0gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAgc2hhZG93LVtpbnNldF8wXzFweF8wXzBfcmdiKDI1NV8yNTVfMjU1Ly4zMiksMHB4XzFweF8xcHhfLTAuNXB4X3JnYmEoOSw5LDExLDAuMDUpLDBweF8zcHhfM3B4Xy0xLjVweF9yZ2JhKDksOSwxMSwwLjA1KSwwcHhfNnB4XzZweF8tM3B4X3JnYmEoOSw5LDExLDAuMDUpXSBkYXJrOnNoYWRvdy1baW5zZXRfMF8xcHhfMF8wX3JnYigyNTVfMjU1XzI1NS8uMTIpLDBweF8xcHhfMXB4Xy0wLjVweF9yZ2JhKDksOSwxMSwwLjA1KSwwcHhfM3B4XzNweF8tMS41cHhfcmdiYSg5LDksMTEsMC4wNSksMHB4XzZweF82cHhfLTNweF9yZ2JhKDksOSwxMSwwLjA1KV0gdGV4dC1jYXJkLW11dGVkIGRhcms6dGV4dC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6cmluZy0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMSBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIgoJCQkJCQkJCQk+CgkJCQkJCQkJCQl7YWN0aW9uLmxhYmVsfQoJCQkJCQkJCQk8L2J1dHRvbj4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCSl9CgkJCQkJCTwvZGl2PgoJCQkJCTwvZGl2PgoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCSk7Cgl9LAoJKHByZXZQcm9wcywgbmV4dFByb3BzKSA9PiB7CgkJcmV0dXJuICgKCQkJcHJldlByb3BzLnRvYXN0LmlkID09PSBuZXh0UHJvcHMudG9hc3QuaWQgJiYKCQkJcHJldlByb3BzLnRvYXN0LmluZGV4ID09PSBuZXh0UHJvcHMudG9hc3QuaW5kZXggJiYKCQkJcHJldlByb3BzLnRvYXN0LnNob3VsZENsb3NlID09PSBuZXh0UHJvcHMudG9hc3Quc2hvdWxkQ2xvc2UgJiYKCQkJcHJldlByb3BzLnRvYXN0LnJlbmRlckluZGV4ID09PSBuZXh0UHJvcHMudG9hc3QucmVuZGVySW5kZXggJiYKCQkJcHJldlByb3BzLnRvYXN0LnRvdGFsID09PSBuZXh0UHJvcHMudG9hc3QudG90YWwgJiYKCQkJcHJldlByb3BzLmlzR3JvdXBIb3ZlcmVkID09PSBuZXh0UHJvcHMuaXNHcm91cEhvdmVyZWQgJiYKCQkJcHJldlByb3BzLmV4cGFuZGVkT2Zmc2V0ID09PSBuZXh0UHJvcHMuZXhwYW5kZWRPZmZzZXQgJiYKCQkJcHJldlByb3BzLmV4cGFuZGVkR2FwID09PSBuZXh0UHJvcHMuZXhwYW5kZWRHYXAgJiYKCQkJcHJldlByb3BzLmNvbGxhcHNlZE9mZnNldCA9PT0gbmV4dFByb3BzLmNvbGxhcHNlZE9mZnNldCAmJgoJCQlwcmV2UHJvcHMuaGlkZGVuQ29sbGFwc2VkT2Zmc2V0ID09PSBuZXh0UHJvcHMuaGlkZGVuQ29sbGFwc2VkT2Zmc2V0CgkJKTsKCX0sCik7CgpUb2FzdEl0ZW0uZGlzcGxheU5hbWUgPSAnVG9hc3RJdGVtJzsKCmNvbnN0IFRvYXN0TWFuYWdlcjogUmVhY3QuRkM8ewoJdG9hc3RzOiBUb2FzdERhdGFbXTsKCW9uUmVtb3ZlOiAoaWQ6IHN0cmluZykgPT4gdm9pZDsKCWV4cGFuZGVkR2FwPzogbnVtYmVyOwp9PiA9IFJlYWN0Lm1lbW8oCgkoeyB0b2FzdHMsIG9uUmVtb3ZlLCBleHBhbmRlZEdhcCA9IEFOSU1BVElPTl9DT05GSUcuRVhQQU5ERURfR0FQIH0pID0+IHsKCQljb25zdCBbaGVpZ2h0cywgc2V0SGVpZ2h0c10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+Pih7fSk7CgkJY29uc3QgW2hvdmVyZWQsIHNldEhvdmVyZWRdID0gdXNlU3RhdGU8UmVjb3JkPFRvYXN0UG9zaXRpb24sIGJvb2xlYW4+Pih7CgkJCSd0b3AtbGVmdCc6IGZhbHNlLAoJCQkndG9wLWNlbnRlcic6IGZhbHNlLAoJCQkndG9wLXJpZ2h0JzogZmFsc2UsCgkJCSdib3R0b20tbGVmdCc6IGZhbHNlLAoJCQknYm90dG9tLWNlbnRlcic6IGZhbHNlLAoJCQknYm90dG9tLXJpZ2h0JzogZmFsc2UsCgkJfSk7CgkJY29uc3QgcHJldmlvdXNTdGFja0luZGV4UmVmID0gdXNlUmVmPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTsKCQljb25zdCBwcmV2aW91c0NvbGxhcHNlZE9mZnNldHNSZWYgPSB1c2VSZWY8UmVjb3JkPHN0cmluZywgbnVtYmVyPj4oe30pOwoJCWNvbnN0IHByZXZpb3VzRXhwYW5kZWRPZmZzZXRzUmVmID0gdXNlUmVmPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTsKCgkJY29uc3QgdG9hc3RzQnlQb3NpdGlvbiA9IHVzZU1lbW8oKCkgPT4gewoJCQljb25zdCBncm91cGVkID0gdG9hc3RzLnJlZHVjZSgKCQkJCShhY2MsIHRvYXN0KSA9PiB7CgkJCQkJY29uc3QgcG9zID0gdG9hc3QucG9zaXRpb24gfHwgJ2JvdHRvbS1jZW50ZXInOwoJCQkJCWlmICghYWNjW3Bvc10pIGFjY1twb3NdID0gW107CgkJCQkJYWNjW3Bvc10ucHVzaCh0b2FzdCk7CgkJCQkJcmV0dXJuIGFjYzsKCQkJCX0sCgkJCQl7fSBhcyBSZWNvcmQ8VG9hc3RQb3NpdGlvbiwgVG9hc3REYXRhW10+LAoJCQkpOwoKCQkJY29uc3QgbmV4dFN0YWNrSW5kaWNlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9OwoKCQkJT2JqZWN0LmtleXMoZ3JvdXBlZCkuZm9yRWFjaCgocG9zaXRpb24pID0+IHsKCQkJCWNvbnN0IHBvc2l0aW9uS2V5ID0gcG9zaXRpb24gYXMgVG9hc3RQb3NpdGlvbjsKCQkJCWNvbnN0IGxpc3QgPSBncm91cGVkW3Bvc2l0aW9uS2V5XTsKCQkJCWNvbnN0IGFjdGl2ZVRvYXN0cyA9IGxpc3QuZmlsdGVyKAoJCQkJCSh0b2FzdCkgPT4gIXRvYXN0LmlzTGVhdmluZyAmJiAhdG9hc3Quc2hvdWxkQ2xvc2UsCgkJCQkpOwoJCQkJY29uc3QgYWN0aXZlSW5kZXhNYXAgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpOwoKCQkJCWFjdGl2ZVRvYXN0cy5mb3JFYWNoKCh0b2FzdCwgYWN0aXZlSW5kZXgpID0+IHsKCQkJCQlhY3RpdmVJbmRleE1hcC5zZXQodG9hc3QuaWQsIGFjdGl2ZUluZGV4KTsKCQkJCX0pOwoKCQkJCWdyb3VwZWRbcG9zaXRpb25LZXldID0gbGlzdC5tYXAoKHRvYXN0LCBvcmRlckluZGV4KSA9PiB7CgkJCQkJbGV0IHN0YWNrSW5kZXggPQoJCQkJCQlhY3RpdmVJbmRleE1hcC5nZXQodG9hc3QuaWQpID8/CgkJCQkJCXByZXZpb3VzU3RhY2tJbmRleFJlZi5jdXJyZW50W3RvYXN0LmlkXTsKCgkJCQkJaWYgKHN0YWNrSW5kZXggPT0gbnVsbCB8fCBOdW1iZXIuaXNOYU4oc3RhY2tJbmRleCkpIHsKCQkJCQkJc3RhY2tJbmRleCA9IG9yZGVySW5kZXg7CgkJCQkJfQoKCQkJCQluZXh0U3RhY2tJbmRpY2VzW3RvYXN0LmlkXSA9IHN0YWNrSW5kZXg7CgoJCQkJCXJldHVybiB7CgkJCQkJCS4uLnRvYXN0LAoJCQkJCQlpbmRleDogc3RhY2tJbmRleCwKCQkJCQkJcmVuZGVySW5kZXg6IG9yZGVySW5kZXgsCgkJCQkJCXRvdGFsOiBsaXN0Lmxlbmd0aCwKCQkJCQl9OwoJCQkJfSkgYXMgUG9zaXRpb25lZFRvYXN0W107CgkJCX0pOwoKCQkJcHJldmlvdXNTdGFja0luZGV4UmVmLmN1cnJlbnQgPSBuZXh0U3RhY2tJbmRpY2VzOwoKCQkJcmV0dXJuIGdyb3VwZWQgYXMgUmVjb3JkPFRvYXN0UG9zaXRpb24sIFBvc2l0aW9uZWRUb2FzdFtdPjsKCQl9LCBbdG9hc3RzXSk7CgoJCXVzZUVmZmVjdCgoKSA9PiB7CgkJCXNldEhvdmVyZWQoKHByZXYpID0+IHsKCQkJCWxldCBjaGFuZ2VkID0gZmFsc2U7CgkJCQljb25zdCBuZXh0ID0geyAuLi5wcmV2IH07CgkJCQljb25zdCBwb3NpdGlvbnMgPSBPYmplY3Qua2V5cyhwcmV2KSBhcyBUb2FzdFBvc2l0aW9uW107CgkJCQlmb3IgKGNvbnN0IHBvcyBvZiBwb3NpdGlvbnMpIHsKCQkJCQljb25zdCBoYXNUb2FzdCA9ICh0b2FzdHNCeVBvc2l0aW9uW3Bvc10/Lmxlbmd0aCA/PyAwKSA+IDA7CgkJCQkJaWYgKCFoYXNUb2FzdCAmJiBuZXh0W3Bvc10pIHsKCQkJCQkJbmV4dFtwb3NdID0gZmFsc2U7CgkJCQkJCWNoYW5nZWQgPSB0cnVlOwoJCQkJCX0KCQkJCX0KCQkJCXJldHVybiBjaGFuZ2VkID8gbmV4dCA6IHByZXY7CgkJCX0pOwoJCX0sIFt0b2FzdHNCeVBvc2l0aW9uXSk7CgoJCWNvbnN0IHBvc2l0aW9uRW50cmllcyA9IHVzZU1lbW8oCgkJCSgpID0+IE9iamVjdC5lbnRyaWVzKHRvYXN0c0J5UG9zaXRpb24pLAoJCQlbdG9hc3RzQnlQb3NpdGlvbl0sCgkJKTsKCgkJY29uc3QgY29sbGFwc2VkT2Zmc2V0RGF0YSA9IHVzZU1lbW8oKCkgPT4gewoJCQljb25zdCBieVBvc2l0aW9uOiBSZWNvcmQ8VG9hc3RQb3NpdGlvbiwgbnVtYmVyW10+ID0gewoJCQkJJ3RvcC1sZWZ0JzogW10sCgkJCQkndG9wLWNlbnRlcic6IFtdLAoJCQkJJ3RvcC1yaWdodCc6IFtdLAoJCQkJJ2JvdHRvbS1sZWZ0JzogW10sCgkJCQknYm90dG9tLWNlbnRlcic6IFtdLAoJCQkJJ2JvdHRvbS1yaWdodCc6IFtdLAoJCQl9OwoJCQljb25zdCBieUlkOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307CgoJCQlmb3IgKGNvbnN0IFtwb3MsIGdyb3VwXSBvZiBwb3NpdGlvbkVudHJpZXMgYXMgWwoJCQkJVG9hc3RQb3NpdGlvbiwKCQkJCVBvc2l0aW9uZWRUb2FzdFtdLAoJCQldW10pIHsKCQkJCWNvbnN0IGlzVG9wUG9zaXRpb24gPSBwb3Muc3RhcnRzV2l0aCgndG9wLScpOwoJCQkJY29uc3QgYWN0aXZlVG9hc3RzID0gZ3JvdXAuZmlsdGVyKCh0b2FzdCkgPT4gIXRvYXN0LnNob3VsZENsb3NlKTsKCQkJCWNvbnN0IG9mZnNldHNGb3JBY3RpdmU6IG51bWJlcltdID0gW107CgoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVUb2FzdHMubGVuZ3RoOyBpKyspIHsKCQkJCQlpZiAoaSA9PT0gMCkgewoJCQkJCQlvZmZzZXRzRm9yQWN0aXZlLnB1c2goMCk7CgkJCQkJCWNvbnRpbnVlOwoJCQkJCX0KCgkJCQkJY29uc3QgcHJldlRvYXN0ID0gYWN0aXZlVG9hc3RzW2kgLSAxXTsKCQkJCQljb25zdCBjdXJyZW50VG9hc3QgPSBhY3RpdmVUb2FzdHNbaV07CgkJCQkJY29uc3QgcHJldk9mZnNldCA9IG9mZnNldHNGb3JBY3RpdmVbaSAtIDFdID8/IDA7CgkJCQkJaWYgKCFwcmV2VG9hc3QgfHwgIWN1cnJlbnRUb2FzdCkgewoJCQkJCQlvZmZzZXRzRm9yQWN0aXZlLnB1c2gocHJldk9mZnNldCk7CgkJCQkJCWNvbnRpbnVlOwoJCQkJCX0KCQkJCQljb25zdCBwcmV2SGVpZ2h0ID0gaGVpZ2h0c1twcmV2VG9hc3QuaWRdOwoJCQkJCWNvbnN0IGN1cnJlbnRIZWlnaHQgPSBoZWlnaHRzW2N1cnJlbnRUb2FzdC5pZF07CgkJCQkJY29uc3QgZmFsbGJhY2tPZmZzZXQgPQoJCQkJCQlwcmV2T2Zmc2V0ICsKCQkJCQkJKGlzVG9wUG9zaXRpb24gPyAxIDogLTEpICogQU5JTUFUSU9OX0NPTkZJRy5TVEFDS19PRkZTRVQ7CgoJCQkJCWlmICgKCQkJCQkJcHJldkhlaWdodCA9PSBudWxsIHx8CgkJCQkJCWN1cnJlbnRIZWlnaHQgPT0gbnVsbCB8fAoJCQkJCQlOdW1iZXIuaXNOYU4ocHJldkhlaWdodCkgfHwKCQkJCQkJTnVtYmVyLmlzTmFOKGN1cnJlbnRIZWlnaHQpCgkJCQkJKSB7CgkJCQkJCW9mZnNldHNGb3JBY3RpdmUucHVzaChmYWxsYmFja09mZnNldCk7CgkJCQkJCWNvbnRpbnVlOwoJCQkJCX0KCgkJCQkJaWYgKGlzVG9wUG9zaXRpb24pIHsKCQkJCQkJb2Zmc2V0c0ZvckFjdGl2ZS5wdXNoKAoJCQkJCQkJcHJldk9mZnNldCArCgkJCQkJCQkJKHByZXZIZWlnaHQgLSBjdXJyZW50SGVpZ2h0ICsgQU5JTUFUSU9OX0NPTkZJRy5TVEFDS19PRkZTRVQpLAoJCQkJCQkpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCW9mZnNldHNGb3JBY3RpdmUucHVzaCgKCQkJCQkJCXByZXZPZmZzZXQgKwoJCQkJCQkJCShjdXJyZW50SGVpZ2h0IC0gcHJldkhlaWdodCAtIEFOSU1BVElPTl9DT05GSUcuU1RBQ0tfT0ZGU0VUKSwKCQkJCQkJKTsKCQkJCQl9CgkJCQl9CgoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVUb2FzdHMubGVuZ3RoOyBpKyspIHsKCQkJCQljb25zdCB0b2FzdCA9IGFjdGl2ZVRvYXN0c1tpXTsKCQkJCQlpZiAoIXRvYXN0KSBjb250aW51ZTsKCQkJCQlieUlkW3RvYXN0LmlkXSA9IG9mZnNldHNGb3JBY3RpdmVbaV0gPz8gMDsKCQkJCX0KCgkJCQlmb3IgKGNvbnN0IHRvYXN0IG9mIGdyb3VwKSB7CgkJCQkJaWYgKGJ5SWRbdG9hc3QuaWRdICE9IG51bGwpIGNvbnRpbnVlOwoKCQkJCQljb25zdCBwcmV2aW91c09mZnNldCA9IHByZXZpb3VzQ29sbGFwc2VkT2Zmc2V0c1JlZi5jdXJyZW50W3RvYXN0LmlkXTsKCQkJCQlpZiAodHlwZW9mIHByZXZpb3VzT2Zmc2V0ID09PSAnbnVtYmVyJykgewoJCQkJCQlieUlkW3RvYXN0LmlkXSA9IHByZXZpb3VzT2Zmc2V0OwoJCQkJCQljb250aW51ZTsKCQkJCQl9CgoJCQkJCWNvbnN0IGRlZmF1bHRPZmZzZXQgPSBpc1RvcFBvc2l0aW9uCgkJCQkJCT8gdG9hc3QuaW5kZXggKiBBTklNQVRJT05fQ09ORklHLlNUQUNLX09GRlNFVAoJCQkJCQk6IC0odG9hc3QuaW5kZXggKiBBTklNQVRJT05fQ09ORklHLlNUQUNLX09GRlNFVCk7CgkJCQkJYnlJZFt0b2FzdC5pZF0gPSBkZWZhdWx0T2Zmc2V0OwoJCQkJfQoKCQkJCWJ5UG9zaXRpb25bcG9zXSA9IGdyb3VwLm1hcCgodG9hc3QpID0+IGJ5SWRbdG9hc3QuaWRdID8/IDApOwoJCQl9CgoJCQlyZXR1cm4geyBieVBvc2l0aW9uLCBieUlkIH07CgkJfSwgW3Bvc2l0aW9uRW50cmllcywgaGVpZ2h0c10pOwoKCQljb25zdCBleHBhbmRlZE9mZnNldERhdGEgPSB1c2VNZW1vKCgpID0+IHsKCQkJY29uc3QgYnlQb3NpdGlvbjogUmVjb3JkPFRvYXN0UG9zaXRpb24sIG51bWJlcltdPiA9IHsKCQkJCSd0b3AtbGVmdCc6IFtdLAoJCQkJJ3RvcC1jZW50ZXInOiBbXSwKCQkJCSd0b3AtcmlnaHQnOiBbXSwKCQkJCSdib3R0b20tbGVmdCc6IFtdLAoJCQkJJ2JvdHRvbS1jZW50ZXInOiBbXSwKCQkJCSdib3R0b20tcmlnaHQnOiBbXSwKCQkJfTsKCQkJY29uc3QgYnlJZDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9OwoKCQkJZm9yIChjb25zdCBbcG9zLCBncm91cF0gb2YgcG9zaXRpb25FbnRyaWVzIGFzIFsKCQkJCVRvYXN0UG9zaXRpb24sCgkJCQlQb3NpdGlvbmVkVG9hc3RbXSwKCQkJXVtdKSB7CgkJCQljb25zdCBvZmZzZXRzOiBudW1iZXJbXSA9IFtdOwoJCQkJY29uc3QgYWN0aXZlVG9hc3RzID0gZ3JvdXAuZmlsdGVyKCh0b2FzdCkgPT4gIXRvYXN0LnNob3VsZENsb3NlKTsKCQkJCWxldCBhY2MgPSAwOwoKCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlVG9hc3RzLmxlbmd0aDsgaSsrKSB7CgkJCQkJaWYgKGkgPT09IDApIHsKCQkJCQkJb2Zmc2V0cy5wdXNoKDApOwoJCQkJCQljb250aW51ZTsKCQkJCQl9CgkJCQkJY29uc3QgcHJldlRvYXN0ID0gYWN0aXZlVG9hc3RzW2kgLSAxXTsKCQkJCQljb25zdCBwcmV2SGVpZ2h0ID0gcHJldlRvYXN0ID8gKGhlaWdodHNbcHJldlRvYXN0LmlkXSA/PyAwKSA6IDA7CgkJCQkJYWNjICs9IHByZXZIZWlnaHQgKyBleHBhbmRlZEdhcDsKCQkJCQlvZmZzZXRzLnB1c2goYWNjKTsKCQkJCX0KCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZVRvYXN0cy5sZW5ndGg7IGkrKykgewoJCQkJCWNvbnN0IHRvYXN0ID0gYWN0aXZlVG9hc3RzW2ldOwoJCQkJCWlmICghdG9hc3QpIGNvbnRpbnVlOwoJCQkJCWJ5SWRbdG9hc3QuaWRdID0gb2Zmc2V0c1tpXSA/PyAwOwoJCQkJfQoKCQkJCWZvciAoY29uc3QgdG9hc3Qgb2YgZ3JvdXApIHsKCQkJCQlpZiAoYnlJZFt0b2FzdC5pZF0gIT0gbnVsbCkgY29udGludWU7CgoJCQkJCWNvbnN0IHByZXZpb3VzT2Zmc2V0ID0gcHJldmlvdXNFeHBhbmRlZE9mZnNldHNSZWYuY3VycmVudFt0b2FzdC5pZF07CgkJCQkJaWYgKHR5cGVvZiBwcmV2aW91c09mZnNldCA9PT0gJ251bWJlcicpIHsKCQkJCQkJYnlJZFt0b2FzdC5pZF0gPSBwcmV2aW91c09mZnNldDsKCQkJCQkJY29udGludWU7CgkJCQkJfQoKCQkJCQlsZXQgZmFsbGJhY2sgPSAwOwoJCQkJCWZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGdyb3VwKSB7CgkJCQkJCWlmIChjYW5kaWRhdGUuaWQgPT09IHRvYXN0LmlkKSBicmVhazsKCQkJCQkJY29uc3QgaGVpZ2h0ID0gaGVpZ2h0c1tjYW5kaWRhdGUuaWRdID8/IDA7CgkJCQkJCWZhbGxiYWNrICs9IGhlaWdodCArIGV4cGFuZGVkR2FwOwoJCQkJCX0KCQkJCQlieUlkW3RvYXN0LmlkXSA9IGZhbGxiYWNrOwoJCQkJfQoKCQkJCWJ5UG9zaXRpb25bcG9zXSA9IGdyb3VwLm1hcCgodG9hc3QpID0+IGJ5SWRbdG9hc3QuaWRdID8/IDApOwoJCQl9CgoJCQlyZXR1cm4geyBieVBvc2l0aW9uLCBieUlkIH07CgkJfSwgW3Bvc2l0aW9uRW50cmllcywgaGVpZ2h0cywgZXhwYW5kZWRHYXBdKTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJcHJldmlvdXNDb2xsYXBzZWRPZmZzZXRzUmVmLmN1cnJlbnQgPSBjb2xsYXBzZWRPZmZzZXREYXRhLmJ5SWQ7CgkJfSwgW2NvbGxhcHNlZE9mZnNldERhdGFdKTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJcHJldmlvdXNFeHBhbmRlZE9mZnNldHNSZWYuY3VycmVudCA9IGV4cGFuZGVkT2Zmc2V0RGF0YS5ieUlkOwoJCX0sIFtleHBhbmRlZE9mZnNldERhdGFdKTsKCgkJY29uc3QgY29sbGFwc2VkT2Zmc2V0c0J5UG9zaXRpb24gPSBjb2xsYXBzZWRPZmZzZXREYXRhLmJ5UG9zaXRpb247CgkJY29uc3QgZXhwYW5kZWRPZmZzZXRzQnlQb3NpdGlvbiA9IGV4cGFuZGVkT2Zmc2V0RGF0YS5ieVBvc2l0aW9uOwoKCQl1c2VFZmZlY3QoKCkgPT4gewoJCQlpZiAocG9zaXRpb25FbnRyaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKCQkJY29uc3QgaGFuZGxlciA9IChlOiBNb3VzZUV2ZW50KSA9PiB7CgkJCQljb25zdCB7IGNsaWVudFg6IHgsIGNsaWVudFk6IHkgfSA9IGU7CgkJCQljb25zdCBuZXh0OiBSZWNvcmQ8VG9hc3RQb3NpdGlvbiwgYm9vbGVhbj4gPSB7IC4uLmhvdmVyZWQgfSBhcyBSZWNvcmQ8CgkJCQkJVG9hc3RQb3NpdGlvbiwKCQkJCQlib29sZWFuCgkJCQk+OwoJCQkJZm9yIChjb25zdCBbcG9zLCBncm91cF0gb2YgcG9zaXRpb25FbnRyaWVzIGFzIFsKCQkJCQlUb2FzdFBvc2l0aW9uLAoJCQkJCVBvc2l0aW9uZWRUb2FzdFtdLAoJCQkJXVtdKSB7CgkJCQkJbGV0IHRvcCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTsKCQkJCQlsZXQgbGVmdCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTsKCQkJCQlsZXQgcmlnaHQgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7CgkJCQkJbGV0IGJvdHRvbSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTsKCQkJCQlsZXQgYW55ID0gZmFsc2U7CgkJCQkJZm9yIChjb25zdCB0IG9mIGdyb3VwKSB7CgkJCQkJCWlmICh0LmluZGV4ID49IEFOSU1BVElPTl9DT05GSUcuTUFYX1ZJU0lCTEVfVE9BU1RTKSBjb250aW51ZTsKCQkJCQkJY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKAoJCQkJCQkJYFtkYXRhLXRvYXN0LWlkPSIke3QuaWR9Il1gLAoJCQkJCQkpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDsKCQkJCQkJaWYgKCFlbCkgY29udGludWU7CgkJCQkJCWNvbnN0IHIgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJCQkJdG9wID0gTWF0aC5taW4odG9wLCByLnRvcCk7CgkJCQkJCWxlZnQgPSBNYXRoLm1pbihsZWZ0LCByLmxlZnQpOwoJCQkJCQlyaWdodCA9IE1hdGgubWF4KHJpZ2h0LCByLnJpZ2h0KTsKCQkJCQkJYm90dG9tID0gTWF0aC5tYXgoYm90dG9tLCByLmJvdHRvbSk7CgkJCQkJCWFueSA9IHRydWU7CgkJCQkJfQoKCQkJCQlpZiAoIWFueSkgewoJCQkJCQluZXh0W3Bvc10gPSBmYWxzZTsKCQkJCQkJY29udGludWU7CgkJCQkJfQoKCQkJCQljb25zdCBpbnNpZGUgPSB4ID49IGxlZnQgJiYgeCA8PSByaWdodCAmJiB5ID49IHRvcCAmJiB5IDw9IGJvdHRvbTsKCQkJCQluZXh0W3Bvc10gPSBpbnNpZGU7CgkJCQl9CgkJCQljb25zdCBjaGFuZ2VkID0gT2JqZWN0LmtleXMobmV4dCBhcyBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPikuc29tZSgKCQkJCQkoaykgPT4KCQkJCQkJKG5leHQgYXMgUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pW2tdICE9PQoJCQkJCQkoaG92ZXJlZCBhcyBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPilba10sCgkJCQkpOwoJCQkJaWYgKGNoYW5nZWQpIHNldEhvdmVyZWQobmV4dCk7CgkJCX07CgoJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVyKTsKCQkJcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZXIpOwoJCX0sIFtob3ZlcmVkLCBwb3NpdGlvbkVudHJpZXNdKTsKCgkJdXNlRWZmZWN0KCgpID0+IHsKCQkJaWYgKHBvc2l0aW9uRW50cmllcy5sZW5ndGggPT09IDApIHJldHVybjsKCgkJCWNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4gewoJCQkJZm9yIChjb25zdCBbLCBncm91cF0gb2YgcG9zaXRpb25FbnRyaWVzKSB7CgkJCQkJY29uc3QgbGF0ZXN0ID0gZ3JvdXA/LlswXTsKCQkJCQlpZiAoIWxhdGVzdCkgY29udGludWU7CgoJCQkJCWNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoCgkJCQkJCWBbZGF0YS10b2FzdC1pZD0iJHtsYXRlc3QuaWR9Il1gLAoJCQkJCSkgYXMgSFRNTEVsZW1lbnQgfCBudWxsOwoJCQkJCWlmICghY29udGFpbmVyKSBjb250aW51ZTsKCgkJCQkJaWYgKGUua2V5ID09PSAnRXNjYXBlJykgewoJCQkJCQljb25zdCBhY3RpdmUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50IHwgbnVsbDsKCQkJCQkJaWYgKGFjdGl2ZSAmJiBjb250YWluZXIuY29udGFpbnMoYWN0aXZlKSkgewoJCQkJCQkJY29uc3QgY2xvc2VCdG4gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigKCQkJCQkJCQknW2FyaWEtbGFiZWw9IkNsb3NlIHRvYXN0Il0nLAoJCQkJCQkJKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7CgkJCQkJCQlpZiAoY2xvc2VCdG4pIHsKCQkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJY2xvc2VCdG4uY2xpY2soKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfTsKCgkJCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTsKCQkJcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTsKCQl9LCBbcG9zaXRpb25FbnRyaWVzXSk7CgoJCWlmICh0b2FzdHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsKCgkJcmV0dXJuICgKCQkJPGRpdiBjbGFzc05hbWU9InBvaW50ZXItZXZlbnRzLW5vbmUgZml4ZWQgaW5zZXQtMCB6LTUwIj4KCQkJCXtwb3NpdGlvbkVudHJpZXMubWFwKChbcG9zaXRpb24sIHBvc2l0aW9uVG9hc3RzXSkgPT4gewoJCQkJCWNvbnN0IHBvcyA9IHBvc2l0aW9uIGFzIFRvYXN0UG9zaXRpb247CgkJCQkJY29uc3QgZXhwYW5kZWRPZmZzZXRzID0gZXhwYW5kZWRPZmZzZXRzQnlQb3NpdGlvbltwb3NdOwoJCQkJCWNvbnN0IGNvbGxhcHNlZE9mZnNldHMgPSBjb2xsYXBzZWRPZmZzZXRzQnlQb3NpdGlvbltwb3NdOwoJCQkJCWNvbnN0IGlzSG92ZXJlZCA9IGhvdmVyZWRbcG9zXTsKCQkJCQljb25zdCBhY3RpdmVUb2FzdHMgPSBwb3NpdGlvblRvYXN0cy5maWx0ZXIoCgkJCQkJCSh0b2FzdCkgPT4gIXRvYXN0LnNob3VsZENsb3NlLAoJCQkJCSk7CgkJCQkJY29uc3QgdmlzaWJsZVN0YWNrTGltaXQgPSBNYXRoLm1heCgKCQkJCQkJQU5JTUFUSU9OX0NPTkZJRy5NQVhfVklTSUJMRV9UT0FTVFMgLSAxLAoJCQkJCQkwLAoJCQkJCSk7CgkJCQkJY29uc3QgbWF4VmlzaWJsZVN0YWNrSW5kZXggPSBNYXRoLm1pbigKCQkJCQkJTWF0aC5tYXgoYWN0aXZlVG9hc3RzLmxlbmd0aCAtIDEsIDApLAoJCQkJCQl2aXNpYmxlU3RhY2tMaW1pdCwKCQkJCQkpOwoJCQkJCWNvbnN0IGxhc3RWaXNpYmxlVG9hc3RJZCA9IGFjdGl2ZVRvYXN0c1ttYXhWaXNpYmxlU3RhY2tJbmRleF0/LmlkOwoJCQkJCWNvbnN0IGxhc3RWaXNpYmxlUmVuZGVySW5kZXggPQoJCQkJCQlsYXN0VmlzaWJsZVRvYXN0SWQgIT0gbnVsbAoJCQkJCQkJPyBwb3NpdGlvblRvYXN0cy5maW5kSW5kZXgoCgkJCQkJCQkJCShjYW5kaWRhdGUpID0+IGNhbmRpZGF0ZS5pZCA9PT0gbGFzdFZpc2libGVUb2FzdElkLAoJCQkJCQkJCSkKCQkJCQkJCTogLTE7CgkJCQkJY29uc3Qgc2hhcmVkSGlkZGVuQ29sbGFwc2VkT2Zmc2V0ID0KCQkJCQkJbGFzdFZpc2libGVSZW5kZXJJbmRleCA+PSAwCgkJCQkJCQk/IGNvbGxhcHNlZE9mZnNldHM/LltsYXN0VmlzaWJsZVJlbmRlckluZGV4XQoJCQkJCQkJOiB1bmRlZmluZWQ7CgkJCQkJcmV0dXJuICgKCQkJCQkJPFJlYWN0LkZyYWdtZW50IGtleT17cG9zaXRpb259PgoJCQkJCQkJe3Bvc2l0aW9uVG9hc3RzLm1hcCgodG9hc3QsIGlkeCkgPT4gewoJCQkJCQkJCWNvbnN0IHRvYXN0SXNIaWRkZW4gPQoJCQkJCQkJCQl0b2FzdC5pbmRleCA+PSBBTklNQVRJT05fQ09ORklHLk1BWF9WSVNJQkxFX1RPQVNUUzsKCQkJCQkJCQljb25zdCBoaWRkZW5Db2xsYXBzZWRPZmZzZXQgPSB0b2FzdElzSGlkZGVuCgkJCQkJCQkJCT8gKHNoYXJlZEhpZGRlbkNvbGxhcHNlZE9mZnNldCA/PyBjb2xsYXBzZWRPZmZzZXRzPy5baWR4XSkKCQkJCQkJCQkJOiBjb2xsYXBzZWRPZmZzZXRzPy5baWR4XTsKCQkJCQkJCQljb25zdCBjb2xsYXBzZWRPZmZzZXRWYWx1ZSA9IGNvbGxhcHNlZE9mZnNldHM/LltpZHhdOwoJCQkJCQkJCWNvbnN0IGl0ZW1Qcm9wczogVG9hc3RJdGVtUHJvcHMgPSB7CgkJCQkJCQkJCXRvYXN0LAoJCQkJCQkJCQlvblJlbW92ZSwKCQkJCQkJCQkJaXNHcm91cEhvdmVyZWQ6IGlzSG92ZXJlZCwKCQkJCQkJCQkJZXhwYW5kZWRPZmZzZXQ6IGV4cGFuZGVkT2Zmc2V0cz8uW2lkeF0gPz8gMCwKCQkJCQkJCQkJZXhwYW5kZWRHYXAsCgkJCQkJCQkJCW9uSGVpZ2h0Q2hhbmdlOiAoaWQsIGgpID0+CgkJCQkJCQkJCQlzZXRIZWlnaHRzKChwcmV2KSA9PgoJCQkJCQkJCQkJCXByZXZbaWRdID09PSBoID8gcHJldiA6IHsgLi4ucHJldiwgW2lkXTogaCB9LAoJCQkJCQkJCQkJKSwKCQkJCQkJCQkJb25Hcm91cEhvdmVyRW50ZXI6ICgpID0+CgkJCQkJCQkJCQlzZXRIb3ZlcmVkKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbcG9zXTogdHJ1ZSB9KSksCgkJCQkJCQkJfTsKCQkJCQkJCQlpZiAoY29sbGFwc2VkT2Zmc2V0VmFsdWUgIT09IHVuZGVmaW5lZCkgewoJCQkJCQkJCQlpdGVtUHJvcHMuY29sbGFwc2VkT2Zmc2V0ID0gY29sbGFwc2VkT2Zmc2V0VmFsdWU7CgkJCQkJCQkJfQoJCQkJCQkJCWlmIChoaWRkZW5Db2xsYXBzZWRPZmZzZXQgIT09IHVuZGVmaW5lZCkgewoJCQkJCQkJCQlpdGVtUHJvcHMuaGlkZGVuQ29sbGFwc2VkT2Zmc2V0ID0gaGlkZGVuQ29sbGFwc2VkT2Zmc2V0OwoJCQkJCQkJCX0KCQkJCQkJCQlyZXR1cm4gPFRvYXN0SXRlbSBrZXk9e3RvYXN0LmlkfSB7Li4uaXRlbVByb3BzfSAvPjsKCQkJCQkJCX0pfQoJCQkJCQk8L1JlYWN0LkZyYWdtZW50PgoJCQkJCSk7CgkJCQl9KX0KCQkJPC9kaXY+CgkJKTsKCX0sCik7CgpUb2FzdE1hbmFnZXIuZGlzcGxheU5hbWUgPSAnVG9hc3RNYW5hZ2VyJzsKCmV4cG9ydCBjb25zdCBUb2FzdGVyOiBSZWFjdC5GQzx7IGV4cGFuZGVkR2FwPzogbnVtYmVyIH0+ID0gKHsKCWV4cGFuZGVkR2FwLAp9KSA9PiB7Cgljb25zdCBbdG9hc3RzLCBzZXRUb2FzdHNdID0gdXNlU3RhdGU8VG9hc3REYXRhW10+KFtdKTsKCWNvbnN0IFtpbnN0YW5jZUlkXSA9IHVzZVN0YXRlKCgpID0+CgkJdG9hc3Rlckluc3RhbmNlTWFuYWdlci5yZWdpc3Rlckluc3RhbmNlKCksCgkpOwoKCXVzZUVmZmVjdCgoKSA9PiB7CgkJY29uc3QgdW5zdWJzY3JpYmUgPSB0b2FzdFN0YXRlLnN1YnNjcmliZShzZXRUb2FzdHMpOwoJCXJldHVybiAoKSA9PiB7CgkJCXVuc3Vic2NyaWJlKCk7CgkJCXRvYXN0ZXJJbnN0YW5jZU1hbmFnZXIudW5yZWdpc3Rlckluc3RhbmNlKGluc3RhbmNlSWQpOwoJCX07Cgl9LCBbaW5zdGFuY2VJZF0pOwoKCWNvbnN0IGhhbmRsZVJlbW92ZSA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7CgkJdG9hc3RTdGF0ZS5yZW1vdmUoaWQpOwoJfSwgW10pOwoKCWlmICghdG9hc3Rlckluc3RhbmNlTWFuYWdlci5pc0FjdGl2ZUluc3RhbmNlKGluc3RhbmNlSWQpKSB7CgkJcmV0dXJuIG51bGw7Cgl9CgoJY29uc3QgbWFuYWdlclByb3BzID0gZXhwYW5kZWRHYXAgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBleHBhbmRlZEdhcCB9OwoJcmV0dXJuICgKCQk8VG9hc3RNYW5hZ2VyIHRvYXN0cz17dG9hc3RzfSBvblJlbW92ZT17aGFuZGxlUmVtb3ZlfSB7Li4ubWFuYWdlclByb3BzfSAvPgoJKTsKfTs="
,
  "toggle-group.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgdG9nZ2xlR3JvdXBWYXJpYW50cyA9IGN2YSgKCVsKCQkndy1maXQgcmVsYXRpdmUgaW5saW5lLWZsZXggcm91bmRlZC1tZCBib3JkZXIgdGV4dC1zbSBmb250LW1lZGl1bSBzaGFkb3ctc20gY2FyZC1oaWdobGlnaHQgc2VsZWN0LW5vbmUnLAoJCSdkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQl2YXJpYW50OiB7CgkJCQlkZWZhdWx0OiAnYmctY2FyZCB0ZXh0LWZvcmVncm91bmQgYm9yZGVyLWJvcmRlcicsCgkJCX0sCgkJCXNpemU6IHsKCQkJCXNtOiAndGV4dC14cycsCgkJCQltZDogJ3RleHQtc20nLAoJCQkJbGc6ICd0ZXh0LWJhc2UnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmNvbnN0IHRvZ2dsZUdyb3VwSXRlbVZhcmlhbnRzID0gY3ZhKAoJWwoJCSdmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctY2FyZC1tdXRlZCcsCgkJIlsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgc2hyaW5rLTAgWyZfc3ZnXTpzaHJpbmstMCIsCgkJJ3RyYW5zaXRpb24tW2JhY2tncm91bmQtY29sb3IsYm94LXNoYWRvd10gZWFzZS1vdXQtcXVhZCBkdXJhdGlvbi0xMDAnLAoJCSdmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZScsCgkJJ2ZpcnN0OnJvdW5kZWQtbC1tZCBsYXN0OnJvdW5kZWQtci1tZCcsCgldLAoJewoJCXZhcmlhbnRzOiB7CgkJCXNpemU6IHsKCQkJCXNtOiAnaC04IHB4LTMgcHktMS41IHB4LTMgZ2FwLTEuNSBoYXMtWz5zdmddOnB4LTIuNScsCgkJCQltZDogJ2gtOSBweC00IHB5LTIgZ2FwLTIgaGFzLVs+c3ZnXTpweC0zJywKCQkJCWxnOiAnaC0xMCBweC02IGdhcC0yIGhhcy1bPnN2Z106cHgtNCcsCgkJCX0sCgkJCWFjdGl2ZTogewoJCQkJdHJ1ZTogJ2JnLWNhcmQtbXV0ZWQnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXNpemU6ICdtZCcsCgkJfSwKCX0sCik7CgpleHBvcnQgaW50ZXJmYWNlIFRvZ2dsZUdyb3VwUHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgdG9nZ2xlR3JvdXBWYXJpYW50cz4gewoJdmFsdWU/OiBzdHJpbmdbXTsKCWRlZmF1bHRWYWx1ZT86IHN0cmluZ1tdOwoJb25WYWx1ZUNoYW5nZT86ICh2YWx1ZTogc3RyaW5nW10pID0+IHZvaWQ7CglzaW5nbGU/OiBib29sZWFuOwoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZXhwb3J0IGludGVyZmFjZSBUb2dnbGVHcm91cEl0ZW1Qcm9wcwoJZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4gewoJdmFsdWU6IHN0cmluZzsKCWNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlOwp9CgppbnRlcmZhY2UgVG9nZ2xlR3JvdXBDb250ZXh0VmFsdWUgewoJc3RvcmU6IEFyaWFraXQuQ29tcG9zaXRlU3RvcmU7Cgl2YWx1ZXM6IHN0cmluZ1tdOwoJb25TZWxlY3Q6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkOwoJc2luZ2xlOiBib29sZWFuOwoJc2l6ZTogTm9uTnVsbGFibGU8VmFyaWFudFByb3BzPHR5cGVvZiB0b2dnbGVHcm91cFZhcmlhbnRzPlsnc2l6ZSddPjsKfQoKY29uc3QgVG9nZ2xlR3JvdXBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxUb2dnbGVHcm91cENvbnRleHRWYWx1ZSB8IG51bGw+KAoJbnVsbCwKKTsKCmV4cG9ydCBjb25zdCBUb2dnbGVHcm91cCA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIFRvZ2dsZUdyb3VwUHJvcHM+KAoJKAoJCXsKCQkJdmFsdWUsCgkJCWRlZmF1bHRWYWx1ZSA9IFtdLAoJCQlvblZhbHVlQ2hhbmdlLAoJCQlzaW5nbGUgPSBmYWxzZSwKCQkJY2hpbGRyZW4sCgkJCWNsYXNzTmFtZSwKCQkJdmFyaWFudCA9ICdkZWZhdWx0JywKCQkJc2l6ZSA9ICdtZCcsCgkJCS4uLnByb3BzCgkJfSwKCQlyZWYsCgkpID0+IHsKCQljb25zdCBzdG9yZSA9IEFyaWFraXQudXNlQ29tcG9zaXRlU3RvcmUoKTsKCQljb25zdCBpc0NvbnRyb2xsZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkOwoJCWNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9CgkJCVJlYWN0LnVzZVN0YXRlPHN0cmluZ1tdPihkZWZhdWx0VmFsdWUpOwoKCQljb25zdCBjdXJyZW50VmFsdWUgPSBpc0NvbnRyb2xsZWQgPyAodmFsdWUgPz8gW10pIDogaW50ZXJuYWxWYWx1ZTsKCgkJY29uc3QgaGFuZGxlU2VsZWN0ID0gKHZhbDogc3RyaW5nKSA9PiB7CgkJCWxldCBuZXdWYWx1ZTogc3RyaW5nW107CgoJCQlpZiAoc2luZ2xlKSB7CgkJCQluZXdWYWx1ZSA9IGN1cnJlbnRWYWx1ZS5pbmNsdWRlcyh2YWwpID8gW10gOiBbdmFsXTsKCQkJfSBlbHNlIHsKCQkJCW5ld1ZhbHVlID0gY3VycmVudFZhbHVlLmluY2x1ZGVzKHZhbCkKCQkJCQk/IGN1cnJlbnRWYWx1ZS5maWx0ZXIoKHYpID0+IHYgIT09IHZhbCkKCQkJCQk6IFsuLi5jdXJyZW50VmFsdWUsIHZhbF07CgkJCX0KCgkJCWlmICghaXNDb250cm9sbGVkKSBzZXRJbnRlcm5hbFZhbHVlKG5ld1ZhbHVlKTsKCQkJb25WYWx1ZUNoYW5nZT8uKG5ld1ZhbHVlKTsKCQl9OwoKCQljb25zdCB7IGF1dG9Gb2N1cywgLi4ucmVzdFByb3BzIH0gPSBwcm9wczsKCQlyZXR1cm4gKAoJCQk8VG9nZ2xlR3JvdXBDb250ZXh0LlByb3ZpZGVyCgkJCQl2YWx1ZT17ewoJCQkJCXN0b3JlLAoJCQkJCXZhbHVlczogY3VycmVudFZhbHVlLAoJCQkJCW9uU2VsZWN0OiBoYW5kbGVTZWxlY3QsCgkJCQkJc2luZ2xlLAoJCQkJCXNpemU6IHNpemUgYXMgTm9uTnVsbGFibGU8dHlwZW9mIHNpemU+LAoJCQkJfX0KCQkJPgoJCQkJPEFyaWFraXQuQ29tcG9zaXRlCgkJCQkJcmVmPXtyZWZ9CgkJCQkJc3RvcmU9e3N0b3JlfQoJCQkJCXJvbGU9e3NpbmdsZSA/ICdyYWRpb2dyb3VwJyA6ICdncm91cCd9CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJdG9nZ2xlR3JvdXBWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksCgkJCQkJCSdmbGV4IGRpdmlkZS14IGRpdmlkZS1ib3JkZXInLAoJCQkJCQljbGFzc05hbWUsCgkJCQkJKX0KCQkJCQl7Li4uKGF1dG9Gb2N1cyA9PT0gdW5kZWZpbmVkID8ge30gOiB7IGF1dG9Gb2N1cyB9KX0KCQkJCQl7Li4ucmVzdFByb3BzfQoJCQkJPgoJCQkJCXtjaGlsZHJlbn0KCQkJCTwvQXJpYWtpdC5Db21wb3NpdGU+CgkJCTwvVG9nZ2xlR3JvdXBDb250ZXh0LlByb3ZpZGVyPgoJCSk7Cgl9LAopOwpUb2dnbGVHcm91cC5kaXNwbGF5TmFtZSA9ICdUb2dnbGVHcm91cCc7CgpleHBvcnQgY29uc3QgVG9nZ2xlR3JvdXBJdGVtID0gUmVhY3QuZm9yd2FyZFJlZjwKCUhUTUxCdXR0b25FbGVtZW50LAoJVG9nZ2xlR3JvdXBJdGVtUHJvcHMKPigoeyB2YWx1ZSwgY2hpbGRyZW4sIGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7Cgljb25zdCBjdHggPSBSZWFjdC51c2VDb250ZXh0KFRvZ2dsZUdyb3VwQ29udGV4dCk7CglpZiAoIWN0eCkKCQl0aHJvdyBuZXcgRXJyb3IoJ1RvZ2dsZUdyb3VwSXRlbSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgPFRvZ2dsZUdyb3VwPi4nKTsKCgljb25zdCBpc1NlbGVjdGVkID0gY3R4LnZhbHVlcy5pbmNsdWRlcyh2YWx1ZSk7Cgljb25zdCB7IGRpc2FibGVkLCBhdXRvRm9jdXMsIGlkLCAuLi5yZXN0IH0gPSBwcm9wczsKCWNvbnN0IGlzRGlzYWJsZWQgPSBCb29sZWFuKGRpc2FibGVkKTsKCWNvbnN0IGl0ZW1JZCA9IGlkID8/IHZhbHVlOwoKCXJldHVybiAoCgkJPEFyaWFraXQuQ29tcG9zaXRlSXRlbQoJCQlpZD17aXRlbUlkfQoJCQlyZW5kZXI9ezxidXR0b24gdHlwZT0iYnV0dG9uIiByZWY9e3JlZn0gZGlzYWJsZWQ9e2lzRGlzYWJsZWR9IC8+fQoJCQlyb2xlPXtjdHguc2luZ2xlID8gJ3JhZGlvJyA6ICdjaGVja2JveCd9CgkJCWFyaWEtY2hlY2tlZD17aXNTZWxlY3RlZH0KCQkJZGF0YS1zdGF0ZT17aXNTZWxlY3RlZCA/ICdvbicgOiAnb2ZmJ30KCQkJb25DbGljaz17KCkgPT4gY3R4Lm9uU2VsZWN0KHZhbHVlKX0KCQkJY2xhc3NOYW1lPXtjbigKCQkJCXRvZ2dsZUdyb3VwSXRlbVZhcmlhbnRzKHsKCQkJCQlzaXplOiBjdHguc2l6ZSwKCQkJCQlhY3RpdmU6IGlzU2VsZWN0ZWQsCgkJCQl9KSwKCQkJCWNsYXNzTmFtZSwKCQkJKX0KCQkJZGlzYWJsZWQ9e2lzRGlzYWJsZWR9CgkJCXsuLi4oYXV0b0ZvY3VzID09PSB1bmRlZmluZWQgPyB7fSA6IHsgYXV0b0ZvY3VzIH0pfQoJCQl7Li4ucmVzdH0KCQk+CgkJCXtjaGlsZHJlbn0KCQk8L0FyaWFraXQuQ29tcG9zaXRlSXRlbT4KCSk7Cn0pOwpUb2dnbGVHcm91cEl0ZW0uZGlzcGxheU5hbWUgPSAnVG9nZ2xlR3JvdXBJdGVtJzs="
,
  "toggle.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgdG9nZ2xlVmFyaWFudHMgPSBjdmEoCglbCgkJJ3JlbGF0aXZlIGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiByb3VuZGVkLW1kIHNoYWRvdy1zbSBjYXJkLWhpZ2hsaWdodCcsCgkJIlsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgc2hyaW5rLTAgWyZfc3ZnXTpzaHJpbmstMCIsCgkJJ2JvcmRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtJywKCQknZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtcmluZy1vZmZzZXQvNTAgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUnLAoJCSd0cmFuc2l0aW9uLVtiYWNrZ3JvdW5kLWNvbG9yLGJveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwJywKCQknZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIGN1cnNvci1wb2ludGVyJywKCV0sCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDoKCQkJCQknYmctY2FyZCBob3ZlcjpiZy1jYXJkLW11dGVkIGRhdGEtW3N0YXRlPW9uXTpiZy1jYXJkLW11dGVkIGJvcmRlci1ib3JkZXIgdGV4dC1mb3JlZ3JvdW5kJywKCQkJfSwKCQkJc2l6ZTogewoJCQkJc206ICdoLTggcHgtMyBweS0xLjUgcHgtMyBnYXAtMS41IGhhcy1bPnN2Z106cHgtMi41IHRleHQtc20nLAoJCQkJbWQ6ICdoLTkgcHgtNCBweS0yIGdhcC0yIGhhcy1bPnN2Z106cHgtMyB0ZXh0LXNtJywKCQkJCWxnOiAnaC0xMCBweC02IGdhcC0yIGhhcy1bPnN2Z106cHgtNCB0ZXh0LWJhc2UnLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQkJc2l6ZTogJ21kJywKCQl9LAoJfSwKKTsKCmV4cG9ydCBpbnRlcmZhY2UgVG9nZ2xlUHJvcHMKCWV4dGVuZHMgT21pdDwKCQkJUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBBcmlha2l0LkNoZWNrYm94PiwKCQkJJ2NoZWNrZWQnIHwgJ2RlZmF1bHRDaGVja2VkJyB8ICdvbkNoYW5nZScgfCAnc2l6ZScKCQk+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgdG9nZ2xlVmFyaWFudHM+IHsKCXByZXNzZWQ/OiBib29sZWFuOwoJZGVmYXVsdFByZXNzZWQ/OiBib29sZWFuOwoJb25QcmVzc2VkQ2hhbmdlPzogKHByZXNzZWQ6IGJvb2xlYW4pID0+IHZvaWQ7CgljaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZXhwb3J0IGNvbnN0IFRvZ2dsZSA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTEJ1dHRvbkVsZW1lbnQsIFRvZ2dsZVByb3BzPigKCSgKCQl7CgkJCXZhcmlhbnQgPSAnZGVmYXVsdCcsCgkJCXNpemUgPSAnbWQnLAoJCQljbGFzc05hbWUsCgkJCXByZXNzZWQsCgkJCWRlZmF1bHRQcmVzc2VkID0gZmFsc2UsCgkJCW9uUHJlc3NlZENoYW5nZSwKCQkJZGlzYWJsZWQsCgkJCWNoaWxkcmVuLAoJCQkuLi5wcm9wcwoJCX0sCgkJcmVmLAoJKSA9PiB7CgkJY29uc3QgY2hlY2tib3ggPSBBcmlha2l0LnVzZUNoZWNrYm94U3RvcmUoewoJCQl2YWx1ZTogcHJlc3NlZCA/PyBkZWZhdWx0UHJlc3NlZCwKCQkJc2V0VmFsdWU6ICh2YWx1ZSkgPT4gb25QcmVzc2VkQ2hhbmdlPy4oISF2YWx1ZSksCgkJfSk7CgoJCWNvbnN0IFtpbnRlcm5hbFByZXNzZWQsIHNldEludGVybmFsUHJlc3NlZF0gPQoJCQlSZWFjdC51c2VTdGF0ZShkZWZhdWx0UHJlc3NlZCk7CgkJY29uc3QgaXNDb250cm9sbGVkID0gcHJlc3NlZCAhPT0gdW5kZWZpbmVkOwoJCWNvbnN0IGlzUHJlc3NlZCA9IGlzQ29udHJvbGxlZCA/IHByZXNzZWQgOiBpbnRlcm5hbFByZXNzZWQ7CgoJCWNvbnN0IGhhbmRsZUNoYW5nZSA9IChjaGVja2VkOiBib29sZWFuKSA9PiB7CgkJCWlmICghaXNDb250cm9sbGVkKSBzZXRJbnRlcm5hbFByZXNzZWQoY2hlY2tlZCk7CgkJCW9uUHJlc3NlZENoYW5nZT8uKGNoZWNrZWQpOwoJCX07CgoJCWNvbnN0IGlzRGlzYWJsZWQgPSBCb29sZWFuKGRpc2FibGVkKTsKCgkJcmV0dXJuICgKCQkJPEFyaWFraXQuQ2hlY2tib3gKCQkJCXN0b3JlPXtjaGVja2JveH0KCQkJCXJlbmRlcj17PGJ1dHRvbiB0eXBlPSJidXR0b24iIHJlZj17cmVmfSBkaXNhYmxlZD17aXNEaXNhYmxlZH0gLz59CgkJCQljaGVja2VkPXtpc1ByZXNzZWR9CgkJCQlvbkNoYW5nZT17KGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4KCQkJCQloYW5kbGVDaGFuZ2UoZXZlbnQuY3VycmVudFRhcmdldC5jaGVja2VkKQoJCQkJfQoJCQkJZGF0YS1zdGF0ZT17aXNQcmVzc2VkID8gJ29uJyA6ICdvZmYnfQoJCQkJY2xhc3NOYW1lPXtjbih0b2dnbGVWYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksIGNsYXNzTmFtZSl9CgkJCQlkaXNhYmxlZD17aXNEaXNhYmxlZH0KCQkJCXsuLi5wcm9wc30KCQkJPgoJCQkJe2NoaWxkcmVufQoJCQk8L0FyaWFraXQuQ2hlY2tib3g+CgkJKTsKCX0sCik7CgpUb2dnbGUuZGlzcGxheU5hbWUgPSAnVG9nZ2xlJzsKCmV4cG9ydCB7IHRvZ2dsZVZhcmlhbnRzIH07"
,
  "tooltip.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCnR5cGUgQW55RXZlbnRIYW5kbGVyID0gKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdm9pZDsKCmNvbnN0IGlzRXZlbnRIYW5kbGVyS2V5ID0gKGtleTogc3RyaW5nKSA9PgoJa2V5LnN0YXJ0c1dpdGgoJ29uJykgJiYga2V5Lmxlbmd0aCA+IDIgJiYga2V5WzJdID09PSBrZXlbMl0/LnRvVXBwZXJDYXNlKCk7Cgpjb25zdCBpc0FueUV2ZW50SGFuZGxlciA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEFueUV2ZW50SGFuZGxlciA9PgoJdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nOwoKY29uc3QgY29tcG9zZUV2ZW50SGFuZGxlcnMgPSAoCgljaGlsZEhhbmRsZXI/OiBBbnlFdmVudEhhbmRsZXIsCglhbmNob3JIYW5kbGVyPzogQW55RXZlbnRIYW5kbGVyLAopID0+IHsKCWlmICghY2hpbGRIYW5kbGVyKSByZXR1cm4gYW5jaG9ySGFuZGxlcjsKCWlmICghYW5jaG9ySGFuZGxlcikgcmV0dXJuIGNoaWxkSGFuZGxlcjsKCXJldHVybiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7CgkJY2hpbGRIYW5kbGVyKC4uLmFyZ3MpOwoJCWNvbnN0IGV2ZW50ID0gYXJnc1swXTsKCQljb25zdCBkZWZhdWx0UHJldmVudGVkID0KCQkJZXZlbnQgJiYgdHlwZW9mIGV2ZW50ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdFByZXZlbnRlZCcgaW4gZXZlbnQKCQkJCT8gQm9vbGVhbigoZXZlbnQgYXMgeyBkZWZhdWx0UHJldmVudGVkPzogYm9vbGVhbiB9KS5kZWZhdWx0UHJldmVudGVkKQoJCQkJOiBmYWxzZTsKCQlpZiAoIWRlZmF1bHRQcmV2ZW50ZWQpIHsKCQkJYW5jaG9ySGFuZGxlciguLi5hcmdzKTsKCQl9Cgl9Owp9OwoKY29uc3QgbWVyZ2VSZWZzID0gPFQsPigKCS4uLnJlZnM6IChSZWFjdC5SZWY8VD4gfCB1bmRlZmluZWQpW10KKTogUmVhY3QuUmVmQ2FsbGJhY2s8VD4gfCB1bmRlZmluZWQgPT4gewoJY29uc3QgdmFsaWRSZWZzID0gcmVmcy5maWx0ZXIoQm9vbGVhbik7CglpZiAodmFsaWRSZWZzLmxlbmd0aCA9PT0gMCkgewoJCXJldHVybiB1bmRlZmluZWQ7Cgl9CglyZXR1cm4gKG5vZGU6IFQgfCBudWxsKSA9PiB7CgkJZm9yIChjb25zdCByZWYgb2YgdmFsaWRSZWZzKSB7CgkJCWlmICghcmVmKSBjb250aW51ZTsKCQkJaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHsKCQkJCXJlZihub2RlKTsKCQkJfSBlbHNlIHsKCQkJCShyZWYgYXMgUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxUIHwgbnVsbD4pLmN1cnJlbnQgPSBub2RlOwoJCQl9CgkJfQoJfTsKfTsKCmNvbnN0IHRvb2x0aXBDb250ZW50VmFyaWFudHMgPSBjdmEoCglgcG9pbnRlci1ldmVudHMtYXV0byB6LTUwIG9yaWdpbi10b3AgLXRyYW5zbGF0ZS15LTIgc2NhbGUtOTUgcm91bmRlZC1tZCBib3JkZXIgcHgtMyBweS0yIHRleHQtc20gb3BhY2l0eS0wIHNoYWRvdy1tZCBjYXJkLWhpZ2hsaWdodCB0cmFuc2l0aW9uLVt0cmFuc2xhdGUsb3BhY2l0eSxzY2FsZV0gZHVyYXRpb24tMzAwIGVhc2Utc21vb3RoIGRhdGEtZW50ZXI6dHJhbnNsYXRlLXktMCBkYXRhLWVudGVyOnNjYWxlLTEwMCBkYXRhLWVudGVyOm9wYWNpdHktMTAwIGRhdGEtbGVhdmU6LXRyYW5zbGF0ZS15LTIgZGF0YS1sZWF2ZTpzY2FsZS05NSBkYXRhLWxlYXZlOm9wYWNpdHktMGAsCgl7CgkJdmFyaWFudHM6IHsKCQkJdmFyaWFudDogewoJCQkJZGVmYXVsdDogYGJvcmRlci1ib3JkZXIgYmctcG9wb3ZlciB0ZXh0LWZvcmVncm91bmRgLAoJCQl9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7CgkJCXZhcmlhbnQ6ICdkZWZhdWx0JywKCQl9LAoJfSwKKTsKCmV4cG9ydCB0eXBlIFRvb2x0aXBQbGFjZW1lbnQgPSAndG9wJyB8ICdib3R0b20nIHwgJ2xlZnQnIHwgJ3JpZ2h0JzsKCmV4cG9ydCBpbnRlcmZhY2UgVG9vbHRpcFByb3BzIHsKCWNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CglkZWxheUR1cmF0aW9uPzogbnVtYmVyOwoJcGxhY2VtZW50PzogVG9vbHRpcFBsYWNlbWVudDsKCWd1dHRlcj86IG51bWJlcjsKCXBvcnRhbD86IGJvb2xlYW47CglmaXhlZD86IGJvb2xlYW47CglzaG93QXJyb3c/OiBib29sZWFuOwp9CgpleHBvcnQgaW50ZXJmYWNlIFRvb2x0aXBUcmlnZ2VyUHJvcHMgZXh0ZW5kcyBBcmlha2l0LlRvb2x0aXBBbmNob3JQcm9wcyB7CgljaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwoJY2xhc3NOYW1lPzogc3RyaW5nOwp9CgpleHBvcnQgaW50ZXJmYWNlIFRvb2x0aXBDb250ZW50UHJvcHMKCWV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LAoJCVZhcmlhbnRQcm9wczx0eXBlb2YgdG9vbHRpcENvbnRlbnRWYXJpYW50cz4gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWNsYXNzTmFtZT86IHN0cmluZzsKfQoKaW50ZXJmYWNlIFRvb2x0aXBDb25maWcgewoJZ3V0dGVyPzogbnVtYmVyOwoJcG9ydGFsPzogYm9vbGVhbjsKCWZpeGVkPzogYm9vbGVhbjsKCXNob3dBcnJvdz86IGJvb2xlYW47Cn0KCmNvbnN0IFRvb2x0aXBDb25maWdDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxUb29sdGlwQ29uZmlnPih7CglndXR0ZXI6IDAsCglwb3J0YWw6IHRydWUsCglmaXhlZDogZmFsc2UsCglzaG93QXJyb3c6IHRydWUsCn0pOwoKY29uc3QgdXNlVG9vbHRpcENvbmZpZyA9ICgpID0+IFJlYWN0LnVzZUNvbnRleHQoVG9vbHRpcENvbmZpZ0NvbnRleHQpOwoKZXhwb3J0IGNvbnN0IFRvb2x0aXA6IFJlYWN0LkZDPFRvb2x0aXBQcm9wcz4gPSAoewoJY2hpbGRyZW4sCglkZWxheUR1cmF0aW9uID0gNDAwLAoJcGxhY2VtZW50ID0gJ3RvcCcsCglndXR0ZXIgPSAwLAoJcG9ydGFsID0gdHJ1ZSwKCWZpeGVkID0gZmFsc2UsCglzaG93QXJyb3cgPSB0cnVlLAp9KSA9PiB7CglyZXR1cm4gKAoJCTxUb29sdGlwQ29uZmlnQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBndXR0ZXIsIHBvcnRhbCwgZml4ZWQsIHNob3dBcnJvdyB9fT4KCQkJPEFyaWFraXQuVG9vbHRpcFByb3ZpZGVyCgkJCQlzaG93VGltZW91dD17ZGVsYXlEdXJhdGlvbn0KCQkJCWhpZGVUaW1lb3V0PXsxMDB9CgkJCQlwbGFjZW1lbnQ9e3BsYWNlbWVudH0KCQkJPgoJCQkJe2NoaWxkcmVufQoJCQk8L0FyaWFraXQuVG9vbHRpcFByb3ZpZGVyPgoJCTwvVG9vbHRpcENvbmZpZ0NvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFRvb2x0aXBUcmlnZ2VyOiBSZWFjdC5GQzxUb29sdGlwVHJpZ2dlclByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IHsgYXV0b0ZvY3VzLCAuLi5yZXN0UHJvcHMgfSA9IHByb3BzOwoKCWlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHsKCQlyZXR1cm4gKAoJCQk8QXJpYWtpdC5Ub29sdGlwQW5jaG9yCgkJCQlyZW5kZXI9eyhhbmNob3JQcm9wcykgPT4gewoJCQkJCWNvbnN0IGNoaWxkRWxlbWVudCA9IGNoaWxkcmVuIGFzIFJlYWN0LlJlYWN0RWxlbWVudDwKCQkJCQkJUmVjb3JkPHN0cmluZywgdW5rbm93bj4KCQkJCQk+ICYgewoJCQkJCQlyZWY/OiBSZWFjdC5SZWY8dW5rbm93bj47CgkJCQkJfTsKCQkJCQljb25zdCBjaGlsZFByb3BzID0gKGNoaWxkRWxlbWVudC5wcm9wcyA/PyB7fSkgYXMgUmVjb3JkPAoJCQkJCQlzdHJpbmcsCgkJCQkJCXVua25vd24KCQkJCQk+ICYgeyBjbGFzc05hbWU/OiBzdHJpbmcgfTsKCQkJCQljb25zdCB7CgkJCQkJCXJlZjogYW5jaG9yUmVmLAoJCQkJCQljbGFzc05hbWU6IGFuY2hvckNsYXNzTmFtZSwKCQkJCQkJLi4ucmVzdEFuY2hvclByb3BzCgkJCQkJfSA9IGFuY2hvclByb3BzOwoJCQkJCWNvbnN0IG1lcmdlZFByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiAmIHsKCQkJCQkJY2xhc3NOYW1lPzogc3RyaW5nOwoJCQkJCX0gPSB7IC4uLmNoaWxkUHJvcHMgfTsKCgkJCQkJT2JqZWN0LmVudHJpZXMocmVzdEFuY2hvclByb3BzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5mb3JFYWNoKAoJCQkJCQkoW2tleSwgdmFsdWVdKSA9PiB7CgkJCQkJCQlpZiAoaXNFdmVudEhhbmRsZXJLZXkoa2V5KSAmJiBpc0FueUV2ZW50SGFuZGxlcih2YWx1ZSkpIHsKCQkJCQkJCQljb25zdCBleGlzdGluZ0hhbmRsZXIgPSBtZXJnZWRQcm9wc1trZXldIGFzCgkJCQkJCQkJCXwgQW55RXZlbnRIYW5kbGVyCgkJCQkJCQkJCXwgdW5kZWZpbmVkOwoJCQkJCQkJCW1lcmdlZFByb3BzW2tleV0gPSBjb21wb3NlRXZlbnRIYW5kbGVycyhleGlzdGluZ0hhbmRsZXIsIHZhbHVlKTsKCQkJCQkJCQlyZXR1cm47CgkJCQkJCQl9CgkJCQkJCQltZXJnZWRQcm9wc1trZXldID0gdmFsdWU7CgkJCQkJCX0sCgkJCQkJKTsKCgkJCQkJbWVyZ2VkUHJvcHMuY2xhc3NOYW1lID0gY24oCgkJCQkJCSdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXInLAoJCQkJCQljbGFzc05hbWUsCgkJCQkJCWFuY2hvckNsYXNzTmFtZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQsCgkJCQkJCWNoaWxkUHJvcHMuY2xhc3NOYW1lLAoJCQkJCSk7CgoJCQkJCXJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRFbGVtZW50LCB7CgkJCQkJCS4uLm1lcmdlZFByb3BzLAoJCQkJCQlyZWY6IG1lcmdlUmVmcyhjaGlsZEVsZW1lbnQucmVmLCBhbmNob3JSZWYgYXMgUmVhY3QuUmVmPHVua25vd24+KSwKCQkJCQl9KTsKCQkJCX19CgkJCQl7Li4uKGF1dG9Gb2N1cyA9PT0gdW5kZWZpbmVkID8ge30gOiB7IGF1dG9Gb2N1cyB9KX0KCQkJCXsuLi5yZXN0UHJvcHN9CgkJCS8+CgkJKTsKCX0KCglyZXR1cm4gKAoJCTxBcmlha2l0LlRvb2x0aXBBbmNob3IKCQkJY2xhc3NOYW1lPXtjbignaW5saW5lLWZsZXggaXRlbXMtY2VudGVyJywgY2xhc3NOYW1lKX0KCQkJey4uLihhdXRvRm9jdXMgPT09IHVuZGVmaW5lZCA/IHt9IDogeyBhdXRvRm9jdXMgfSl9CgkJCXsuLi5yZXN0UHJvcHN9CgkJPgoJCQl7Y2hpbGRyZW59CgkJPC9Bcmlha2l0LlRvb2x0aXBBbmNob3I+CgkpOwp9OwoKZXhwb3J0IGNvbnN0IFRvb2x0aXBDb250ZW50OiBSZWFjdC5GQzxUb29sdGlwQ29udGVudFByb3BzPiA9ICh7CgljaGlsZHJlbiwKCWNsYXNzTmFtZSwKCXZhcmlhbnQgPSAnZGVmYXVsdCcsCglhdXRvRm9jdXMsCgkuLi5wcm9wcwp9KSA9PiB7Cgljb25zdCB7CgkJZ3V0dGVyOiBjb250ZXh0R3V0dGVyLAoJCXBvcnRhbDogY29udGV4dFBvcnRhbCwKCQlmaXhlZDogY29udGV4dEZpeGVkLAoJCXNob3dBcnJvdzogY29udGV4dFNob3dBcnJvdywKCX0gPSB1c2VUb29sdGlwQ29uZmlnKCk7Cgljb25zdCB0b29sdGlwU3RvcmUgPSBBcmlha2l0LnVzZVRvb2x0aXBDb250ZXh0KCk7CglpZiAoIXRvb2x0aXBTdG9yZSkgewoJCXRocm93IG5ldyBFcnJvcignVG9vbHRpcENvbnRlbnQgbXVzdCBiZSB1c2VkIHdpdGhpbiA8VG9vbHRpcD4nKTsKCX0KCWNvbnN0IGN1cnJlbnRQbGFjZW1lbnQgPSBBcmlha2l0LnVzZVN0b3JlU3RhdGUoCgkJdG9vbHRpcFN0b3JlLAoJCSdjdXJyZW50UGxhY2VtZW50JywKCSk7Cgljb25zdCBzaG91bGRUaW50QXJyb3cgPSBjdXJyZW50UGxhY2VtZW50Py5zdGFydHNXaXRoKCdib3R0b20nKTsKCWNvbnN0IGFycm93U3R5bGUgPSBzaG91bGRUaW50QXJyb3cKCQk/IHsgc3Ryb2tlOiAndmFyKC0tYXJyb3ctaGlnaGxpZ2h0KScgfQoJCTogdW5kZWZpbmVkOwoKCXJldHVybiAoCgkJPEFyaWFraXQuVG9vbHRpcAoJCQljbGFzc05hbWU9e2NuKHRvb2x0aXBDb250ZW50VmFyaWFudHMoeyB2YXJpYW50IH0pLCBjbGFzc05hbWUpfQoJCQlndXR0ZXI9e2NvbnRleHRHdXR0ZXJ9CgkJCXBvcnRhbD17Y29udGV4dFBvcnRhbCA/PyB0cnVlfQoJCQlmaXhlZD17Y29udGV4dEZpeGVkID8/IGZhbHNlfQoJCQl7Li4uKGF1dG9Gb2N1cyA9PT0gdW5kZWZpbmVkID8ge30gOiB7IGF1dG9Gb2N1cyB9KX0KCQkJey4uLnByb3BzfQoJCT4KCQkJe2NoaWxkcmVufQoJCQl7KGNvbnRleHRTaG93QXJyb3cgPz8gdHJ1ZSkgPyAoCgkJCQk8QXJpYWtpdC5Ub29sdGlwQXJyb3cgc3R5bGU9e2Fycm93U3R5bGV9IC8+CgkJCSkgOiBudWxsfQoJCTwvQXJpYWtpdC5Ub29sdGlwPgoJKTsKfTs="
,
  "wheel-picker.tsx": "J3VzZSBjbGllbnQnOwoKaW1wb3J0ICogYXMgQXJpYWtpdCBmcm9tICdAYXJpYWtpdC9yZWFjdCc7CmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknOwppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgUkVTSVNUQU5DRSA9IDAuMzsKY29uc3QgTUFYX1ZFTE9DSVRZID0gMzA7CmNvbnN0IGVhc2VPdXRDdWJpYyA9IChwOiBudW1iZXIpID0+IChwIC0gMSkgKiogMyArIDE7CmNvbnN0IGNsYW1wID0gKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4KCU1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsdWUsIG1heCkpOwoKdHlwZSBTaXplID0gJ3NtJyB8ICdtZCcgfCAnbGcnOwoKY29uc3Qgd2hlZWxQaWNrZXJTaXplQ29uZmlnOiBSZWNvcmQ8CglTaXplLAoJeyBpdGVtSGVpZ2h0OiBudW1iZXI7IHdpZHRoQ2xhc3M6IHN0cmluZyB9Cj4gPSB7CglzbTogeyBpdGVtSGVpZ2h0OiAyMCwgd2lkdGhDbGFzczogJ3ctMjgnIH0sCgltZDogeyBpdGVtSGVpZ2h0OiAyNCwgd2lkdGhDbGFzczogJ3ctMzInIH0sCglsZzogeyBpdGVtSGVpZ2h0OiAyOCwgd2lkdGhDbGFzczogJ3ctMzYnIH0sCn07Cgpjb25zdCB3aGVlbFBpY2tlclZhcmlhbnRzID0gY3ZhKAoJWwoJCSdyZWxhdGl2ZSBpc29sYXRlIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ib3JkZXIgYmctY2FyZCBzaGFkb3ctc20gY2FyZC1oaWdobGlnaHQnLAoJXSwKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7CgkJCQlzbTogd2hlZWxQaWNrZXJTaXplQ29uZmlnLnNtLndpZHRoQ2xhc3MsCgkJCQltZDogd2hlZWxQaWNrZXJTaXplQ29uZmlnLm1kLndpZHRoQ2xhc3MsCgkJCQlsZzogd2hlZWxQaWNrZXJTaXplQ29uZmlnLmxnLndpZHRoQ2xhc3MsCgkJCX0sCgkJCWRpc2FibGVkOiB7CgkJCQl0cnVlOiAncG9pbnRlci1ldmVudHMtbm9uZSBjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcsCgkJCQlmYWxzZTogJycsCgkJCX0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsgc2l6ZTogJ21kJywgZGlzYWJsZWQ6IGZhbHNlIH0sCgl9LAopOwoKY29uc3Qgd2hlZWxQaWNrZXJUcmFja1RleHQgPSBjdmEoCgknZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTMgdGV4dC1jZW50ZXIgdGV4dC1mb3JlZ3JvdW5kLzQ1JywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7IHNtOiAndGV4dC14cycsIG1kOiAndGV4dC1zbScsIGxnOiAndGV4dC1iYXNlJyB9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7IHNpemU6ICdtZCcgfSwKCX0sCik7Cgpjb25zdCB3aGVlbFBpY2tlckhpZ2hsaWdodFRleHQgPSBjdmEoCgknZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTMgdGV4dC1jZW50ZXIgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kJywKCXsKCQl2YXJpYW50czogewoJCQlzaXplOiB7IHNtOiAndGV4dC1zbScsIG1kOiAndGV4dC1iYXNlJywgbGc6ICd0ZXh0LWxnJyB9LAoJCX0sCgkJZGVmYXVsdFZhcmlhbnRzOiB7IHNpemU6ICdtZCcgfSwKCX0sCik7Cgpjb25zdCB3aGVlbFBpY2tlckZvY3VzUmluZ0NsYXNzZXMgPQoJJ3RyYW5zaXRpb24tW2JveC1zaGFkb3ddIGVhc2Utb3V0LXF1YWQgZHVyYXRpb24tMTAwIGdyb3VwLWZvY3VzL3doZWVscGlja2VyOnJvdW5kZWQtc20gZ3JvdXAtZm9jdXMvd2hlZWxwaWNrZXI6cmluZy0xIGdyb3VwLWZvY3VzL3doZWVscGlja2VyOnJpbmctcmluZy81MCBncm91cC1mb2N1cy93aGVlbHBpY2tlcjpyaW5nLW9mZnNldC0xIGdyb3VwLWZvY3VzL3doZWVscGlja2VyOnJpbmctb2Zmc2V0LXJpbmctb2Zmc2V0LzUwIGdyb3VwLWZvY3VzLXZpc2libGUvd2hlZWxwaWNrZXI6cm91bmRlZC1zbSBncm91cC1mb2N1cy12aXNpYmxlL3doZWVscGlja2VyOnJpbmctMSBncm91cC1mb2N1cy12aXNpYmxlL3doZWVscGlja2VyOnJpbmctcmluZy81MCBncm91cC1mb2N1cy12aXNpYmxlL3doZWVscGlja2VyOnJpbmctb2Zmc2V0LTEgZ3JvdXAtZm9jdXMtdmlzaWJsZS93aGVlbHBpY2tlcjpyaW5nLW9mZnNldC1yaW5nLW9mZnNldC81MCc7Cgpjb25zdCB3aGVlbFBpY2tlckhpZ2hsaWdodEJhbmQgPSBjdmEoCgljbigKCQknYWJzb2x1dGUgbGVmdC0xIHJpZ2h0LTEgdG9wLTEvMiBmbGV4IC10cmFuc2xhdGUteS0xLzIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWNhcmQtbXV0ZWQgcm91bmRlZC1zbSBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHBvaW50ZXItZXZlbnRzLW5vbmUnLAoJCXdoZWVsUGlja2VyRm9jdXNSaW5nQ2xhc3NlcywKCSksCgl7CgkJdmFyaWFudHM6IHsKCQkJc2l6ZTogeyBzbTogJ2gtNScsIG1kOiAnaC02JywgbGc6ICdoLTcnIH0sCgkJfSwKCQlkZWZhdWx0VmFyaWFudHM6IHsgc2l6ZTogJ21kJyB9LAoJfSwKKTsKCmludGVyZmFjZSBXaGVlbFBpY2tlckdyb3VwQ29udGV4dFZhbHVlIHsKCXNpemU6IFNpemU7CglkaXNhYmxlZDogYm9vbGVhbjsKCWl0ZW1IZWlnaHQ6IG51bWJlcjsKfQoKY29uc3QgV2hlZWxQaWNrZXJHcm91cENvbnRleHQgPQoJUmVhY3QuY3JlYXRlQ29udGV4dDxXaGVlbFBpY2tlckdyb3VwQ29udGV4dFZhbHVlIHwgbnVsbD4obnVsbCk7CgpleHBvcnQgaW50ZXJmYWNlIFdoZWVsUGlja2VyR3JvdXBQcm9wcwoJZXh0ZW5kcyBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4gewoJc2l6ZT86IFNpemU7CglkaXNhYmxlZD86IGJvb2xlYW47Cgljb250ZW50Q2xhc3NOYW1lPzogc3RyaW5nOwoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmV4cG9ydCBjb25zdCBXaGVlbFBpY2tlckdyb3VwOiBSZWFjdC5GQzxXaGVlbFBpY2tlckdyb3VwUHJvcHM+ID0gKHsKCXNpemUgPSAnbWQnLAoJZGlzYWJsZWQgPSBmYWxzZSwKCWNsYXNzTmFtZSwKCWNoaWxkcmVuLAoJY29udGVudENsYXNzTmFtZSwKCS4uLnByb3BzCn0pID0+IHsKCWNvbnN0IGl0ZW1IZWlnaHQgPSBSZWFjdC51c2VNZW1vKAoJCSgpID0+CgkJCXdoZWVsUGlja2VyU2l6ZUNvbmZpZ1tzaXplXT8uaXRlbUhlaWdodCA/PwoJCQl3aGVlbFBpY2tlclNpemVDb25maWcubWQuaXRlbUhlaWdodCwKCQlbc2l6ZV0sCgkpOwoKCWNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW88V2hlZWxQaWNrZXJHcm91cENvbnRleHRWYWx1ZT4oCgkJKCkgPT4gKHsgc2l6ZSwgZGlzYWJsZWQsIGl0ZW1IZWlnaHQgfSksCgkJW3NpemUsIGRpc2FibGVkLCBpdGVtSGVpZ2h0XSwKCSk7CgoJcmV0dXJuICgKCQk8V2hlZWxQaWNrZXJHcm91cENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+CgkJCTxkaXYKCQkJCXsuLi5wcm9wc30KCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJJ3JlbGF0aXZlIGlzb2xhdGUgZmxleCBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHNoYWRvdy1zbScsCgkJCQkJZGlzYWJsZWQgPyAncG9pbnRlci1ldmVudHMtbm9uZSBjdXJzb3Itbm90LWFsbG93ZWQgb3BhY2l0eS01MCcgOiAnJywKCQkJCQljbGFzc05hbWUsCgkJCQkpfQoJCQkJYXJpYS1kaXNhYmxlZD17ZGlzYWJsZWQgfHwgdW5kZWZpbmVkfQoJCQk+CgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPSJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGxlZnQtMSByaWdodC0xIHRvcC0xLzIgei0xMCAtdHJhbnNsYXRlLXktMS8yIHJvdW5kZWQtc20gYmctY2FyZCIKCQkJCQlzdHlsZT17eyBoZWlnaHQ6IGl0ZW1IZWlnaHQgfX0KCQkJCQlhcmlhLWhpZGRlbgoJCQkJLz4KCQkJCTxkaXYKCQkJCQljbGFzc05hbWU9e2NuKHdoZWVsUGlja2VySGlnaGxpZ2h0QmFuZCh7IHNpemUgfSksICd6LTIwJyl9CgkJCQkJc3R5bGU9e3sgaGVpZ2h0OiBpdGVtSGVpZ2h0IH19CgkJCQkJYXJpYS1oaWRkZW4KCQkJCS8+CgkJCQk8ZGl2CgkJCQkJY2xhc3NOYW1lPXtjbigKCQkJCQkJJ3JlbGF0aXZlIHotMzAgZmxleCB3LWZ1bGwgZmxleC1yb3cgZ2FwLTAnLAoJCQkJCQljb250ZW50Q2xhc3NOYW1lLAoJCQkJCSl9CgkJCQk+CgkJCQkJe2NoaWxkcmVufQoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCTwvV2hlZWxQaWNrZXJHcm91cENvbnRleHQuUHJvdmlkZXI+CgkpOwp9OwoKZXhwb3J0IGludGVyZmFjZSBXaGVlbFBpY2tlclByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LCAnb25DaGFuZ2UnPiB7Cgl2YWx1ZT86IHN0cmluZzsKCWRlZmF1bHRWYWx1ZT86IHN0cmluZzsKCW9uVmFsdWVDaGFuZ2U/OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDsKCWRpc2FibGVkPzogYm9vbGVhbjsKCXNpemU/OiBTaXplOwoJdmlzaWJsZUNvdW50PzogbnVtYmVyOwoJaW5maW5pdGU/OiBib29sZWFuOwoJJ2FyaWEtbGFiZWwnPzogc3RyaW5nOwoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7Cn0KCnR5cGUgT3B0aW9uTm9kZSA9IHsgdmFsdWU6IHN0cmluZzsgbm9kZTogUmVhY3QuUmVhY3ROb2RlIH07CgpleHBvcnQgY29uc3QgV2hlZWxQaWNrZXI6IFJlYWN0LkZDPFdoZWVsUGlja2VyUHJvcHM+ID0gKHsKCXZhbHVlLAoJZGVmYXVsdFZhbHVlLAoJb25WYWx1ZUNoYW5nZSwKCWRpc2FibGVkOiBkaXNhYmxlZFByb3AgPSBmYWxzZSwKCXNpemU6IHNpemVQcm9wID0gJ21kJywKCXZpc2libGVDb3VudDogY291bnRQcm9wID0gMjAsCglpbmZpbml0ZSA9IGZhbHNlLAoJY2xhc3NOYW1lID0gJycsCgljaGlsZHJlbiwKCSdhcmlhLWxhYmVsJzogYXJpYUxhYmVsLAoJLi4ucHJvcHMKfSkgPT4gewoJY29uc3QgZ3JvdXBDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChXaGVlbFBpY2tlckdyb3VwQ29udGV4dCk7Cgljb25zdCBncm91cGVkID0gQm9vbGVhbihncm91cENvbnRleHQpOwoJY29uc3Qgc2l6ZSA9IGdyb3VwQ29udGV4dD8uc2l6ZSA/PyBzaXplUHJvcDsKCWNvbnN0IGRpc2FibGVkID0gQm9vbGVhbihkaXNhYmxlZFByb3AgfHwgZ3JvdXBDb250ZXh0Py5kaXNhYmxlZCk7CgoJY29uc3QgaXRlbUhlaWdodCA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4KCQkJd2hlZWxQaWNrZXJTaXplQ29uZmlnW3NpemVdPy5pdGVtSGVpZ2h0ID8/CgkJCXdoZWVsUGlja2VyU2l6ZUNvbmZpZy5tZC5pdGVtSGVpZ2h0LAoJCVtzaXplXSwKCSk7CgoJY29uc3Qgb3B0aW9ucyA9IFJlYWN0LnVzZU1lbW88T3B0aW9uTm9kZVtdPigoKSA9PiB7CgkJY29uc3QgYWNjOiBPcHRpb25Ob2RlW10gPSBbXTsKCQlSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCAoY2hpbGQpID0+IHsKCQkJaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudDxXaGVlbFBpY2tlckl0ZW1Qcm9wcz4oY2hpbGQpKSByZXR1cm47CgkJCWNvbnN0IHZhbCA9IGNoaWxkLnByb3BzLnZhbHVlIGFzIHN0cmluZyB8IHVuZGVmaW5lZDsKCQkJaWYgKHZhbCA9PSBudWxsKSByZXR1cm47CgkJCWNvbnN0IG5vZGUgPSBjaGlsZC5wcm9wcy5jaGlsZHJlbiA/PyB2YWw7CgkJCWFjYy5wdXNoKHsgdmFsdWU6IHZhbCwgbm9kZSB9KTsKCQl9KTsKCQlyZXR1cm4gYWNjOwoJfSwgW2NoaWxkcmVuXSk7CgoJY29uc3QgaXNDb250cm9sbGVkID0gdmFsdWUgIT09IHVuZGVmaW5lZDsKCWNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZyB8IHVuZGVmaW5lZD4oCgkJZGVmYXVsdFZhbHVlID8/IG9wdGlvbnNbMF0/LnZhbHVlLAoJKTsKCWNvbnN0IHNlbGVjdGVkVmFsdWUgPSBpc0NvbnRyb2xsZWQgPyB2YWx1ZSA6IGludGVybmFsVmFsdWU7CgoJY29uc3QgdWlkID0gUmVhY3QudXNlSWQoKTsKCWNvbnN0IGluc3RhbmNlUHJlZml4ID0gUmVhY3QudXNlTWVtbygKCQkoKSA9PiBgd3AtJHt1aWQucmVwbGFjZSgvWzpdL2csICcnKX1gLAoJCVt1aWRdLAoJKTsKCWNvbnN0IGNvbXBvc2l0ZSA9IEFyaWFraXQudXNlQ29tcG9zaXRlU3RvcmUoewoJCW9yaWVudGF0aW9uOiAndmVydGljYWwnLAoJCXZpcnR1YWxGb2N1czogdHJ1ZSwKCQlmb2N1c0xvb3A6IGluZmluaXRlLAoJfSk7Cgljb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7CgoJY29uc3QgcmFkaXVzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJY29uc3QgaXRlbUFuZ2xlID0gMzYwIC8gY291bnRQcm9wOwoJCXJldHVybiBpdGVtSGVpZ2h0IC8gTWF0aC50YW4oKGl0ZW1BbmdsZSAqIE1hdGguUEkpIC8gMTgwKTsKCX0sIFtjb3VudFByb3AsIGl0ZW1IZWlnaHRdKTsKCWNvbnN0IGNvbnRhaW5lckhlaWdodCA9IFJlYWN0LnVzZU1lbW8oCgkJKCkgPT4gTWF0aC5yb3VuZChyYWRpdXMgKiAyICsgaXRlbUhlaWdodCAqIDAuMjUpLAoJCVtyYWRpdXMsIGl0ZW1IZWlnaHRdLAoJKTsKCWNvbnN0IHF1YXJ0ZXJDb3VudCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewoJCWNvbnN0IHJhdyA9IGNvdW50UHJvcCA+PiAyOwoJCWlmICghb3B0aW9ucy5sZW5ndGgpIHJldHVybiBNYXRoLm1heCgxLCByYXcpOwoJCWNvbnN0IHNhZmVSYXcgPSBNYXRoLm1heCgxLCByYXcpOwoJCXJldHVybiBNYXRoLm1pbihzYWZlUmF3LCBvcHRpb25zLmxlbmd0aCk7Cgl9LCBbY291bnRQcm9wLCBvcHRpb25zLmxlbmd0aF0pOwoJY29uc3QgaXRlbUFuZ2xlID0gUmVhY3QudXNlTWVtbygoKSA9PiAzNjAgLyBjb3VudFByb3AsIFtjb3VudFByb3BdKTsKCWNvbnN0IGhhbGZJdGVtSGVpZ2h0ID0gaXRlbUhlaWdodCAqIDAuNTsKCWNvbnN0IGJhc2VEZWNlbGVyYXRpb24gPSAzICogMTA7Cgljb25zdCBzbmFwQmFja0RlY2VsZXJhdGlvbiA9IDEwOwoKCWNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7Cgljb25zdCB3aGVlbEl0ZW1zUmVmID0gUmVhY3QudXNlUmVmPEhUTUxVTGlzdEVsZW1lbnQ+KG51bGwpOwoJY29uc3QgaGlnaGxpZ2h0TGlzdFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MVUxpc3RFbGVtZW50PihudWxsKTsKCWNvbnN0IGhpZ2hsaWdodEJhbmRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwoKCWNvbnN0IHNjcm9sbFJlZiA9IFJlYWN0LnVzZVJlZigwKTsKCWNvbnN0IG1vdmVJZCA9IFJlYWN0LnVzZVJlZigwKTsKCWNvbnN0IGRyYWdnaW5nUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTsKCWNvbnN0IGhhc0FjdGl2ZUdlc3R1cmVSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpOwoJY29uc3QgbGFzdFdoZWVsVGltZVJlZiA9IFJlYWN0LnVzZVJlZigwKTsKCWNvbnN0IHRvdWNoRGF0YVJlZiA9IFJlYWN0LnVzZVJlZjx7CgkJc3RhcnRZOiBudW1iZXI7CgkJeUxpc3Q6IFtudW1iZXIsIG51bWJlcl1bXTsKCQl0b3VjaFNjcm9sbD86IG51bWJlcjsKCQlpc0NsaWNrPzogYm9vbGVhbjsKCX0+KHsgc3RhcnRZOiAwLCB5TGlzdDogW10sIHRvdWNoU2Nyb2xsOiAwLCBpc0NsaWNrOiB0cnVlIH0pOwoJY29uc3QgZHJhZ0NvbnRyb2xsZXJSZWYgPSBSZWFjdC51c2VSZWY8QWJvcnRDb250cm9sbGVyIHwgbnVsbD4obnVsbCk7Cgljb25zdCBzZWxlY3RlZFZhbHVlUmVmID0gUmVhY3QudXNlUmVmPHN0cmluZyB8IHVuZGVmaW5lZD4oc2VsZWN0ZWRWYWx1ZSk7CgoJY29uc3Qgbm9ybWFsaXplU2Nyb2xsID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHNjcm9sbDogbnVtYmVyKSA9PgoJCQkoKHNjcm9sbCAlIG9wdGlvbnMubGVuZ3RoKSArIG9wdGlvbnMubGVuZ3RoKSAlIG9wdGlvbnMubGVuZ3RoLAoJCVtvcHRpb25zLmxlbmd0aF0sCgkpOwoKCWNvbnN0IHNjcm9sbFRvID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHNjcm9sbDogbnVtYmVyKSA9PiB7CgkJCWNvbnN0IG5vcm1hbGl6ZWRTY3JvbGwgPSBpbmZpbml0ZSA/IG5vcm1hbGl6ZVNjcm9sbChzY3JvbGwpIDogc2Nyb2xsOwoKCQkJaWYgKHdoZWVsSXRlbXNSZWYuY3VycmVudCkgewoJCQkJY29uc3QgdHJhbnNmb3JtID0gYHRyYW5zbGF0ZVooJHstcmFkaXVzfXB4KSByb3RhdGVYKCR7aXRlbUFuZ2xlICogbm9ybWFsaXplZFNjcm9sbH1kZWcpYDsKCQkJCXdoZWVsSXRlbXNSZWYuY3VycmVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07CgkJCQl3aGVlbEl0ZW1zUmVmLmN1cnJlbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7CgkJCQkJY29uc3QgbGkgPSBub2RlIGFzIEhUTUxMSUVsZW1lbnQ7CgkJCQkJLy8gYmlvbWUtaWdub3JlIGxpbnQvY29tcGxleGl0eS91c2VMaXRlcmFsS2V5czogRE9NU3RyaW5nTWFwIG9ubHkgZXhwb3NlcyBicmFja2V0IGFjY2Vzc29ycwoJCQkJCWNvbnN0IHJhd0luZGV4ID0gbGkuZGF0YXNldD8uWydpbmRleCddOwoJCQkJCWlmIChyYXdJbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgkJCQkJY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyhOdW1iZXIocmF3SW5kZXgpIC0gbm9ybWFsaXplZFNjcm9sbCk7CgkJCQkJY29uc3QgaGlkZUZvckRlcHRoID0gZGlzdGFuY2UgPiBxdWFydGVyQ291bnQ7CgkJCQkJbGkuc3R5bGUudmlzaWJpbGl0eSA9IGhpZGVGb3JEZXB0aCA/ICdoaWRkZW4nIDogJ3Zpc2libGUnOwoJCQkJfSk7CgkJCX0KCgkJCWlmIChoaWdobGlnaHRMaXN0UmVmLmN1cnJlbnQpIHsKCQkJCWNvbnN0IHRyYW5zZm9ybVZhbHVlID0gYHRyYW5zbGF0ZVkoJHstbm9ybWFsaXplZFNjcm9sbCAqIGl0ZW1IZWlnaHR9cHgpYDsKCQkJCWhpZ2hsaWdodExpc3RSZWYuY3VycmVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1WYWx1ZTsKCQkJfQoKCQkJcmV0dXJuIG5vcm1hbGl6ZWRTY3JvbGw7CgkJfSwKCQlbaW5maW5pdGUsIG5vcm1hbGl6ZVNjcm9sbCwgcmFkaXVzLCBpdGVtQW5nbGUsIHF1YXJ0ZXJDb3VudCwgaXRlbUhlaWdodF0sCgkpOwoKCWNvbnN0IGNhbmNlbEFuaW1hdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKCQljYW5jZWxBbmltYXRpb25GcmFtZShtb3ZlSWQuY3VycmVudCk7Cgl9LCBbXSk7CgoJY29uc3QgYW5pbWF0ZVNjcm9sbCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCSgKCQkJc3RhcnRTY3JvbGw6IG51bWJlciwKCQkJZW5kU2Nyb2xsOiBudW1iZXIsCgkJCWR1cmF0aW9uOiBudW1iZXIsCgkJCW9uQ29tcGxldGU/OiAoKSA9PiB2b2lkLAoJCSkgPT4gewoJCQlpZiAoZHVyYXRpb24gPD0gMCB8fCBzdGFydFNjcm9sbCA9PT0gZW5kU2Nyb2xsKSB7CgkJCQljYW5jZWxBbmltYXRpb24oKTsKCQkJCXNjcm9sbFJlZi5jdXJyZW50ID0gc2Nyb2xsVG8oZW5kU2Nyb2xsKTsKCQkJCW9uQ29tcGxldGU/LigpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCWNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOwoJCQljb25zdCB0b3RhbERpc3RhbmNlID0gZW5kU2Nyb2xsIC0gc3RhcnRTY3JvbGw7CgkJCWNvbnN0IHRpY2sgPSAoY3VycmVudFRpbWU6IG51bWJlcikgPT4gewoJCQkJY29uc3QgZWxhcHNlZCA9IChjdXJyZW50VGltZSAtIHN0YXJ0VGltZSkgLyAxMDAwOwoJCQkJaWYgKGVsYXBzZWQgPCBkdXJhdGlvbikgewoJCQkJCWNvbnN0IHByb2dyZXNzID0gZWFzZU91dEN1YmljKGVsYXBzZWQgLyBkdXJhdGlvbik7CgkJCQkJc2Nyb2xsUmVmLmN1cnJlbnQgPSBzY3JvbGxUbyhzdGFydFNjcm9sbCArIHByb2dyZXNzICogdG90YWxEaXN0YW5jZSk7CgkJCQkJbW92ZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7CgkJCQl9IGVsc2UgewoJCQkJCWNhbmNlbEFuaW1hdGlvbigpOwoJCQkJCXNjcm9sbFJlZi5jdXJyZW50ID0gc2Nyb2xsVG8oZW5kU2Nyb2xsKTsKCQkJCQlvbkNvbXBsZXRlPy4oKTsKCQkJCX0KCQkJfTsKCQkJcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spOwoJCX0sCgkJW3Njcm9sbFRvLCBjYW5jZWxBbmltYXRpb25dLAoJKTsKCgljb25zdCBzZXRTZWxlY3RlZFZhbHVlID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKG5leHQ6IHN0cmluZykgPT4gewoJCQlpZiAoIWlzQ29udHJvbGxlZCkgc2V0SW50ZXJuYWxWYWx1ZShuZXh0KTsKCQkJb25WYWx1ZUNoYW5nZT8uKG5leHQpOwoJCX0sCgkJW2lzQ29udHJvbGxlZCwgb25WYWx1ZUNoYW5nZV0sCgkpOwoKCWNvbnN0IHNlbGVjdEJ5U2Nyb2xsID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKHNjcm9sbDogbnVtYmVyKSA9PiB7CgkJCWNvbnN0IG5vcm1hbGl6ZWRGbG9hdCA9IGluZmluaXRlID8gbm9ybWFsaXplU2Nyb2xsKHNjcm9sbCkgOiBzY3JvbGw7CgkJCWNvbnN0IGJvdW5kZWRTY3JvbGwgPSBpbmZpbml0ZQoJCQkJPyBNYXRoLnJvdW5kKG5vcm1hbGl6ZWRGbG9hdCkKCQkJCTogY2xhbXAoCgkJCQkJCU1hdGgucm91bmQobm9ybWFsaXplZEZsb2F0KSwKCQkJCQkJMCwKCQkJCQkJTWF0aC5tYXgoMCwgb3B0aW9ucy5sZW5ndGggLSAxKSwKCQkJCQkpOwoJCQlzY3JvbGxSZWYuY3VycmVudCA9IHNjcm9sbFRvKGJvdW5kZWRTY3JvbGwpOwoJCQljb25zdCBzZWxlY3RlZCA9IG9wdGlvbnNbc2Nyb2xsUmVmLmN1cnJlbnRdOwoJCQlpZiAoc2VsZWN0ZWQpIHsKCQkJCXNlbGVjdGVkVmFsdWVSZWYuY3VycmVudCA9IHNlbGVjdGVkLnZhbHVlOwoJCQkJc2V0U2VsZWN0ZWRWYWx1ZShzZWxlY3RlZC52YWx1ZSk7CgkJCQljb25zdCBuZXh0QWN0aXZlSWQgPSBgJHtpbnN0YW5jZVByZWZpeH0tJHtzZWxlY3RlZC52YWx1ZX1gOwoJCQkJaWYgKGNvbXBvc2l0ZS5nZXRTdGF0ZSgpLmFjdGl2ZUlkICE9PSBuZXh0QWN0aXZlSWQpCgkJCQkJY29tcG9zaXRlLnNldEFjdGl2ZUlkKG5leHRBY3RpdmVJZCk7CgkJCX0KCQl9LAoJCVsKCQkJaW5maW5pdGUsCgkJCW5vcm1hbGl6ZVNjcm9sbCwKCQkJb3B0aW9ucywKCQkJc2Nyb2xsVG8sCgkJCXNldFNlbGVjdGVkVmFsdWUsCgkJCWNvbXBvc2l0ZSwKCQkJaW5zdGFuY2VQcmVmaXgsCgkJXSwKCSk7CgoJY29uc3Qgc2VsZWN0QnlWYWx1ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCSh2YWw6IHN0cmluZykgPT4gewoJCQljb25zdCBpbmRleCA9IG9wdGlvbnMuZmluZEluZGV4KChvKSA9PiBvLnZhbHVlID09PSB2YWwpOwoJCQlpZiAoaW5kZXggPT09IC0xKSByZXR1cm47CgkJCWNhbmNlbEFuaW1hdGlvbigpOwoJCQlzZWxlY3RCeVNjcm9sbChpbmRleCk7CgkJfSwKCQlbb3B0aW9ucywgY2FuY2VsQW5pbWF0aW9uLCBzZWxlY3RCeVNjcm9sbF0sCgkpOwoKCWNvbnN0IHNjcm9sbEJ5U3RlcCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShzdGVwOiBudW1iZXIpID0+IHsKCQkJY29uc3Qgc3RhcnRTY3JvbGwgPSBzY3JvbGxSZWYuY3VycmVudDsKCQkJbGV0IGVuZFNjcm9sbCA9IHN0YXJ0U2Nyb2xsICsgc3RlcDsKCQkJZW5kU2Nyb2xsID0gaW5maW5pdGUKCQkJCT8gTWF0aC5yb3VuZChlbmRTY3JvbGwpCgkJCQk6IGNsYW1wKE1hdGgucm91bmQoZW5kU2Nyb2xsKSwgMCwgTWF0aC5tYXgoMCwgb3B0aW9ucy5sZW5ndGggLSAxKSk7CgkJCWNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoZW5kU2Nyb2xsIC0gc3RhcnRTY3JvbGwpOwoJCQlpZiAoZGlzdGFuY2UgPT09IDApIHJldHVybjsKCQkJY29uc3QgZHVyYXRpb24gPSBNYXRoLnNxcnQoZGlzdGFuY2UgLyA1KTsKCQkJY2FuY2VsQW5pbWF0aW9uKCk7CgkJCWFuaW1hdGVTY3JvbGwoc3RhcnRTY3JvbGwsIGVuZFNjcm9sbCwgZHVyYXRpb24sICgpID0+CgkJCQlzZWxlY3RCeVNjcm9sbChzY3JvbGxSZWYuY3VycmVudCksCgkJCSk7CgkJfSwKCQlbaW5maW5pdGUsIG9wdGlvbnMubGVuZ3RoLCBjYW5jZWxBbmltYXRpb24sIGFuaW1hdGVTY3JvbGwsIHNlbGVjdEJ5U2Nyb2xsXSwKCSk7CgoJY29uc3Qgd2hlZWxTZWdtZW50UG9zaXRpb25zID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CgkJY29uc3QgZGVnVG9SYWQgPSBNYXRoLlBJIC8gMTgwOwoJCWNvbnN0IHNlZ21lbnRMZW5ndGhzOiBudW1iZXJbXSA9IFtdOwoJCWZvciAobGV0IGkgPSBxdWFydGVyQ291bnQgLSAxOyBpID49IC1xdWFydGVyQ291bnQgKyAxOyAtLWkpIHsKCQkJY29uc3QgYW5nbGUgPSBpICogaXRlbUFuZ2xlOwoJCQlzZWdtZW50TGVuZ3Rocy5wdXNoKGl0ZW1IZWlnaHQgKiBNYXRoLmNvcyhhbmdsZSAqIGRlZ1RvUmFkKSk7CgkJfQoJCWNvbnN0IHRvdGFsTGVuZ3RoID0gc2VnbWVudExlbmd0aHMucmVkdWNlKAoJCQkoYWNjLCBsZW4pID0+IGFjYyArIChsZW4gfHwgMCksCgkJCTAsCgkJKTsKCQljb25zdCBzdGFydE9mZnNldCA9IE1hdGgubWF4KDAsIChjb250YWluZXJIZWlnaHQgLSB0b3RhbExlbmd0aCkgLyAyKTsKCQlsZXQgcG9zaXRpb25BbG9uZ1doZWVsID0gc3RhcnRPZmZzZXQ7CgkJY29uc3QgcmFuZ2VzOiBbbnVtYmVyLCBudW1iZXJdW10gPSBbXTsKCQlmb3IgKGNvbnN0IGxlbmd0aCBvZiBzZWdtZW50TGVuZ3RocykgewoJCQljb25zdCBzdGFydCA9IHBvc2l0aW9uQWxvbmdXaGVlbDsKCQkJcG9zaXRpb25BbG9uZ1doZWVsICs9IGxlbmd0aCB8fCAwOwoJCQlyYW5nZXMucHVzaChbc3RhcnQsIHBvc2l0aW9uQWxvbmdXaGVlbF0pOwoJCX0KCQlpZiAoIXJhbmdlcy5sZW5ndGgpIHJldHVybiByYW5nZXM7CgkJY29uc3QgZmlyc3QgPSByYW5nZXNbMF07CgkJY29uc3QgbGFzdCA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV07CgkJaWYgKGZpcnN0KSByYW5nZXNbMF0gPSBbMCwgZmlyc3RbMV1dOwoJCWlmIChsYXN0KSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdID0gW2xhc3RbMF0sIGNvbnRhaW5lckhlaWdodF07CgkJcmV0dXJuIHJhbmdlczsKCX0sIFtpdGVtQW5nbGUsIGl0ZW1IZWlnaHQsIHF1YXJ0ZXJDb3VudCwgY29udGFpbmVySGVpZ2h0XSk7CgoJY29uc3QgdXBkYXRlU2Nyb2xsRHVyaW5nRHJhZyA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4gewoJCQl0cnkgewoJCQkJY29uc3QgY3VycmVudFkgPQoJCQkJCShlIGluc3RhbmNlb2YgTW91c2VFdmVudCA/IGUuY2xpZW50WSA6IGUudG91Y2hlcz8uWzBdPy5jbGllbnRZKSB8fCAwOwoJCQkJY29uc3QgdG91Y2hEYXRhID0gdG91Y2hEYXRhUmVmLmN1cnJlbnQ7CgkJCQlpZiAodG91Y2hEYXRhLmlzQ2xpY2spIHsKCQkJCQljb25zdCBkcmFnVGhyZXNob2xkID0gNTsKCQkJCQlpZiAoTWF0aC5hYnMoY3VycmVudFkgLSB0b3VjaERhdGEuc3RhcnRZKSA+IGRyYWdUaHJlc2hvbGQpCgkJCQkJCXRvdWNoRGF0YS5pc0NsaWNrID0gZmFsc2U7CgkJCQl9CgkJCQl0b3VjaERhdGEueUxpc3QucHVzaChbY3VycmVudFksIERhdGUubm93KCldKTsKCQkJCWlmICh0b3VjaERhdGEueUxpc3QubGVuZ3RoID4gNSkgdG91Y2hEYXRhLnlMaXN0LnNoaWZ0KCk7CgkJCQljb25zdCBkcmFnRGVsdGEgPSAodG91Y2hEYXRhLnN0YXJ0WSAtIGN1cnJlbnRZKSAvIGl0ZW1IZWlnaHQ7CgkJCQlsZXQgbmV4dFNjcm9sbCA9IHNjcm9sbFJlZi5jdXJyZW50ICsgZHJhZ0RlbHRhOwoJCQkJaWYgKGluZmluaXRlKSB7CgkJCQkJbmV4dFNjcm9sbCA9IG5vcm1hbGl6ZVNjcm9sbChuZXh0U2Nyb2xsKTsKCQkJCX0gZWxzZSB7CgkJCQkJY29uc3QgbWF4SW5kZXggPSBvcHRpb25zLmxlbmd0aDsKCQkJCQlpZiAobmV4dFNjcm9sbCA8IDApIG5leHRTY3JvbGwgKj0gUkVTSVNUQU5DRTsKCQkJCQllbHNlIGlmIChuZXh0U2Nyb2xsID4gbWF4SW5kZXgpCgkJCQkJCW5leHRTY3JvbGwgPSBtYXhJbmRleCArIChuZXh0U2Nyb2xsIC0gbWF4SW5kZXgpICogUkVTSVNUQU5DRTsKCQkJCX0KCQkJCXRvdWNoRGF0YS50b3VjaFNjcm9sbCA9IHNjcm9sbFRvKG5leHRTY3JvbGwpOwoJCQl9IGNhdGNoIHt9CgkJfSwKCQlbaXRlbUhlaWdodCwgaW5maW5pdGUsIG9wdGlvbnMubGVuZ3RoLCBub3JtYWxpemVTY3JvbGwsIHNjcm9sbFRvXSwKCSk7CgoJY29uc3QgaGFuZGxlRHJhZ01vdmVFdmVudCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHsKCQkJaWYgKAoJCQkJIWRyYWdnaW5nUmVmLmN1cnJlbnQgJiYKCQkJCSFjb250YWluZXJSZWYuY3VycmVudD8uY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpICYmCgkJCQlldmVudC50YXJnZXQgIT09IGNvbnRhaW5lclJlZi5jdXJyZW50CgkJCSkgewoJCQkJcmV0dXJuOwoJCQl9CgkJCWRyYWdnaW5nUmVmLmN1cnJlbnQgPSB0cnVlOwoJCQl1cGRhdGVTY3JvbGxEdXJpbmdEcmFnKGV2ZW50KTsKCQl9LAoJCVt1cGRhdGVTY3JvbGxEdXJpbmdEcmFnXSwKCSk7CgoJY29uc3QgaW5pdGlhdGVEcmFnR2VzdHVyZSA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHsKCQkJaWYgKGhhc0FjdGl2ZUdlc3R1cmVSZWYuY3VycmVudCkgcmV0dXJuOwoJCQljYW5jZWxBbmltYXRpb24oKTsKCQkJY29uc3QgdG91Y2hEYXRhID0gdG91Y2hEYXRhUmVmLmN1cnJlbnQ7CgkJCWNvbnN0IHN0YXJ0WSA9CgkJCQlldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQKCQkJCQk/IGV2ZW50LmNsaWVudFkKCQkJCQk6IGV2ZW50LnRvdWNoZXM/LlswXT8uY2xpZW50WSB8fCAwOwoJCQl0b3VjaERhdGEuc3RhcnRZID0gc3RhcnRZOwoJCQl0b3VjaERhdGEueUxpc3QgPSBbXTsKCQkJdG91Y2hEYXRhLmlzQ2xpY2sgPSB0cnVlOwoJCQl0b3VjaERhdGEudG91Y2hTY3JvbGwgPSBzY3JvbGxSZWYuY3VycmVudDsKCQkJaGFzQWN0aXZlR2VzdHVyZVJlZi5jdXJyZW50ID0gdHJ1ZTsKCQkJZHJhZ2dpbmdSZWYuY3VycmVudCA9IHRydWU7CgkJCXNldElzRHJhZ2dpbmcodHJ1ZSk7CgoJCQljb25zdCBwYXNzaXZlT3B0cyA9IHsgcGFzc2l2ZTogZmFsc2UgfSBhcyBjb25zdDsKCQkJY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTsKCQkJZHJhZ0NvbnRyb2xsZXJSZWYuY3VycmVudCA9IGNvbnRyb2xsZXI7CgkJCWNvbnN0IG9uTW91c2VNb3ZlID0gKGU6IE1vdXNlRXZlbnQpID0+IGhhbmRsZURyYWdNb3ZlRXZlbnQoZSk7CgkJCWNvbnN0IG9uVG91Y2hNb3ZlID0gKGU6IFRvdWNoRXZlbnQpID0+IGhhbmRsZURyYWdNb3ZlRXZlbnQoZSk7CgkJCWNvbnN0IG9uTW91c2VMZWF2ZSA9ICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKTsKCQkJY29uc3Qgb25Ub3VjaENhbmNlbCA9ICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKTsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIHBhc3NpdmVPcHRzKTsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIHBhc3NpdmVPcHRzKTsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTW91c2VMZWF2ZSwgcGFzc2l2ZU9wdHMpOwoJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIG9uVG91Y2hDYW5jZWwsIHBhc3NpdmVPcHRzKTsKCQkJY29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB7CgkJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CgkJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7CgkJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25Nb3VzZUxlYXZlKTsKCQkJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgb25Ub3VjaENhbmNlbCk7CgkJCQlkcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7CgkJCQloYXNBY3RpdmVHZXN0dXJlUmVmLmN1cnJlbnQgPSBmYWxzZTsKCQkJCXNldElzRHJhZ2dpbmcoZmFsc2UpOwoJCQl9KTsKCQl9LAoJCVtjYW5jZWxBbmltYXRpb24sIGhhbmRsZURyYWdNb3ZlRXZlbnRdLAoJKTsKCgljb25zdCBoYW5kbGVXaGVlbEl0ZW1DbGljayA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShjbGllbnRZOiBudW1iZXIpID0+IHsKCQkJY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJCWlmICghY29udGFpbmVyKSByZXR1cm47CgkJCWNvbnN0IHsgdG9wLCBoZWlnaHQgfSA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCQkJY29uc3QgY2xpY2tPZmZzZXRZID0gY2xpZW50WSAtIHRvcDsKCQkJY29uc3QgY2xpY2tlZFNlZ21lbnRJbmRleCA9IHdoZWVsU2VnbWVudFBvc2l0aW9ucy5maW5kSW5kZXgoCgkJCQkoW3N0YXJ0LCBlbmRdKSA9PiBjbGlja09mZnNldFkgPj0gc3RhcnQgJiYgY2xpY2tPZmZzZXRZIDw9IGVuZCwKCQkJKTsKCQkJaWYgKGNsaWNrZWRTZWdtZW50SW5kZXggIT09IC0xKSB7CgkJCQljb25zdCBzdGVwc1RvU2Nyb2xsID0gKHF1YXJ0ZXJDb3VudCAtIGNsaWNrZWRTZWdtZW50SW5kZXggLSAxKSAqIC0xOwoJCQkJc2Nyb2xsQnlTdGVwKHN0ZXBzVG9TY3JvbGwpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCWNvbnN0IHJlbGF0aXZlT2Zmc2V0ID0gY2xpY2tPZmZzZXRZIC0gaGVpZ2h0IC8gMjsKCQkJY29uc3QgYXBwcm94aW1hdGVTdGVwcyA9IE1hdGgucm91bmQocmVsYXRpdmVPZmZzZXQgLyBpdGVtSGVpZ2h0KTsKCQkJaWYgKGFwcHJveGltYXRlU3RlcHMgIT09IDApIHNjcm9sbEJ5U3RlcChhcHByb3hpbWF0ZVN0ZXBzKTsKCQl9LAoJCVt3aGVlbFNlZ21lbnRQb3NpdGlvbnMsIHF1YXJ0ZXJDb3VudCwgc2Nyb2xsQnlTdGVwLCBpdGVtSGVpZ2h0XSwKCSk7CgoJY29uc3QgZGVjZWxlcmF0ZUFuZEFuaW1hdGVTY3JvbGwgPSBSZWFjdC51c2VDYWxsYmFjaygKCQkoaW5pdGlhbFZlbG9jaXR5OiBudW1iZXIpID0+IHsKCQkJY29uc3QgY3VycmVudFNjcm9sbCA9IHNjcm9sbFJlZi5jdXJyZW50OwoJCQlsZXQgdGFyZ2V0U2Nyb2xsID0gY3VycmVudFNjcm9sbDsKCQkJbGV0IGRlY2VsZXJhdGlvbiA9CgkJCQlpbml0aWFsVmVsb2NpdHkgPiAwID8gLWJhc2VEZWNlbGVyYXRpb24gOiBiYXNlRGVjZWxlcmF0aW9uOwoJCQlsZXQgZHVyYXRpb24gPSAwOwoKCQkJaWYgKGluZmluaXRlKSB7CgkJCQlkdXJhdGlvbiA9IE1hdGguYWJzKGluaXRpYWxWZWxvY2l0eSAvIGRlY2VsZXJhdGlvbik7CgkJCQljb25zdCBzY3JvbGxEaXN0YW5jZSA9CgkJCQkJaW5pdGlhbFZlbG9jaXR5ICogZHVyYXRpb24gKyAwLjUgKiBkZWNlbGVyYXRpb24gKiBkdXJhdGlvbiAqIGR1cmF0aW9uOwoJCQkJdGFyZ2V0U2Nyb2xsID0gTWF0aC5yb3VuZChjdXJyZW50U2Nyb2xsICsgc2Nyb2xsRGlzdGFuY2UpOwoJCQl9IGVsc2UgaWYgKGN1cnJlbnRTY3JvbGwgPCAwIHx8IGN1cnJlbnRTY3JvbGwgPiBvcHRpb25zLmxlbmd0aCAtIDEpIHsKCQkJCWNvbnN0IHRhcmdldCA9IGNsYW1wKGN1cnJlbnRTY3JvbGwsIDAsIE1hdGgubWF4KDAsIG9wdGlvbnMubGVuZ3RoIC0gMSkpOwoJCQkJY29uc3Qgc2Nyb2xsRGlzdGFuY2UgPSBjdXJyZW50U2Nyb2xsIC0gdGFyZ2V0OwoJCQkJZGVjZWxlcmF0aW9uID0gc25hcEJhY2tEZWNlbGVyYXRpb247CgkJCQlkdXJhdGlvbiA9IE1hdGguc3FydChNYXRoLmFicyhzY3JvbGxEaXN0YW5jZSAvIGRlY2VsZXJhdGlvbikpOwoJCQkJaW5pdGlhbFZlbG9jaXR5ID0gZGVjZWxlcmF0aW9uICogZHVyYXRpb247CgkJCQlpbml0aWFsVmVsb2NpdHkgPQoJCQkJCWN1cnJlbnRTY3JvbGwgPiAwID8gLWluaXRpYWxWZWxvY2l0eSA6IGluaXRpYWxWZWxvY2l0eTsKCQkJCXRhcmdldFNjcm9sbCA9IHRhcmdldDsKCQkJfSBlbHNlIHsKCQkJCWR1cmF0aW9uID0gTWF0aC5hYnMoaW5pdGlhbFZlbG9jaXR5IC8gZGVjZWxlcmF0aW9uKTsKCQkJCWNvbnN0IHNjcm9sbERpc3RhbmNlID0KCQkJCQlpbml0aWFsVmVsb2NpdHkgKiBkdXJhdGlvbiArIDAuNSAqIGRlY2VsZXJhdGlvbiAqIGR1cmF0aW9uICogZHVyYXRpb247CgkJCQl0YXJnZXRTY3JvbGwgPSBNYXRoLnJvdW5kKGN1cnJlbnRTY3JvbGwgKyBzY3JvbGxEaXN0YW5jZSk7CgkJCQl0YXJnZXRTY3JvbGwgPSBjbGFtcCh0YXJnZXRTY3JvbGwsIDAsIE1hdGgubWF4KDAsIG9wdGlvbnMubGVuZ3RoIC0gMSkpOwoJCQkJY29uc3QgYWRqdXN0ZWREaXN0YW5jZSA9IHRhcmdldFNjcm9sbCAtIGN1cnJlbnRTY3JvbGw7CgkJCQlkdXJhdGlvbiA9IE1hdGguc3FydChNYXRoLmFicyhhZGp1c3RlZERpc3RhbmNlIC8gZGVjZWxlcmF0aW9uKSk7CgkJCX0KCgkJCWFuaW1hdGVTY3JvbGwoY3VycmVudFNjcm9sbCwgdGFyZ2V0U2Nyb2xsLCBkdXJhdGlvbiwgKCkgPT4gewoJCQkJc2VsZWN0QnlTY3JvbGwoc2Nyb2xsUmVmLmN1cnJlbnQpOwoJCQl9KTsKCQl9LAoJCVtpbmZpbml0ZSwgb3B0aW9ucy5sZW5ndGgsIGFuaW1hdGVTY3JvbGwsIHNlbGVjdEJ5U2Nyb2xsXSwKCSk7CgoJY29uc3QgZmluYWxpemVEcmFnQW5kU3RhcnRJbmVydGlhU2Nyb2xsID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gewoJCXRyeSB7CgkJCWRyYWdDb250cm9sbGVyUmVmLmN1cnJlbnQ/LmFib3J0KCk7CgkJCWRyYWdDb250cm9sbGVyUmVmLmN1cnJlbnQgPSBudWxsOwoJCQljb25zdCB0b3VjaERhdGEgPSB0b3VjaERhdGFSZWYuY3VycmVudDsKCQkJaWYgKHRvdWNoRGF0YS5pc0NsaWNrKSB7CgkJCQloYW5kbGVXaGVlbEl0ZW1DbGljayh0b3VjaERhdGEuc3RhcnRZKTsKCQkJCXJldHVybjsKCQkJfQoJCQljb25zdCB5TGlzdCA9IHRvdWNoRGF0YS55TGlzdDsKCQkJbGV0IHZlbG9jaXR5ID0gMDsKCQkJaWYgKHlMaXN0Lmxlbmd0aCA+IDEpIHsKCQkJCWNvbnN0IGxlbiA9IHlMaXN0Lmxlbmd0aDsKCQkJCWNvbnN0IFtzdGFydFksIHN0YXJ0VGltZV0gPSB5TGlzdFtsZW4gLSAyXSA/PyBbMCwgMF07CgkJCQljb25zdCBbZW5kWSwgZW5kVGltZV0gPSB5TGlzdFtsZW4gLSAxXSA/PyBbMCwgMF07CgkJCQljb25zdCB0aW1lRGlmZiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7CgkJCQlpZiAodGltZURpZmYgPiAwKSB7CgkJCQkJY29uc3QgZGlzdGFuY2UgPSBzdGFydFkgLSBlbmRZOwoJCQkJCWNvbnN0IHZlbG9jaXR5UGVyU2Vjb25kID0gKChkaXN0YW5jZSAvIGl0ZW1IZWlnaHQpICogMTAwMCkgLyB0aW1lRGlmZjsKCQkJCQljb25zdCBkaXJlY3Rpb24gPSB2ZWxvY2l0eVBlclNlY29uZCA+IDAgPyAxIDogLTE7CgkJCQkJY29uc3QgYWJzVmVsb2NpdHkgPSBNYXRoLm1pbigKCQkJCQkJTWF0aC5hYnModmVsb2NpdHlQZXJTZWNvbmQpLAoJCQkJCQlNQVhfVkVMT0NJVFksCgkJCQkJKTsKCQkJCQl2ZWxvY2l0eSA9IGFic1ZlbG9jaXR5ICogZGlyZWN0aW9uOwoJCQkJfQoJCQl9CgkJCXNjcm9sbFJlZi5jdXJyZW50ID0gdG91Y2hEYXRhLnRvdWNoU2Nyb2xsID8/IHNjcm9sbFJlZi5jdXJyZW50OwoJCQlkZWNlbGVyYXRlQW5kQW5pbWF0ZVNjcm9sbCh2ZWxvY2l0eSk7CgkJfSBmaW5hbGx5IHsKCQkJZHJhZ2dpbmdSZWYuY3VycmVudCA9IGZhbHNlOwoJCQloYXNBY3RpdmVHZXN0dXJlUmVmLmN1cnJlbnQgPSBmYWxzZTsKCQkJc2V0SXNEcmFnZ2luZyhmYWxzZSk7CgkJfQoJfSwgW2l0ZW1IZWlnaHQsIGhhbmRsZVdoZWVsSXRlbUNsaWNrLCBkZWNlbGVyYXRlQW5kQW5pbWF0ZVNjcm9sbF0pOwoKCWNvbnN0IGhhbmRsZURyYWdTdGFydEV2ZW50ID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7CgkJCWNvbnN0IGlzRHJhZ2dpbmcgPSBkcmFnZ2luZ1JlZi5jdXJyZW50OwoJCQljb25zdCBpc1RhcmdldFZhbGlkID0KCQkJCSEhY29udGFpbmVyUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKGUudGFyZ2V0IGFzIE5vZGUpIHx8CgkJCQllLnRhcmdldCA9PT0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJCWlmICgoaXNEcmFnZ2luZyB8fCBpc1RhcmdldFZhbGlkKSAmJiBlLmNhbmNlbGFibGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQ/LigpOwoJCQkJaWYgKG9wdGlvbnMubGVuZ3RoKSBpbml0aWF0ZURyYWdHZXN0dXJlKGUpOwoJCQl9CgkJfSwKCQlbaW5pdGlhdGVEcmFnR2VzdHVyZSwgb3B0aW9ucy5sZW5ndGhdLAoJKTsKCgljb25zdCBzY3JvbGxCeVdoZWVsID0gUmVhY3QudXNlQ2FsbGJhY2soCgkJKGV2ZW50OiBXaGVlbEV2ZW50KSA9PiB7CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCWNvbnN0IG5vdyA9IERhdGUubm93KCk7CgkJCWlmIChub3cgLSBsYXN0V2hlZWxUaW1lUmVmLmN1cnJlbnQgPCAxMDApIHJldHVybjsKCQkJY29uc3QgZGlyZWN0aW9uID0gTWF0aC5zaWduKGV2ZW50LmRlbHRhWSk7CgkJCWlmICghZGlyZWN0aW9uKSByZXR1cm47CgkJCWxhc3RXaGVlbFRpbWVSZWYuY3VycmVudCA9IG5vdzsKCQkJc2Nyb2xsQnlTdGVwKGRpcmVjdGlvbik7CgkJfSwKCQlbc2Nyb2xsQnlTdGVwXSwKCSk7CgoJY29uc3QgaGFuZGxlV2hlZWxFdmVudCA9IFJlYWN0LnVzZUNhbGxiYWNrKAoJCShldmVudDogV2hlZWxFdmVudCkgPT4gewoJCQlpZiAoIW9wdGlvbnMubGVuZ3RoIHx8ICFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuOwoJCQljb25zdCBpc0RyYWdnaW5nID0gZHJhZ2dpbmdSZWYuY3VycmVudDsKCQkJY29uc3QgaXNUYXJnZXRWYWxpZCA9CgkJCQljb250YWluZXJSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkgfHwKCQkJCWV2ZW50LnRhcmdldCA9PT0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJCWlmICgoaXNEcmFnZ2luZyB8fCBpc1RhcmdldFZhbGlkKSAmJiBldmVudC5jYW5jZWxhYmxlKSB7CgkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJc2Nyb2xsQnlXaGVlbChldmVudCk7CgkJCX0KCQl9LAoJCVtzY3JvbGxCeVdoZWVsLCBvcHRpb25zLmxlbmd0aF0sCgkpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7CgkJaWYgKCFjb250YWluZXIpIHJldHVybjsKCQljb25zdCBvcHRzID0geyBwYXNzaXZlOiBmYWxzZSB9IGFzIGNvbnN0OwoJCWNvbnN0IG9uVG91Y2hFbmQgPSAoZTogRXZlbnQpID0+IHsKCQkJaWYgKCFoYXNBY3RpdmVHZXN0dXJlUmVmLmN1cnJlbnQpIHJldHVybjsKCQkJZS5jYW5jZWxhYmxlICYmIGUucHJldmVudERlZmF1bHQoKTsKCQkJZmluYWxpemVEcmFnQW5kU3RhcnRJbmVydGlhU2Nyb2xsKCk7CgkJfTsKCQljb25zdCBvbk1vdXNlVXAgPSAoZTogRXZlbnQpID0+IHsKCQkJaWYgKCFoYXNBY3RpdmVHZXN0dXJlUmVmLmN1cnJlbnQpIHJldHVybjsKCQkJZS5jYW5jZWxhYmxlICYmIGUucHJldmVudERlZmF1bHQoKTsKCQkJZmluYWxpemVEcmFnQW5kU3RhcnRJbmVydGlhU2Nyb2xsKCk7CgkJfTsKCQljb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigKCQkJJ3RvdWNoc3RhcnQnLAoJCQloYW5kbGVEcmFnU3RhcnRFdmVudCBhcyAoZTogRXZlbnQpID0+IHZvaWQsCgkJCW9wdHMsCgkJKTsKCQljb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBvcHRzKTsKCQljb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigKCQkJJ3doZWVsJywKCQkJaGFuZGxlV2hlZWxFdmVudCBhcyAoZTogRXZlbnQpID0+IHZvaWQsCgkJCW9wdHMsCgkJKTsKCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKAoJCQknbW91c2Vkb3duJywKCQkJaGFuZGxlRHJhZ1N0YXJ0RXZlbnQgYXMgKGU6IEV2ZW50KSA9PiB2b2lkLAoJCQlvcHRzLAoJCSk7CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgb3B0cyk7CgkJcmV0dXJuICgpID0+IHsKCQkJY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoCgkJCQkndG91Y2hzdGFydCcsCgkJCQloYW5kbGVEcmFnU3RhcnRFdmVudCBhcyAoZTogRXZlbnQpID0+IHZvaWQsCgkJCSk7CgkJCWNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKAoJCQkJJ3RvdWNoZW5kJywKCQkJCW9uVG91Y2hFbmQgYXMgKGU6IEV2ZW50KSA9PiB2b2lkLAoJCQkpOwoJCQljb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigKCQkJCSd3aGVlbCcsCgkJCQloYW5kbGVXaGVlbEV2ZW50IGFzIChlOiBFdmVudCkgPT4gdm9pZCwKCQkJKTsKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigKCQkJCSdtb3VzZWRvd24nLAoJCQkJaGFuZGxlRHJhZ1N0YXJ0RXZlbnQgYXMgKGU6IEV2ZW50KSA9PiB2b2lkLAoJCQkpOwoJCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwIGFzIChlOiBFdmVudCkgPT4gdm9pZCk7CgkJfTsKCX0sIFsKCQloYW5kbGVEcmFnU3RhcnRFdmVudCwKCQlmaW5hbGl6ZURyYWdBbmRTdGFydEluZXJ0aWFTY3JvbGwsCgkJaGFuZGxlV2hlZWxFdmVudCwKCV0pOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFvcHRpb25zLmxlbmd0aCkgcmV0dXJuOwoJCWNvbnN0IHZhbCA9IHNlbGVjdGVkVmFsdWUgPz8gb3B0aW9uc1swXT8udmFsdWU7CgkJaWYgKHZhbCAhPSBudWxsKSBzZWxlY3RCeVZhbHVlKHZhbCk7Cgl9LCBbc2VsZWN0ZWRWYWx1ZSwgb3B0aW9ucywgc2VsZWN0QnlWYWx1ZV0pOwoKCWNvbnN0IHJlbmRlcldoZWVsSXRlbXMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCBpdGVtczogUmVhY3QuUmVhY3ROb2RlW10gPSBbXTsKCQljb25zdCByZW5kZXJJdGVtID0gKG9wdDogT3B0aW9uTm9kZSwgaWR4OiBudW1iZXIsIGFuZ2xlOiBudW1iZXIpID0+ICgKCQkJPGxpCgkJCQlrZXk9e2lkeH0KCQkJCWRhdGEtaW5kZXg9e2lkeH0KCQkJCWNsYXNzTmFtZT17d2hlZWxQaWNrZXJUcmFja1RleHQoeyBzaXplIH0pfQoJCQkJc3R5bGU9e3sKCQkJCQlwb3NpdGlvbjogJ2Fic29sdXRlJywKCQkJCQl0b3A6IC1oYWxmSXRlbUhlaWdodCwKCQkJCQlsZWZ0OiAwLAoJCQkJCXdpZHRoOiAnMTAwJScsCgkJCQkJaGVpZ2h0OiBpdGVtSGVpZ2h0LAoJCQkJCVdlYmtpdEZvbnRTbW9vdGhpbmc6ICdzdWJwaXhlbC1hbnRpYWxpYXNlZCcsCgkJCQkJd2lsbENoYW5nZTogJ3Zpc2liaWxpdHknLAoJCQkJCXRyYW5zZm9ybTogYHJvdGF0ZVgoJHthbmdsZX1kZWcpIHRyYW5zbGF0ZVooJHtyYWRpdXN9cHgpYCwKCQkJCQl2aXNpYmlsaXR5OiAnaGlkZGVuJywKCQkJCX19CgkJCQlhcmlhLWhpZGRlbgoJCQk+CgkJCQl7b3B0Lm5vZGV9CgkJCTwvbGk+CgkJKTsKCgkJZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7CgkJCWNvbnN0IG9wdGlvbiA9IG9wdGlvbnNbaV07CgkJCWlmICghb3B0aW9uKSBjb250aW51ZTsKCQkJaXRlbXMucHVzaChyZW5kZXJJdGVtKG9wdGlvbiwgaSwgLWl0ZW1BbmdsZSAqIGkpKTsKCQl9CgoJCWlmIChpbmZpbml0ZSkgewoJCQlmb3IgKGxldCBpID0gMDsgaSA8IHF1YXJ0ZXJDb3VudDsgaSsrKSB7CgkJCQljb25zdCBwcmVwZW5kSW5kZXggPSAtaSAtIDE7CgkJCQljb25zdCBhcHBlbmRJbmRleCA9IGkgKyBvcHRpb25zLmxlbmd0aDsKCQkJCWNvbnN0IHByZXBlbmRPcHRpb24gPSBvcHRpb25zW29wdGlvbnMubGVuZ3RoIC0gaSAtIDFdOwoJCQkJY29uc3QgYXBwZW5kT3B0aW9uID0gb3B0aW9uc1tpXTsKCQkJCWlmIChwcmVwZW5kT3B0aW9uKSB7CgkJCQkJaXRlbXMudW5zaGlmdCgKCQkJCQkJcmVuZGVySXRlbShwcmVwZW5kT3B0aW9uLCBwcmVwZW5kSW5kZXgsIGl0ZW1BbmdsZSAqIChpICsgMSkpLAoJCQkJCSk7CgkJCQl9CgkJCQlpZiAoYXBwZW5kT3B0aW9uKSB7CgkJCQkJaXRlbXMucHVzaCgKCQkJCQkJcmVuZGVySXRlbShhcHBlbmRPcHRpb24sIGFwcGVuZEluZGV4LCAtaXRlbUFuZ2xlICogYXBwZW5kSW5kZXgpLAoJCQkJCSk7CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIGl0ZW1zOwoJfSwgWwoJCW9wdGlvbnMsCgkJaXRlbUFuZ2xlLAoJCWl0ZW1IZWlnaHQsCgkJaGFsZkl0ZW1IZWlnaHQsCgkJcmFkaXVzLAoJCXNpemUsCgkJcXVhcnRlckNvdW50LAoJCWluZmluaXRlLAoJXSk7CgoJY29uc3QgcmVuZGVySGlnaGxpZ2h0SXRlbXMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKCQljb25zdCBpdGVtcyA9IG9wdGlvbnMubWFwKChvcHQpID0+ICgKCQkJPEFyaWFraXQuQ29tcG9zaXRlSXRlbQoJCQkJc3RvcmU9e2NvbXBvc2l0ZX0KCQkJCWtleT17b3B0LnZhbHVlfQoJCQkJaWQ9e2Ake2luc3RhbmNlUHJlZml4fS0ke29wdC52YWx1ZX1gfQoJCQkJY2xhc3NOYW1lPXt3aGVlbFBpY2tlckhpZ2hsaWdodFRleHQoeyBzaXplIH0pfQoJCQkJc3R5bGU9e3sgaGVpZ2h0OiBpdGVtSGVpZ2h0IH19CgkJCT4KCQkJCXtvcHQubm9kZX0KCQkJPC9Bcmlha2l0LkNvbXBvc2l0ZUl0ZW0+CgkJKSk7CgkJaWYgKGluZmluaXRlICYmIG9wdGlvbnMubGVuZ3RoKSB7CgkJCWl0ZW1zLnVuc2hpZnQoCgkJCQk8bGkKCQkJCQlrZXk9ImluZmluaXRlLXN0YXJ0IgoJCQkJCWNsYXNzTmFtZT17d2hlZWxQaWNrZXJIaWdobGlnaHRUZXh0KHsgc2l6ZSB9KX0KCQkJCQlzdHlsZT17eyBoZWlnaHQ6IGl0ZW1IZWlnaHQgfX0KCQkJCT4KCQkJCQl7b3B0aW9uc1tvcHRpb25zLmxlbmd0aCAtIDFdPy5ub2RlfQoJCQkJPC9saT4sCgkJCSk7CgkJCWl0ZW1zLnB1c2goCgkJCQk8bGkKCQkJCQlrZXk9ImluZmluaXRlLWVuZCIKCQkJCQljbGFzc05hbWU9e3doZWVsUGlja2VySGlnaGxpZ2h0VGV4dCh7IHNpemUgfSl9CgkJCQkJc3R5bGU9e3sgaGVpZ2h0OiBpdGVtSGVpZ2h0IH19CgkJCQk+CgkJCQkJe29wdGlvbnNbMF0/Lm5vZGV9CgkJCQk8L2xpPiwKCQkJKTsKCQl9CgkJcmV0dXJuIGl0ZW1zOwoJfSwgW29wdGlvbnMsIGluZmluaXRlLCBzaXplLCBpdGVtSGVpZ2h0LCBpbnN0YW5jZVByZWZpeCwgY29tcG9zaXRlXSk7CgoJY29uc3Qgcm9vdENsYXNzTmFtZSA9IGdyb3VwZWQKCQk/IGNuKAoJCQkJJ3JlbGF0aXZlIGlzb2xhdGUgZmxleC1ub25lIG1pbi13LTAgb3ZlcmZsb3ctaGlkZGVuIGJnLXRyYW5zcGFyZW50IHNoYWRvdy1ub25lJywKCQkJCXdoZWVsUGlja2VyU2l6ZUNvbmZpZ1tzaXplXT8ud2lkdGhDbGFzcywKCQkJCWRpc2FibGVkICYmICdwb2ludGVyLWV2ZW50cy1ub25lIGN1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJywKCQkJCWNsYXNzTmFtZSwKCQkJKQoJCTogY24od2hlZWxQaWNrZXJWYXJpYW50cyh7IHNpemUsIGRpc2FibGVkIH0pLCBjbGFzc05hbWUpOwoKCWNvbnN0IGFjdGl2ZUluZGV4ID0gUmVhY3QudXNlTWVtbygKCQkoKSA9PiBvcHRpb25zLmZpbmRJbmRleCgobykgPT4gby52YWx1ZSA9PT0gc2VsZWN0ZWRWYWx1ZSksCgkJW29wdGlvbnMsIHNlbGVjdGVkVmFsdWVdLAoJKTsKCWNvbnN0IGFjdGl2ZUlkID0KCQlhY3RpdmVJbmRleCA+PSAwICYmIG9wdGlvbnNbYWN0aXZlSW5kZXhdCgkJCT8gYCR7aW5zdGFuY2VQcmVmaXh9LSR7b3B0aW9uc1thY3RpdmVJbmRleF0/LnZhbHVlfWAKCQkJOiB1bmRlZmluZWQ7CgoJUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKCQlpZiAoIWFjdGl2ZUlkKSByZXR1cm47CgkJaWYgKGNvbXBvc2l0ZS5nZXRTdGF0ZSgpLmFjdGl2ZUlkICE9PSBhY3RpdmVJZCkKCQkJY29tcG9zaXRlLnNldEFjdGl2ZUlkKGFjdGl2ZUlkKTsKCX0sIFthY3RpdmVJZCwgY29tcG9zaXRlXSk7CgoJY29uc3QgYXJpYWtpdEFjdGl2ZUlkID0gQXJpYWtpdC51c2VTdG9yZVN0YXRlKGNvbXBvc2l0ZSwgKHMpID0+IHMuYWN0aXZlSWQpOwoKCVJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CgkJaWYgKCFhcmlha2l0QWN0aXZlSWQpIHJldHVybjsKCQljb25zdCBpZHggPSBvcHRpb25zLmZpbmRJbmRleCgKCQkJKG8pID0+IGAke2luc3RhbmNlUHJlZml4fS0ke28udmFsdWV9YCA9PT0gYXJpYWtpdEFjdGl2ZUlkLAoJCSk7CgoJCWlmIChpZHggPCAwKSByZXR1cm47CgoJCWNvbnN0IHN0YXJ0ID0gc2Nyb2xsUmVmLmN1cnJlbnQ7CgkJbGV0IGVuZCA9IGluZmluaXRlID8gaWR4IDogY2xhbXAoaWR4LCAwLCBNYXRoLm1heCgwLCBvcHRpb25zLmxlbmd0aCAtIDEpKTsKCgkJaWYgKGluZmluaXRlICYmIG9wdGlvbnMubGVuZ3RoKSB7CgkJCWNvbnN0IGxlbmd0aCA9IG9wdGlvbnMubGVuZ3RoOwoJCQljb25zdCBkaWZmID0gZW5kIC0gc3RhcnQ7CgkJCWlmIChkaWZmID4gbGVuZ3RoIC8gMikgZW5kIC09IGxlbmd0aDsKCQkJZWxzZSBpZiAoZGlmZiA8IC1sZW5ndGggLyAyKSBlbmQgKz0gbGVuZ3RoOwoJCX0KCgkJaWYgKHN0YXJ0ID09PSBlbmQpIHsKCQkJc2Nyb2xsUmVmLmN1cnJlbnQgPSBzY3JvbGxUbyhlbmQpOwoJCQlzZWxlY3RCeVNjcm9sbChzY3JvbGxSZWYuY3VycmVudCk7CgkJCXJldHVybjsKCQl9CgoJCWNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoZW5kIC0gc3RhcnQpOwoJCWNvbnN0IGR1cmF0aW9uID0gTWF0aC5zcXJ0KGRpc3RhbmNlIC8gNSk7CgoJCWNhbmNlbEFuaW1hdGlvbigpOwoJCWFuaW1hdGVTY3JvbGwoc3RhcnQsIGVuZCwgZHVyYXRpb24sICgpID0+CgkJCXNlbGVjdEJ5U2Nyb2xsKHNjcm9sbFJlZi5jdXJyZW50KSwKCQkpOwoJfSwgWwoJCWFyaWFraXRBY3RpdmVJZCwKCQlvcHRpb25zLAoJCWluc3RhbmNlUHJlZml4LAoJCWluZmluaXRlLAoJCWNhbmNlbEFuaW1hdGlvbiwKCQlhbmltYXRlU2Nyb2xsLAoJCXNlbGVjdEJ5U2Nyb2xsLAoJCXNjcm9sbFRvLAoJXSk7CgoJcmV0dXJuICgKCQk8ZGl2CgkJCXsuLi5wcm9wc30KCQkJY2xhc3NOYW1lPXtyb290Q2xhc3NOYW1lfQoJCQlhcmlhLWRpc2FibGVkPXtkaXNhYmxlZCB8fCB1bmRlZmluZWR9CgkJPgoJCQk8QXJpYWtpdC5Db21wb3NpdGUKCQkJCXJlZj17Y29udGFpbmVyUmVmfQoJCQkJc3RvcmU9e2NvbXBvc2l0ZX0KCQkJCXJvbGU9Imxpc3Rib3giCgkJCQlhcmlhLWxhYmVsPXthcmlhTGFiZWx9CgkJCQl0YWJJbmRleD17ZGlzYWJsZWQgPyAtMSA6IDB9CgkJCQljbGFzc05hbWU9e2NuKAoJCQkJCSdncm91cC93aGVlbHBpY2tlciByZWxhdGl2ZSBmbGV4IGgtZnVsbCB3LWZ1bGwgc2VsZWN0LW5vbmUgb3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lJywKCQkJCQlkaXNhYmxlZAoJCQkJCQk/ICdjdXJzb3Itbm90LWFsbG93ZWQnCgkJCQkJCTogaXNEcmFnZ2luZwoJCQkJCQkJPyAnY3Vyc29yLWdyYWJiaW5nJwoJCQkJCQkJOiAnY3Vyc29yLWdyYWInLAoJCQkJKX0KCQkJCXN0eWxlPXt7CgkJCQkJaGVpZ2h0OiBjb250YWluZXJIZWlnaHQsCgkJCQkJcGVyc3BlY3RpdmU6ICcyMDAwcHgnLAoJCQkJCXVzZXJTZWxlY3Q6ICdub25lJywKCQkJCQlvdmVyZmxvdzogJ2hpZGRlbicsCgkJCQkJV2Via2l0TWFza0ltYWdlOgoJCQkJCQknbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgdHJhbnNwYXJlbnQgMCUsIGJsYWNrIDIwJSwgYmxhY2sgODAlLCB0cmFuc3BhcmVudCAxMDAlKScsCgkJCQkJbWFza0ltYWdlOgoJCQkJCQknbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgdHJhbnNwYXJlbnQgMCUsIGJsYWNrIDIwJSwgYmxhY2sgODAlLCB0cmFuc3BhcmVudCAxMDAlKScsCgkJCQl9fQoJCQk+CgkJCQk8dWwKCQkJCQlyZWY9e3doZWVsSXRlbXNSZWZ9CgkJCQkJc3R5bGU9e3sKCQkJCQkJcG9zaXRpb246ICdhYnNvbHV0ZScsCgkJCQkJCXRvcDogJzUwJScsCgkJCQkJCWxlZnQ6IDAsCgkJCQkJCWRpc3BsYXk6ICdibG9jaycsCgkJCQkJCXdpZHRoOiAnMTAwJScsCgkJCQkJCWhlaWdodDogMCwKCQkJCQkJbWFyZ2luOiAnMCBhdXRvJywKCQkJCQkJV2Via2l0Rm9udFNtb290aGluZzogJ3N1YnBpeGVsLWFudGlhbGlhc2VkJywKCQkJCQkJd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsCgkJCQkJCWJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsCgkJCQkJCXRyYW5zZm9ybVN0eWxlOiAncHJlc2VydmUtM2QnLAoJCQkJCX19CgkJCQkJYXJpYS1oaWRkZW4KCQkJCT4KCQkJCQl7cmVuZGVyV2hlZWxJdGVtc30KCQkJCTwvdWw+CgoJCQkJPGRpdgoJCQkJCWNsYXNzTmFtZT17Y24oCgkJCQkJCSdwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGxlZnQtMCB0b3AtMS8yIHctZnVsbCAtdHJhbnNsYXRlLXktMS8yIHJvdW5kZWQtbm9uZSBiZy1jYXJkJywKCQkJCQkJZ3JvdXBlZCAmJiAncm91bmRlZC1ub25lIGJnLXRyYW5zcGFyZW50JywKCQkJCQkpfQoJCQkJCXN0eWxlPXt7IGhlaWdodDogaXRlbUhlaWdodCwgYm9yZGVyUmFkaXVzOiBncm91cGVkID8gMCA6ICdpbmhlcml0JyB9fQoJCQkJCWFyaWEtaGlkZGVuCgkJCQkvPgoKCQkJCTxkaXYKCQkJCQljbGFzc05hbWU9e2NuKAoJCQkJCQl3aGVlbFBpY2tlckhpZ2hsaWdodEJhbmQoeyBzaXplIH0pLAoJCQkJCQlncm91cGVkICYmICdsZWZ0LTEgcmlnaHQtMSByb3VuZGVkLXNtIHotNDAnLAoJCQkJCSl9CgkJCQkJc3R5bGU9e3sKCQkJCQkJb3ZlcmZsb3c6ICdjbGlwJywKCQkJCQkJaGVpZ2h0OiBpdGVtSGVpZ2h0LAoJCQkJCX19CgkJCQkJcmVmPXtoaWdobGlnaHRCYW5kUmVmfQoJCQkJPgoJCQkJCTx1bAoJCQkJCQlyZWY9e2hpZ2hsaWdodExpc3RSZWZ9CgkJCQkJCWNsYXNzTmFtZT0ibS0wIHctZnVsbCBsaXN0LW5vbmUgcC0wIgoJCQkJCQlzdHlsZT17ewoJCQkJCQkJcG9zaXRpb246ICdhYnNvbHV0ZScsCgkJCQkJCQl3aWR0aDogJzEwMCUnLAoJCQkJCQkJdG9wOiBpbmZpbml0ZSA/IC1pdGVtSGVpZ2h0IC0gMSA6IC0xLAoJCQkJCQkJbGVmdDogMCwKCQkJCQkJCXBvaW50ZXJFdmVudHM6ICdub25lJywKCQkJCQkJCW92ZXJmbG93OiAndmlzaWJsZScsCgkJCQkJCQlzY3JvbGxNYXJnaW46ICcwcHgnLAoJCQkJCQl9fQoJCQkJCT4KCQkJCQkJe3JlbmRlckhpZ2hsaWdodEl0ZW1zfQoJCQkJCTwvdWw+CgkJCQk8L2Rpdj4KCQkJPC9Bcmlha2l0LkNvbXBvc2l0ZT4KCQk8L2Rpdj4KCSk7Cn07CgpleHBvcnQgaW50ZXJmYWNlIFdoZWVsUGlja2VySXRlbVByb3BzCglleHRlbmRzIE9taXQ8UmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LCAndmFsdWUnPiB7Cgl2YWx1ZTogc3RyaW5nOwoJY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmV4cG9ydCBjb25zdCBXaGVlbFBpY2tlckl0ZW06IFJlYWN0LkZDPFdoZWVsUGlja2VySXRlbVByb3BzPiA9ICgpID0+IG51bGw7CgpleHBvcnQgdHlwZSB7IFZhcmlhbnRQcm9wcyB9Ow=="

}
